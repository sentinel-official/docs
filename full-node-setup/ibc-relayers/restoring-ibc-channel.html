<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-full-node-setup docs-version-current docs-doc-page docs-doc-id-ibc-relayers/restoring-ibc-channel" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Restoring IBC Channel | Sentinel Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.sentinel.co/img/sentinel-docs-card.png"><meta data-rh="true" name="twitter:image" content="https://docs.sentinel.co/img/sentinel-docs-card.png"><meta data-rh="true" property="og:url" content="https://docs.sentinel.co/full-node-setup/ibc-relayers/restoring-ibc-channel"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-full-node-setup-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-full-node-setup-current"><meta data-rh="true" property="og:title" content="Restoring IBC Channel | Sentinel Docs"><meta data-rh="true" name="description" content="IBC channels rely on client states to maintain synchronization. If no transactions are relayed for an extended period, the client state may expire due to inactivity or configuration parameters like trustingperiod and maxclock_drift. Once expired, the channel becomes non-functional and requires restoration through governance processes."><meta data-rh="true" property="og:description" content="IBC channels rely on client states to maintain synchronization. If no transactions are relayed for an extended period, the client state may expire due to inactivity or configuration parameters like trustingperiod and maxclock_drift. Once expired, the channel becomes non-functional and requires restoration through governance processes."><link data-rh="true" rel="icon" href="/logo/sentinel.svg"><link data-rh="true" rel="canonical" href="https://docs.sentinel.co/full-node-setup/ibc-relayers/restoring-ibc-channel"><link data-rh="true" rel="alternate" href="https://docs.sentinel.co/full-node-setup/ibc-relayers/restoring-ibc-channel" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.sentinel.co/full-node-setup/ibc-relayers/restoring-ibc-channel" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://8LDAK2HFBK-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Sentinel Docs" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.7706a617.css">
<script src="/assets/js/runtime~main.71a4bf5e.js" defer="defer"></script>
<script src="/assets/js/main.62356b9c.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme","dark"),document.documentElement.setAttribute("data-theme-choice","dark"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/logo/sentinel-logo-light.svg" alt="Sentinel Docs" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/logo/sentinel-logo-dark.svg" alt="Sentinel Docs" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/get-started">Get Started</a><a class="navbar__item navbar__link" href="/p2p-coin">$P2P Coin</a><a class="navbar__item navbar__link" href="/get-started/apps">Apps</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Sentinel Core</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/sentinel-hub">Sentinel HUB</a></li><li><a class="dropdown__link" href="/sentinel-cli">Sentinel CLI</a></li><li><a class="dropdown__link" href="/sdk">SDKs</a></li><li><a class="dropdown__link" href="/networks">Networks</a></li></ul></div><a class="navbar__item navbar__link" href="/dvpn-nodes">dVPN Nodes</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">User Guides</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/dvpn-node-setup">Run a dVPN Node</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/full-node-setup">Run a Full Node &amp; Validate</a></li><li><a class="dropdown__link" href="/node-monitoring">Node Monitoring</a></li></ul></div><a class="navbar__item navbar__link" href="/apis">API</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Find us</a><ul class="dropdown__menu"><li><a href="https://x.com/sentinelp2p" target="_blank" rel="noopener noreferrer" class="dropdown__link">X/Twitter<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://t.me/sentinelp2p" target="_blank" rel="noopener noreferrer" class="dropdown__link">Telegram<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://discord.com/invite/mmAA8qF" target="_blank" rel="noopener noreferrer" class="dropdown__link">Discord<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://www.reddit.com/r/SentinelP2P/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Reddit<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://commonwealth.im/sentinel/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Commonwealth<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://medium.com/@sentinel" target="_blank" rel="noopener noreferrer" class="dropdown__link">Medium<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://youtube.com/@sentinelP2P" target="_blank" rel="noopener noreferrer" class="dropdown__link">YouTube<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Sentinel</a><ul class="dropdown__menu"><li><a href="https://sentinel.co" target="_blank" rel="noopener noreferrer" class="dropdown__link">Website<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://explorer.sentinel.co" target="_blank" rel="noopener noreferrer" class="dropdown__link">Explorer<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://stats.sentinel.co" target="_blank" rel="noopener noreferrer" class="dropdown__link">Stats<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://github.com/sentinel-official" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://gitopia.com/sentineldvpn" target="_blank" rel="noopener noreferrer" class="dropdown__link">Gitopia<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://sentinelgrowthdao.com" target="_blank" rel="noopener noreferrer" class="dropdown__link">Growth DAO<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><a href="https://github.com/sentinel-official/docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link pseudo-icon github-icon"></a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts="Meta+k"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_mhZE"><div class="multiSectionContainer_bYm7"><div class="section_olD1 sectionActive_D9yk" tabindex="0"><div>User Guides</div><div class="row_KvCx"><button type="button" role="combobox" aria-controls="radix-:R4imlbah:" aria-expanded="false" aria-autocomplete="none" dir="ltr" data-state="closed" aria-label="Select Section" class="sections-menu-trigger sectionsMenu_eet_"><span style="pointer-events:none"></span><span aria-hidden="true"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" class="sections-menu-scrollButton"><path d="M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></span></button><select aria-hidden="true" tabindex="-1" style="position:absolute;border:0;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;word-wrap:normal"></select></div></div></div><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/full-node-setup"><span title="Overview" class="linkLabel_WmDU">Overview</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/full-node-setup/server-setup/requirements"><span title="Server Setup" class="categoryLinkLabel_W154">Server Setup</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/full-node-setup/golang"><span title="Golang Setup" class="linkLabel_WmDU">Golang Setup</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/full-node-setup/node-setup"><span title="Full Node Setup" class="linkLabel_WmDU">Full Node Setup</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/full-node-setup/node-run"><span title="Run the Full Node" class="linkLabel_WmDU">Run the Full Node</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/full-node-setup/public-rpc-api"><span title="Set Public RPC/API" class="categoryLinkLabel_W154">Set Public RPC/API</span></a><button aria-label="Expand sidebar category &#x27;Set Public RPC/API&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/full-node-setup/validate"><span title="Validate" class="categoryLinkLabel_W154">Validate</span></a><button aria-label="Expand sidebar category &#x27;Validate&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/full-node-setup/upgrade"><span title="Chain Upgrade" class="linkLabel_WmDU">Chain Upgrade</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item releaseSidebarHeading"><a class="menu__link" href="/full-node-setup/testnet"><span title="Run on Testnet" class="linkLabel_WmDU">Run on Testnet</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed releaseSidebarHeading"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/full-node-setup/docker/overview"><span title="Run by using Docker" class="categoryLinkLabel_W154">Run by using Docker</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item releaseSidebarHeading"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/full-node-setup/ibc-relayers/relayers-list"><span title="IBC Relayers" class="categoryLinkLabel_W154">IBC Relayers</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/full-node-setup/ibc-relayers/relayers-list"><span title="List" class="linkLabel_WmDU">List</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/full-node-setup/ibc-relayers/restoring-ibc-channel"><span title="Restoring IBC Channel" class="linkLabel_WmDU">Restoring IBC Channel</span></a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Restoring IBC Channel</h1></header>
<p>IBC channels rely on client states to maintain synchronization. If no transactions are relayed for an extended period, the client state may expire due to inactivity or configuration parameters like <code>trusting_period</code> and <code>max_clock_drift</code>. Once expired, the channel becomes non-functional and requires restoration through governance processes.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="requirements">Requirements<a href="#requirements" class="hash-link" aria-label="Direct link to Requirements" title="Direct link to Requirements" translate="no">​</a></h2>
<p>Ensure Hermes is configured and working.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="informations-needed">Informations Needed<a href="#informations-needed" class="hash-link" aria-label="Direct link to Informations Needed" title="Direct link to Informations Needed" translate="no">​</a></h2>
<p>To restore the IBC channel, we need the client ID, connection ID, and channel ID. These can be found here <a href="https://ping.pub/sentinel/ibc/connection/connection-33" target="_blank" rel="noopener noreferrer" class="">https://ping.pub/sentinel/ibc/connection/connection-33</a></p>
<p>For example:</p>
<ul>
<li class="">clientId = <code>07-tendermint-58</code></li>
<li class="">connectionId = <code>connection-33</code></li>
<li class="">channel-id = <code>channel-12</code></li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-by-step-process">Step-by-Step Process<a href="#step-by-step-process" class="hash-link" aria-label="Direct link to Step-by-Step Process" title="Direct link to Step-by-Step Process" translate="no">​</a></h2>
<p>On sentinelhub-2, the client 07-tendermint-58 has expired because no relayers refreshed it. To fix this, we need to:</p>
<ul>
<li class="">Create a new client.</li>
<li class="">Submit a governance proposal to update the expired client.</li>
</ul>
<p>Note: While the proposal is for &quot;replacing&quot; the client, the old client will actually be updated.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="query-the-existing-client">Query the Existing Client<a href="#query-the-existing-client" class="hash-link" aria-label="Direct link to Query the Existing Client" title="Direct link to Query the Existing Client" translate="no">​</a></h3>
<p>Use the following command to check the state of the old client and save the output:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">hermes query client state </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--chain</span><span class="token plain"> sentinelhub-2 </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--client</span><span class="token plain"> 07-tendermint-58</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="create-a-new-client">Create a New Client<a href="#create-a-new-client" class="hash-link" aria-label="Direct link to Create a New Client" title="Direct link to Create a New Client" translate="no">​</a></h3>
<p>Create a new client between the chains. Save the newly created client ID from the output (e.g., <code>07-tendermint-208</code>):</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">hermes create client --host-chain sentinelhub-2 --reference-chain cosmoshub-4</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="verify-the-new-client">Verify the New Client<a href="#verify-the-new-client" class="hash-link" aria-label="Direct link to Verify the New Client" title="Direct link to Verify the New Client" translate="no">​</a></h3>
<p>Query the new client to ensure it&#x27;s correctly configured and save the output:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">hermes query client state </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--chain</span><span class="token plain"> sentinelhub-2 </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--client</span><span class="token plain"> 07-tendermint-208</span><br></span></code></pre></div></div>
<p>Compare the outputs of the old and new clients to verify they are identical.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="handle-configuration-issues">Handle Configuration Issues<a href="#handle-configuration-issues" class="hash-link" aria-label="Direct link to Handle Configuration Issues" title="Direct link to Handle Configuration Issues" translate="no">​</a></h3>
<p>If the new client has a different max clock drift (or other mismatched parameters), creating the proposal may fail. For example:
<a href="https://explorer.busurnode.com/sentinel/tx/09BC809FE229DAB0458EBFAD9F48A7DD26F26C7FC958ABC1274CAE1FDA314DFB?height=19809320" target="_blank" rel="noopener noreferrer" class="">Failed Proposal Example</a></p>
<p>To fix this, create a new client with a custom <code>max clock drift</code>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">hermes create client --host-chain sentinelhub-2 --reference-chain cosmoshub-4 --clock-drift 1800s</span><br></span></code></pre></div></div>
<p>Query and verify the new client again:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">hermes query client state </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--chain</span><span class="token plain"> sentinelhub-2 </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--client</span><span class="token plain"> 07-tendermint-209</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="submit-a-governance-proposal">Submit a Governance Proposal<a href="#submit-a-governance-proposal" class="hash-link" aria-label="Direct link to Submit a Governance Proposal" title="Direct link to Submit a Governance Proposal" translate="no">​</a></h3>
<p>Once the new client matches the old one, submit a governance proposal to update the client.
Run this command on a server with <code>sentinelhub</code> installed (not the one running Hermes):</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sentinelhub tx gov submit-proposal update-client 07-tendermint-58 07-tendermint-209 --chain-id sentinelhub-2 </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--from</span><span class="token plain"> validator </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--fees</span><span class="token plain"> 200000udvpn </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--gas</span><span class="token plain"> </span><span class="token number">2000000</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--title</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Reviving DVPN &lt;-&gt; ATOM IBC channel&#x27;</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--description</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Currently, the DVPN &lt;-&gt; ATOM IBC channel has its client expired on Sentinel side, which blocks relaying. To fix that, we need to replace the client with the newly created one that is not expired.\n\nPlease vote YES if you agree with restoring IBC channel between Cosmos Hub and Sentinel.&#x27;</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--deposit</span><span class="token plain"> 1000000udvpn</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="final-steps">Final Steps<a href="#final-steps" class="hash-link" aria-label="Direct link to Final Steps" title="Direct link to Final Steps" translate="no">​</a></h3>
<p>The proposal is now submitted with a 1 DVPN deposit. Next:</p>
<ul>
<li class="">Put the proposal to a vote.</li>
<li class="">Ensure it passes to restore the IBC channel.</li>
</ul></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/full-node-setup/ibc-relayers/relayers-list"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">List</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#requirements" class="table-of-contents__link toc-highlight">Requirements</a></li><li><a href="#informations-needed" class="table-of-contents__link toc-highlight">Informations Needed</a></li><li><a href="#step-by-step-process" class="table-of-contents__link toc-highlight">Step-by-Step Process</a><ul><li><a href="#query-the-existing-client" class="table-of-contents__link toc-highlight">Query the Existing Client</a></li><li><a href="#create-a-new-client" class="table-of-contents__link toc-highlight">Create a New Client</a></li><li><a href="#verify-the-new-client" class="table-of-contents__link toc-highlight">Verify the New Client</a></li><li><a href="#handle-configuration-issues" class="table-of-contents__link toc-highlight">Handle Configuration Issues</a></li><li><a href="#submit-a-governance-proposal" class="table-of-contents__link toc-highlight">Submit a Governance Proposal</a></li><li><a href="#final-steps" class="table-of-contents__link toc-highlight">Final Steps</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="margin-bottom--sm"><img src="/logo/sentinel-logo-light.svg" alt="Sentinel Docs" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" height="36px"><img src="/logo/sentinel-logo-dark.svg" alt="Sentinel Docs" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" height="36px"></div><div class="footer__row"><div class="footer__data"><div class="footer__cta"></div></div><div class="links"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/get-started">Get Started</a></li><li class="footer__item"><a class="footer__link-item" href="/sentinel-hub">Sentinel Hub</a></li><li class="footer__item"><a class="footer__link-item" href="/networks">Networks</a></li><li class="footer__item"><a class="footer__link-item" href="/dvpn-node-setup">Run a dVPN Node</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/get-started/apps">dVPN Apps</a></li><li class="footer__item"><a href="https://github.com/sentinel-official" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://medium.com/@sentinel" target="_blank" rel="noopener noreferrer" class="footer__link-item">Medium</a></li><li class="footer__item"><a href="https://sentinel.co" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sentinel Website</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://x.com/sentinelp2p" target="_blank" rel="noopener noreferrer" class="footer__link-item">X</a></li><li class="footer__item"><a href="https://t.me/sentinelp2p" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram</a></li><li class="footer__item"><a href="https://discord.com/invite/mmAA8qF" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://commonwealth.im/sentinel/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Commonwealth</a></li></ul></div></div></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © Sentinel P2P - Built and maintained by <a href="https://trinitystake.io">Trinity Stake</a></div></div></div></footer></div>
</body>
</html>