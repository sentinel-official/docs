"use strict";(self.webpackChunksentinel_docs=self.webpackChunksentinel_docs||[]).push([[9327],{5430:(e,t,i)=>{i.d(t,{C:()=>d,d:()=>s,e:()=>o,f:()=>n});var a=i(98342),r=i(32011);const s=(e,t)=>{const i=t.getTime()-e.getTime();return Math.round(Math.abs(i/1e3/60))},o=(e,t)=>{const i=s(e,t);if(i<2)return"just now";if(i<60)return`${i}m ago`;const a=Math.round(i/60);if(i<90)return`about ${a}h ago`;if(a<24)return`${a}h ago`;const r=Math.round(a/24);if(r<7)return`${r}d ago`;return`${Math.round(r/7)}w ago`},n=e=>e.toDateString()+" "+e.toLocaleTimeString(),d=({name:e,time:t,now:i})=>(0,a.h)("div",{class:"head"},(0,a.h)("div",{class:"name"},(0,r.s)((0,r.f)(e),20)),(0,a.h)("div",{class:"time",title:n(t)},o(t,i)))},15061:(e,t,i)=>{i.d(t,{T:()=>o});var a=i(98342),r=i(92373);const s=e=>e.map((e=>{switch(e.type){case"a":if("string"==typeof e.content)return t=e.content,(0,a.h)("a",{class:"link",href:t,target:"_blank",rel:"noopener noreferrer"},t);case"b":return(e=>"string"==typeof e?(0,a.h)("b",null,e):(0,a.h)("b",null,s(e)))(e.content);case"i":return(e=>"string"==typeof e?(0,a.h)("i",null,e):(0,a.h)("i",null,s(e)))(e.content);case"s":return(e=>"string"==typeof e?(0,a.h)("s",null,e):(0,a.h)("b",null,s(e)))(e.content);case"q":return(0,a.h)("span",{class:"block-quote"});default:return(e=>"string"==typeof e?e:(0,a.h)("p",null,s(e)))(e.content)}var t})),o=({message:e})=>{const t=e.slice(0,r.M),i=(0,r.j)(t,!0),o=(0,r.s)(t);return(0,a.h)("p",null,0!==i.length&&(0,a.h)("blockquote",null,i.split("\n").map((e=>{const t=(0,r.f)(e);return(0,a.h)("p",null,s(t))}))),o.split("\n").map((e=>{const t=(0,r.f)(e);return(0,a.h)("p",null,s(t))})))}},9327:(e,t,i)=>{i.r(t),i.d(t,{dyte_audio_visualizer:()=>w,dyte_avatar:()=>P,dyte_breakout_room_manager:()=>S,dyte_breakout_room_participants:()=>M,dyte_breakout_rooms_manager:()=>j,dyte_broadcast_message_modal:()=>R,dyte_button:()=>D,dyte_camera_selector:()=>O,dyte_channel_creator:()=>I,dyte_channel_details:()=>H,dyte_channel_header:()=>N,dyte_channel_selector_view:()=>F,dyte_chat:()=>V,dyte_chat_composer_view:()=>Y,dyte_chat_message:()=>W,dyte_chat_messages_ui:()=>X,dyte_chat_messages_ui_paginated:()=>ee,dyte_chat_search_results:()=>ie,dyte_confirmation_modal:()=>re,dyte_counter:()=>oe,dyte_debugger:()=>de,dyte_debugger_audio:()=>ve,dyte_debugger_screenshare:()=>me,dyte_debugger_system:()=>xe,dyte_debugger_video:()=>ke,dyte_dialog:()=>Ce,dyte_dialog_manager:()=>Le,dyte_draft_attachment_view:()=>_e,dyte_emoji_picker:()=>Re,dyte_emoji_picker_button:()=>De,dyte_file_message:()=>Ae,dyte_file_message_view:()=>$e,dyte_file_picker_button:()=>Be,dyte_icon:()=>Ve,dyte_image_message:()=>Je,dyte_image_message_view:()=>Qe,dyte_image_viewer:()=>Ke,dyte_join_stage:()=>Ze,dyte_leave_meeting:()=>tt,dyte_logo:()=>at,dyte_markdown_view:()=>rt,dyte_meeting:()=>ot,dyte_menu:()=>dt,dyte_menu_item:()=>lt,dyte_menu_list:()=>pt,dyte_message_view:()=>bt,dyte_microphone_selector:()=>vt,dyte_mute_all_confirmation:()=>mt,dyte_notification:()=>xt,dyte_notifications:()=>St,dyte_overlay_modal:()=>Mt,dyte_paginated_list:()=>jt,dyte_participant_tile:()=>Rt,dyte_permissions_message:()=>Ut,dyte_settings:()=>Et,dyte_settings_audio:()=>At,dyte_settings_video:()=>$t,dyte_speaker_selector:()=>Bt,dyte_spinner:()=>qt,dyte_switch:()=>Gt,dyte_text_composer_view:()=>Yt,dyte_text_message:()=>Wt,dyte_text_message_view:()=>Kt,dyte_tooltip:()=>Zt});var a=i(98342),r=i(25056),s=i(371),o=i(21848),n=i(32011),d=i(58897),c=i(92373),l=i(5430),h=i(37633),p=i(44799),g=i(89275),b=i(98836),y=i(79379),v=i(71944),u=i(15061),m=i(20878);i(13633),i(86979);const f=(e,t)=>{if(null==e)return;const i=Math.round(1.5),a=[...Array(3)].map(((e,a)=>{let r=a;return r>i-1&&(r=3-r-1),Math.round((r+1)/(i+1)*t)})),{width:r,height:s}=e,o=e.getContext("2d");let n=2;const d=1*r/a.length,c=d-4;o.clearRect(0,0,r,s),o.fillStyle="rgb(0,0,0,0.0)",o.fillRect(0,0,r,s);const l=getComputedStyle(e).getPropertyValue("color");o.fillStyle=l,o.strokeStyle=l,o.lineCap="round",o.lineWidth=4,o.beginPath();for(const h of a){const e=Math.min(-Math.abs(1.2*h/10*s)+s/2,s/2-2.5),t=Math.max(2*(s/2-e),5);o.moveTo(n+c/2,e),o.lineTo(n+c/2,e+t),n+=d}o.stroke()};var x=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const w=class{constructor(e){(0,a.r)(this,e),this.variant="bars",this.iconPack=s.a,this.t=(0,s.c)(),this.hideMuted=!1,this.isScreenShare=!1,this.volume=0}connectedCallback(){this.participantChanged(this.participant)}componentDidLoad(){f(this.visualizer,0)}disconnectedCallback(){var e,t,i;null===(e=this.hark)||void 0===e||e.stop(),this.audioUpdateListener&&(null===(t=this.participant)||void 0===t||t.removeListener("audioUpdate",this.audioUpdateListener)),this.screenShareUpdateListener&&(null===(i=this.participant)||void 0===i||i.removeListener("screenShareUpdate",this.screenShareUpdateListener))}participantChanged(e){null!=e&&(this.audioUpdateListener=({audioEnabled:e,audioTrack:t})=>{var i;if(null===(i=this.hark)||void 0===i||i.stop(),e&&null!=t){this.audioEnabled=!0;const e=new MediaStream;e.addTrack(t),this.calcVolume(e),f(this.visualizer,0)}else this.volume=0,this.audioEnabled=!1},this.isScreenShare?(this.screenShareUpdateListener=({screenShareEnabled:e,screenShareTracks:t})=>{this.audioUpdateListener({audioEnabled:e&&null!=t.audio,audioTrack:t.audio})},this.screenShareUpdateListener({screenShareEnabled:e.screenShareEnabled,screenShareTracks:{audio:e.screenShareTracks.audio,video:e.screenShareTracks.video}}),e.addListener("screenShareUpdate",this.screenShareUpdateListener)):(this.audioUpdateListener(e),e.addListener("audioUpdate",this.audioUpdateListener)))}calcVolume(e){this.hark=(0,r.h)(e,{play:!1,interval:100}),this.hark.on("volume_change",(e=>{const t=this.volume;let i=Math.round(10**(e/115)*10);i<3&&(i=0);let a=Math.round((2*t+i)/3);t!==a&&(this.volume=a,f(this.visualizer,this.volume))}))}render(){return(0,a.h)(a.H,{key:"544351071e0d4766dcadb3b9a6b5c714b8c8a0c2"},(0,a.h)("div",{key:"d52567ede61844a23d21cbf32a7d185b0790f435",class:{hideMuted:this.hideMuted}},(0,a.h)("canvas",{key:"d9e71f8d75cae5465e661df0381c00d5b75e88a9",width:"24",height:"24",class:{bars:!0,visible:this.audioEnabled},ref:e=>this.visualizer=e,part:"canvas"}),!this.isScreenShare&&!this.audioEnabled&&!0!==this.hideMuted&&(0,a.h)("dyte-icon",{key:"107a86c8b02c044ba5e7a22a1d1dc6f250da9720",icon:this.iconPack.mic_off,part:"mic-off-icon"})))}static get watchers(){return{participant:["participantChanged"]}}};x([(0,o.S)()],w.prototype,"size",void 0),x([(0,o.S)()],w.prototype,"iconPack",void 0),x([(0,o.S)()],w.prototype,"t",void 0),w.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block;width:-moz-fit-content;width:fit-content}.hideMuted{padding:var(--dyte-space-1, 4px)}canvas,dyte-icon{height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px)}:host([size='sm']){transform:scale(0.9)}canvas{display:none}canvas.visible{display:block}canvas.bars{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-text-opacity))}";var k=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const P=class{constructor(e){(0,a.r)(this,e),this.variant="circular",this.iconPack=s.a,this.t=(0,s.c)(),this.imageState="loading",this.getAvatar=()=>{var e;const t=(0,n.f)((null===(e=this.participant)||void 0===e?void 0:e.name)||"");let i;if(null!=this.participant&&"picture"in this.participant&&(i=this.participant.picture),i&&i.length>0&&"errored"!==this.imageState)return(0,a.h)("div",{class:"image-ctr"},"loading"===this.imageState&&(0,a.h)("dyte-spinner",{iconPack:this.iconPack}),(0,a.h)("img",{src:i,class:{loaded:"loaded"===this.imageState},loading:"lazy",title:t,onLoad:()=>this.imageState="loaded",onError:()=>this.imageState="errored",part:"image"}));const r=(0,n.g)(t);return(0,a.h)("div",{class:"initials",title:t,part:"initials"},r)}}render(){return(0,a.h)(a.H,{key:"c57eb98421d28fbc9e6f8ddd9c7c0205c843aa81"},this.getAvatar(),(0,a.h)("slot",{key:"7e1e8618d0b077c1c4633804e06b602a474d3490"}))}};k([(0,o.S)()],P.prototype,"size",void 0),k([(0,o.S)()],P.prototype,"iconPack",void 0),k([(0,o.S)()],P.prototype,"t",void 0),P.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;height:var(--dyte-space-32, 128px);width:var(--dyte-space-32, 128px);align-items:center;justify-content:center;font-size:28px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));overflow:clip;border-radius:9999px;-webkit-user-select:none;-moz-user-select:none;user-select:none}dyte-icon{height:50%;width:50%}.image-ctr{display:flex;height:100%;width:100%;align-items:center;justify-content:center;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}img{height:var(--dyte-space-0, 0px);width:var(--dyte-space-0, 0px);-o-object-fit:cover;object-fit:cover}img.loaded{height:100%;width:100%}.initials{display:flex;height:100%;width:100%;align-items:center;justify-content:center;text-transform:uppercase}.image{display:flex;height:100%;width:100%;align-items:center;justify-content:center}.image img{display:none;height:100%;width:100%;-o-object-fit:cover;object-fit:cover}.image img.loaded{display:block}:host([variant='hexagon']){border-radius:var(--dyte-border-radius-none, 0);clip-path:polygon(50% 0, 95% 25%, 95% 75%, 50% 100%, 5% 75%, 5% 25%)}:host([variant='square']){border-radius:var(--dyte-border-radius-none, 0);clip-path:polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)}:host([size='sm']){height:var(--dyte-space-14, 56px);width:var(--dyte-space-14, 56px);font-size:12px}:host([size='md']){height:var(--dyte-space-28, 112px);width:var(--dyte-space-28, 112px)}:host([size='lg']){height:var(--dyte-space-32, 128px);width:var(--dyte-space-32, 128px)}";var C=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const S=class{constructor(e){(0,a.r)(this,e),this.onParticipantsAdd=(0,a.c)(this,"participantsAdd",7),this.onParticipantDelete=(0,a.c)(this,"participantDelete",7),this.onRoomJoin=(0,a.c)(this,"roomJoin",7),this.deleteRoom=(0,a.c)(this,"delete",7),this.updateRoom=(0,a.c)(this,"update",7),this.allowDelete=!0,this.iconPack=s.a,this.t=(0,s.c)(),this.isDragMode=!1,this.defaultExpanded=!1,this.editingTitleRoomId=null,this.newTitle=null,this.showExpandedCard=!1,this.glowingCard=!1,this.permissionsUpdateListener=()=>{this.permissions=this.meeting.self.permissions.connectedMeetings},this.reset=()=>{this.editingTitleRoomId=null,this.newTitle=null},this.onEditClick=()=>{if(this.editingTitleRoomId){if(this.newTitle.length<3)return;this.roomTitle=this.newTitle,this.updateRoom.emit({title:this.newTitle,id:this.editingTitleRoomId}),this.glowCard(),this.reset()}else this.editingTitleRoomId=this.room.id,(0,a.w)((()=>{this.inputTextEl.focus(),this.inputTextEl.select()}))},this.onDrop=e=>{e.currentTarget instanceof HTMLParagraphElement&&(e.currentTarget.classList.remove("drop-zone-active"),this.onAssign())},this.onDragOver=e=>{e.currentTarget instanceof HTMLParagraphElement&&(e.currentTarget.classList.add("drop-zone-active"),e.preventDefault())}}connectedCallback(){var e;this.allParticipants=(0,s.h)(this.meeting),this.permissionsUpdateListener(),this.showExpandedCard=this.defaultExpanded,this.roomTitle=this.room.isParent?this.t("breakout_rooms.main_room"):null===(e=this.room)||void 0===e?void 0:e.title,this.canEditMeetingTitle=this.permissions.canAlterConnectedMeetings&&!this.room.isParent&&!this.meeting.connectedMeetings.isActive,this.meeting.self.permissions.on("permissionsUpdate",this.permissionsUpdateListener)}disconnectedCallback(){this.meeting.self.permissions.off("permissionsUpdate",this.permissionsUpdateListener)}onDragLeave(e){e.currentTarget instanceof HTMLParagraphElement&&e.currentTarget.classList.remove("drop-zone-active")}getAssignmentHint(){return this.assigningParticipants&&this.isDragMode?this.t("breakout_rooms.drag_drop_participants"):this.assigningParticipants?this.t("breakout_rooms.click_drop_participants"):0===this.room.participants.length?this.t("breakout_rooms.none_assigned"):void 0}toggleCardDisplay(){this.showExpandedCard=!this.showExpandedCard}glowCard(){this.glowingCard=!0,setTimeout((()=>{this.glowingCard=!1}),2e3)}onAssign(){this.onParticipantsAdd.emit(),this.glowCard()}onJoin(){this.onRoomJoin.emit()}onTitleChanged(e){"Enter"===e.key&&(this.newTitle=e.target.value,this.onEditClick())}renderPeer(e){const{displayPictureUrl:t}=this.allParticipants.find((t=>(0,s.p)(t)===(0,s.p)(e))),i=(0,n.f)(e.displayName||"");return(0,a.h)("div",{class:"peer-ui-container"},(0,a.h)("dyte-avatar",{participant:{name:i,picture:t},size:"sm"}),(0,a.h)("p",{class:"name",title:i},(0,n.s)(i,16),this.meeting.self.userId===e.id&&` (${this.t("you")})`))}renderExpandedCardMaybe(){if(this.showExpandedCard&&!this.room.isParent&&this.getAssignmentHint()&&this.permissions.canAlterConnectedMeetings)return(0,a.h)("div",{class:"message-container"},(0,a.h)("p",{class:{"compact-height":0!==this.room.participants.length},onClick:()=>this.onAssign(),onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop},this.getAssignmentHint()))}renderParticipantsMaybe(){if(this.showExpandedCard&&!this.room.isParent&&0!==this.room.participants.length)return(0,a.h)("div",{class:"participant-list",onClick:()=>{this.onAssign()}},this.room.participants.map((e=>(0,a.h)("div",{class:"participant-item",role:"listitem",key:e.id},this.renderPeer(e),this.permissions.canAlterConnectedMeetings&&(0,a.h)("dyte-icon",{class:"show-on-hover",icon:this.iconPack.dismiss,onClick:()=>{this.onParticipantDelete.emit(e)}})))))}render(){var e,t,i;return(0,a.h)(a.H,{key:"55d8c00978d9710c5bedd9ab0e34ba18afa50733"},(0,a.h)("div",{key:"a82630203869a94d2ecc4e33103ada61eedb19bc",class:{"assign-mode":this.assigningParticipants,"selector-mode":!this.assigningParticipants,"glowing-card":this.glowingCard}},(0,a.h)("div",{key:"d6286509a9917de384d80648d5171f94851906b9",class:"header"},(0,a.h)("input",{key:"76304ed7452bfac9e03998578c8ffb8ea03b82fb",ref:e=>this.inputTextEl=e,placeholder:this.t("breakout_rooms.room_name"),disabled:!(this.editingTitleRoomId===this.room.id),value:this.roomTitle,minlength:3,onChange:e=>{this.newTitle=e.target.value},onKeyPress:e=>this.onTitleChanged(e),class:{"editing-enabled":this.editingTitleRoomId===this.room.id},style:{width:`${this.roomTitle.length+1}ch`}}),this.editingTitleRoomId!==this.room.id&&(0,a.h)("span",{key:"4f31320550907e0dcb44f31b4b929167795a1850",class:"participant-count"},"(",(0,a.h)("dyte-icon",{key:"697420b64dd947349e736ac381a526a1f340606f",icon:this.iconPack.people}),null!==(i=null===(t=null===(e=this.room)||void 0===e?void 0:e.participants)||void 0===t?void 0:t.length)&&void 0!==i?i:"0",")"),this.canEditMeetingTitle&&(0,a.h)("dyte-tooltip",{key:"3e826e83ac09e69b1c90c4f6e0e7c93638a1eed1",label:this.editingTitleRoomId===this.room.id?this.t("breakout_rooms.save_room_name"):this.t("breakout_rooms.edit_room_name")},(0,a.h)("dyte-icon",{key:"8735226fb881ad3b06d4130e8ec51a85c037949b",icon:this.editingTitleRoomId===this.room.id?this.iconPack.checkmark:this.iconPack.edit,class:"show-on-hover",onClick:this.onEditClick})),(0,a.h)("div",{key:"e06e9e8f30ebdbeb3cb16dfb2c3fc23822f13187",class:"rooms-container"},this.permissions.canAlterConnectedMeetings&&!this.room.isParent&&this.allowDelete&&(0,a.h)("dyte-tooltip",{key:"30b872574e985b00191d277e3e2ed0d75a3291a1",label:this.t("breakout_rooms.delete"),class:"danger"},(0,a.h)("dyte-icon",{key:"2c92407f1589e22a9198594f5c3d7cb2cf345521",icon:this.iconPack.delete,class:"show-on-hover",onClick:()=>{this.deleteRoom.emit()}})),this.assigningParticipants&&this.permissions.canAlterConnectedMeetings&&!this.room.isParent&&(0,a.h)("dyte-button",{key:"2e1bae37a6410fecf22228b16cbbcd744972c41f",kind:"button",variant:"ghost",class:"assign-button",size:"md",onClick:()=>this.onAssign()},this.t("breakout_rooms.assign")),"edit"===this.mode&&!this.assigningParticipants&&this.permissions.canSwitchConnectedMeetings&&(0,a.h)("dyte-button",{key:"ebf98a4e34ece75f1fe8fe41e8884d9d6e1e8292",kind:"button",variant:"ghost",class:"assign-button",size:"md",disabled:this.room.id===this.meeting.meta.meetingId,onClick:()=>this.onJoin()},this.room.id===this.meeting.meta.meetingId?this.t("joined"):this.t("join")),!this.room.isParent&&(0,a.h)("dyte-icon",{key:"fd3ce5aaae760638a9d32ac306be26f248cbd947",icon:this.showExpandedCard?this.iconPack.chevron_up:this.iconPack.chevron_down,onClick:()=>this.toggleCardDisplay()}))),this.renderExpandedCardMaybe(),this.renderParticipantsMaybe()))}};C([(0,o.S)()],S.prototype,"meeting",void 0),C([(0,o.S)()],S.prototype,"states",void 0),C([(0,o.S)()],S.prototype,"iconPack",void 0),C([(0,o.S)()],S.prototype,"t",void 0),S.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));border-radius:var(--dyte-border-radius-sm, 4px)}@keyframes bg-glow{25%{background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / 0.2)}50%{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}75%{background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / 0.2)}}.glowing-card{animation:bg-glow 0.8s}.selector-mode,.assign-mode{display:flex;flex-direction:column;align-items:center;padding:var(--dyte-space-2, 8px);cursor:pointer}.selector:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.show-on-hover{display:none}.header{width:100%;display:flex;align-items:center}.header dyte-icon{margin-left:var(--dyte-space-2, 8px);height:var(--dyte-space-5, 20px);cursor:pointer}.header .danger{--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}.header .hide{display:none}.header .rooms-container{display:flex;flex-grow:1;flex-direction:row;align-items:center;justify-content:flex-end}.header input{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));padding:var(--dyte-space-1, 4px);color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));max-width:var(--dyte-space-36, 144px);font-size:14px;font-weight:500;border-radius:var(--dyte-border-radius-sm, 4px);border-width:var(--dyte-border-width-none, 0);border-style:none;outline:2px solid transparent;outline-offset:2px;border-bottom-width:var(--dyte-border-width-sm, 1px);border-style:solid;--tw-border-opacity:1;border-bottom-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-border-opacity))}.header input:disabled{overflow-x:visible;border-radius:var(--dyte-border-radius-none, 0);border-width:var(--dyte-border-width-none, 0);border-style:none;background-color:transparent}.header input:invalid{border-bottom-width:var(--dyte-border-width-sm, 1px);border-style:dashed;--tw-border-opacity:1;border-bottom-color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-border-opacity))}.header input.editing-enabled{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity))}.header .participant-count{display:flex;align-items:center;font-size:14px;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}.header .participant-count dyte-icon{margin:var(--dyte-space-0, 0px);margin-right:var(--dyte-space-0\\.5, 2px);width:var(--dyte-space-3, 12px)}.header .assign-button{height:var(--dyte-space-6, 24px);--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-text-opacity));text-decoration-line:underline}.header .assign-button:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.participant-list{display:grid;flex-grow:1;grid-template-columns:repeat(2, minmax(0, 1fr));gap:var(--dyte-space-2, 8px);margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px);width:100%;border-radius:var(--dyte-border-radius-sm, 4px)}.participant-list::-webkit-scrollbar{width:var(--dyte-space-1\\.5, 6px)}.participant-list::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.participant-list::-webkit-scrollbar-track{border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.participant-item{display:flex;align-items:center;justify-content:space-between;margin-right:var(--dyte-space-2, 8px);height:-moz-fit-content;height:fit-content;padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px)}.participant-item:hover{border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.selector-mode:hover .show-on-hover{display:flex}.message-container{margin:var(--dyte-space-0, 0px);display:flex;width:100%;padding-top:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-2, 8px)}.message-container p{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-0, 0px);height:var(--dyte-space-20, 80px);display:flex;width:100%;align-items:center;justify-content:center;border-radius:var(--dyte-border-radius-sm, 4px);font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));border-style:dashed;--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-border-opacity))}.message-container p:hover{--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-border-opacity));background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / 0.25)}.message-container .drop-zone-active{--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-border-opacity));background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / 0.25)}dyte-icon{height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px)}.show-on-hover{margin-left:var(--dyte-space-4, 16px);height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);display:none}:host(:hover) .show-on-hover{display:flex}.peer-ui-container{position:relative;display:flex;align-items:center;gap:var(--dyte-space-2, 8px);height:var(--dyte-space-10, 40px);cursor:pointer;border-radius:var(--dyte-border-radius-sm, 4px);color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}.peer-ui-container dyte-avatar{height:var(--dyte-space-7, 28px);width:var(--dyte-space-7, 28px);font-size:14px;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.peer-ui-container .name{font-size:14px;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}";var L=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const M=class{constructor(e){(0,a.r)(this,e),this.onSelectedParticipantsUpdate=(0,a.c)(this,"selectedParticipantsUpdate",7),this.onAllToggled=(0,a.c)(this,"allParticipantsToggleUpdate",7),this.onParticipantsDragging=(0,a.c)(this,"participantsDragging",7),this.participantIds=[],this.iconPack=s.a,this.t=(0,s.c)(),this.search="",this.participantsToShow=[],this.selectedParticipantIds=[],this.isDragging=!1,this.onSearchInput=e=>{this.search=e.target.value},this.onDragStart=e=>{this.isDragging=!0,this.onParticipantsDragging.emit(!0),this.updateSelectedParticipants(e,!0)},this.onDragEnd=e=>{this.isDragging=!1,this.onParticipantsDragging.emit(!1),this.updateSelectedParticipants(e,!1)},this.onClick=e=>{const t=this.selectedParticipantIds.includes((0,s.p)(e));this.updateSelectedParticipants(e,!t)},this.onToggleAll=e=>{const t=e?this.participantsToShow.map(s.p):[];this.onAllToggled.emit(t)}}connectedCallback(){this.meetingChanged(this.meeting),this.searchChanged(this.search)}disconnectedCallback(){this.meeting}updateSelectedParticipants(e,t){const i=(0,s.p)(e);let a=[];a=t&&!this.selectedParticipantIds.includes(i)?[...this.selectedParticipantIds,i]:[...this.selectedParticipantIds.filter((e=>e!==i))],this.onSelectedParticipantsUpdate.emit(a)}meetingChanged(e){null!=e&&this.getParticipants(this.search)}participantsChanged(){this.getParticipants(this.search)}searchChanged(e){this.getParticipants(e)}getParticipants(e){const t=(0,s.h)(this.meeting);this.participantsToShow=t.filter((t=>{var i;return this.participantIds.includes((0,s.p)(t))&&(null!==(i=t.displayName)&&void 0!==i?i:"").toLowerCase().includes(e.toLowerCase())}))}renderPeer(e){const t=(0,n.f)(e.displayName||"");return(0,a.h)("div",{class:"peer-ui-container"},(0,a.h)("dyte-avatar",{participant:{name:e.displayName,picture:e.displayPictureUrl},size:"sm"}),(0,a.h)("p",{class:"name",title:t},(0,n.s)(t,16),this.meeting.self.userId===e.id&&` (${this.t("you")})`))}render(){return(0,a.h)(a.H,{key:"f2d84e849f539e0c6fc709258c280894ed33bf03"},(0,a.h)("div",{key:"7a837d42639e0577ec6a263ad8551b7ad0d26178",class:"search-wrapper"},(0,a.h)("div",{key:"3297c0dd3654ebfc017bac54b0b88f3703894456",class:"search",part:"search"},(0,a.h)("dyte-icon",{key:"3703973e874502d500aa1e814bce881f6731e132",icon:this.iconPack.search,part:"search-icon",class:"search-icon"}),(0,a.h)("input",{key:"3a3ad70f36122385f7da50c018d2e326c0d37e5e",type:"search",autocomplete:"off",placeholder:this.t("search"),onInput:this.onSearchInput,part:"search-input"})),(0,a.h)("slot",{key:"94570b18dbed22c304a86f571e7eb3a58a341d2e",name:"shuffle-button"})),(0,a.h)("div",{key:"1945693901357dbcb608199c9ed460745390ab03",class:"header"},(0,a.h)("div",{key:"3929f5c2d37a6a60f8b21345535420ea5cc30d9e",class:"title-wrapper"},(0,a.h)("span",{key:"fdcda41de05fc7a6cc1ce40af7d6b1a3d891e551"},this.t("breakout_rooms.main_room")),(0,a.h)("span",{key:"67730b14ab4b77e2d5f469ffeb187d631793bddb",class:"participant-count"},"(",(0,a.h)("dyte-icon",{key:"19d758f1f0bee73b1100754a7f4d369592f60bd2",icon:this.iconPack.people}),this.participantsToShow.length,")")),0!==this.selectedParticipantIds.length&&(0,a.h)("dyte-tooltip",{key:"47eff73a22c4471e3f5c44bda4b966f2b3ad5e44",label:this.t("breakout_rooms.select_all")},(0,a.h)("input",{key:"d180c3d5f879b263de54b7d449cf88b00dbfe1d7",type:"checkbox",checked:this.selectedParticipantIds.length===this.participantsToShow.length,onChange:e=>this.onToggleAll(!!e.target.checked)}))),(0,a.h)("div",{key:"33ea623c6378203774429d0964e35af32a4541d0",class:"ctr scrollbar",part:"container"},this.participantsToShow.length>0&&(0,a.h)("ul",{key:"89e4e47c8d67cac9eda4d3f6e4aab9cfa9fbede2",class:"participants",part:"participants"},this.participantsToShow.map((e=>(0,a.h)("li",{class:{"participant-item":!0,dragging:this.isDragging},onClick:()=>this.onClick(e),onDragStart:()=>this.onDragStart(e),onDragEnd:()=>this.onDragEnd(e),draggable:0===this.selectedParticipantIds.length,role:"listitem",key:e.id},this.renderPeer(e),!this.isDragging&&(0,a.h)("input",{type:"checkbox",class:{"hide-checkbox":0===this.selectedParticipantIds.length},checked:this.selectedParticipantIds.includes((0,s.p)(e))}))))),0===this.participantsToShow.length&&this.search.length>0&&(0,a.h)("div",{key:"749a308a9fd64ebf4d0a0d92dee2cf1e03f6c3b9",class:"empty-message"},this.t("participants.errors.empty_results")),0===this.participantsToShow.length&&0===this.search.length&&(0,a.h)("div",{key:"0bc4d11ad0d47d5222ed886963888481aa21d1af",class:"empty-room"},(0,a.h)("dyte-icon",{key:"75fb66ad3077eaf45ea103147b7f74620d9bb2a7",icon:this.iconPack.people_checked,part:"search-icon",class:"search-icon"}),(0,a.h)("p",{key:"b94340bb40d335b1f5833c105b22c348c4e13cf6"},this.t("breakout_rooms.all_assigned")),(0,a.h)("span",{key:"807499efca10da51093eec42229356cd5acce1ec"},this.t("breakout_rooms.empty_main_room")))))}static get watchers(){return{meeting:["meetingChanged"],participantIds:["participantsChanged"],search:["searchChanged"]}}};L([(0,o.S)()],M.prototype,"meeting",void 0),L([(0,o.S)()],M.prototype,"iconPack",void 0),L([(0,o.S)()],M.prototype,"t",void 0),M.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{display:flex;height:100%;flex-direction:column;font-size:14px}:host input[type='checkbox']{margin:var(--dyte-space-0, 0px);cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:var(--dyte-border-radius-sm, 4px);position:relative;height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);border-width:var(--dyte-border-width-sm, 1px);border-style:solid;border-color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}:host input[type='checkbox']:checked{--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-border-opacity));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity))}:host input[type='checkbox']:checked::before{position:absolute;top:1px;left:1px;height:var(--dyte-space-3, 12px);width:var(--dyte-space-3, 12px);background-color:rgb(var(--dyte-colors-text-1000, 255 255 255));content:'';clip-path:polygon(5% 60%, 35% 93%, 100% 19%, 86% 4%, 36% 62%, 19% 44%)}*{box-sizing:border-box}.participants{margin-top:var(--dyte-space-2, 8px);padding:var(--dyte-space-0, 0px)}.ctr{box-sizing:border-box;padding-top:var(--dyte-space-0, 0px);padding-bottom:var(--dyte-space-0, 0px);overflow-y:auto;flex-grow:1;flex-basis:0}.empty-message{margin-top:var(--dyte-space-10, 40px);margin-bottom:var(--dyte-space-10, 40px);text-align:center;font-size:14px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}.empty-room{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:var(--dyte-space-2, 8px);height:100%;text-align:center;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}.empty-room dyte-icon{height:var(--dyte-space-7, 28px);width:var(--dyte-space-7, 28px)}.empty-room p{font-size:16px;font-weight:500;margin:var(--dyte-space-0, 0px)}.empty-room span{font-size:12px;color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}.search-wrapper{margin-bottom:var(--dyte-space-1, 4px);display:flex;align-items:center;gap:var(--dyte-space-2, 8px)}.search{position:sticky;box-sizing:border-box;display:flex;align-items:center;border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-0, 0px);height:var(--dyte-space-8, 32px)}.search .search-icon{margin-left:var(--dyte-space-2, 8px);margin-right:var(--dyte-space-2, 8px);height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px);color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}.search input{box-sizing:border-box;width:100%;padding-right:var(--dyte-space-2, 8px);border-width:var(--dyte-border-width-none, 0);border-style:none;background-color:inherit;color:rgb(var(--dyte-colors-text-1000, 255 255 255));outline:2px solid transparent;outline-offset:2px;border-radius:var(--dyte-border-radius-sm, 4px);font-size:14px}.search input::-moz-placeholder{color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}.search input::placeholder{color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}.header{margin-left:var(--dyte-space-2, 8px);margin-right:var(--dyte-space-1\\.5, 6px);height:var(--dyte-space-9, 36px);padding-top:var(--dyte-space-3, 12px);padding-bottom:var(--dyte-space-3, 12px);padding-right:var(--dyte-space-0\\.5, 2px);border-bottom-width:var(--dyte-border-width-sm, 1px);border-top-width:var(--dyte-border-width-none, 0);border-right-width:var(--dyte-border-width-none, 0);border-left-width:var(--dyte-border-width-none, 0);border-style:solid;--tw-border-opacity:1;border-bottom-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-border-opacity));font-size:12px;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));display:flex;align-items:center;justify-content:space-between}.title-wrapper{display:flex;align-items:center;gap:var(--dyte-space-2, 8px)}.participant-count{display:flex;align-items:center;font-size:14px}.participant-count dyte-icon{margin-right:var(--dyte-space-0\\.5, 2px);width:var(--dyte-space-3, 12px)}.participant-item{display:flex;align-items:center;justify-content:space-between;margin-top:var(--dyte-space-1, 4px);margin-bottom:var(--dyte-space-1, 4px);border-radius:var(--dyte-border-radius-sm, 4px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);cursor:pointer}.participant-item input.hide-checkbox{display:none}.participant-item input:checked{display:inline-block}.dragging input{display:none}.participant-item:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.participant-item:hover input{display:inline-block}.peer-ui-container{position:relative;display:flex;align-items:center;gap:var(--dyte-space-2, 8px);height:var(--dyte-space-10, 40px);cursor:pointer;border-radius:var(--dyte-border-radius-sm, 4px);color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}.peer-ui-container dyte-avatar{height:var(--dyte-space-7, 28px);width:var(--dyte-space-7, 28px);font-size:14px;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.peer-ui-container .name{font-size:14px;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}";var _=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const j=class{constructor(e){(0,a.r)(this,e),this.stateUpdate=(0,a.c)(this,"dyteStateUpdate",7),this.loading=!1,this.roomConfig={rooms:2,step:"room-config",mode:"create",applyingChanges:!1},this.assigningParticipants=!1,this.selectedParticipants=[],this.ephemeralStatusText="",this.isDragMode=!1,this.iconPack=s.a,this.t=(0,s.c)(),this.permissionsUpdateListener=()=>{this.permissions=this.meeting.self.permissions.connectedMeetings},this.updateLocalState=e=>{this.stateManager.updateCurrentState(e),this.draftState=this.stateManager.currentState,this.meeting.connectedMeetings.isActive&&(this.roomConfig=Object.assign(Object.assign({},this.roomConfig),{mode:"edit"})),"create"!==this.roomConfig.mode||this.meeting.connectedMeetings.isActive||(0,s.r)(),["edit","view"].includes(this.roomConfig.mode)&&(this.roomConfig=Object.assign(Object.assign({},this.roomConfig),{rooms:e.meetings.length,step:"participants-config"}),this.selectedParticipants=[])},this.onAddNewRoom=()=>{this.stateManager.addNewMeeting(),this.draftState=this.stateManager.currentState,this.selectorRef.scrollTo({top:this.selectorRef.scrollHeight,behavior:"smooth"})},this.onRoomUpdate=e=>{const{detail:t}=e;this.stateManager.updateMeetingTitle(t.id,t.title),this.draftState=this.stateManager.currentState},this.onRoomDelete=e=>{this.stateManager.allConnectedMeetings.find((t=>t.id===e))&&(this.stateManager.deleteMeeting(e),this.draftState=this.stateManager.currentState)},this.unassignParticipant=e=>{this.stateManager.unassignParticipants([e]),this.draftState=this.stateManager.currentState},this.onUnassignAll=()=>{this.stateManager.unassignAllParticipants(),this.draftState=this.stateManager.currentState},this.assignParticipantsToRoom=e=>{0!==this.selectedParticipants.length&&0!=this.assigningParticipants&&(this.stateManager.assignParticipantsToMeeting(this.selectedParticipants,e),this.draftState=this.stateManager.currentState,this.selectedParticipants=[],this.assigningParticipants=!1,this.setEphemeralStatus(this.t("breakout_rooms.ephemeral_status.participants_assigned")))},this.handleClose=(e,t)=>{e.emit({activeBreakoutRoomsManager:{active:!0}}),t.activeBreakoutRoomsManager={active:!0}},this.enableConfirmationModal=(e="start-breakout")=>{let t={active:!0,header:"breakout_rooms.confirm_modal.start_breakout.header",content:"breakout_rooms.confirm_modal.start_breakout.content",variant:"primary",cancelText:"breakout_rooms.confirm_modal.start_breakout.cancelText",ctaText:"breakout_rooms.confirm_modal.start_breakout.ctaText",onClick:()=>this.applyChanges(),onClose:this.handleClose};"close-breakout"===e&&(t={active:!0,header:"breakout_rooms.confirm_modal.close_breakout.header",content:"breakout_rooms.confirm_modal.close_breakout.content",variant:"danger",cancelText:"cancel",ctaText:"breakout_rooms.confirm_modal.close_breakout.ctaText",onClick:()=>this.closeBreakout(),onClose:this.handleClose}),this.stateUpdate.emit({activeBreakoutRoomsManager:{active:!1},activeConfirmationModal:t})},this.close=()=>{this.stateManager.discardChanges(),this.stateUpdate.emit({activeBreakoutRoomsManager:{active:!1}})},this.applyChanges=async()=>{this.roomConfig=Object.assign(Object.assign({},this.roomConfig),{applyingChanges:!0}),await this.stateManager.applyChanges(this.meeting),this.close(),this.roomConfig=Object.assign(Object.assign({},this.roomConfig),{applyingChanges:!1})}}onSelectedParticipantsChanged(e){e.length>0?this.assigningParticipants=!0:this.assigningParticipants=!1}connectedCallback(){this.permissionsUpdateListener(),this.meeting.connectedMeetings.on("stateUpdate",this.updateLocalState),this.meeting.connectedMeetings.on("changingMeeting",this.close),this.meeting.self.permissions.on("permissionsUpdate",this.permissionsUpdateListener),this.stateManager=new s.B,this.fetchRoomState()}disconnectedCallback(){this.meeting.connectedMeetings.off("stateUpdate",this.updateLocalState),this.meeting.connectedMeetings.off("changingMeeting",this.close),this.meeting.self.permissions.off("permissionsUpdate",this.permissionsUpdateListener)}async fetchRoomState(){this.loading=!0,await this.meeting.connectedMeetings.getConnectedMeetings(),this.loading=!1}setEphemeralStatus(e){this.ephemeralStatusText=e,setTimeout((()=>{this.ephemeralStatusText=""}),3e3)}onCreateRooms(){this.selectedParticipants=[],this.stateManager.addNewMeetings(this.roomConfig.rooms),this.draftState=this.stateManager.currentState,this.roomConfig=Object.assign(Object.assign({},this.roomConfig),{step:"participants-config"})}onParticipantDelete(e){const{detail:t}=e,i=(0,s.p)(t);null!=i&&this.unassignParticipant(i)}toggleDragMode(e){this.isDragMode=e.detail}assignParticipantsRandomly(){0!==this.stateManager.unassignedParticipants.length&&(this.stateManager.assignParticipantsRandomly(),this.draftState=this.stateManager.currentState,this.setEphemeralStatus(this.t("breakout_rooms.ephemeral_status.participants_assigned_randomly")))}async joinRoom(e){const t=(0,s.p)(this.meeting.self);this.stateManager.assignParticipantsToMeeting([t],e),await this.applyChanges()}async closeBreakout(){this.stateManager.allConnectedMeetings.forEach((e=>this.stateManager.deleteMeeting(e.id))),await this.applyChanges()}updateSelectedParticipants(e){this.selectedParticipants=e.detail}updateAllParticipants(e){this.selectedParticipants=e.detail}getStatusText(){if(""!==this.ephemeralStatusText)return this.ephemeralStatusText;let e="";return"create"===this.roomConfig.mode&&(e=this.t("breakout_rooms.status.assign_multiple"),0!==this.selectedParticipants.length&&(e=this.t("breakout_rooms.status.select_room"))),e}getApproxDistribution(){const e=this.stateManager.unassignedParticipants.length/(this.roomConfig.rooms||1);return Math.max(1,Math.round(e))}deselectAll(){this.selectedParticipants=[]}async discardChanges(){this.stateManager.discardChanges(),await this.fetchRoomState(),this.setEphemeralStatus(this.t("breakout_rooms.ephemeral_status.changes_discarded"))}shouldShowOnlyRoomSwitcher(){return!1===this.permissions.canAlterConnectedMeetings}getPermittedRooms(){return this.permissions.canAlterConnectedMeetings||this.permissions.canSwitchConnectedMeetings?this.stateManager.allConnectedMeetings:this.stateManager.allConnectedMeetings.filter((e=>e.id===this.meeting.meta.meetingId))}renderMainRoomMaybe(){return this.meeting.connectedMeetings.isActive&&this.permissions.canSwitchToParentMeeting?(0,a.h)("dyte-breakout-room-manager",{key:this.stateManager.currentState.parentMeeting.id,assigningParticipants:this.assigningParticipants,isDragMode:this.isDragMode,meeting:this.meeting,mode:this.roomConfig.mode,onParticipantsAdd:()=>this.assignParticipantsToRoom(this.stateManager.currentState.parentMeeting.id),onRoomJoin:()=>this.joinRoom(this.stateManager.currentState.parentMeeting.id),onUpdate:this.onRoomUpdate,states:this.states,room:Object.assign({},this.stateManager.currentState.parentMeeting),iconPack:this.iconPack,t:this.t}):null}renderRoomSwitcher(){return(0,a.h)(a.H,null,(0,a.h)("div",{class:"room-switcher-container"},(0,a.h)("header",null,(0,a.h)("dyte-icon",{icon:this.iconPack.breakout_rooms}),(0,a.h)("span",null,this.t("breakout_rooms.join_breakout_header"))),(0,a.h)("div",{class:"rooms",ref:e=>this.selectorRef=e},this.renderMainRoomMaybe(),this.getPermittedRooms().map(((e,t)=>(0,a.h)("dyte-breakout-room-manager",{key:e.id,assigningParticipants:this.assigningParticipants,isDragMode:this.isDragMode,defaultExpanded:0===t,meeting:this.meeting,mode:this.roomConfig.mode,onDelete:()=>this.onRoomDelete(e.id),onParticipantsAdd:()=>this.assignParticipantsToRoom(e.id),onRoomJoin:()=>this.joinRoom(e.id),states:this.states,room:Object.assign({},e),iconPack:this.iconPack,t:this.t,allowDelete:!1}))))))}renderLoading(){return(0,a.h)(a.H,null,(0,a.h)("div",{class:"loading-content"},(0,a.h)("dyte-spinner",{size:"xl"})))}renderRoomConfig(){return(0,a.h)(a.H,null,(0,a.h)("div",{class:"room-config"},(0,a.h)("header",null,(0,a.h)("dyte-icon",{icon:this.iconPack.breakout_rooms}),(0,a.h)("span",null,this.t("breakout_rooms.room_config_header"))),(0,a.h)("div",{class:"create-room"},(0,a.h)("p",null,this.t("breakout_rooms.num_of_rooms")),(0,a.h)("dyte-counter",{value:this.roomConfig.rooms,minValue:1,iconPack:this.iconPack,t:this.t,onValueChange:e=>{this.roomConfig=Object.assign(Object.assign({},this.roomConfig),{rooms:Math.max(+e.detail,1)})}})),(0,a.h)("span",{class:"distribution-hint"},`${this.t("breakout_rooms.approx")} `," ",(0,a.h)("em",null,this.getApproxDistribution()," ",this.t("breakout_rooms.participants_per_room"))," ",this.t("breakout_rooms.division_text")),(0,a.h)("footer",null,(0,a.h)("dyte-button",{kind:"button",size:"lg",title:this.t("create"),disabled:0===this.roomConfig.rooms,onClick:()=>this.onCreateRooms()},this.t("create")))))}render(){return this.loading?this.renderLoading():this.shouldShowOnlyRoomSwitcher()?this.renderRoomSwitcher():"room-config"===this.roomConfig.step?this.renderRoomConfig():(0,a.h)(a.H,null,(0,a.h)("div",{class:"participant-config-wrapper"},(0,a.h)("div",{class:"participant-config"},(0,a.h)("aside",{part:"menu"},(0,a.h)("header",null,this.t("breakout_rooms.assign_participants")),(0,a.h)("dyte-breakout-room-participants",{meeting:this.meeting,iconPack:this.iconPack,t:this.t,participantIds:this.stateManager.unassignedParticipants.map(s.p),selectedParticipantIds:this.selectedParticipants},(0,a.h)("dyte-tooltip",{label:this.t("breakout_rooms.shuffle_participants"),slot:"shuffle-button"},(0,a.h)("dyte-button",{disabled:"edit"===this.roomConfig.mode||0===this.stateManager.unassignedParticipants.length,kind:"button",variant:"secondary",size:"md",onClick:()=>this.assignParticipantsRandomly(),class:"shuffle-button br-primary-btn"},(0,a.h)("dyte-icon",{icon:this.iconPack.shuffle})))),0!==this.selectedParticipants.length&&(0,a.h)("div",{class:"participants-assign-actions"},(0,a.h)("span",null,`${this.selectedParticipants.length} ${this.t("breakout_rooms.selected")}`),(0,a.h)("dyte-button",{disabled:"edit"===this.roomConfig.mode,kind:"button",variant:"ghost",size:"md",onClick:()=>this.deselectAll(),class:"deselect-button color-danger"},this.t("breakout_rooms.deselect")))),(0,a.h)("div",{class:"assign-rooms"},(0,a.h)("div",{class:"row"},(0,a.h)("p",{class:"row-header"},this.t("breakout_rooms.rooms")," (",this.stateManager.allConnectedMeetings.length,")"),!this.assigningParticipants&&(0,a.h)("div",{class:"cta-buttons"},(0,a.h)("dyte-button",{kind:"button",variant:"secondary",class:"br-primary-btn"},(0,a.h)("div",{onClick:this.onAddNewRoom},(0,a.h)("dyte-icon",{icon:this.iconPack.add}),this.t("breakout_rooms.add_room"))),0!==this.stateManager.allConnectedMeetings.flatMap((e=>e.participants)).length&&(0,a.h)("dyte-button",{kind:"button",variant:"ghost",onClick:this.onUnassignAll},this.t("breakout_rooms.unassign_all")))),(0,a.h)("div",{class:"rooms",ref:e=>this.selectorRef=e},this.renderMainRoomMaybe(),this.getPermittedRooms().map(((e,t)=>(0,a.h)("dyte-breakout-room-manager",{key:e.id,assigningParticipants:this.assigningParticipants,isDragMode:this.isDragMode,defaultExpanded:0===t,meeting:this.meeting,mode:this.roomConfig.mode,onDelete:()=>this.onRoomDelete(e.id),onParticipantsAdd:()=>this.assignParticipantsToRoom(e.id),onRoomJoin:()=>this.joinRoom(e.id),onUpdate:this.onRoomUpdate,states:this.states,room:Object.assign({},e),iconPack:this.iconPack,t:this.t,allowDelete:this.stateManager.allConnectedMeetings.length>1}))),(0,a.h)("dyte-button",{kind:"button",variant:"secondary",onClick:this.onAddNewRoom,class:"add-room-jumbo-btn br-secondary-btn"},(0,a.h)("div",null,(0,a.h)("dyte-icon",{icon:this.iconPack.add}),(0,a.h)("span",null,this.t("breakout_rooms.add_room_brief"))))))),(0,a.h)("div",{class:"participant-config-actions"},(0,a.h)("div",{class:{"status-bar":!0,"ephemeral-status":""!==this.ephemeralStatusText}},""!==this.ephemeralStatusText&&(0,a.h)("dyte-icon",{icon:this.iconPack.checkmark}),this.getStatusText()),(0,a.h)("div",{class:"breakout-actions"},"create"===this.roomConfig.mode&&this.permissions.canAlterConnectedMeetings&&(0,a.h)("dyte-button",{size:"md",class:"start-breakout-button",onClick:()=>this.enableConfirmationModal("start-breakout")},this.t("breakout_rooms.start_breakout")),"edit"===this.roomConfig.mode&&this.stateManager.hasLocalChanges&&this.permissions.canAlterConnectedMeetings&&(0,a.h)("dyte-button",{size:"md",class:"color-danger",variant:"ghost",onClick:()=>this.discardChanges()},this.t("breakout_rooms.discard_changes")),"edit"===this.roomConfig.mode&&this.stateManager.hasLocalChanges&&this.permissions.canAlterConnectedMeetings&&(0,a.h)("dyte-button",{size:"md",class:"update-breakout-button",onClick:this.applyChanges},this.t("breakout_rooms.update_breakout")),"edit"===this.roomConfig.mode&&!this.stateManager.hasLocalChanges&&this.permissions.canAlterConnectedMeetings&&(0,a.h)("dyte-button",{size:"md",class:"close-breakout-button",onClick:()=>this.enableConfirmationModal("close-breakout")},this.t("breakout_rooms.close_breakout"))))))}static get watchers(){return{selectedParticipants:["onSelectedParticipantsChanged"]}}};_([(0,o.S)()],j.prototype,"meeting",void 0),_([(0,o.S)()],j.prototype,"states",void 0),_([(0,o.S)()],j.prototype,"iconPack",void 0),_([(0,o.S)()],j.prototype,"t",void 0),j.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.color-brand{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity))}.color-danger{--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}.loading-content{height:var(--dyte-space-60, 240px);width:var(--dyte-space-96, 384px);padding:var(--dyte-space-9, 36px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));display:flex;align-items:center;justify-content:center}.room-config{overflow:hidden;border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));display:flex;flex-direction:column;width:var(--dyte-space-96, 384px);padding-left:var(--dyte-space-9, 36px);padding-right:var(--dyte-space-9, 36px);padding-top:var(--dyte-space-10, 40px);padding-bottom:var(--dyte-space-10, 40px)}header{margin-bottom:var(--dyte-space-8, 32px);display:flex;align-items:center;gap:var(--dyte-space-2, 8px);font-size:24px;font-weight:600}header dyte-icon{height:var(--dyte-space-7, 28px);width:var(--dyte-space-7, 28px)}.create-room{margin-bottom:var(--dyte-space-4, 16px);display:flex;align-items:center;gap:var(--dyte-space-3, 12px);width:100%}.create-room p{margin:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-1, 4px);font-size:16px}.distribution-hint{margin-bottom:var(--dyte-space-8, 32px);font-size:14px;font-weight:400;color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}.distribution-hint em{font-style:normal;color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}footer{display:flex;flex-direction:row;vertical-align:middle;justify-content:center}footer dyte-button{width:100%;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}label{margin-bottom:var(--dyte-space-3, 12px);font-weight:400;color:rgb(var(--dyte-colors-text-1000, 255 255 255));opacity:0.4}.participant-config-wrapper{width:850px;height:595px;max-width:100%;max-height:100%;border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));display:flex;flex-direction:column}.participant-config-actions{display:flex;justify-content:space-between;padding-left:var(--dyte-space-8, 32px);padding-right:var(--dyte-space-8, 32px);padding-top:var(--dyte-space-5, 20px);padding-bottom:var(--dyte-space-5, 20px);border-bottom-right-radius:var(--dyte-border-radius-md, 8px);border-bottom-left-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.participant-config{display:flex;flex-grow:1;flex-direction:row;overflow:hidden}aside{box-sizing:border-box;display:flex;width:var(--dyte-space-96, 384px);flex-grow:1;flex-direction:column;padding-left:var(--dyte-space-8, 32px);padding-right:var(--dyte-space-4, 16px);border-right-width:var(--dyte-border-width-sm, 1px);border-top-width:var(--dyte-border-width-none, 0);border-bottom-width:var(--dyte-border-width-none, 0);border-left-width:var(--dyte-border-width-none, 0);border-style:solid;--tw-border-opacity:1;border-right-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-border-opacity))}aside header{margin-bottom:var(--dyte-space-4, 16px);width:100%;padding-left:var(--dyte-space-0, 0px);padding-right:var(--dyte-space-0, 0px);padding-top:var(--dyte-space-8, 32px);font-size:20px;font-weight:500;line-height:2rem}.shuffle-button{display:flex;flex-direction:row;align-items:center}.shuffle-button dyte-icon{height:var(--dyte-space-8, 32px)}.participants-assign-actions{display:flex;flex-direction:row;align-items:center;justify-content:space-between;font-size:14px;padding-left:var(--dyte-space-8, 32px);padding-right:var(--dyte-space-2, 8px);margin-left:calc(var(--dyte-space-8, 32px) * -1);margin-right:calc(var(--dyte-space-4, 16px) * -1);padding-top:var(--dyte-space-0\\.5, 2px);padding-bottom:var(--dyte-space-0\\.5, 2px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}.participants-assign-actions .deselect-button{height:var(--dyte-space-6, 24px)}.participants-assign-actions .deselect-button:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}.assign-rooms{padding:var(--dyte-space-8, 32px);display:flex;width:100%;flex-direction:column}.assign-rooms .disabled{opacity:0.2}.assign-rooms .back{display:flex;cursor:pointer;flex-direction:row;align-items:center;justify-content:flex-start;padding:var(--dyte-space-4, 16px);padding-bottom:var(--dyte-space-0, 0px);font-size:14px;color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}.assign-rooms .back dyte-icon{height:var(--dyte-space-5, 20px)}.assign-rooms .row{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;gap:var(--dyte-space-3, 12px);margin-bottom:var(--dyte-space-4, 16px);font-size:14px}.assign-rooms .row-header{margin:var(--dyte-space-0, 0px);font-size:16px;line-height:2rem}.assign-rooms .cta-buttons{display:flex;align-items:center;justify-content:flex-start;gap:var(--dyte-space-2, 8px)}.assign-rooms .cta-buttons dyte-button div{display:flex;flex-direction:row;align-items:center}.assign-rooms .cta-buttons dyte-button div dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px)}.rooms{margin-bottom:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-1, 4px);display:flex;flex-grow:1;flex-direction:column;gap:var(--dyte-space-2, 8px);overflow-y:auto;max-height:500px}.rooms::-webkit-scrollbar{width:var(--dyte-space-1\\.5, 6px);border-radius:var(--dyte-border-radius-sm, 4px)}.rooms::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.rooms::-webkit-scrollbar-track{border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.breakout-actions{display:flex;flex-direction:row;align-items:center;justify-content:flex-end;gap:var(--dyte-space-2, 8px)}.breakout-actions .start-breakout-button{color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.breakout-actions .close-breakout-button{color:rgb(var(--dyte-colors-text-1000, 255 255 255));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-bg-opacity))}.breakout-actions .update-breakout-button{background-color:transparent;--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-text-opacity));border-width:var(--dyte-border-width-sm, 1px);border-style:solid;--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-border-opacity))}.status-bar{display:flex;align-items:center;font-size:14px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));width:var(--dyte-space-80, 320px)}.ephemeral-status{--tw-text-opacity:1;color:rgba(var(--dyte-colors-success, 98 165 4) / var(--tw-text-opacity))}.ephemeral-status dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px)}.room-switcher-container{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));width:468px;padding:var(--dyte-space-8, 32px)}.add-room-jumbo-btn div{display:flex;align-items:center;gap:var(--dyte-space-1, 4px);font-size:14px;--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity))}.add-room-jumbo-btn div dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px)}.br-primary-btn:not([disabled]){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.br-primary-btn:not([disabled]):hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-600, 13 81 253) / var(--tw-bg-opacity))}.br-secondary-btn:not([disabled]){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.br-secondary-btn:not([disabled]):hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}";var z=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const R=class{constructor(e){(0,a.r)(this,e),this.stateUpdate=(0,a.c)(this,"dyteStateUpdate",7),this.iconPack=s.a,this.t=(0,s.c)(),this.messagePayload={to:"Everyone",message:""},this.successMessage=!1}close(){var e;null===(e=this.stateUpdate)||void 0===e||e.emit({activeBroadcastMessageModal:!1})}sendMessage(){this.successMessage=!0,setTimeout((()=>{this.close()}),2e3)}render(){return(0,a.h)(a.H,{key:"942c56592847886706d37d042922de10bc1d9ba2"},(0,a.h)("div",{key:"870f1187ffaad036b5bf08d85a2a90c947fe3475",class:"content-col"},(0,a.h)("h2",{key:"18764e77a37c5d4f2a8f6fdf7dd877e75d7e6cc1"},"Broadcast message to"),(0,a.h)("select",{key:"4ee081d8cc2c06a43b0f3b19d4a65b99ec8a35e4",onChange:e=>{this.messagePayload=Object.assign(Object.assign({},this.messagePayload),{to:e.target.value})}},(0,a.h)("option",{key:"37165f1fe83d97ca45a1c52393331601dab36f20"},"Everyone"),(0,a.h)("option",{key:"5fb75c26d28b155bd6b410ece1e55552c9a14444"},"List of rooms")),(0,a.h)("textarea",{key:"4173fc0b3f7811b99c15cdf4549ba18af8bf0f71",placeholder:"Type message here...",onInput:e=>{this.messagePayload=Object.assign(Object.assign({},this.messagePayload),{message:e.target.value})}}),this.successMessage?(0,a.h)("p",null,"Message sent to ",this.messagePayload.to,(0,a.h)("dyte-icon",{icon:this.iconPack.checkmark})):(0,a.h)("div",{class:"content-row"},(0,a.h)("dyte-button",{onClick:()=>this.close(),variant:"secondary"},"Cancel"),"\u2002",(0,a.h)("dyte-button",{variant:"primary",onClick:()=>this.sendMessage()},"Send"))))}};z([(0,o.S)()],R.prototype,"meeting",void 0),z([(0,o.S)()],R.prototype,"states",void 0),z([(0,o.S)()],R.prototype,"iconPack",void 0),z([(0,o.S)()],R.prototype,"t",void 0),R.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;border-radius:var(--dyte-border-radius-md, 8px);padding:var(--dyte-space-4, 16px);width:100%;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));width:400px;max-width:80%}.content-col{display:flex;width:100%;flex-direction:column}h2{margin:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-2, 8px)}.content-row{display:flex;width:100%;flex-direction:row}.content-row dyte-button{margin-top:var(--dyte-space-4, 16px);width:100%}textarea{margin-top:var(--dyte-space-3, 12px);resize:none;border-radius:var(--dyte-border-radius-sm, 4px);border-width:var(--dyte-border-width-none, 0);border-style:none;font-family:var(--dyte-font-family, sans-serif);outline:2px solid transparent;outline-offset:2px;height:var(--dyte-space-16, 64px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));padding:var(--dyte-space-2, 8px);color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}textarea::-moz-placeholder{color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}textarea::placeholder{color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}select{border-radius:var(--dyte-border-radius-sm, 4px);border-width:var(--dyte-border-width-none, 0);border-style:none;padding-top:var(--dyte-space-3, 12px);padding-bottom:var(--dyte-space-3, 12px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);outline:2px solid transparent;outline-offset:2px;border-right-width:var(--dyte-border-width-md, 2px);border-style:solid;border-color:transparent;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}p{margin:var(--dyte-space-0, 0px);margin-top:var(--dyte-space-2, 8px);width:100%;text-align:center;font-size:14px;--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity));display:flex;flex-direction:row;align-items:center;justify-content:center}p dyte-icon{margin-left:var(--dyte-space-1, 4px);height:var(--dyte-space-5, 20px)}";var T=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const D=class{constructor(e){(0,a.r)(this,e),this.variant="primary",this.kind="button",this.reverse=!1,this.disabled=!1,this.type="button"}render(){return(0,a.h)(a.H,{key:"b6b2dd78e9e260a8009f6936800e94cee2146826"},(0,a.h)("button",{key:"d607bc0d6e12ba1dcd050691ef7a23636b72ea17",part:"button",type:this.type,disabled:this.disabled},(0,a.h)("span",{key:"26166623d5ce0d9f9f23a57ff3793fab736bc90b",class:"start"},(0,a.h)("slot",{key:"2c3ee6d68ac313347e4acf8b05af72c492d56d85",name:"start"})),(0,a.h)("span",{key:"db86595c8d5763d45301c4a883e9ba3d013ed982",class:"content",part:"content"},(0,a.h)("slot",{key:"3b3b5541f807f71779195e9b0e559add82805e6b"})),(0,a.h)("span",{key:"689b910116fd34150302a05f97d54a02df05431f",class:"end"},(0,a.h)("slot",{key:"296ea6a1eec98b235f8ebaaf096acfcac88ffc20",name:"end"}))))}};T([(0,o.S)()],D.prototype,"size",void 0),D.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{--icon-size:var(--dyte-button-icon-size, var(--dyte-space-5, 20px));--transition-property:var(--dyte-transition-property, all);--transition-duration:100ms;display:inline-flex;height:var(--dyte-space-8, 32px);cursor:pointer;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));font-size:14px;-webkit-user-select:none;-moz-user-select:none;user-select:none;border-radius:var(--dyte-border-radius-sm, 4px);transition-property:var(--transition-property);transition-duration:var(--transition-duration)}button{box-sizing:border-box;background-color:transparent;color:inherit;border:var(--dyte-border-width-sm, 1px) solid transparent;padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);display:inline-flex;flex-grow:1;justify-content:center;vertical-align:baseline;gap:var(--dyte-space-1, 4px);transition-property:var(--transition-property);transition-duration:var(--transition-duration);outline:none;height:inherit;border-radius:inherit;fill:inherit;cursor:inherit;font-weight:inherit;font-family:inherit;font-size:inherit;line-height:inherit}.start,.content,.end{align-self:center}::slotted(dyte-icon),::slotted(dyte-spinner){height:var(--icon-size);width:var(--icon-size)}:host([variant='primary']){color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}:host(:hover){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-600, 13 81 253) / var(--tw-bg-opacity))}button:focus-visible{border-color:rgb(var(--dyte-colors-text-1000, 255 255 255))}:host(:active){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-700, 2 70 253) / var(--tw-bg-opacity))}:host([disabled]:not([disabled='false'])){cursor:not-allowed;opacity:0.6}:host([variant='secondary']){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}:host([variant='secondary']:hover){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}:host([variant='secondary']:active){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity))}:host([variant='danger']){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-bg-opacity))}:host([variant='danger']:hover){background-color:rgba(var(--dyte-colors-danger, 255 45 45) / 0.7)}:host([variant='danger']:active){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-bg-opacity))}:host([variant='ghost']){background-color:transparent;color:inherit}:host([variant='ghost'].active){--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity))}:host([variant='ghost']:hover){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}:host([variant='ghost']:active){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}:host([kind='icon']){--icon-size:var(--dyte-space-5, 20px);width:var(--dyte-space-8, 32px)}:host([kind='icon']) button{padding-left:var(--dyte-space-0, 0px);padding-right:var(--dyte-space-0, 0px)}:host([kind='wide']){width:100%}:host([size='lg']){--icon-size:var(--dyte-space-5, 20px);height:var(--dyte-space-10, 40px);font-size:16px}:host([size='lg'][kind='icon']){--icon-size:var(--dyte-space-6, 24px);height:var(--dyte-space-10, 40px);width:var(--dyte-space-10, 40px)}:host([size='sm']){--icon-size:var(--dyte-space-4, 16px);height:var(--dyte-space-6, 24px);font-size:12px}:host([size='sm'][kind='icon']){height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px)}";var U=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const O=class{constructor(e){(0,a.r)(this,e),this.iconPack=s.a,this.variant="full",this.t=(0,s.c)(),this.videoDevices=[],this.canProduceVideo=!0,this.stageStateListener=()=>{this.canProduceVideo="ALLOWED"===this.meeting.self.permissions.canProduceVideo},this.deviceListUpdateListener=({devices:e})=>{this.videoDevices=e.filter((e=>"videoinput"===e.kind))},this.deviceUpdateListener=({device:e})=>{"videoinput"===e.kind&&(this.currentDevice=e)},this.mediaPermissionUpdateListener=async({kind:e,message:t})=>{this.meeting&&"video"===e&&"ACCEPTED"===t&&(this.videoDevices=await this.meeting.self.getVideoDevices())}}meetingChanged(e){var t,i,r;null!=e&&(null===(t=e.self)||void 0===t||t.addListener("deviceListUpdate",this.deviceListUpdateListener),null===(i=e.self)||void 0===i||i.addListener("deviceUpdate",this.deviceUpdateListener),null===(r=e.self)||void 0===r||r.addListener("mediaPermissionUpdate",this.mediaPermissionUpdateListener),(0,a.w)((async()=>{var t,i;const a=await e.self.getVideoDevices(),r=null===(t=e.self.getCurrentDevices())||void 0===t?void 0:t.video;this.videoDevices=null!=r?[null!==(i=a.find((e=>e.deviceId===r.deviceId)))&&void 0!==i?i:r,...a.filter((e=>e.deviceId!==r.deviceId))]:a})))}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){var e,t,i,a,r;null===(t=null===(e=this.meeting)||void 0===e?void 0:e.stage)||void 0===t||t.removeListener("stageStatusUpdate",this.stageStateListener),null===(i=this.meeting)||void 0===i||i.self.removeListener("deviceListUpdate",this.deviceListUpdateListener),null===(a=this.meeting)||void 0===a||a.self.removeListener("deviceUpdate",this.deviceUpdateListener),null===(r=this.meeting)||void 0===r||r.self.removeListener("mediaPermissionUpdate",this.mediaPermissionUpdateListener)}async setDevice(e){var t;const i=this.videoDevices.find((t=>t.deviceId===e));this.currentDevice=i,null!=i&&await(null===(t=this.meeting)||void 0===t?void 0:t.self.setDevice(i))}render(){if(null==this.meeting)return null;let e=0;return(0,a.h)(a.H,null,this.canProduceVideo&&(0,a.h)("div",{class:"group container "+this.variant,part:"camera-selection"},(0,a.h)("label",null,"inline"!==this.variant&&this.t("camera"),(0,a.h)("dyte-icon",{icon:this.iconPack.video_on,size:"sm"})),(0,a.h)("div",{class:"row"},(0,a.h)("select",{class:"dyte-select",onChange:e=>this.setDevice(e.target.value)},this.videoDevices.map((({deviceId:t,label:i})=>{var r;return(0,a.h)("option",{selected:(null===(r=this.currentDevice)||void 0===r?void 0:r.deviceId)===t,value:t},i||"Camera "+ ++e)}))))))}static get watchers(){return{meeting:["meetingChanged"]}}};U([(0,o.S)()],O.prototype,"meeting",void 0),U([(0,o.S)()],O.prototype,"size",void 0),U([(0,o.S)()],O.prototype,"iconPack",void 0),U([(0,o.S)()],O.prototype,"t",void 0),O.style=".dyte-select{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.dyte-select:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.dyte-select{display:block;border-radius:var(--dyte-border-radius-sm, 4px);border-width:var(--dyte-border-width-none, 0);border-style:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:var(--dyte-space-3, 12px);font-size:16px;--icon-size:var(--dyte-select-chevron-size, var(--dyte-space-6, 24px));--icon-right-position:var(--dyte-select-chevron-right-position, var(--dyte-space-2, 8px));background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e\");background-position:right var(--icon-right-position) center;background-repeat:no-repeat;background-size:var(--icon-size) var(--icon-size);padding-right:calc(var(--icon-right-position) * 5);width:100%;max-width:100%;text-overflow:ellipsis}.inline .dyte-select{margin-top:var(--dyte-space-1, 4px);width:100%;padding-top:var(--dyte-space-1, 4px);padding-bottom:var(--dyte-space-1, 4px);padding-left:var(--dyte-space-1\\.5, 6px);padding-right:var(--dyte-space-1\\.5, 6px);padding-right:var(--dyte-space-8, 32px);font-size:14px}.row{margin-bottom:var(--dyte-space-2, 8px);display:flex;width:100%;align-items:center;justify-content:space-between;gap:var(--dyte-space-3, 12px)}.group{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px)}.group>*{margin-bottom:var(--dyte-space-2, 8px)}.group>*:last-child{margin-bottom:var(--dyte-space-0, 0px)}.group select{flex:1 1 0%}.group{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-0, 0px)}.group>*{margin-bottom:var(--dyte-space-0, 0px)}label{display:flex;-webkit-user-select:none;-moz-user-select:none;user-select:none;align-items:center;gap:var(--dyte-space-1, 4px);font-size:14px}.inline.container{display:flex;align-items:center;justify-content:flex-start;gap:var(--dyte-space-2, 8px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px)}";var E=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const I=class{constructor(e){(0,a.r)(this,e),this.stateUpdate=(0,a.c)(this,"dyteStateUpdate",7),this.switchChannel=(0,a.c)(this,"switchChannel",7),this.t=(0,s.c)(),this.iconPack=s.a,this.channelName="",this.searchQuery="",this.step=1,this.loading=!1,this.selectedMemberIds=new Set,this.focusedMemberIndex=-1,this.showAllMembersList=!1,this.allMembers=new Map,this.inputTextRef=null,this.searchInputTextRef=null,this.focusOnSearch=(e=!1)=>{this.focusedMemberIndex=-1,(0,a.w)((()=>{var t,i;null===(t=this.searchInputTextRef)||void 0===t||t.focus(),e&&(null===(i=this.searchInputTextRef)||void 0===i||i.select())}))},this.onClickHandler=async()=>{if(0!==this.channelName.length){if(1===this.step){const e=this.meeting.participants.all.toArray(),t=this.meeting.self.userId;return e.filter((e=>e.userId!==t)).forEach((e=>this.allMembers.set(e.userId,e))),this.step=2,void this.focusOnSearch()}await this.createChannel()}},this.createChannel=async()=>{const e=Array.from(this.selectedMemberIds),t=await this.meeting.chat.createChannel(this.channelName,e,{displayPictureUrl:"",visibility:"public",isDirectMessage:!1});this.switchChannel.emit(t.id),this.stateUpdate.emit({activeChannelCreator:!1})},this.onMemberAdd=e=>{this.showAllMembersList=!1,this.selectedMemberIds.add(e),this.searchQuery="",this.focusOnSearch()},this.keyDownHandler=(e,t)=>{if("ArrowDown"===e.key)this.focusedMemberIndex=Math.min(this.focusedMemberIndex+1,t.length-1);else if("ArrowUp"===e.key){if(-1===this.focusedMemberIndex)return;if(0===this.focusedMemberIndex)return void this.focusOnSearch(!0);this.focusedMemberIndex=Math.max(this.focusedMemberIndex-1,0)}else if("Enter"===e.key)this.onMemberAdd(t[this.focusedMemberIndex].userId);else if("Backspace"===e.key){if(0!==this.searchQuery.length)return;if(0===this.selectedMemberIds.size)return;const e=Array.from(this.selectedMemberIds.values()).at(-1);this.selectedMemberIds.delete(e),(0,a.f)(this.$el)}},this.renderMemberSelector=()=>{const e=Array.from(this.allMembers.values()).filter((e=>!this.selectedMemberIds.has(e.userId)&&e.name.toLowerCase().includes(this.searchQuery.toLowerCase()))),t=Array.from(this.selectedMemberIds.values()).map((e=>this.allMembers.get(e))),i=this.selectedMemberIds.size===this.allMembers.size;return(0,a.h)("div",{class:"input-container"},(0,a.h)("ul",{class:"members scrollbar",onClick:()=>{var e;null===(e=this.searchInputTextRef)||void 0===e||e.focus()}},t.map((e=>(0,a.h)("li",{class:"pill"},(0,a.h)("dyte-avatar",{participant:{name:e.name,picture:e.picture},size:"sm"}),(0,a.h)("span",null,e.name),(0,a.h)("dyte-icon",{icon:this.iconPack.dismiss,onClick:()=>{this.selectedMemberIds.delete(e.userId),(0,a.f)(this.$el),this.focusOnSearch()}})))),!i&&(0,a.h)("input",{type:"text",ref:e=>this.searchInputTextRef=e,value:this.searchQuery,placeholder:0===this.selectedMemberIds.size?this.t("chat.member_name"):"",class:{"wide-input":0===this.selectedMemberIds.size},onInput:e=>{this.searchQuery=e.target.value.trim()},onClick:()=>{this.showAllMembersList=!this.showAllMembersList},onKeyDown:t=>this.keyDownHandler(t,e)})),(0!==this.searchQuery.length||this.showAllMembersList)&&(0,a.h)("ul",{class:"search-results"},e.map(((e,t)=>(0,a.h)("li",{class:{member:!0,selected:t===this.focusedMemberIndex},onClick:()=>this.onMemberAdd(e.userId),ref:e=>{t===this.focusedMemberIndex&&(0,a.w)((()=>{e&&e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}))}},(0,a.h)("dyte-avatar",{participant:{name:e.name,picture:e.picture},size:"sm"}),(0,a.h)("span",null,e.name)))),0===e.length&&(0,a.h)("li",{class:"member"},(0,a.h)("span",null,this.t("chat.error.empty_results")))))}}componentDidLoad(){var e;null===(e=this.inputTextRef)||void 0===e||e.focus()}render(){return(0,a.h)(a.H,{key:"4c1ae6e4b774e23f4a594a8471975bc67978c5ed"},(0,a.h)("header",{key:"fc502cce45ea3d03814aadbf683b934866e2f1f0"},1===this.step?this.t("chat.new_channel"):this.t("chat.add_members")),1===this.step&&(0,a.h)("input",{key:"5ed3f19504ea6d2393a0ad9edb51d930a1a53c98",class:"channel-name-input",type:"text",placeholder:this.t("chat.channel_name"),ref:e=>this.inputTextRef=e,onInput:e=>{this.channelName=e.target.value.trim()}}),2===this.step&&this.renderMemberSelector(),(0,a.h)("footer",{key:"5d671033919ef077b067098abffb93ca41cc9736"},(0,a.h)("dyte-button",{key:"c9016f42e4ca922ca6dbd2f35ab10be972bdd0b5",kind:"button",size:"lg",disabled:0===this.channelName.length,onClick:this.onClickHandler},1===this.step?this.t("chat.add_members"):this.t("create"))))}get $el(){return(0,a.a)(this)}};E([(0,o.S)()],I.prototype,"meeting",void 0),E([(0,o.S)()],I.prototype,"t",void 0),E([(0,o.S)()],I.prototype,"iconPack",void 0),I.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));display:flex;flex-direction:column;width:var(--dyte-space-96, 384px);padding-left:var(--dyte-space-9, 36px);padding-right:var(--dyte-space-9, 36px);padding-top:var(--dyte-space-10, 40px);padding-bottom:var(--dyte-space-10, 40px)}header{margin-bottom:var(--dyte-space-8, 32px);display:flex;align-items:center;gap:var(--dyte-space-2, 8px);font-size:24px;font-weight:600}.channel-name-input{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));border-radius:var(--dyte-border-radius-sm, 4px);border-width:var(--dyte-border-width-none, 0);border-style:none;padding:var(--dyte-space-3, 12px);font-size:16px;-webkit-appearance:none;-moz-appearance:none;appearance:none;line-height:1.25;outline:2px solid transparent;outline-offset:2px}.channel-name-input:focus{outline-width:2px;outline-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / 0.5)}footer{margin-top:var(--dyte-space-5, 20px);display:flex;justify-content:flex-end}.member{display:flex;align-items:center;gap:var(--dyte-space-1, 4px);padding:var(--dyte-space-2, 8px)}.member dyte-avatar{height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px);font-size:14px;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.input-container{position:relative;-webkit-appearance:none;-moz-appearance:none;appearance:none;line-height:1.25;outline:2px solid transparent;outline-offset:2px;outline-width:2px;outline-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / 0.5);border-radius:var(--dyte-border-radius-sm, 4px)}.input-container .members{margin:var(--dyte-space-0, 0px);max-height:var(--dyte-space-28, 112px);border-radius:var(--dyte-border-radius-sm, 4px);padding:var(--dyte-space-2, 8px);list-style-type:none;display:flex;flex-wrap:wrap;gap:var(--dyte-space-1, 4px);cursor:text;font-size:16px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));overflow-y:auto;min-height:var(--dyte-space-7, 28px)}.input-container .pill{display:flex;align-items:center;gap:var(--dyte-space-1, 4px);border-radius:var(--dyte-border-radius-sm, 4px);padding:var(--dyte-space-2, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.input-container .pill dyte-avatar{height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px);font-size:14px;color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}.input-container .pill span{max-width:var(--dyte-space-32, 128px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.input-container .pill dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);cursor:pointer}.input-container input{width:var(--dyte-space-24, 96px);border-radius:var(--dyte-border-radius-sm, 4px);border-width:var(--dyte-border-width-none, 0);border-style:none;padding:var(--dyte-space-1, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));outline:2px solid transparent;outline-offset:2px;font-size:16px;line-height:1.25rem}.input-container input.wide-input{width:100%}.search-results{margin:var(--dyte-space-0, 0px);margin-top:var(--dyte-space-1, 4px);max-height:var(--dyte-space-28, 112px);width:100%;padding:var(--dyte-space-0, 0px);position:absolute;list-style-type:none;overflow-y:auto;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));border-radius:var(--dyte-border-radius-md, 8px);--tw-border-spacing-x:var(--dyte-space-2, 8px);--tw-border-spacing-y:var(--dyte-space-2, 8px);border-spacing:var(--tw-border-spacing-x) var(--tw-border-spacing-y);border-style:solid;border-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / 0.5)}.search-results .member{cursor:pointer}.search-results .member dyte-avatar{color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}.search-results .member:hover,.search-results .member.selected{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-700, 2 70 253) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}";var A=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const H=class{constructor(e){(0,a.r)(this,e),this.t=(0,s.c)(),this.iconPack=s.a,this.members=[]}renderMembers(){return(0,a.h)("ul",{class:"scrollbar"},this.members.map((e=>(0,a.h)("li",null,(0,a.h)("dyte-avatar",{participant:{name:e.name,picture:e.picture},size:"sm"}),(0,a.h)("span",null,e.name)))))}render(){return(0,a.h)(a.H,{key:"7dc9ef6f5d052016ccb53bf943ef1ca26dd36e62"},(0,a.h)("header",{key:"c113e7cd4271301e032d364954938e3f73f999dd"},this.t("chat.channel_members")),this.renderMembers())}};A([(0,o.S)()],H.prototype,"t",void 0),A([(0,o.S)()],H.prototype,"iconPack",void 0),H.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));display:flex;flex-direction:column;width:var(--dyte-space-72, 288px);padding-top:var(--dyte-space-5, 20px);padding-bottom:var(--dyte-space-5, 20px);padding-left:var(--dyte-space-8, 32px);padding-right:var(--dyte-space-8, 32px)}header{font-size:20px}dyte-spinner{margin-top:var(--dyte-space-10, 40px);margin-bottom:var(--dyte-space-10, 40px);margin-left:auto;margin-right:auto}ul{margin-left:var(--dyte-space-0, 0px);margin-right:var(--dyte-space-0, 0px);margin-top:var(--dyte-space-6, 24px);margin-bottom:var(--dyte-space-4, 16px);height:var(--dyte-space-48, 192px);padding:var(--dyte-space-0, 0px);overflow-y:auto;list-style-type:none;display:flex;flex-direction:column;gap:var(--dyte-space-2, 8px)}ul li{margin-right:var(--dyte-space-2, 8px);display:flex;align-items:center;gap:var(--dyte-space-2, 8px);padding:var(--dyte-space-2, 8px);cursor:pointer;border-radius:var(--dyte-border-radius-sm, 4px)}ul li:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}ul li dyte-avatar{height:var(--dyte-space-7, 28px);width:var(--dyte-space-7, 28px);font-size:14px;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}";var $=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const N=class{constructor(e){(0,a.r)(this,e),this.search=(0,a.c)(this,"search",7),this.searchDismissed=(0,a.c)(this,"searchDismissed",7),this.back=(0,a.c)(this,"back",7),this.iconPack=s.a,this.t=(0,s.c)(),this.showChannelDetailsDialog=!1,this.showSearchBar=!1,this.members=[],this.showBackButton=!1}onChannelChanged(){this.$searchInput&&(this.$searchInput.value=""),this.showSearchBar=!1,this.channel.isDirectMessage||this.meeting.chat.getChannelMembers(this.channel.id).then((e=>{this.members=e}))}connectedCallback(){this.onChannelChanged()}renderChannelDetails(){return(0,a.h)("dyte-dialog",{open:!0,onDyteDialogClose:()=>{this.showChannelDetailsDialog=!1},iconPack:this.iconPack,t:this.t},(0,a.h)("dyte-channel-details",{members:this.members,channel:this.channel}))}render(){return this.channel?(0,a.h)(a.H,null,this.showChannelDetailsDialog&&this.renderChannelDetails(),(0,a.h)("header",{class:{searching:this.showSearchBar}},this.showBackButton&&(0,a.h)("dyte-button",{kind:"icon",variant:"secondary",class:"back-btn",onClick:()=>{this.back.emit()}},(0,a.h)("dyte-icon",{icon:this.iconPack.chevron_left})),(0,a.h)("div",{class:"channel-details"},(0,a.h)("span",{class:"name"},this.channel.displayName),!this.channel.isDirectMessage&&(0,a.h)("span",{class:"members"},this.members.map((e=>e.name)).join(", "))),(0,a.h)("div",{class:"channel-tools"},!this.channel.isDirectMessage&&(0,a.h)("dyte-tooltip",{label:this.t("chat.channel_members"),variant:"primary"},(0,a.h)("dyte-button",{kind:"button",variant:"secondary",size:"md",onClick:()=>{this.showChannelDetailsDialog=!this.showChannelDetailsDialog},class:"br-primary-btn"},(0,a.h)("dyte-icon",{icon:this.iconPack.people})))))):null}static get watchers(){return{channel:["onChannelChanged"]}}};$([(0,o.S)()],N.prototype,"meeting",void 0),$([(0,o.S)()],N.prototype,"iconPack",void 0),$([(0,o.S)()],N.prototype,"t",void 0),N.style="header{box-sizing:border-box;height:var(--dyte-space-16, 64px);width:100%;padding:var(--dyte-space-4, 16px);display:flex;justify-content:space-between;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));border-left-width:var(--dyte-border-width-none, 0);border-right-width:var(--dyte-border-width-none, 0);border-bottom-width:var(--dyte-border-width-sm, 1px);border-top-width:var(--dyte-border-width-none, 0);border-style:solid;--tw-border-opacity:1;border-bottom-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-border-opacity))}header.searching{justify-content:flex-end}header.searching .channel-details{display:none}header .channel-details{display:flex;flex-grow:1;flex-direction:column;justify-content:center;height:var(--dyte-space-9, 36px);width:var(--dyte-space-1, 4px)}header .channel-details .name{font-weight:500}header .channel-details .members{margin-top:var(--dyte-space-0\\.5, 2px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:12px;color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}header .channel-tools{display:flex;flex-shrink:0;justify-content:flex-end;gap:var(--dyte-space-1, 4px);min-width:var(--dyte-space-24, 96px)}header .channel-tools dyte-tooltip{height:var(--dyte-space-8, 32px);width:var(--dyte-space-10, 40px);display:flex}header .search-input{height:var(--dyte-space-8, 32px);width:var(--dyte-space-48, 192px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);border-width:var(--dyte-border-width-none, 0);border-style:none;outline:2px solid transparent;outline-offset:2px;border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}header .name{font-size:16px}header .br-primary-btn{background-color:transparent}header .br-primary-btn:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}@media (orientation: landscape) and (min-width: 400px){header.searching .channel-details{display:flex}}.back-btn{margin-right:var(--dyte-space-3, 12px)}";var B=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const F=class{constructor(e){(0,a.r)(this,e),this.channelChange=(0,a.c)(this,"channelChange",7),this.disableSearch=!1,this.hideAvatar=!1,this.iconPack=s.a,this.t=(0,s.c)(),this.viewAs="list",this.searchQuery="",this.showDropdown=!1,this.calculateListHeight=(0,d.d)((()=>{if("list"===this.viewAs&&this.$listEl){let e=0;const t=this.$el.shadowRoot.querySelector('slot[name="header"]');t&&t.assignedElements().forEach((t=>e+=t.offsetHeight)),this.$searchEl&&(e+=this.$searchEl.offsetHeight),this.$listEl.style.height=window.innerHeight-e-16+"px"}}),60),this.getFilteredChannels=()=>""===this.searchQuery.trim()?this.channels:this.channels.filter((e=>e.name.toLowerCase().includes(this.searchQuery.toLowerCase()))),this.toggleDropdown=()=>{this.showDropdown=!this.showDropdown},this.getChannelById=e=>this.channels.find((t=>t.id===e)),this.getTotalUnreads=()=>this.channels.reduce(((e,t)=>e+t.unreadCount),0),this.onChannelClickHandler=e=>{this.channelChange.emit(e),"dropdown"===this.viewAs&&(this.showDropdown=!1)}}connectedCallback(){this.resizeObserver=new ResizeObserver(this.calculateListHeight)}componentDidLoad(){this.resizeObserver.observe(this.$el),this.calculateListHeight()}disconnectedCallback(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect(),this.calculateListHeight.cancel()}getTimeLabel(e){const t=new Date,i=new Date(t);i.setDate(t.getDate()-1);const a=new Date(t);if(a.setDate(t.getDate()-t.getDay()-1),e.toDateString()===t.toDateString())return e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(e.toDateString()===i.toDateString())return this.t("date.yesteday");if(e>a){const t=["date.sunday","date.monday","date.tuesday","date.wednesday","date.thursday","date.friday","date.saturday"];return this.t(t[e.getDay()])}return Intl.DateTimeFormat([],{day:"2-digit",month:"2-digit",year:"2-digit"}).format(e)}render(){const e=this.getFilteredChannels(),t="list"===this.viewAs||"dropdown"===this.viewAs&&this.showDropdown;return(0,a.h)(a.H,{key:"ade72de18b78275705bb0b39f9923977b8ef479e"},"list"===this.viewAs&&(0,a.h)("slot",{key:"879f77f7f57896e2ef37ba1abfede94bbdd66b8c",name:"header"}),t&&(0,a.h)("div",{key:"a0d9818c26533cf1a65ec70cb385d6ac33ad6c6f",class:{dropdown:"dropdown"===this.viewAs,scrollbar:"dropdown"===this.viewAs,list:"list"===this.viewAs}},!this.disableSearch&&(0,a.h)("div",{key:"428ca579360c29a390084c8f1969091c6b904a5a",class:"search-container",ref:e=>this.$searchEl=e},(0,a.h)("input",{key:"255cbcd3cda43fd2fd8bd3a65cda1f6271476fb9",type:"text",placeholder:this.t("chat.search_conversations"),value:this.searchQuery,onInput:e=>this.searchQuery=e.target.value}),(0,a.h)("dyte-icon",{key:"e85c4413dcd97df62fc96cf23aab4c0ef7276d79",icon:this.iconPack.search})),(0,a.h)("div",{key:"a09eb0f58d6341be68cfc52832e84048f11946be",class:"channels-container scrollbar",ref:e=>this.$listEl=e},e.map((e=>(0,a.h)("button",{class:{channel:!0,active:this.selectedChannelId===e.id},onClick:()=>this.onChannelClickHandler(e)},!this.hideAvatar&&(0,a.h)("div",null,e.icon?(0,a.h)("dyte-icon",{class:"avatar-icon",icon:this.iconPack[e.icon]}):(0,a.h)("dyte-avatar",{participant:{name:e.name,picture:e.avatarUrl}})),(0,a.h)("div",{class:"channel-data"},(0,a.h)("div",{class:"col"},(0,a.h)("div",{class:"name"},e.name),e.latestMessage&&(0,a.h)("div",{class:{"last-message":!0,"no-message":!e.latestMessage}},(0,a.h)("dyte-text-message-view",{isMarkdown:!0,text:e.latestMessage}))),(0,a.h)("div",{class:"col channel-meta"},e.latestMessageTime&&(0,a.h)("time",{class:"time"},this.getTimeLabel(e.latestMessageTime)),e.unreadCount>0&&(0,a.h)("div",{class:"unread-count"},e.unreadCount)))))))),"dropdown"===this.viewAs&&(0,a.h)("button",{key:"af78d56510b62beeee9e17162a0fbe5a75b0b1af",class:"dropdown-trigger",onClick:this.toggleDropdown},(0,a.h)("span",{key:"10c170707e3c084d4a0a1a322128f6e685c075ed"},this.selectedChannelId&&`${this.t("to")} ${this.getChannelById(this.selectedChannelId).name}`,this.getTotalUnreads()>0&&(0,a.h)("div",{key:"b45263bedbb36f6b25cb595067a2418a110e9e45",class:"unread-count"},this.getTotalUnreads())),(0,a.h)("dyte-icon",{key:"ca61473ab2f859378fea75468dbf194a137ceba0",icon:this.showDropdown?this.iconPack.chevron_up:this.iconPack.chevron_down})))}get $el(){return(0,a.a)(this)}};B([(0,o.S)()],F.prototype,"iconPack",void 0),B([(0,o.S)()],F.prototype,"t",void 0),F.style=".scrollbar {\n  /* For Firefox */\n  scrollbar-width: thin;\n  scrollbar-color: var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent);\n}\n\n/* For WebKit */\n.scrollbar::-webkit-scrollbar {\n  height: var(--dyte-space-1\\.5, 6px);\n  width: var(--dyte-space-1\\.5, 6px);\n  border-radius: 9999px;\n  background-color: var(--dyte-scrollbar-background, transparent);\n}\n\n.scrollbar::-webkit-scrollbar-thumb {\n  border-radius: 9999px;\n  background-color: var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)));\n}\n\n\n:host {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));\n  position: relative;\n  z-index: 10;\n  height: var(--dyte-space-12, 48px);\n  min-height: 48px;\n}\n\n.dropdown-trigger {\n  height: 100%;\n  width: 100%;\n  border-width: var(--dyte-border-width-none, 0);\n  border-style: none;\n  padding: var(--dyte-space-4, 16px);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));\n  font-size: 14px;\n  color: rgb(var(--dyte-colors-text-1000, 255 255 255));\n  cursor: pointer;\n  position: absolute;\n  z-index: 20;\n}\n\n.dropdown-trigger span {\n  display: flex;\n  flex: 1 1 0%;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.dropdown-trigger dyte-icon {\n  margin-left: var(--dyte-space-1, 4px);\n  height: var(--dyte-space-5, 20px);\n  width: var(--dyte-space-5, 20px);\n  flex-shrink: 0;\n}\n\n@container chatcontainer (height < 360px) {\n  .dropdown-trigger {\n    padding: var(--dyte-space-2, 8px);\n  }\n  .dropdown {\n    top: var(--dyte-space-8, 32px) !important;\n  }\n  .search-container {\n    padding-left: var(--dyte-space-0, 0px) !important;\n    padding-right: var(--dyte-space-0, 0px) !important;\n    padding-top: var(--dyte-space-0, 0px) !important;\n    padding-bottom: var(--dyte-space-0, 0px) !important;\n  }\n  input {\n    height: var(--dyte-space-8, 32px) !important;\n    border-radius: var(--dyte-border-radius-none, 0) !important;\n  }\n  .channel {\n    height: var(--dyte-space-8, 32px) !important;\n    border-radius: var(--dyte-border-radius-sm, 4px) !important;\n  }\n  .avatar-icon {\n    height: var(--dyte-space-3, 12px) !important;\n    width: var(--dyte-space-3, 12px) !important;\n    padding: var(--dyte-space-1, 4px) !important;\n  }\n\n  dyte-avatar {\n    height: var(--dyte-space-5, 20px) !important;\n    width: var(--dyte-space-5, 20px) !important;\n  }\n}\n\n.dropdown {\n  position: absolute;\n  width: 100%;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));\n  top: var(--dyte-space-12, 48px);\n  z-index: 10;\n  animation: 0.3s slide-down ease;\n}\n\n.dropdown .channels-container {\n  max-height: var(--dyte-space-80, 320px);\n}\n\n.list {\n  display: flex;\n  flex-direction: column;\n}\n\n.list .channel .channel-data {\n  align-items: flex-start;\n}\n\n.unread-count {\n  display: flex;\n  justify-content: center;\n  height: var(--dyte-space-5, 20px);\n  min-width: var(--dyte-space-3, 12px);\n  border-radius: 9999px;\n  padding-left: var(--dyte-space-1, 4px);\n  padding-right: var(--dyte-space-1, 4px);\n  font-size: 12px;\n  line-height: 1.25rem;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));\n  color: rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));\n}\n\ninput {\n  height: var(--dyte-space-9, 36px);\n  width: 100%;\n  padding-left: var(--dyte-space-3, 12px);\n  padding-right: var(--dyte-space-3, 12px);\n  box-sizing: border-box;\n  border-width: var(--dyte-border-width-none, 0);\n  border-style: none;\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  border-radius: var(--dyte-border-radius-sm, 4px);\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));\n  color: rgb(var(--dyte-colors-text-1000, 255 255 255));\n}\n\n.search-container {\n  display: flex;\n  flex-shrink: 0;\n  flex-grow: 0;\n  flex-basis: auto;\n  align-items: center;\n  padding-top: var(--dyte-space-3, 12px);\n  padding-bottom: var(--dyte-space-3, 12px);\n  padding-left: var(--dyte-space-2, 8px);\n  padding-right: var(--dyte-space-2, 8px);\n  border-bottom: var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-700, 44 44 44));\n}\n\n.search-container dyte-icon {\n  margin-left: calc(var(--dyte-space-8, 32px) * -1);\n  height: var(--dyte-space-5, 20px);\n  width: var(--dyte-space-5, 20px);\n  color: rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76));\n}\n\n.channels-container {\n  display: flex;\n  flex-direction: column;\n  gap: var(--dyte-space-1, 4px);\n  padding: var(--dyte-space-2, 8px);\n  flex: 1 1 auto;\n  overflow-y: auto;\n}\n\n.channel {\n  flex-shrink: 0;\n  box-sizing: border-box;\n  border-width: var(--dyte-border-width-none, 0);\n  border-style: none;\n  background-color: transparent;\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  cursor: pointer;\n  border-radius: var(--dyte-border-radius-md, 8px);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: var(--dyte-space-2, 8px);\n  height: var(--dyte-space-16, 64px);\n  width: 100%;\n  padding-left: var(--dyte-space-2, 8px);\n  padding-right: var(--dyte-space-3, 12px);\n  color: rgb(var(--dyte-colors-text-1000, 255 255 255));\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n\n.channel:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));\n}\n\n.channel .channel-data {\n  flex: 1 1 0%;\n  align-items: center;\n  justify-content: space-between;\n  display: flex;\n  gap: var(--dyte-space-2, 8px);\n}\n\n.channel .name {\n  font-size: 16px;\n}\n\n.channel .name, \n  .channel .last-message {\n  max-width: var(--dyte-space-40, 160px);\n  text-align: left;\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 1;\n}\n\n.channel .no-message {\n  font-style: italic;\n}\n\n.channel dyte-avatar {\n  height: var(--dyte-space-12, 48px);\n  width: var(--dyte-space-12, 48px);\n  overflow: clip;\n  border-radius: 9999px;\n  font-size: 14px;\n}\n\n.channel .avatar-icon {\n  height: var(--dyte-space-6, 24px);\n  width: var(--dyte-space-6, 24px);\n  padding: var(--dyte-space-3, 12px);\n  color: rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));\n  overflow: clip;\n  border-radius: 9999px;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));\n}\n\n.channel time, \n  .channel .last-message {\n  font-size: 12px;\n  color: rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76));\n}\n\n.channel.active {\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-bg-opacity));\n  color: rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));\n}\n\n.channel.active .unread-count {\n  background-color: rgb(var(--dyte-colors-text-on-brand-800, var(--dyte-colors-text-800, 255 255 255 / 0.76)));\n  --tw-text-opacity: 1;\n  color: rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-text-opacity));\n}\n\n.channel.active time {\n  color: rgb(var(--dyte-colors-text-on-brand-800, var(--dyte-colors-text-800, 255 255 255 / 0.76)));\n}\n\n.channel.active .last-message {\n  color: rgb(var(--dyte-colors-text-on-brand-700, var(--dyte-colors-text-700, 255 255 255 / 0.64)));\n}\n\n.channel.active dyte-avatar {\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));\n  color: rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));\n}\n\n.col {\n  gap: var(--dyte-space-1, 4px);\n  display: flex;\n  flex-direction: column;\n}\n\n.channel-meta {\n  flex-shrink: 0;\n  align-items: flex-end;\n}\n\n@keyframes slide-down {\n  from {\n    transform: translateY(-50px);\n  }\n  to {\n    transform: translateY(0%);\n  }\n}\n";var q=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const V=class{constructor(e){(0,a.r)(this,e),this.stateUpdate=(0,a.c)(this,"dyteStateUpdate",7),this.chatUpdateListener=({message:e})=>{e.channelId||this.displayFilter&&!this.displayFilter(e)||(this.addToChatGroup(e),this.chatGroups=Object.assign({},this.chatGroups))},this.chatPermissionUpdateListener=()=>{this.canSend=this.meeting.self.permissions.chatPublic.canSend,this.canSendTextMessage=this.meeting.self.permissions.chatPublic.text,this.canSendFiles=this.meeting.self.permissions.chatPublic.files},this.config=s.d,this.iconPack=s.a,this.t=(0,s.c)(),this.disablePrivateChat=!1,this.canPinMessages=!1,this.privatePresetFilter=[],this.displayFilter=void 0,this.unreadCountGroups={},this.chatGroups={everyone:[]},this.selectedGroup="everyone",this.now=new Date,this.dropzoneActivated=!1,this.showLatestMessageButton=!1,this.canSend=!1,this.canSendTextMessage=!1,this.canSendFiles=!1,this.canPrivateMessage=!1,this.canSendPrivateTexts=!1,this.canSendPrivateFiles=!1,this.emojiPickerEnabled=!1,this.chatRecipientId="everyone",this.participants=[],this.channels=[],this.editingMessage=null,this.replyMessage=null,this.searchQuery="",this.selectorState="hide",this.creatingChannel=!1,this.showPinnedMessages=!1,this.channelMap=new Map,this.onDragOver=e=>{e.preventDefault(),this.dropzoneActivated=!0},this.onDragLeave=()=>{this.dropzoneActivated=!1},this.onDrop=e=>{e.preventDefault(),this.dropzoneActivated=!1,(0,c.h)(e.dataTransfer.items,((e,t)=>{var i,a,r,s;switch(e){case"image":this.isFileMessagingAllowed()&&(null===(a=null===(i=this.meeting)||void 0===i?void 0:i.chat)||void 0===a||a.sendImageMessage(t,this.getRecipientPeerIds()));break;case"file":this.isFileMessagingAllowed()&&(null===(s=null===(r=this.meeting)||void 0===r?void 0:r.chat)||void 0===s||s.sendFileMessage(t,this.getRecipientPeerIds()))}}))},this.disconnectMeeting=e=>{var t,i,a,r,s,o;this.isPrivateChatSupported()&&(null==e||e.participants.joined.removeListener("participantJoined",this.onParticipantUpdate),null==e||e.participants.joined.removeListener("participantLeft",this.onParticipantUpdate)),null===(t=null==e?void 0:e.chat)||void 0===t||t.removeListener("chatUpdate",this.chatUpdateListener),null===(i=null==e?void 0:e.chat)||void 0===i||i.removeListener("channelCreate",this.onChannelCreateOrUpdate),null===(a=null==e?void 0:e.chat)||void 0===a||a.removeListener("channelUpdate",this.onChannelCreateOrUpdate),null===(r=null==e?void 0:e.chat)||void 0===r||r.removeListener("channelMessageUpdate",this.onChannelCreateOrUpdate),null===(o=null===(s=null==e?void 0:e.participants)||void 0===s?void 0:s.all)||void 0===o||o.removeListener("participantsUpdate",this.onChannelCreateOrUpdate),e.self.permissions.removeListener("*",this.chatPermissionUpdateListener)},this.getFilteredParticipants=()=>0===this.privatePresetFilter.length?this.participants:this.participants.filter((e=>this.privatePresetFilter.includes(e.presetName))),this.onParticipantUpdate=()=>{this.participants=this.meeting.participants.joined.toArray().filter((e=>0===this.privatePresetFilter.length||this.privatePresetFilter.includes(e.presetName))),this.selectedParticipant&&!this.participants.includes(this.selectedParticipant)&&(this.selectedParticipant=null,this.chatRecipientId=this.selectedGroup="everyone")},this.usePaginatedChat=()=>(!this.isGroupCall||!this.showPinnedMessages)&&("everyone"===this.selectedGroup&&(0,s.j)(this.meeting)),this.updateUnreadCountGroups=e=>{this.unreadCountGroups=Object.assign(Object.assign({},this.unreadCountGroups),e)},this.isPrivateChatSupported=()=>this.canPrivateMessage&&!this.disablePrivateChat,this.updateRecipients=e=>{const{id:t}=e.detail;if(this.chatRecipientId=t,this.selectedParticipant=this.participants.find((e=>e.userId===t)),"everyone"!==this.chatRecipientId){const e=[this.chatRecipientId,this.meeting.self.userId],t=(0,c.g)(e);this.selectedGroup=t}else this.selectedGroup="everyone";this.updateUnreadCountGroups({[this.selectedGroup]:0})},this.isTextMessagingAllowed=()=>"everyone"===this.chatRecipientId?this.canSend&&this.canSendTextMessage:this.canPrivateMessage&&this.canSendPrivateTexts,this.isFileMessagingAllowed=()=>"everyone"===this.chatRecipientId?this.canSend&&this.canSendFiles:this.canPrivateMessage&&this.canSendPrivateFiles,this.onChannelChanged=e=>{const t=e.detail;t.id.includes(c.T)?this.createDMChannel(t.id.replace(c.T,"")):this.selectedChannelId=t.id,this.cleanup(),"desktop"!==this.selectorState&&(this.selectorState="hide")},this.createDMChannel=async e=>{this.creatingChannel=!0;const t=await this.meeting.chat.createChannel("Direct Message",[e],{visibility:"private",isDirectMessage:!0});this.creatingChannel=!1,this.selectedChannelId=t.id},this.cleanup=()=>{this.editingMessage=null,this.replyMessage=null,this.searchQuery=""},this.onQuotedMessageDismiss=()=>{this.replyMessage=null},this.onChannelCreateOrUpdate=e=>{e?this.channelMap.set(e.id,e):this.meeting.chat.channels.forEach((e=>this.channelMap.set(e.id,e)));const t=Array.from(this.channelMap.values()),i=t.filter((e=>!(0,c.i)(e))).sort(((e,t)=>(0,c.d)(e.displayName,t.displayName))),a=t.filter(c.i).map((e=>Object.assign(Object.assign({},e),{displayName:this.getMemberDisplayName(e)}))),r=this.meeting.participants.all.toArray().filter((e=>{if(e.userId===this.meeting.self.userId)return!1;const t=(0,c.e)([this.meeting.self.userId,e.userId]);return a.every((e=>(0,c.e)(e.memberIds)!==t))})).map((e=>({id:`${c.T}${e.userId}`,displayName:e.name,displayPictureUrl:e.picture,isDirectMessage:!0,unreadCount:0}))),s=[...a,...r].sort(((e,t)=>(0,c.d)(e.displayName,t.displayName)));this.channels=[...i,...s];const o=[...i,...a];this.selectedChannelId||0===o.length||(this.selectedChannelId=o[0].id)},this.getMemberDisplayName=e=>{var t;let i;i=1===e.memberIds.length?e.memberIds[0]:e.memberIds[0]===this.meeting.self.userId?e.memberIds[1]:e.memberIds[0];const a=this.meeting.participants.all.toArray().find((e=>e.userId===i));return null!==(t=null==a?void 0:a.name)&&void 0!==t?t:i},this.onNewMessageHandler=async e=>{const t=e.detail;this.isChatViewType?(await this.meeting.chat.sendMessageToChannel(t,this.selectedChannelId,this.replyMessage?{replyTo:this.replyMessage}:{}),this.replyMessage=null):this.meeting.chat.sendMessage(t,this.getRecipientPeerIds())},this.onEditMessageHandler=async e=>{var t,i;await(null===(i=null===(t=this.meeting)||void 0===t?void 0:t.chat)||void 0===i?void 0:i.editTextMessage(this.editingMessage.id,e.detail,this.editingMessage.channelId)),this.editingMessage=null},this.onEditCancel=()=>{this.editingMessage=null},this.onSearchHandler=async e=>{this.searchQuery=e.detail},this.onSearchDismissed=()=>{this.searchQuery=""},this.onChannelCreateClicked=()=>{this.stateUpdate.emit({activeChannelCreator:!0})},this.onPinMessage=e=>{const t=e.detail;t.pinned?this.meeting.chat.unpin(t.id):this.meeting.chat.pin(t.id)},this.onDeleteMessage=e=>{const t=e.detail;this.meeting.chat.deleteMessage(t.id)},this.getChannelItems=()=>this.channels.map((e=>{const t={id:e.id,name:e.displayName,avatarUrl:e.displayPictureUrl};return e.latestMessage&&(t.latestMessage="text"===e.latestMessage.type?(0,c.s)(e.latestMessage.message):"",t.latestMessageTime=e.latestMessage.time),t})),this.getPrivateChatRecipients=()=>{const e=this.getFilteredParticipants().map((e=>{const t=(0,c.g)([e.userId,this.meeting.self.userId]);return{id:e.userId,name:e.name,avatarUrl:e.picture,unreadCount:this.unreadCountGroups[t]}}));return[{id:"everyone",name:this.t("chat.everyone"),icon:"participants",unreadCount:this.unreadCountGroups.everyone},...e]},this.onTogglePinnedMessages=()=>{this.showPinnedMessages=!this.showPinnedMessages},this.renderPinnedMessagesHeader=()=>0===this.meeting.chat.pinned.length?null:(0,a.h)("dyte-tooltip",{label:this.t("chat.toggle_pinned_msgs")},(0,a.h)("div",{class:{"pinned-messages-header":!0,active:this.showPinnedMessages},onClick:this.onTogglePinnedMessages},(0,a.h)("dyte-icon",{icon:this.iconPack.pin}),this.t("chat.pinned_msgs"),` (${this.meeting.chat.pinned.length})`))}connectedCallback(){this.meeting&&(this.meetingChanged(this.meeting),this.meeting&&!this.meeting.chat||this.isFileMessagingAllowed()&&(this.host.addEventListener("dragover",this.onDragOver),this.host.addEventListener("dragleave",this.onDragLeave),this.host.addEventListener("drop",this.onDrop)))}onEditMessageInit(e){e.detail.flags.isReply?this.replyMessage=e.detail.payload:e.detail.flags.isEdit&&(this.editingMessage=e.detail.payload)}disconnectedCallback(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect(),this.disconnectMeeting(this.meeting),this.host.removeEventListener("dragover",this.onDragOver),this.host.removeEventListener("dragleave",this.onDragLeave),this.host.removeEventListener("drop",this.onDrop)}meetingChanged(e,t){var i,a,r,o,n,d;if(null!=t&&this.disconnectMeeting(t),(!e||e.chat)&&null!=e){if(this.canSend=e.self.permissions.chatPublic.canSend,this.canSendTextMessage=e.self.permissions.chatPublic.text,this.canSendFiles=e.self.permissions.chatPublic.files,this.canPrivateMessage=!(!(null===(i=e.self.permissions.chatPrivate)||void 0===i?void 0:i.canSend)&&!(null===(a=e.self.permissions.chatPrivate)||void 0===a?void 0:a.canReceive)),this.canSendPrivateTexts=!!(null===(r=e.self.permissions.chatPrivate)||void 0===r?void 0:r.text),this.canSendPrivateFiles=!!(null===(o=e.self.permissions.chatPrivate)||void 0===o?void 0:o.files),this.canPinMessages=(null===(n=null==e?void 0:e.__internals__)||void 0===n?void 0:n.features.hasFeature(s.F.PINNED_MESSAGES))&&e.self.permissions.pinParticipant,this.isGroupCall="GROUP_CALL"===e.meta.viewType,this.isChatViewType="CHAT"===e.meta.viewType,this.isChatViewType){this.onChannelCreateOrUpdate();this.channels.filter((e=>!e.id.includes(c.T))).length&&(this.selectedChannelId=this.channels[0].id),this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=new ResizeObserver((e=>{for(const t of e)t.contentBoxSize[0].inlineSize<758?this.selectorState="hide":this.selectorState="desktop"})),this.isChatViewType&&this.resizeObserver.observe(this.host)}this.initializeChatGroups(),this.chatGroups=Object.assign({},this.chatGroups),e.self.permissions.on("*",this.chatPermissionUpdateListener),this.onParticipantUpdate(),null===(d=e.chat)||void 0===d||d.addListener("chatUpdate",this.chatUpdateListener),this.isPrivateChatSupported()&&(e.participants.joined.addListener("participantJoined",this.onParticipantUpdate),e.participants.joined.addListener("participantLeft",this.onParticipantUpdate)),this.isChatViewType&&(e.chat.addListener("channelCreate",this.onChannelCreateOrUpdate),e.chat.addListener("channelUpdate",this.onChannelCreateOrUpdate),e.chat.addListener("channelMessageUpdate",this.onChannelCreateOrUpdate),e.participants.all.addListener("participantsUpdate",this.onChannelCreateOrUpdate))}}chatGroupsChanged(e){var t,i;if(!this.isPrivateChatSupported())return;const a={};for(const r in e){const o=null!==(t=s.f[r])&&void 0!==t?t:0;a[r]=e[r].filter((e=>"chat"==e.type&&e.message.time>o&&e.message.userId!==this.meeting.self.userId)).length,(r===(0,c.g)([this.meeting.self.userId,null===(i=this.selectedParticipant)||void 0===i?void 0:i.userId])||"everyone"===r&&null===this.selectedParticipant)&&(a[r]=0,s.f[r]=new Date)}this.updateUnreadCountGroups(a)}initializeChatGroups(){var e;null===(e=this.meeting.chat)||void 0===e||e.messages.forEach((e=>{this.displayFilter&&!this.displayFilter(e)||this.addToChatGroup(e)}))}onDisplayFilterChanged(e,t){e!==t&&(this.chatGroups={},this.initializeChatGroups())}addToChatGroup(e){var t;const i=(0,c.p)(e);let a="everyone";if((null===(t=i.targetUserIds)||void 0===t?void 0:t.length)>0){const e=new Set([i.userId,...i.targetUserIds]);a=(0,c.g)(Array.from(e))}void 0===this.chatGroups[a]&&(this.chatGroups[a]=[]);let r=!1,s=[];this.chatGroups[a].forEach((t=>{"chat"===t.type&&t.message.id===e.id?(r=!0,s.push({type:"chat",message:i})):s.push(t)})),r||s.push({type:"chat",message:i}),this.chatGroups[a]=s}getRecipientPeerIds(){let e=[];return"everyone"!==this.chatRecipientId&&(e=[this.selectedParticipant.id]),e}channelSwitchListener(e){this.onChannelChanged(e)}renderHeadlessComponents(){return(0,a.h)(a.F,null,(0,a.h)("dyte-dialog-manager",{meeting:this.meeting}),(0,a.h)("dyte-notifications",{meeting:this.meeting}))}renderComposerUI(){var e,t,i;if(this.isChatViewType&&0===this.channels.length)return null;if(this.isChatViewType&&""!==this.searchQuery)return null;if(this.isChatViewType&&!this.selectedChannelId)return null;if("everyone"===this.chatRecipientId){if(!this.canSendTextMessage&&!this.canSendFiles)return null}else if(!this.canSendPrivateTexts&&!this.canSendPrivateFiles)return null;const r={iconPack:this.iconPack,t:this.t,size:this.size},o=this.editingMessage?this.editingMessage.message:"",n=this.replyMessage?this.replyMessage.message:"";return(0,a.h)("dyte-chat-composer-view",Object.assign({message:o,storageKey:null!==(e=this.selectedChannelId)&&void 0!==e?e:`draft-${this.selectedChannelId}`,quotedMessage:n,isEditing:!!this.editingMessage,canSendTextMessage:this.isTextMessagingAllowed(),canSendFiles:this.isFileMessagingAllowed(),disableEmojiPicker:!!(null===(i=null===(t=this.meeting)||void 0===t?void 0:t.__internals__)||void 0===i?void 0:i.features.hasFeature(s.F.DISABLE_EMOJI_PICKER)),maxLength:this.meeting.chat.maxTextLimit,rateLimits:this.meeting.chat.rateLimits,inputTextPlaceholder:this.t("chat.message_placeholder"),onNewMessage:this.onNewMessageHandler,onEditMessage:this.onEditMessageHandler,onEditCancel:this.onEditCancel,onQuotedMessageDismiss:this.onQuotedMessageDismiss},r),(0,a.h)("slot",{name:"chat-addon",slot:"chat-addon"}))}renderFullChat(){if(this.creatingChannel)return(0,a.h)("div",{class:"banner"},(0,a.h)("dyte-spinner",{size:"lg"}));if(0===this.channels.length||!this.selectedChannelId)return(0,a.h)("div",{class:"banner"},(0,a.h)("dyte-icon",{icon:this.iconPack.create_channel_illustration,slot:"start",class:"create-channel-illustration"}),(0,a.h)("dyte-button",{kind:"wide",variant:"primary",size:"md",onClick:this.onChannelCreateClicked,class:"welcome-new-channel"},(0,a.h)("dyte-icon",{icon:this.iconPack.add,slot:"start"}),(0,a.h)("span",null,this.t("chat.new_channel"))),("mobile"===this.selectorState||"hide"===this.selectorState)&&(0,a.h)("dyte-button",{kind:"button",variant:"secondary",size:"md",class:"view-chats-btn",onClick:()=>{this.selectorState="mobile"}},(0,a.h)("dyte-icon",{icon:this.iconPack.chat,slot:"start"}),(0,a.h)("span",null,this.t("chat.view_chats"))));const e=this.channels.find((e=>e.id===this.selectedChannelId));return(0,a.h)("div",{class:"chat"},(0,a.h)("dyte-channel-header",{slot:"header",meeting:this.meeting,channel:e,onSearch:this.onSearchHandler,onSearchDismissed:this.onSearchDismissed,showBackButton:"mobile"===this.selectorState||"hide"===this.selectorState,onBack:()=>{this.selectorState="mobile"}}),""!==this.searchQuery&&(0,a.h)("dyte-chat-search-results",{meeting:this.meeting,query:this.searchQuery,channelId:this.selectedChannelId}),""===this.searchQuery&&(0,a.h)("dyte-chat-messages-ui-paginated",{meeting:this.meeting,size:this.size,iconPack:this.iconPack,t:this.t,selectedChannelId:this.selectedChannelId,selectedChannel:e}))}render(){var e,t;if(!this.meeting)return null;const i={iconPack:this.iconPack,t:this.t,size:this.size},r=null===(e=this.meeting)||void 0===e?void 0:e.self.userId;let s=this.chatGroups[this.selectedGroup]||[];return this.showPinnedMessages&&0!==this.meeting.chat.pinned.length&&(s=s.filter((e=>"chat"===e.type&&e.message.pinned))),(0,a.h)(a.H,null,this.isChatViewType&&this.renderHeadlessComponents(),(0,a.h)("div",{class:"chat-container"},this.isChatViewType&&(0,a.h)("div",{class:{"selector-container":!0,[this.selectorState]:!0}},(0,a.h)("dyte-channel-selector-view",{channels:this.getChannelItems(),selectedChannelId:this.selectedChannelId,onChannelChange:this.onChannelChanged,t:this.t},(0,a.h)("div",{class:"channel-selector-header",slot:"header"},(0,a.h)("dyte-logo",{meeting:this.meeting,config:this.config,t:this.t}),(0,a.h)("dyte-tooltip",{label:this.t("chat.new_channel")},(0,a.h)("dyte-button",{kind:"button",variant:"ghost",size:"md",onClick:this.onChannelCreateClicked,class:"channel-create-btn"},(0,a.h)("dyte-icon",{icon:this.iconPack.add}))))),(0,a.h)("dyte-button",{kind:"icon",variant:"ghost",class:"mobile-close-btn",onClick:()=>this.selectorState="hide"},(0,a.h)("dyte-icon",{icon:this.iconPack.dismiss}))),(0,a.h)("div",{class:"chat"},this.isFileMessagingAllowed()&&(0,a.h)("div",{id:"dropzone",class:{active:this.dropzoneActivated},part:"dropzone"},(0,a.h)("dyte-icon",{icon:this.iconPack.attach}),(0,a.h)("p",null,this.t("chat.send_attachment"))),this.renderPinnedMessagesHeader(),this.isPrivateChatSupported()&&(0,a.h)("dyte-channel-selector-view",{channels:this.getPrivateChatRecipients(),selectedChannelId:(null===(t=this.selectedParticipant)||void 0===t?void 0:t.userId)||"everyone",onChannelChange:this.updateRecipients,t:this.t,viewAs:"dropdown"}),this.isChatViewType?this.renderFullChat():this.usePaginatedChat()?(0,a.h)("dyte-chat-messages-ui-paginated",{meeting:this.meeting,onPinMessage:this.onPinMessage,onDeleteMessage:this.onDeleteMessage,size:this.size,iconPack:this.iconPack,t:this.t}):(0,a.h)("dyte-chat-messages-ui",Object.assign({messages:s,selfUserId:r,selectedGroup:this.selectedGroup,onPinMessage:this.onPinMessage,canPinMessages:this.canPinMessages},i)),this.renderComposerUI())))}get host(){return(0,a.a)(this)}static get watchers(){return{meeting:["meetingChanged"],chatGroups:["chatGroupsChanged"],displayFilter:["onDisplayFilterChanged"]}}};q([(0,o.S)()],V.prototype,"meeting",void 0),q([(0,o.S)()],V.prototype,"size",void 0),q([(0,o.S)()],V.prototype,"iconPack",void 0),q([(0,o.S)()],V.prototype,"t",void 0),V.style=":host {\n  line-height: initial;\n  font-family: var(--dyte-font-family, sans-serif);\n\n  font-feature-settings: normal;\n  font-variation-settings: normal;\n}\n\np {\n  margin: var(--dyte-space-0, 0px);\n  padding: var(--dyte-space-0, 0px);\n}\n\n.scrollbar {\n  /* For Firefox */\n  scrollbar-width: thin;\n  scrollbar-color: var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent);\n}\n\n/* For WebKit */\n.scrollbar::-webkit-scrollbar {\n  height: var(--dyte-space-1\\.5, 6px);\n  width: var(--dyte-space-1\\.5, 6px);\n  border-radius: 9999px;\n  background-color: var(--dyte-scrollbar-background, transparent);\n}\n\n.scrollbar::-webkit-scrollbar-thumb {\n  border-radius: 9999px;\n  background-color: var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)));\n}\n\n\n:host {\n  display: flex;\n  height: 100%;\n  width: 100%;\n  flex-direction: column;\n  font-size: 14px;\n  position: relative;\n  color: rgb(var(--dyte-colors-text-1000, 255 255 255));\n}\n\nh3 {\n  margin: var(--dyte-space-0, 0px);\n  display: flex;\n  height: var(--dyte-space-12, 48px);\n  align-items: center;\n  justify-content: center;\n  font-size: 16px;\n  font-weight: 400;\n  color: rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));\n  text-align: center;\n}\n\n#dropzone {\n  position: absolute;\n  top: var(--dyte-space-0, 0px);\n  right: var(--dyte-space-0, 0px);\n  bottom: var(--dyte-space-0, 0px);\n  left: var(--dyte-space-0, 0px);\n  z-index: 10;\n  display: none;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));\n  color: rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));\n}\n\n#dropzone.active {\n  display: flex;\n  animation: 0.2s slide-up ease-in;\n}\n\ndyte-chat-messages-ui,\ndyte-chat-messages-ui-paginated {\n  flex: 1 0 0;\n}\n\ndyte-chat-composer-view {\n  margin: var(--dyte-space-2, 8px);\n}\n\n.chat-container {\n  display: flex;\n  height: 100%;\n  width: 100%;\n  flex-direction: row;\n  container-type: size;\n  container-name: chatcontainer;\n}\n\n@container chatcontainer (height < 360px) {\n  dyte-channel-selector-view {\n    height: var(--dyte-space-8, 32px);\n    min-height: 24px;\n  }\n}\n\n.chat {\n  display: flex;\n  flex: 1 1 0%;\n  flex-direction: column;\n}\n\n.banner {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.banner .welcome-new-channel {\n  width: var(--dyte-space-48, 192px);\n}\n\n.banner .create-channel-illustration {\n  height: var(--dyte-space-40, 160px);\n  width: var(--dyte-space-40, 160px);\n}\n\n.channel-selector-header {\n  box-sizing: border-box;\n  height: var(--dyte-space-16, 64px);\n  padding: var(--dyte-space-4, 16px);\n  display: flex;\n  justify-content: space-between;\n  border-bottom: var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-700, 44 44 44));\n}\n\n.channel-selector-header .channel-create-btn {\n  width: var(--dyte-space-8, 32px);\n  justify-content: center;\n}\n\n.channel-selector-header .channel-create-btn:hover {\n  --tw-text-opacity: 1;\n  color: rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity));\n}\n\n.view-chats-btn {\n  margin-top: var(--dyte-space-4, 16px);\n}\n\n.selector-container {\n  z-index: 50;\n  width: 100%;\n  max-width: var(--dyte-space-80, 320px);\n  border-right: var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));\n}\n\n.selector-container.hide {\n  display: none;\n}\n\n.mobile-close-btn {\n  display: none;\n}\n\n.selector-container.mobile {\n  height: 100%;\n  width: 100%;\n  max-width: 100%;\n  position: absolute;\n  top: var(--dyte-space-0, 0px);\n  right: var(--dyte-space-0, 0px);\n  bottom: var(--dyte-space-0, 0px);\n  left: var(--dyte-space-0, 0px);\n  background-color: rgba(var(--dyte-colors-background-1000, 8 8 8) / 0.6);\n  display: flex;\n}\n\n.selector-container.mobile dyte-channel-selector-view {\n  max-width: var(--dyte-space-96, 384px);\n    animation: 0.3s swipe-in;\n}\n\n.selector-container.mobile .mobile-close-btn {\n  margin-top: var(--dyte-space-4, 16px);\n  margin-bottom: var(--dyte-space-4, 16px);\n  margin-left: var(--dyte-space-6, 24px);\n  margin-right: var(--dyte-space-6, 24px);\n  display: block;\n}\n\n.pinned-messages-header {\n  display: flex;\n  align-items: center;\n  gap: var(--dyte-space-2, 8px);\n  padding: var(--dyte-space-2, 8px);\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.pinned-messages-header dyte-icon {\n  height: var(--dyte-space-3, 12px);\n  width: var(--dyte-space-3, 12px);\n}\n\n.pinned-messages-header:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));\n}\n\n.pinned-messages-header.active {\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));\n}\n\n@keyframes swipe-in {\n  from {\n    transform: translateX(-100%);\n  }\n  to {\n    transform: translateX(0);\n  }\n}\n";var G=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const J={messagesSent:0,startTime:0},Y=class{constructor(e){(0,a.r)(this,e),this.onNewMessage=(0,a.c)(this,"newMessage",7),this.onEditMessage=(0,a.c)(this,"editMessage",7),this.onEditCancel=(0,a.c)(this,"editCancel",7),this.onQuotedMessageDismiss=(0,a.c)(this,"quotedMessageDismiss",7),this.canSendTextMessage=!0,this.canSendFiles=!0,this.message="",this.quotedMessage="",this.storageKey="dyte-text-message",this.inputTextPlaceholder="Enter your message",this.isEditing=!1,this.iconPack=s.a,this.t=(0,s.c)(),this.disableEmojiPicker=!1,this.rateLimits={period:60,maxInvocations:60},this.fileToUpload=null,this.isEmojiPickerOpen=!1,this.disableSendButton=!1,this.rateLimitsBreached=!1,this.textMessage="",this.sendFile=()=>{this.canSendFiles&&("image"===this.fileToUpload.type?this.onNewMessage.emit({type:"image",image:this.fileToUpload.file}):this.onNewMessage.emit({type:"file",file:this.fileToUpload.file}),this.fileToUpload=null)},this.handleSendMessage=()=>{if(!this.canSendTextMessage||this.rateLimitsBreached)return;if(null!==this.fileToUpload)return void this.sendFile();const e=this.textMessage,t=Date.now();t-J.startTime>1e3*this.rateLimits.period&&(J.startTime=t,J.messagesSent=0),J.messagesSent+=1,this.checkRateLimitBreached(t),e.length>0&&(this.quotedMessage.length,this.onNewMessage.emit({type:"text",message:e}),this.cleanup())},this.handleEditMessage=()=>{this.onEditMessage.emit(this.textMessage),this.cleanup()},this.handleEditCancel=()=>{this.onEditCancel.emit(),this.cleanup()},this.onTextChangeHandler=e=>{var t;this.textMessage=e.detail,this.textMessage.length>=(null!==(t=this.maxLength)&&void 0!==t?t:c.M)?this.disableSendButton=!0:this.disableSendButton&&(this.disableSendButton=!1),s.k.setItem(this.storageKey,e.detail)},this.onKeyDownHandler=e=>{"Enter"===e.key&&e.shiftKey||this.disableSendButton||"Enter"===e.key&&(e.preventDefault(),this.isEditing?this.handleEditMessage():this.handleSendMessage())},this.onFileUploadHandler=(e,t)=>{this.fileToUpload={type:e,file:t}},this.onQuotedMessageDismissHandler=()=>{this.onQuotedMessageDismiss.emit()},this.cleanup=()=>{this.textMessage="",this.fileToUpload=null,s.k.setItem(this.storageKey,""),this.$textComposer.setText("",!0),this.isEmojiPickerOpen=!1},this.onKeyDownHandler=this.onKeyDownHandler.bind(this)}connectedCallback(){this.textMessage=this.message||s.k.getItem(this.storageKey)||"",this.checkRateLimitBreached(Date.now())}componentWillUpdate(){this.textMessage=this.message||s.k.getItem(this.storageKey)||""}componentDidLoad(){this.message&&(0,a.w)((()=>this.$textComposer.setText(this.message,!0)))}checkRateLimitBreached(e){if(J.messagesSent>=this.rateLimits.maxInvocations){this.disableSendButton=!0,this.rateLimitsBreached=!0;const t=e-J.startTime+1e3*this.rateLimits.period;setTimeout((()=>{J.messagesSent=0,J.startTime=Date.now(),this.disableSendButton=!1,this.rateLimitsBreached=!1}),t)}}render(){var e;const t={iconPack:this.iconPack,t:this.t};return(0,a.h)(a.H,{key:"d0cb57c1d3b74db36e3ddfa5453a960de7968a1b"},this.canSendTextMessage&&this.isEmojiPickerOpen&&(0,a.h)("dyte-emoji-picker",Object.assign({key:"d26c303b8d1e460eabe0fdbadb4f1ab3381b16cc",part:"emoji-picker",onPickerClose:()=>{this.isEmojiPickerOpen=!1},onDyteEmojiClicked:e=>{this.textMessage+=e.detail,this.$textComposer.setText(this.textMessage,!0)}},t)),(0,a.h)("slot",{key:"93a6e0c49183a080be84172ce0a69b0d0a9b274a",name:"chat-addon"}),this.quotedMessage&&0!==this.quotedMessage.length&&(0,a.h)("div",{key:"9b235c2f65766cc80f40091b6d4e01f614f910f3",class:"quoted-message-container",part:"quoted-message-container"},(0,a.h)("div",{key:"3e2582d7ccc9747be95f140ea0f3c9151b5fc365",class:"quoted-message scrollbar"},(0,a.h)("dyte-text-message-view",{key:"d5ef25a57bf0f2a026c5fd92b202e0d337a3e52a",text:this.quotedMessage,isMarkdown:!0})),(0,a.h)("div",{key:"c0d69d22711c6dd7e9a84f18f3bdb2f4e0b60a20"},(0,a.h)("dyte-icon",{key:"9a9b6cd5df08157b411cbcbfb628a714f04cd291","aria-label":this.t("dismiss"),class:"dismiss",icon:this.iconPack.dismiss,onClick:this.onQuotedMessageDismissHandler}))),(0,a.h)("div",{key:"9dc15207103dceeded2a03c69a75bfa7919b98eb",class:"composer-container"},(0,a.h)("div",{key:"f456c8bd28ee60155b3735458aa172aa55b574f8",class:"composers"},this.fileToUpload&&(0,a.h)("dyte-draft-attachment-view",Object.assign({key:"0417d1e33ac0e4fc0df52bdc0a04661701c4efcf"},t,{attachment:this.fileToUpload,onDeleteAttachment:()=>this.fileToUpload=null})),!this.fileToUpload&&(0,a.h)("dyte-text-composer-view",{key:"83b68d635390774b5f931f5e00e0caa8f8b739d9",value:this.textMessage,placeholder:this.inputTextPlaceholder,onTextChange:this.onTextChangeHandler,keyDownHandler:this.onKeyDownHandler,maxLength:null!==(e=this.maxLength)&&void 0!==e?e:c.M,rateLimitBreached:this.rateLimitsBreached,t:this.t,iconPack:this.iconPack,ref:e=>this.$textComposer=e})),(0,a.h)("div",{key:"033cfe3365464c83af8d0ef0b590c0ffa900c146",class:"chat-buttons",part:"chat-buttons"},(0,a.h)("div",{key:"fcc9ae557a0f31c15611694a6073486fa6b22986",class:"left",part:"chat-buttons-left"},!this.fileToUpload&&!this.isEditing&&(0,a.h)("div",{key:"d9b9f602c036d8dec831daec2065097a987fa213"},this.canSendFiles&&[(0,a.h)("dyte-file-picker-button",Object.assign({key:"31270adc1fb72d8817e3218d596823cbffd0b032"},t,{onFileChange:e=>this.onFileUploadHandler("file",e.detail)})),(0,a.h)("dyte-file-picker-button",Object.assign({key:"1168afc0827bc2b63463c1eaf1e805abea7388d7",filter:"image/*",label:this.t("chat.send_img"),icon:"image",onFileChange:e=>this.onFileUploadHandler("image",e.detail)},t))],this.canSendTextMessage&&!this.disableEmojiPicker&&(0,a.h)("dyte-emoji-picker-button",Object.assign({key:"ef781c8e02daadede1ddc1eab5ef52598484b6d0",isActive:this.isEmojiPickerOpen,onClick:()=>{this.isEmojiPickerOpen=!this.isEmojiPickerOpen}},t)),(0,a.h)("slot",{key:"e80c453df4dcd546e804ea68ad9e5a783048662d",name:"chat-buttons"}))),(0,a.h)("div",{key:"e76f5c295316bc20e52d150f3a005cd91c90e210",class:"right",part:"chat-buttons-right"},!this.isEditing&&(0,a.h)("dyte-tooltip",{key:"d26dee018b74152225a19258165534ed7f793066",variant:"primary",label:this.t("chat.send_msg"),delay:2e3},(0,a.h)("dyte-button",{key:"5ad58b3709f82d11006bbc05a80c9c74134fe598",kind:"icon",disabled:this.disableSendButton,onClick:()=>this.handleSendMessage(),title:this.t("chat.send_msg")},(0,a.h)("dyte-icon",{key:"785be312a087790413e75151d352085585f8be31",icon:this.iconPack.send}))),this.isEditing&&(0,a.h)("div",{key:"5ee9a079da42dd6ef58d39dd611a170d324d1783",class:"edit-buttons"},(0,a.h)("dyte-tooltip",{key:"35ed375683386ff3a411e84b0bff663fd2d9cdfd",variant:"secondary",label:this.t("cancel"),delay:2e3},(0,a.h)("dyte-button",{key:"80b21a18537664018306abf9b8b099d2b1ec354f",kind:"icon",variant:"secondary",onClick:()=>this.handleEditCancel(),title:this.t("cancel")},(0,a.h)("dyte-icon",{key:"d65f2a1c97cd5c36effcfa78fcd7ebe42b095be8",icon:this.iconPack.dismiss}))),(0,a.h)("dyte-tooltip",{key:"56ff8d5fd854720ec93f65d5bdcb88b4e2621e12",variant:"primary",label:this.t("chat.update_msg"),delay:2e3},(0,a.h)("dyte-button",{key:"81eb4a8f97baa957bfe718720fedbb8504010dae",kind:"icon",onClick:()=>this.handleEditMessage(),title:this.t("chat.send_msg")},(0,a.h)("dyte-icon",{key:"3fc29bac3ee52f825de73e81b19c49d92981dd4a",icon:this.iconPack.checkmark}))))))))}};G([(0,o.S)()],Y.prototype,"iconPack",void 0),G([(0,o.S)()],Y.prototype,"t",void 0),Y.style=":host {\n  display: flex;\n  flex-direction: column;\n  font-family: var(--dyte-font-family, sans-serif);\n  font-size: 14px;\n  position: relative;\n}\n\n.quoted-message-container {\n  margin-bottom: var(--dyte-space-2, 8px);\n  display: flex;\n  justify-content: space-between;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));\n  color: rgb(var(--dyte-colors-text-1000, 255 255 255));\n  border-radius: var(--dyte-border-radius-md, 8px);\n  border: var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));\n}\n\n.quoted-message-container .quoted-message {\n  flex: 1 1 0%;\n  padding: var(--dyte-space-2, 8px);\n  border-radius: var(--dyte-border-radius-md, 8px);\n  max-height: var(--dyte-space-24, 96px);\n  overflow-y: auto;\n  word-break: break-all;\n}\n\n.quoted-message-container .quoted-message blockquote {\n  display: none;\n}\n\n.quoted-message-container dyte-icon.dismiss {\n  margin-left: auto;\n  height: var(--dyte-space-5, 20px);\n  width: var(--dyte-space-5, 20px);\n  padding: var(--dyte-space-2, 8px);\n  border-radius: var(--dyte-border-radius-md, 8px);\n  color: rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52));\n}\n\n.quoted-message-container dyte-icon.dismiss:hover {\n  cursor: pointer;\n  color: rgb(var(--dyte-colors-text-1000, 255 255 255));\n}\n\n.quoted-message-container dyte-icon.dismiss {\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n\n.composer-container {\n  position: relative;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));\n  border-radius: var(--dyte-border-radius-md, 8px);\n  overflow: hidden;\n  border: var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));\n}\n\n.composer-container > .composers {\n    min-height: 60px;\n  }\n\n@container chatcontainer (height < 360px) {\n    .composer-container > .composers {\n      min-height: 30px;\n    }\n}\n\n.chat-buttons {\n  padding: var(--dyte-space-3, 12px);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));\n  color: rgb(var(--dyte-colors-text-1000, 255 255 255));\n}\n\n.chat-buttons .right {\n  z-index: 10;\n}\n\n.chat-buttons .right .edit-buttons {\n  display: flex;\n  gap: var(--dyte-space-2, 8px);\n}\n\n.chat-buttons > div {\n  display: flex;\n  align-items: center;\n}\n\ndyte-emoji-picker {\n  z-index: 20;\n  position: absolute;\n  top: calc(var(--dyte-space-72, 288px) * -1);\n  border-top: var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));\n  animation: 0.3s slide-up ease;\n}\n\n@keyframes slide-up {\n  from {\n    transform: translateY(100%);\n  }\n  to {\n    transform: translateY(0%);\n  }\n}\n";var Q=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const W=class{constructor(e){(0,a.r)(this,e),this.edit=(0,a.c)(this,"edit",7),this.reply=(0,a.c)(this,"reply",7),this.pin=(0,a.c)(this,"pin",7),this.delete=(0,a.c)(this,"delete",7),this.iconPack=s.a,this.t=(0,s.c)(),this.isSelf=!1,this.canEdit=!1,this.canDelete=!1,this.canReply=!1,this.canPin=!1,this.disableControls=!1,this.alignRight=!1,this.hideAvatar=!1,this.now=new Date,this.leftAlign=!1,this.renderMessage=()=>{switch(this.message.type){case"text":return(0,a.h)("div",{"is-continued":this.isContinued,key:this.message.id},this.isUnread&&(0,a.h)("div",{class:"new-chat-marker",part:"new-chat-marker"},this.t("chat.new")),(0,a.h)("dyte-text-message",{message:this.message,now:this.now,isContinued:this.isContinued,"data-timestamp":this.message.time.getTime(),iconPack:this.iconPack,t:this.t,showBubble:!0}));case"image":return(0,a.h)("div",{"is-continued":this.isContinued,key:this.message.id},this.isUnread&&(0,a.h)("div",{class:"new-chat-marker",part:"new-chat-marker"},this.t("chat.new")),(0,a.h)("dyte-image-message",{message:this.message,now:this.now,isContinued:this.isContinued,iconPack:this.iconPack,"data-timestamp":this.message.time.getTime(),t:this.t,showBubble:!0}));case"file":return(0,a.h)("div",{"is-continued":this.isContinued,key:this.message.id},this.isUnread&&(0,a.h)("div",{class:"new-chat-marker",part:"new-chat-marker"},this.t("chat.new")),(0,a.h)("dyte-file-message",{message:this.message,now:this.now,isContinued:this.isContinued,iconPack:this.iconPack,t:this.t,"data-timestamp":this.message.time.getTime(),showBubble:!0}));case"custom":this.child.setAttribute("message",JSON.stringify(this.message));const e=this.child.cloneNode(!0);return(0,a.h)("div",{"is-continued":this.isContinued,key:this.message.id,ref:t=>t.appendChild(e)})}},this.onReply=()=>{this.reply.emit(this.message)},this.onPinned=()=>{this.pin.emit(this.message)},this.onDelete=()=>{this.delete.emit(this.message)},this.onEdit=async()=>{this.edit.emit(this.message)},this.isTouchDevice=()=>"ontouchstart"in window||navigator.maxTouchPoints>0}renderControls(){if(!this.disableControls)return(0,a.h)("dyte-menu",{placement:this.alignRight?"bottom-end":"bottom-start"},(0,a.h)("button",{slot:"trigger",class:"actions"},(0,a.h)("dyte-icon",{icon:this.iconPack.chevron_down})),(0,a.h)("dyte-menu-list",null,this.canReply&&(0,a.h)("dyte-menu-item",{onClick:this.onReply},(0,a.h)("dyte-icon",{icon:this.iconPack.back,slot:"start"}),this.t("chat.reply")),this.canPin&&(0,a.h)("dyte-menu-item",{onClick:this.onPinned},(0,a.h)("dyte-icon",{icon:this.iconPack.pin,slot:"start"}),this.t("pin")),this.canEdit&&(0,a.h)("dyte-menu-item",{onClick:this.onEdit},(0,a.h)("dyte-icon",{icon:this.iconPack.edit,slot:"start"}),this.t("chat.edit_msg")),this.canDelete&&(0,a.h)("dyte-menu-item",{onClick:this.onDelete},(0,a.h)("dyte-icon",{icon:this.iconPack.delete,slot:"start"}),this.t("chat.delete_msg"))))}renderAvatar(){if(!this.hideAvatar)return this.isContinued?(0,a.h)("div",{class:"avatar"}):(0,a.h)("div",{class:"avatar"},(0,a.h)("dyte-avatar",{size:"sm",participant:{name:this.message.displayName,picture:this.senderDisplayPicture}}))}render(){return(0,a.h)(a.H,{key:"e9019b771308fb2ccbd6b42066db30ff9afac88f"},(0,a.h)("div",{key:"2b7364203c9f2f20db564fe2d98e787b2e7879d0",class:{"message-wrapper":!0,"align-right":this.alignRight,"left-align":this.leftAlign},"is-continued":this.isContinued},this.renderAvatar(),(0,a.h)("div",{key:"b98ffba657e3699b3011682dff7b87724b044ade",class:{message:!0,"show-on-hover":!this.isTouchDevice()},"is-continued":this.isContinued},this.renderMessage(),this.renderControls())))}get $el(){return(0,a.a)(this)}};Q([(0,o.S)()],W.prototype,"size",void 0),Q([(0,o.S)()],W.prototype,"iconPack",void 0),Q([(0,o.S)()],W.prototype,"t",void 0),W.style=".message-wrapper{display:flex;gap:var(--dyte-space-2, 8px);margin-left:var(--dyte-space-4, 16px);margin-right:var(--dyte-space-4, 16px);margin-top:var(--dyte-space-4, 16px)}[is-continued] .message-wrapper{margin-top:var(--dyte-space-0, 0px)}.message-wrapper.align-right{flex-direction:row-reverse}.file-picker{display:none}.message{position:relative;display:flex}.show-on-hover dyte-menu{visibility:hidden}.show-on-hover:hover dyte-menu{visibility:visible}.align-right .message{justify-content:flex-end;margin-left:auto}.align-right .message .head{margin-right:var(--dyte-space-1, 4px);margin-left:var(--dyte-space-0, 0px);flex-direction:row-reverse;gap:var(--dyte-space-4, 16px)}.align-right .message dyte-text-message .bubble,.align-right .message dyte-image-message .bubble,.align-right .message dyte-file-message .bubble{padding-right:var(--dyte-space-5, 20px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}.align-right .message .actions dyte-icon{color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}.align-right dyte-menu{left:auto;right:var(--dyte-space-0, 0px)}.head{margin-bottom:var(--dyte-space-2, 8px);margin-left:var(--dyte-space-1, 4px);display:flex;align-items:center;gap:var(--dyte-space-2, 8px)}.head .name{font-size:14px;font-weight:600}.head .time{font-size:12px;color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}dyte-menu{position:absolute;left:var(--dyte-space-0, 0px);top:var(--dyte-space-6, 24px);border-radius:var(--dyte-border-radius-lg, 12px)}dyte-menu dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);cursor:pointer}[is-continued] dyte-menu{top:var(--dyte-space-2, 8px)}.actions{display:flex;align-items:center;justify-content:center;padding:var(--dyte-space-0\\.5, 2px);border-width:var(--dyte-border-width-none, 0);border-style:none;background-color:transparent}.actions dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.body{margin-top:var(--dyte-space-1, 4px);margin-bottom:var(--dyte-space-1, 4px);overflow-wrap:break-word;font-size:14px;line-height:1.375}.body .emoji{font-size:24px}.body.bubble{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-1, 4px);max-width:var(--dyte-space-96, 384px);padding-top:var(--dyte-space-3, 12px);padding-bottom:var(--dyte-space-3, 12px);padding-left:var(--dyte-space-5, 20px);padding-right:var(--dyte-space-5, 20px);overflow-wrap:break-word;font-size:14px;line-height:1.375;border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.body.bubble p{margin:var(--dyte-space-0, 0px);word-break:break-word}p{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-3, 12px)}dyte-text-message,dyte-image-message,dyte-file-message{display:block;font-family:var(--dyte-font-family, sans-serif);color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));box-sizing:border-box}*[is-continued]{margin-top:var(--dyte-space-0, 0px)}.image{position:relative;height:var(--dyte-space-40, 160px);max-width:var(--dyte-space-64, 256px);cursor:pointer}.image img{display:none;height:100%;width:100%;border-radius:var(--dyte-border-radius-sm, 4px);-o-object-fit:cover;object-fit:cover}.image .image-spinner{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.image .image-spinner dyte-spinner{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-text-opacity))}.image .image-errored{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;border-radius:var(--dyte-border-radius-sm, 4px);background-color:rgba(var(--dyte-colors-danger, 255 45 45) / 0.1);--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}.image .actions{display:none;height:var(--dyte-space-8, 32px);align-items:center;position:absolute;top:var(--dyte-space-2, 8px);right:var(--dyte-space-2, 8px);border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));overflow:hidden;--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.image .actions .action{height:var(--dyte-space-8, 32px);width:var(--dyte-space-8, 32px);border-radius:var(--dyte-border-radius-none, 0);border-width:var(--dyte-border-width-none, 0);border-style:none;background-color:transparent;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.image .actions .action:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.image.loaded img{display:block}.image.loaded .image-spinner{display:none}.image:hover .actions,.image:focus .actions{display:flex}.file{display:flex;align-items:center;gap:var(--dyte-space-1, 4px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);padding-top:var(--dyte-space-1\\.5, 6px);padding-bottom:var(--dyte-space-1\\.5, 6px);border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}.file .file-data{flex:1 1 0%}.file .file-data .name{word-break:break-all;color:rgb(var(--dyte-colors-text-1000, 255 255 255));overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.file .file-data .file-data-split{margin-top:var(--dyte-space-0\\.5, 2px);display:flex;align-items:center;font-size:12px}.file .file-data .file-data-split .ext{margin-right:var(--dyte-space-2, 8px);text-transform:uppercase;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.file .file-data .file-data-split .divider{height:var(--dyte-space-4, 16px);width:var(--dyte-space-0\\.5, 2px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.file .file-data .file-data-split .size{margin-left:var(--dyte-space-2, 8px)}a{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity));text-decoration-line:none}a:hover{text-decoration-line:underline}.new-chat-marker{display:flex;width:100%;align-items:center;gap:var(--dyte-space-2, 8px);--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity))}.new-chat-marker::before{content:'';height:1px;flex:1 1 0%;background-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / 0.5)}.show-new-messages-ctr{pointer-events:none;display:flex;justify-content:flex-end;padding:var(--dyte-space-3, 12px);z-index:0;margin-top:calc(var(--dyte-space-14, 56px) * -1)}.show-new-messages{pointer-events:auto;--tw-translate-y:calc(var(--dyte-space-6, 24px) * -1);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:0;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.show-new-messages.active{--tw-translate-y:var(--dyte-space-0, 0px);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:1}blockquote{margin:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-3, 12px);background-color:transparent}.block-quote,blockquote{--tw-border-spacing-x:1px;--tw-border-spacing-y:1px;border-spacing:var(--tw-border-spacing-x) var(--tw-border-spacing-y);border-top-width:var(--dyte-border-width-none, 0);border-bottom-width:var(--dyte-border-width-none, 0);border-left-width:var(--dyte-border-width-md, 2px);border-right-width:var(--dyte-border-width-none, 0);border-style:solid;border-left-color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));padding:var(--dyte-space-0\\.5, 2px);padding-left:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px) !important;border-radius:var(--dyte-border-radius-sm, 4px);border-top-left-radius:var(--dyte-border-radius-none, 0);border-bottom-left-radius:var(--dyte-border-radius-none, 0)}.link{color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}.align-right .block-quote{border-color:rgb(var(--dyte-colors-text-on-brand-600, var(--dyte-colors-text-600, 255 255 255 / 0.52)));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-bg-opacity))}.align-right .link{color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}.align-right .image .actions dyte-icon{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity))}.avatar{display:flex;width:var(--dyte-space-6, 24px)}.avatar dyte-avatar{height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px);font-size:10px}.message{width:75%}.left-align .body{margin-top:var(--dyte-space-4, 16px)}.left-align [is-continued] .body{margin-top:var(--dyte-space-0, 0px)}.left-align .body{--tw-translate-x:calc(var(--dyte-space-8, 32px) * -1);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}";var K=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const X=class{constructor(e){(0,a.r)(this,e),this.onPinMessage=(0,a.c)(this,"pinMessage",7),this.stateUpdate=(0,a.c)(this,"dyteStateUpdate",7),this.observingEl=[],this.autoScrollEnabled=!0,this.messages=[],this.canPinMessages=!1,this.iconPack=s.a,this.t=(0,s.c)(),this.now=new Date,this.showLatestMessageButton=!1,this.onScroll=e=>{const t=e.target;(0,a.w)((()=>{const{scrollTop:e,clientHeight:i,scrollHeight:a}=t;e+i+10>=a?(this.autoScrollEnabled=!0,this.showLatestMessageButton=!1):this.autoScrollEnabled=!1}))},this.scrollToBottom=()=>{(0,h.s)(this.$chat)},this.observeMessage=e=>{e&&this.observingEl.push(e);try{this.intersectionObserver.observe(e)}catch(t){}},this.getMessageActions=e=>{const t=[];return!e.pinned&&this.canPinMessages&&t.push({id:"pin_message",label:this.t("pin"),icon:this.iconPack.pin}),t},this.onMessageActionHandler=(e,t)=>{if("pin_message"===e)this.onPinMessage.emit(t)}}connectedCallback(){var e;this.lastReadTimestamp=null!==(e=s.f.everyone)&&void 0!==e?e:new Date("0001-01-01T00:00:00Z"),this.intersectionObserver=new IntersectionObserver((e=>{document.hasFocus()&&(0,a.w)((()=>{for(const t of e)if(t.isIntersecting){parseInt(t.target.getAttribute("data-timestamp"))>this.lastReadTimestamp.getTime()&&(s.f[this.selectedGroup]=new Date)}}))}));const t=()=>{this.now=new Date,this.timeout=setTimeout((()=>{null!=this.request&&(this.request=requestAnimationFrame(t))}),6e4)};this.request=requestAnimationFrame(t),this.chatChanged(this.messages)}componentDidLoad(){this.$chat.addEventListener("scroll",this.onScroll),this.$chat.scrollTop=this.$chat.scrollHeight}componentDidRender(){this.autoScrollEnabled?(0,h.s)(this.$chat):null==this.autoScrollEnabled&&(0,h.s)(this.$chat,!1)}chatChanged(e){if(null!=this.$chat&&!this.autoScrollEnabled&&this.$chat.clientHeight!==this.$chat.scrollHeight)for(let t=e.length-1;t>=0;t--)if(e[t].message.time>this.lastReadTimestamp&&e[t].message.userId!==this.selfUserId){this.showLatestMessageButton=!0;break}}selectedBucketChanged(){this.autoScrollEnabled=void 0,this.observingEl.forEach((e=>{this.intersectionObserver.unobserve(e)})),this.observingEl=[]}disconnectedCallback(){this.$chat.removeEventListener("scroll",this.onScroll),this.intersectionObserver.disconnect(),clearTimeout(this.timeout),cancelAnimationFrame(this.request)}render(){var e;let t=null,i=!1;return(0,a.h)(a.H,{key:"01c61fd2a60ca11df413406967eb80af92d07de0"},(0,a.h)("div",{key:"b1a6ad7904236a7fdb50034f33de979faa080ef6",class:"chat-container scrollbar",ref:e=>this.$chat=e,part:"container"},(0,a.h)("div",{key:"95664e4f9b8faae0c31c128abc6f54cf5bcd6acf",class:"spacer",part:"spacer"}),(0,a.h)("div",{key:"e0c40200e05026bb748e608ba6abb6f02b5a701c",class:"chat",part:"chat"},null===(e=this.messages)||void 0===e?void 0:e.map((e=>{if("chat"===e.type){const{message:r}=e,s=!(r.userId===this.selfUserId)&&!this.autoScrollEnabled&&!i&&r.time>this.lastReadTimestamp;s&&(i=s);const o=!s&&r.userId===(null==t?void 0:t.userId)&&(0,l.d)(r.time,null==t?void 0:t.time)<2;return t=r,(0,a.h)("div",{"is-continued":o,key:e.message.id,ref:this.observeMessage,"data-timestamp":r.time.getTime(),class:r.pinned?"pinned":""},s&&(0,a.h)("div",{class:"new-chat-marker",part:"new-chat-marker"},this.t("chat.new")),(0,a.h)("div",{class:"message-wrapper"},(0,a.h)("dyte-message-view",{time:r.time,actions:this.getMessageActions(r),authorName:r.displayName,hideAuthorName:!0,hideAvatar:!0,hideMetadata:!0,viewType:"incoming",variant:"bubble",onAction:e=>this.onMessageActionHandler(e.detail,r)},(0,a.h)("div",null,!o&&(0,a.h)("div",{class:"head"},(0,a.h)("div",{class:"name"},r.displayName),!!r.time&&(0,a.h)("div",{class:"time",title:(0,l.f)(r.time)},(0,l.e)(r.time,new Date(Date.now())))),(0,a.h)("div",{class:"body"},"text"===r.type&&(0,a.h)("dyte-text-message-view",{text:r.message,isMarkdown:!0}),"file"===r.type&&(0,a.h)("dyte-file-message-view",{name:r.name,url:r.link,size:r.size}),"image"===r.type&&(0,a.h)("dyte-image-message-view",{url:r.link,onPreview:()=>{this.stateUpdate.emit({image:r})}})))),r.pinned&&(0,a.h)("div",{class:"pin-button",part:"pin-button"},(0,a.h)("dyte-tooltip",{label:this.t("unpin")},(0,a.h)("dyte-button",{kind:"icon",variant:"ghost",onClick:()=>this.onMessageActionHandler("pin_message",r),disabled:!this.canPinMessages},(0,a.h)("dyte-icon",{icon:this.iconPack.pin,size:"sm"}))))))}return null})))),(0,a.h)("div",{key:"518df977aebf5ecfc26a3f93904e24f92f607fc4",class:"show-new-messages-ctr"},(0,a.h)("dyte-button",{key:"7b6f0a1461957ec5947e4976d6457125e1096f16",class:{"show-new-messages":!0,active:this.showLatestMessageButton},kind:"icon",part:"show-new-messages",onClick:this.scrollToBottom},(0,a.h)("dyte-icon",{key:"0af3acc46412913b7555d8e2256ad2840c6f6226",icon:this.iconPack.chevron_down}))))}static get watchers(){return{messages:["chatChanged"],selectedGroup:["selectedBucketChanged"]}}};K([(0,o.S)()],X.prototype,"size",void 0),K([(0,o.S)()],X.prototype,"iconPack",void 0),K([(0,o.S)()],X.prototype,"t",void 0),X.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));word-break:break-word}.chat-container{box-sizing:border-box;display:flex;flex-direction:column;padding-top:var(--dyte-space-4, 16px);padding-bottom:var(--dyte-space-4, 16px);flex:1 0 0px;overflow-y:scroll}.chat-container .spacer{flex:1 1 auto}.chat-container .chat{flex:0 0 auto}.file-picker{display:none}.chat .head{display:flex;align-items:center}.chat .head .name{margin-right:var(--dyte-space-4, 16px);font-size:12px;font-weight:700}.chat .head .time{font-size:12px;color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}.chat .body{margin-top:var(--dyte-space-2, 8px);overflow-wrap:break-word;line-height:1.375}.chat .body .emoji{font-size:24px}p{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-3, 12px)}dyte-message-view{margin-top:var(--dyte-space-4, 16px);display:block;padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));box-sizing:border-box}dyte-message-view::part(message){flex-grow:1}*[is-continued] dyte-message-view{margin-top:var(--dyte-space-1, 4px)}.pinned .message-wrapper{position:relative}.pinned .pin-button{position:absolute;right:var(--dyte-space-4, 16px);top:calc(var(--dyte-space-4, 16px) * -1);display:flex;border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.pinned .pin-button:hover dyte-button{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-600, 13 81 253) / var(--tw-bg-opacity))}.pinned dyte-message-view{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));padding-top:var(--dyte-space-1, 4px);padding-bottom:var(--dyte-space-1, 4px)}a{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity));text-decoration-line:none}a:hover{text-decoration-line:underline}.new-chat-marker{display:flex;width:100%;align-items:center;gap:var(--dyte-space-2, 8px);--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity))}.new-chat-marker::before{content:'';height:1px;flex:1 1 0%;background-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / 0.5)}.show-new-messages-ctr{pointer-events:none;display:flex;justify-content:flex-end;padding:var(--dyte-space-3, 12px);z-index:0;margin-top:calc(var(--dyte-space-14, 56px) * -1)}.show-new-messages{pointer-events:auto;--tw-translate-y:var(--dyte-space-16, 64px);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:0;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.show-new-messages.active{--tw-translate-y:var(--dyte-space-0, 0px);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:1}";var Z=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const ee=class{constructor(e){(0,a.r)(this,e),this.editMessageInit=(0,a.c)(this,"editMessageInit",7),this.onPinMessage=(0,a.c)(this,"pinMessage",7),this.onDeleteMessage=(0,a.c)(this,"deleteMessage",7),this.stateUpdate=(0,a.c)(this,"dyteStateUpdate",7),this.iconPack=s.a,this.t=(0,s.c)(),this.leftAlign=!1,this.permissionsChanged=!1,this.pageSize=25,this.lastReadMessageIndex=-1,this.permissionsUpdateListener=()=>{this.permissionsChanged=!this.permissionsChanged},this.maybeMarkChannelAsRead=e=>{if(!this.selectedChannelId)return;if(0===e.length)return;if(-1!==this.lastReadMessageIndex)return;const t=e.at(0).time>e.at(-1).time?e.at(0):e.at(-1);t.channelIndex&&(this.lastReadMessageIndex=parseInt(t.channelIndex,10),this.meeting.chat.markLastReadMessage(this.selectedChannelId,t))},this.getChatMessages=async(e,t,i)=>{const{messages:a}=await this.meeting.chat.getMessages(e,t,i,void 0,this.selectedChannelId);return this.maybeMarkChannelAsRead(a),a},this.createChatNodes=e=>e.map(((t,i)=>{var a;const r=t.userId===(null===(a=e[i-1])||void 0===a?void 0:a.userId);return this.createChatNode(t,r)})),this.disconnectMeeting=e=>{var t,i;null===(t=null==e?void 0:e.chat)||void 0===t||t.removeListener("chatUpdate",this.chatUpdateListener),null===(i=this.meeting)||void 0===i||i.self.permissions.removeListener("permissionsUpdate",this.permissionsUpdateListener)},this.getMessageActions=e=>{const t=[];return this.meeting.self.permissions.pinParticipant&&t.push({id:"pin_message",label:e.pinned?this.t("unpin"):this.t("pin"),icon:this.iconPack.pin}),t},this.onMessageActionHandler=(e,t)=>{switch(e){case"pin_message":this.onPinMessage.emit(t);break;case"delete_message":this.onDeleteMessage.emit(t)}},this.createChatNode=(e,t)=>{var i,r,s,o;if(0!==e.targetUserIds.length)return null;let n;return n="CHAT"===this.meeting.meta.viewType?null===(i=this.meeting.participants.all.toArray().find((t=>t.userId===e.userId)))||void 0===i?void 0:i.picture:this.meeting.self.userId===e.userId?this.meeting.self.picture:null!==(s=null===(r=this.meeting.participants.joined.toArray().find((t=>t.userId===e.userId)))||void 0===r?void 0:r.picture)&&void 0!==s?s:null===(o=this.meeting.participants.waitlisted.toArray().find((t=>t.userId===e.userId)))||void 0===o?void 0:o.picture,(0,a.h)("div",{class:{pinned:e.pinned}},(0,a.h)("div",{class:"message-wrapper"},(0,a.h)("dyte-message-view",{time:e.time,actions:this.getMessageActions(e),authorName:e.displayName,avatarUrl:n,hideAuthorName:t,viewType:"incoming",variant:"bubble",onAction:t=>this.onMessageActionHandler(t.detail,e)},(0,a.h)("div",null,(0,a.h)("div",{class:"body"},"text"===e.type&&(0,a.h)("dyte-text-message-view",{text:e.message,isMarkdown:!0}),"file"===e.type&&(0,a.h)("dyte-file-message-view",{name:e.name,url:e.link,size:e.size}),"image"===e.type&&(0,a.h)("dyte-image-message-view",{url:e.link,onPreview:()=>{this.stateUpdate.emit({image:e})}})),e.pinned&&(0,a.h)("div",{class:"pin-icon",part:"pin-icon"},(0,a.h)("dyte-icon",{icon:this.iconPack.pin,size:"sm"}))))))},this.chatUpdateListener=e=>{this.selectedChannelId&&e.message.channelId!==this.selectedChannelId||("add"===e.action?(this.$paginatedListRef.onNewNode(e.message),this.lastReadMessageIndex=-1,this.maybeMarkChannelAsRead([e.message])):"delete"===e.action?this.$paginatedListRef.onNodeDelete(e.message.id):"edit"===e.action&&this.$paginatedListRef.onNodeUpdate(e.message.id,e.message))}}componentDidLoad(){const e=this.host.shadowRoot.querySelector("slot");e&&(this.children=e.assignedElements()[0])}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.disconnectMeeting(this.meeting)}meetingChanged(e,t){var i;null!=t&&this.disconnectMeeting(t),e&&!e.chat||(null!=e&&(null===(i=e.chat)||void 0===i||i.addListener("chatUpdate",this.chatUpdateListener),e.self.permissions.addListener("permissionsUpdate",this.permissionsUpdateListener)),this.permissionsUpdateListener())}channelChanged(){this.lastReadMessageIndex=-1}render(){return(0,a.h)(a.H,{key:"0f87ae87443f5ebcb771924591c9b9d30af425f6"},(0,a.h)("dyte-paginated-list",{key:"f3a82fc12cf42265eb838da5d3bd36e2e3402fae",ref:e=>this.$paginatedListRef=e,pageSize:this.pageSize,pagesAllowed:3,fetchData:this.getChatMessages,createNodes:this.createChatNodes,selectedItemId:this.selectedChannelId,emptyListLabel:this.t("chat.empty_channel")},(0,a.h)("slot",{key:"89d54672424cfff5fe73d8ece157cdcf5534fa30"})))}get host(){return(0,a.a)(this)}static get watchers(){return{meeting:["meetingChanged"],selectedChannelId:["channelChanged"]}}};Z([(0,o.S)()],ee.prototype,"meeting",void 0),Z([(0,o.S)()],ee.prototype,"size",void 0),Z([(0,o.S)()],ee.prototype,"iconPack",void 0),Z([(0,o.S)()],ee.prototype,"t",void 0),ee.style=":host{display:flex;flex-direction:column;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));flex:1 0 0px}";var te=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const ie=class{constructor(e){(0,a.r)(this,e),this.iconPack=s.a,this.t=(0,s.c)(),this.pageSize=50,this.searchMessages=async(e,t,i)=>this.meeting.chat.searchMessages(this.query,{channelId:this.channelId,timestamp:e,size:t,reversed:i}),this.nodeRenderer=e=>e.map((e=>(0,a.h)("dyte-chat-message",{key:e.id,message:e,disableControls:!0})))}render(){return(0,a.h)(a.H,{key:"984a388e6c194e27c5cb7918806bd9f156220ec7"},(0,a.h)("dyte-paginated-list",{key:"444fa000de6428b4c0c6e0c829eb4ef944d2a211",pageSize:this.pageSize,pagesAllowed:3,fetchData:this.searchMessages,createNodes:this.nodeRenderer,selectedItemId:this.query}))}};te([(0,o.S)()],ie.prototype,"meeting",void 0),te([(0,o.S)()],ie.prototype,"iconPack",void 0),te([(0,o.S)()],ie.prototype,"t",void 0),ie.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;height:100%;flex-direction:column;position:relative;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity))}";var ae=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const re=class{constructor(e){(0,a.r)(this,e),this.stateUpdate=(0,a.c)(this,"dyteStateUpdate",7),this.keyPressListener=e=>{"Escape"===e.key&&this.close()},this.iconPack=s.a,this.t=(0,s.c)(),this.close=()=>{this.states.activeConfirmationModal.onClose(this.stateUpdate,this.states,this.meeting),this.stateUpdate.emit({activeConfirmationModal:{active:!1}}),this.states.activeConfirmationModal={active:!1}},this.onConfirmation=async()=>{this.states.activeConfirmationModal.onClick(this.stateUpdate,this.states,this.meeting),this.stateUpdate.emit({activeConfirmationModal:{active:!1}}),this.states.activeConfirmationModal={active:!1}}}connectedCallback(){document.addEventListener("keydown",this.keyPressListener)}componentDidLoad(){}disconnectedCallback(){document.removeEventListener("keydown",this.keyPressListener)}render(){var e,t;const i=this.states.activeConfirmationModal;return(0,a.h)(a.H,{key:"bfb08e8cf23236412b9aa1a03ef0ea59e57fcc8f"},(0,a.h)("div",{key:"19031e843eeae492331dc2b70cb53ed7e34b7e1c",class:"leave-modal"},(0,a.h)("div",{key:"b06ee1276a63a09327f91ee94923b58e5e13dff7",class:"header"},(0,a.h)("h2",{key:"fe549a012577be074c4aeae7daf5f2b1d6431090",class:"title"},i.header?this.t(i.header):this.t("cta.confirmation"))),(0,a.h)("p",{key:"142ba47a0723cd6f8e3826ba0ea50a343eb3c4c0",class:"message"},i.content?this.t(i.content):""),(0,a.h)("div",{key:"695140e0148911b611c4e9ca85961059e78e5279",class:"content"},(0,a.h)("div",{key:"a5cfbf4dcf926dad8bbba83a0af1843605641a59",class:"leave-meeting"},(0,a.h)("dyte-button",{key:"42e5022b094fe7f8a7138975b7a987e3ba8357cb",variant:"secondary",title:i.cancelText?this.t(i.cancelText):this.t("cancel"),onClick:this.close,class:"br-secondary-btn"},i.cancelText?this.t(i.cancelText):this.t("cancel")),(0,a.h)("dyte-button",{key:"1e53176e5e5bfb774cd7169784823340b383c740",onClick:()=>this.onConfirmation(),variant:null!==(t=null===(e=this.states.activeConfirmationModal)||void 0===e?void 0:e.variant)&&void 0!==t?t:"danger",title:i.ctaText?this.t(i.ctaText):this.t("yes")},i.ctaText?this.t(i.ctaText):this.t("yes"))))))}};ae([(0,o.S)()],re.prototype,"meeting",void 0),ae([(0,o.S)()],re.prototype,"states",void 0),ae([(0,o.S)()],re.prototype,"iconPack",void 0),ae([(0,o.S)()],re.prototype,"t",void 0),re.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;border-radius:var(--dyte-border-radius-md, 8px);padding:var(--dyte-space-8, 32px);width:100%;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));width:400px;max-width:80%}.leave-modal{width:100%;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.leave-modal .header h2{margin:var(--dyte-space-0, 0px)}.leave-modal .content{font-size:14px}.leave-message p{margin-top:var(--dyte-space-3, 12px);margin-bottom:var(--dyte-space-3, 12px)}.leave-meeting{display:flex;flex-direction:row;justify-content:space-between;gap:var(--dyte-space-4, 16px)}.leave-meeting dyte-button{color:rgb(var(--dyte-colors-text-1000, 255 255 255));flex:1 1 0%}.end-meeting{margin-top:var(--dyte-space-2, 8px)}.br-secondary-btn{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.br-secondary-btn:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}";var se=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const oe=class{constructor(e){(0,a.r)(this,e),this.onChange=(0,a.c)(this,"valueChange",7),this.input="1",this.minValue=0,this.iconPack=s.a,this.t=(0,s.c)()}connectedCallback(){this.watchStateHandler(this.input),this.input=this.value.toString()}watchStateHandler(e){this.onChange.emit(e)}increment(){this.input=Math.max(parseInt(this.input)+1,this.minValue).toString()}decrement(){this.input=Math.max(this.minValue,parseInt(this.input)-1).toString()}render(){return(0,a.h)(a.H,{key:"001a8ab33d9ce321c040396bdb8de97399c72644"},(0,a.h)("dyte-button",{key:"90bc0534d63d549d34da72bdc98a260922905dd4",kind:"icon",variant:"ghost",onClick:()=>this.decrement()},(0,a.h)("dyte-icon",{key:"08efdbb92413cc53c280c24aa4c0b0267326f423",icon:this.iconPack.subtract})),(0,a.h)("input",{key:"71fb967f4f8896ec0f6435dd4011f7735bf53dd1",type:"number",value:this.input,min:this.minValue,onInput:e=>{const t=parseInt(e.target.value,10);isNaN(t)||t<this.minValue?this.input=this.minValue.toString():this.input=t.toString()}}),(0,a.h)("dyte-button",{key:"bb5df90fb048044238c7427903f455d870446539",kind:"icon",variant:"ghost",onClick:()=>this.increment()},(0,a.h)("dyte-icon",{key:"5ae0a6e2f3acec1e13cab00d1ec15c9b2f66363a",icon:this.iconPack.add})))}static get watchers(){return{input:["watchStateHandler"]}}};se([(0,o.S)()],oe.prototype,"size",void 0),se([(0,o.S)()],oe.prototype,"iconPack",void 0),se([(0,o.S)()],oe.prototype,"t",void 0),oe.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;flex-direction:row;align-items:center;justify-content:center;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));width:-moz-fit-content;width:fit-content;border-radius:var(--dyte-border-radius-sm, 4px);padding:var(--dyte-space-1, 4px)}p{margin:var(--dyte-space-0, 0px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px)}input{margin:var(--dyte-space-0, 0px);width:var(--dyte-space-6, 24px);padding:var(--dyte-space-2, 8px);border-width:var(--dyte-border-width-sm, 1px);border-style:solid;border-color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));text-align:center;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));border-radius:var(--dyte-border-radius-sm, 4px);font-size:16px;outline:2px solid transparent;outline-offset:2px;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}input::-webkit-outer-spin-button,input::-webkit-inner-spin-button{margin:var(--dyte-space-0, 0px);appearance:none;-webkit-appearance:none}input[type='number']{-moz-appearance:textfield}";var ne=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const de=class{constructor(e){(0,a.r)(this,e),this.stateUpdate=(0,a.c)(this,"dyteStateUpdate",7),this.keyPressListener=e=>{"Escape"===e.key&&this.close()},this.iconPack=s.a,this.t=(0,s.c)(),this.activeTab="audio",this.isMobileMainVisible=!1,this.progress=0}connectedCallback(){document.addEventListener("keydown",this.keyPressListener)}disconnectedCallback(){this.keyPressListener&&document.removeEventListener("keydown",this.keyPressListener)}progressUpdate(e){this.progress=e.detail}changeTab(e){this.activeTab=e,"sm"===this.size&&(this.isMobileMainVisible||(this.isMobileMainVisible=!0))}close(){this.stateUpdate.emit({activeDebugger:!1})}getActiveTab(){switch(this.activeTab){case"audio":return this.t("debugger.audio.troubleshooting.label");case"screenshare":return this.t("debugger.screenshare.troubleshooting.label");case"video":return this.t("debugger.video.troubleshooting.label");case"system":return this.t("debugger.system.troubleshooting.label");default:return this.t("debugger.troubleshooting.label")}}render(){if(null==this.meeting)return null;const e={meeting:this.meeting,states:this.states,iconPack:this.iconPack,t:this.t,size:this.size},t=this.getActiveTab(),i=void 0!==navigator.getBattery;return(0,a.h)(a.H,null,(0,a.h)("aside",{class:{hide:this.isMobileMainVisible},part:"menu"},(0,a.h)("header",null,(0,a.h)("h3",null,this.t("debugger.troubleshooting.label"))),(0,a.h)("button",{type:"button",class:{active:"audio"===this.activeTab},onClick:()=>this.changeTab("audio")},this.t("debugger.audio.label"),(0,a.h)("div",{class:"right"},(0,a.h)("dyte-icon",{icon:this.iconPack.mic_on}),"sm"===this.size&&(0,a.h)("dyte-icon",{icon:this.iconPack.chevron_right}))),(0,a.h)("button",{type:"button",class:{active:"video"===this.activeTab},onClick:()=>this.changeTab("video")},this.t("debugger.video.label"),(0,a.h)("div",{class:"right"},(0,a.h)("dyte-icon",{icon:this.iconPack.video_on}),"sm"===this.size&&(0,a.h)("dyte-icon",{icon:this.iconPack.chevron_right}))),(0,a.h)("button",{type:"button",class:{active:"screenshare"===this.activeTab},onClick:()=>this.changeTab("screenshare")},this.t("debugger.screenshare.label"),(0,a.h)("div",{class:"right"},(0,a.h)("dyte-icon",{icon:this.iconPack.share_screen_start}),"sm"===this.size&&(0,a.h)("dyte-icon",{icon:this.iconPack.chevron_right}))),(0,a.h)("button",{type:"button",class:{active:"system"===this.activeTab,hidden:!i},onClick:()=>this.changeTab("system")},this.t("debugger.system.label"),(0,a.h)("div",{class:"right"},(0,a.h)("dyte-icon",{icon:this.iconPack.settings}),"sm"===this.size&&(0,a.h)("dyte-icon",{icon:this.iconPack.chevron_right})))),(0,a.h)("main",{class:{active:this.isMobileMainVisible},part:"main-content"},"sm"===this.size&&(0,a.h)("header",null,(0,a.h)("dyte-button",{kind:"icon",class:"back-btn",onClick:()=>this.isMobileMainVisible=!1},(0,a.h)("dyte-icon",{icon:this.iconPack.chevron_left})),(0,a.h)("h4",null,t)),"audio"===this.activeTab&&(0,a.h)("dyte-debugger-audio",Object.assign({},e)),"video"===this.activeTab&&(0,a.h)("dyte-debugger-video",Object.assign({},e)),"screenshare"===this.activeTab&&(0,a.h)("dyte-debugger-screenshare",Object.assign({},e)),"system"===this.activeTab&&i&&(0,a.h)("dyte-debugger-system",Object.assign({},e))))}};function ce({stats:e}){if(!e||!e.length)return null;let t="Good";const i=e.map((e=>e.verdict));return i.includes("Poor")?t="Poor":i.includes("Average")&&(t="Average"),t}function le({packetLossPercentage:e}){let t="Good";return e>4?t="Poor":e>=1&&e<=4&&(t="Average"),t}function he({jitterInMS:e}){let t="Good";return e>100?t="Poor":e>=50&&e<=100&&(t="Average"),t}function pe({bitrate:e}){let t="Good";return 0===Math.round(e/1024)&&(t="Poor"),t}function ge({batteryLevelPercentage:e}){let t="Good";return e<20?t="Poor":e<50&&(t="Average"),t}function be({charging:e,dischargingTimeInSeconds:t,batteryLevelPercentage:i}){return i<20?"Poor":e?"Good":t<1800?"Poor":"Average"}ne([(0,o.S)()],de.prototype,"meeting",void 0),ne([(0,o.S)()],de.prototype,"states",void 0),ne([(0,o.S)()],de.prototype,"size",void 0),ne([(0,o.S)()],de.prototype,"iconPack",void 0),ne([(0,o.S)()],de.prototype,"t",void 0),de.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;overflow:hidden;border-radius:var(--dyte-border-radius-md, 8px);width:100%;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}header{margin-right:var(--dyte-space-2, 8px);display:flex;align-items:center;justify-content:space-between;padding-top:var(--dyte-space-0, 0px);padding-bottom:var(--dyte-space-0, 0px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px)}header h3{margin-top:var(--dyte-space-4, 16px);margin-bottom:var(--dyte-space-4, 16px)}.back-btn{border-radius:var(--dyte-border-radius-sm, 4px);background-color:transparent;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.back-btn:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}aside{box-sizing:border-box;display:flex;max-width:var(--dyte-space-56, 224px) !important;flex-direction:column;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));padding-left:var(--dyte-space-2, 8px)}aside button{margin-top:var(--dyte-space-4, 16px);box-sizing:border-box;display:flex;width:100%;align-items:center;justify-content:space-between;border-top-left-radius:var(--dyte-border-radius-sm, 4px);border-bottom-left-radius:var(--dyte-border-radius-sm, 4px);padding-left:var(--dyte-space-4, 16px);padding-right:var(--dyte-space-4, 16px);padding-top:var(--dyte-space-3, 12px);padding-bottom:var(--dyte-space-3, 12px);background-color:transparent;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));cursor:default;font-size:14px;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);border-width:var(--dyte-border-width-none, 0);border-style:none;outline:2px solid transparent;outline-offset:2px}aside button .right{display:flex;align-items:center}aside button .right dyte-icon{height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px)}aside button .right dyte-icon:last-child{margin-left:var(--dyte-space-4, 16px)}aside button[type='button']{cursor:pointer;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}aside button[type='button']:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}aside button[type='button']{border-right:var(--dyte-border-width-md, 2px) solid transparent}aside button.active{--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-border-opacity));background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / 0.2)}aside button.active:hover{background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / 0.2)}aside button.hidden{display:none}main{position:relative;box-sizing:border-box;display:flex;height:100%;width:100%;flex-direction:column}:host([size='sm']) aside{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));width:100% !important;max-width:100% !important;padding-left:var(--dyte-space-0, 0px)}:host([size='sm']) aside button{border-radius:var(--dyte-border-radius-none, 0)}:host([size='sm']) aside button.active{border-width:var(--dyte-border-width-none, 0);border-style:none;background-color:transparent}:host([size='sm']) aside button.active:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}:host([size='sm']) aside button.hidden{display:none}:host([size='sm']) aside.hide{display:none}aside button:host([size='sm']) aside.hide{display:none}:host([size='sm']) aside button:host([size='sm']) aside.hide{display:none}:host([size='sm']) main{display:none;height:100%;width:100%;padding:var(--dyte-space-0, 0px)}aside button:host([size='sm']) main{display:none}:host([size='sm']) aside button:host([size='sm']) main{display:none}:host([size='sm']) main.active{display:block}:host([size='sm']) header{margin:var(--dyte-space-0, 0px);justify-content:center}:host([size='sm']) header dyte-button{position:absolute;left:var(--dyte-space-4, 16px)}::-webkit-scrollbar{width:8px}::-webkit-scrollbar-track{border-radius:var(--dyte-border-radius-lg, 12px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-lg, 12px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}::-webkit-scrollbar-thumb:hover{border-radius:var(--dyte-border-radius-lg, 12px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.progress-bar{height:var(--dyte-space-1, 4px);width:100%;overflow:hidden;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.progress-indicator{height:100%;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity))}";var ye=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const ve=class{constructor(e){(0,a.r)(this,e),this.iconPack=s.a,this.t=(0,s.c)(),this.isNetworkOpen=!0,this.isDevicesOpen=!1,this.audioProducerFormattedStats=[],this.audioProducerScoreStats=null,this.networkBasedMediaHealth=null,this.devicesHealth=null,this.mediaScoreUpdateListener=({kind:e,isScreenshare:t,scoreStats:i})=>{"audio"!==e||t||(this.audioProducerScoreStats=i)},this.deviceListUpdateListener=async()=>{const e=await this.meeting.self.getAudioDevices();this.devicesHealth=(null==e?void 0:e.length)>0?"Good":"Poor"},this.audioUpdateListener=()=>{this.meeting.self.audioEnabled||(this.audioProducerScoreStats=null)}}async audioProducerScoreStatsChanged(e){if(!e)return void(this.audioProducerFormattedStats=[]);const t=e,i=[];i.push({name:this.t("debugger.stats.bitrate.label"),value:`${Math.round(t.bitrate/1024)} kbps`,description:this.t("debugger.stats.bitrate.description"),verdict:pe({bitrate:t.bitrate,kind:"audio",isScreenshare:!1})}),i.push({name:this.t("debugger.stats.packet_loss.label"),value:`${t.packetsLostPercentage}%`,description:this.t("debugger.stats.packet_loss.description"),verdict:le({packetLossPercentage:t.packetsLostPercentage})}),i.push({name:this.t("debugger.stats.jitter.label"),value:`${Math.round(1e3*t.jitter)} ms`,description:this.t("debugger.stats.jitter.description"),verdict:he({jitterInMS:1e3*t.jitter})}),this.audioProducerFormattedStats=i,this.networkBasedMediaHealth=ce({kind:"audio",isScreenshare:!1,stats:i})}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.meeting&&(this.meeting.self.off("mediaScoreUpdate",this.mediaScoreUpdateListener),this.meeting.self.off("audioUpdate",this.audioUpdateListener),this.meeting.self.off("deviceListUpdate",this.deviceListUpdateListener))}async meetingChanged(e){e&&(e.self.on("mediaScoreUpdate",this.mediaScoreUpdateListener),e.self.on("audioUpdate",this.audioUpdateListener),e.self.on("deviceListUpdate",this.deviceListUpdateListener),await this.deviceListUpdateListener())}render(){var e,t;if(this.meeting)return(0,a.h)(a.H,null,(0,a.h)("div",{id:"header"}),(0,a.h)("div",{class:"tab-body"},(0,a.h)("div",{class:"status-container"},(0,a.h)("div",{class:"status-section"},(0,a.h)("div",{class:"section-header "+(this.networkBasedMediaHealth?"":"only-child")},(0,a.h)("span",null,this.t("debugger.audio.sections.network_media")),this.networkBasedMediaHealth&&(0,a.h)("span",{class:`status ${null===(e=this.networkBasedMediaHealth)||void 0===e?void 0:e.toLowerCase()}`},this.t(`debugger.quality.${null===(t=this.networkBasedMediaHealth)||void 0===t?void 0:t.toLowerCase()}`))),this.isNetworkOpen&&!this.audioProducerFormattedStats.length&&(0,a.h)("div",{class:"section-body missing-stats"},this.meeting.self.audioEnabled?(0,a.h)("span",null,this.t("debugger.audio.messages.generating_report")):(0,a.h)("span",null,this.t("debugger.audio.messages.enable_media"))),this.isNetworkOpen&&!!this.audioProducerFormattedStats.length&&(0,a.h)("div",{class:"section-body network-table"},this.audioProducerFormattedStats.map((e=>{var t,i;return(0,a.h)("div",{class:"network-row"},(0,a.h)("div",{class:"network-cell label"},(0,a.h)("strong",null,e.name),(0,a.h)("span",{class:"description"},e.description)),(0,a.h)("div",{class:"network-cell value"},(0,a.h)("span",{class:`status ${null===(t=e.verdict)||void 0===t?void 0:t.toLowerCase()}`},this.t(`debugger.quality.${null===(i=e.verdict)||void 0===i?void 0:i.toLowerCase()}`)),(0,a.h)("span",{class:"value"},e.value)))})))))))}static get watchers(){return{audioProducerScoreStats:["audioProducerScoreStatsChanged"],meeting:["meetingChanged"]}}};ye([(0,o.S)()],ve.prototype,"meeting",void 0),ye([(0,o.S)()],ve.prototype,"states",void 0),ye([(0,o.S)()],ve.prototype,"size",void 0),ye([(0,o.S)()],ve.prototype,"iconPack",void 0),ye([(0,o.S)()],ve.prototype,"t",void 0),ve.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;height:100%;width:100%;color:rgb(var(--dyte-colors-text-1000, 255 255 255));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar{width:var(--dyte-space-1\\.5, 6px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}h3{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:600}#header{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-5, 20px);display:flex;align-items:center;justify-content:space-evenly}.tab-body{margin:var(--dyte-space-4, 16px);display:flex;height:100%;flex-direction:column;justify-content:space-between;overflow-y:auto}.status-container{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;padding:16px}.status-section{margin-bottom:12px}.section-header{display:flex;justify-content:space-between;align-items:center;font-weight:bold;padding:8px 0}.section-header.only-child{justify-content:center}.section-body.missing-stats{display:flex;text-align:center;justify-content:center}.section-header .status{color:rgba(var(--dyte-colors-success));font-weight:bold}.section-header .arrow{font-size:14px}.network-table{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;margin-top:8px;overflow:hidden}.network-row{display:flex;justify-content:space-between;padding:12px;border-bottom:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60))}.network-row:last-child{border-bottom:none}.network-cell{display:flex;flex-direction:column}.network-cell.label strong{font-size:14px}.network-cell.label .description{font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}.network-cell.value{text-align:right}.status.good{color:rgba(var(--dyte-colors-success))}.status.average{color:rgba(var(--dyte-colors-warning))}.status.poor{color:rgba(var(--dyte-colors-danger))}.value{font-size:14px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}dyte-settings-audio{display:flex;flex-direction:column}";var ue=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const me=class{constructor(e){(0,a.r)(this,e),this.iconPack=s.a,this.t=(0,s.c)(),this.isNetworkOpen=!0,this.isDevicesOpen=!1,this.videoProducerFormattedStats=[],this.videoProducerScoreStats=null,this.audioProducerFormattedStats=[],this.audioProducerScoreStats=null,this.networkBasedMediaHealth=null,this.mediaScoreUpdateListener=({kind:e,isScreenshare:t,scoreStats:i})=>{"video"===e&&t&&(this.videoProducerScoreStats=i),"audio"===e&&t&&(this.audioProducerScoreStats=i)},this.screenShareUpdateListener=()=>{this.meeting.self.screenShareEnabled||(this.videoProducerScoreStats=null,this.audioProducerScoreStats=null)}}async videoProducerScoreStatsChanged(e){if(!e)return void(this.videoProducerFormattedStats=[]);const t=e,i=[];i.push({name:this.t("debugger.stats.cpu_limitations.label"),value:t.cpuLimitations?"Yes":"No",description:this.t("debugger.stats.cpu_limitations.description"),verdict:t.cpuLimitations?"Poor":"Good"}),i.push({name:this.t("debugger.stats.bandwidth_limitations.label"),value:t.bandwidthLimitations?"Yes":"No",description:this.t("debugger.stats.bandwidth_limitations.description"),verdict:t.bandwidthLimitations?"Poor":"Good"}),i.push({name:this.t("debugger.stats.bitrate.label"),value:`${Math.round(t.bitrate/1024)} kbps`,description:this.t("debugger.stats.bitrate.description"),verdict:pe({bitrate:t.bitrate,kind:"video",isScreenshare:!1})}),i.push({name:this.t("debugger.stats.packet_loss.label"),value:`${t.packetsLostPercentage}%`,description:this.t("debugger.stats.packet_loss.description"),verdict:le({packetLossPercentage:t.packetsLostPercentage})}),i.push({name:this.t("debugger.stats.jitter.label"),value:`${Math.round(1e3*t.jitter)} ms`,description:this.t("debugger.stats.jitter.description"),verdict:he({jitterInMS:1e3*t.jitter})}),this.videoProducerFormattedStats=i,this.networkBasedMediaHealth=ce({kind:"video",isScreenshare:!1,stats:i})}async audioProducerScoreStatsChanged(e){if(!e)return void(this.audioProducerFormattedStats=[]);const t=e,i=[];i.push({name:this.t("debugger.stats.bitrate.label"),value:`${Math.round(t.bitrate/1024)} kbps`,description:this.t("debugger.stats.bitrate.description"),verdict:pe({bitrate:t.bitrate,kind:"audio",isScreenshare:!0})}),i.push({name:this.t("debugger.stats.packet_loss.label"),value:`${t.packetsLostPercentage}%`,description:this.t("debugger.stats.packet_loss.description"),verdict:le({packetLossPercentage:t.packetsLostPercentage})}),i.push({name:this.t("debugger.stats.jitter.label"),value:`${Math.round(1e3*t.jitter)} ms`,description:this.t("debugger.stats.jitter.description"),verdict:he({jitterInMS:1e3*t.jitter})}),this.audioProducerFormattedStats=i}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.meeting&&(this.meeting.self.off("mediaScoreUpdate",this.mediaScoreUpdateListener),this.meeting.self.off("screenShareUpdate",this.screenShareUpdateListener))}async meetingChanged(e){e&&(e.self.on("mediaScoreUpdate",this.mediaScoreUpdateListener),e.self.on("screenShareUpdate",this.screenShareUpdateListener))}render(){var e,t;if(this.meeting)return(0,a.h)(a.H,null,(0,a.h)("div",{id:"header"}),(0,a.h)("div",{class:"tab-body"},(0,a.h)("div",{class:"status-container"},(0,a.h)("div",{class:"status-section"},(0,a.h)("div",{class:"section-header "+(this.networkBasedMediaHealth?"":"only-child")},(0,a.h)("span",null,this.t("debugger.screenshare.sections.network_media")),this.networkBasedMediaHealth&&(0,a.h)("span",{class:`status ${null===(e=this.networkBasedMediaHealth)||void 0===e?void 0:e.toLowerCase()}`},this.t(`debugger.quality.${null===(t=this.networkBasedMediaHealth)||void 0===t?void 0:t.toLowerCase()}`))),this.isNetworkOpen&&!this.videoProducerFormattedStats.length&&(0,a.h)("div",{class:"section-body missing-stats"},this.meeting.self.screenShareEnabled?(0,a.h)("span",null,this.t("debugger.screenshare.messages.generating_report")):(0,a.h)("span",null,this.t("debugger.screenshare.messages.enable_media"))),this.isNetworkOpen&&!!this.videoProducerFormattedStats.length&&(0,a.h)("div",{class:"section-body network-table"},this.videoProducerFormattedStats.map((e=>{var t,i;return(0,a.h)("div",{class:"network-row"},(0,a.h)("div",{class:"network-cell label"},(0,a.h)("strong",null,e.name),(0,a.h)("span",{class:"description"},e.description)),(0,a.h)("div",{class:"network-cell value"},(0,a.h)("span",{class:`status ${null===(t=e.verdict)||void 0===t?void 0:t.toLowerCase()}`},this.t(`debugger.quality.${null===(i=e.verdict)||void 0===i?void 0:i.toLowerCase()}`)),(0,a.h)("span",{class:"value"},e.value)))})))))))}static get watchers(){return{videoProducerScoreStats:["videoProducerScoreStatsChanged"],audioProducerScoreStats:["audioProducerScoreStatsChanged"],meeting:["meetingChanged"]}}};ue([(0,o.S)()],me.prototype,"meeting",void 0),ue([(0,o.S)()],me.prototype,"states",void 0),ue([(0,o.S)()],me.prototype,"size",void 0),ue([(0,o.S)()],me.prototype,"iconPack",void 0),ue([(0,o.S)()],me.prototype,"t",void 0),me.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;height:100%;width:100%;color:rgb(var(--dyte-colors-text-1000, 255 255 255));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar{width:var(--dyte-space-1\\.5, 6px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}h3{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:600}#header{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-5, 20px);display:flex;align-items:center;justify-content:space-evenly}.tab-body{margin:var(--dyte-space-4, 16px);display:flex;height:100%;flex-direction:column;justify-content:space-between;overflow-y:auto}.status-container{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;padding:16px}.status-section{margin-bottom:12px}.section-header{display:flex;justify-content:space-between;align-items:center;font-weight:bold;padding:8px 0}.section-header.only-child{justify-content:center}.section-body.missing-stats{display:flex;text-align:center;justify-content:center}.section-header .status{color:rgba(var(--dyte-colors-success));font-weight:bold}.section-header .arrow{font-size:14px}.network-table{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;margin-top:8px;overflow:hidden}.network-row{display:flex;justify-content:space-between;padding:12px;border-bottom:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60))}.network-row:last-child{border-bottom:none}.network-cell{display:flex;flex-direction:column}.network-cell.label strong{font-size:14px}.network-cell.label .description{font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}.network-cell.value{text-align:right}.status.good{color:rgba(var(--dyte-colors-success))}.status.average{color:rgba(var(--dyte-colors-warning))}.status.poor{color:rgba(var(--dyte-colors-danger))}.value{font-size:14px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}";var fe=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const xe=class{constructor(e){(0,a.r)(this,e),this.iconPack=s.a,this.t=(0,s.c)(),this.isBatterySectionOpen=!0,this.batterySectionHealth=null,this.battery=null,this.batteryFormattedStats=[],this.batteryUpdateListener=()=>{const e=Math.round(100*this.battery.level),t=[];t.push({name:this.t("debugger.system.battery.level.label"),value:`${e}%`,description:this.t("debugger.system.battery.level.description"),verdict:ge({batteryLevelPercentage:e})}),t.push({name:this.t("debugger.system.battery.charging.label"),value:`${this.battery.charging?this.t("debugger.system.battery.charging.is_charging"):this.t("debugger.system.battery.charging.is_not_charging")}`,description:this.t("debugger.system.battery.charging.description"),verdict:be({batteryLevelPercentage:e,chargingTimeInSeconds:this.battery.chargingTime,dischargingTimeInSeconds:this.battery.dischargingTime,charging:this.battery.charging})}),this.batterySectionHealth=function({stats:e}){if(!e||!e.length)return null;let t="Good";const i=e.map((e=>e.verdict));return i.includes("Poor")?t="Poor":i.includes("Average")&&(t="Average"),t}({stats:t}),this.batteryFormattedStats=t}}toggleSection(e){"battery"===e&&(this.isBatterySectionOpen=!this.isBatterySectionOpen)}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.meeting&&this.battery&&(this.battery.removeEventListener("levelchange",this.batteryUpdateListener),this.battery.removeEventListener("chargingchange",this.batteryUpdateListener))}async meetingChanged(e){e&&void 0!==navigator.getBattery&&(this.battery=await navigator.getBattery(),this.battery.addEventListener("levelchange",this.batteryUpdateListener),this.battery.addEventListener("chargingchange",this.batteryUpdateListener),this.batteryUpdateListener())}render(){var e,t;if(this.meeting)return(0,a.h)(a.H,null,(0,a.h)("div",{id:"header"}),(0,a.h)("div",{class:"tab-body"},(0,a.h)("div",{class:"status-container"},(0,a.h)("div",{class:"status-section"},(0,a.h)("div",{class:"section-header",onClick:()=>this.toggleSection("battery")},(0,a.h)("span",null,this.t("debugger.system.sections.battery")),this.batterySectionHealth&&(0,a.h)("span",{class:`status ${null===(e=this.batterySectionHealth)||void 0===e?void 0:e.toLowerCase()}`},this.t(`debugger.quality.${null===(t=this.batterySectionHealth)||void 0===t?void 0:t.toLowerCase()}`))),this.isBatterySectionOpen&&!!this.batteryFormattedStats.length&&(0,a.h)("div",{class:"section-body battery-table"},this.batteryFormattedStats.map((e=>{var t,i;return(0,a.h)("div",{class:"battery-row"},(0,a.h)("div",{class:"battery-cell label"},(0,a.h)("strong",null,e.name),(0,a.h)("span",{class:"description"},e.description)),(0,a.h)("div",{class:"battery-cell value"},(0,a.h)("span",{class:`status ${null===(t=e.verdict)||void 0===t?void 0:t.toLowerCase()}`},this.t(`debugger.quality.${null===(i=e.verdict)||void 0===i?void 0:i.toLowerCase()}`)),(0,a.h)("span",{class:"value"},e.value)))})))))))}static get watchers(){return{meeting:["meetingChanged"]}}};fe([(0,o.S)()],xe.prototype,"meeting",void 0),fe([(0,o.S)()],xe.prototype,"states",void 0),fe([(0,o.S)()],xe.prototype,"size",void 0),fe([(0,o.S)()],xe.prototype,"iconPack",void 0),fe([(0,o.S)()],xe.prototype,"t",void 0),xe.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;height:100%;width:100%;color:rgb(var(--dyte-colors-text-1000, 255 255 255));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar{width:var(--dyte-space-1\\.5, 6px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}h3{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:600}#header{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-5, 20px);display:flex;align-items:center;justify-content:space-evenly}.tab-body{margin:var(--dyte-space-4, 16px);display:flex;height:100%;flex-direction:column;justify-content:space-between;overflow-y:auto}.status-container{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;padding:16px}.status-section{margin-bottom:12px}.section-header{display:flex;justify-content:space-between;align-items:center;font-weight:bold;padding:8px 0}.section-body.missing-stats{display:flex;text-align:center;justify-content:center}.section-header .status{color:rgba(var(--dyte-colors-success));font-weight:bold}.section-header .arrow{font-size:14px}.battery-table{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;margin-top:8px;overflow:hidden}.battery-row{display:flex;justify-content:space-between;padding:12px;border-bottom:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60))}.battery-row:last-child{border-bottom:none}.battery-cell{display:flex;flex-direction:column}.battery-cell.label strong{font-size:14px}.battery-cell.label .description{font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}.battery-cell.value{text-align:right}.status.good{color:rgba(var(--dyte-colors-success))}.status.average{color:rgba(var(--dyte-colors-warning))}.status.poor{color:rgba(var(--dyte-colors-danger))}.value{font-size:14px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}dyte-settings-video{display:flex;flex-direction:column}";var we=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const ke=class{constructor(e){(0,a.r)(this,e),this.iconPack=s.a,this.t=(0,s.c)(),this.isNetworkOpen=!0,this.isDevicesOpen=!1,this.videoProducerFormattedStats=[],this.videoProducerScoreStats=null,this.networkBasedMediaHealth=null,this.devicesHealth=null,this.mediaScoreUpdateListener=({kind:e,isScreenshare:t,scoreStats:i})=>{"video"!==e||t||(this.videoProducerScoreStats=i)},this.deviceListUpdateListener=async()=>{const e=await this.meeting.self.getVideoDevices();this.devicesHealth=(null==e?void 0:e.length)>0?"Good":"Poor"},this.videoUpdateListener=()=>{this.meeting.self.videoEnabled||(this.videoProducerScoreStats=null)}}async videoProducerScoreStatsChanged(e){if(!e)return void(this.videoProducerFormattedStats=[]);const t=e,i=[];i.push({name:this.t("debugger.stats.cpu_limitations.label"),value:t.cpuLimitations?"Yes":"No",description:this.t("debugger.stats.cpu_limitations.description"),verdict:t.cpuLimitations?"Poor":"Good"}),i.push({name:this.t("debugger.stats.bandwidth_limitations.label"),value:t.bandwidthLimitations?"Yes":"No",description:this.t("debugger.stats.bandwidth_limitations.description"),verdict:t.bandwidthLimitations?"Poor":"Good"}),i.push({name:this.t("debugger.stats.bitrate.label"),value:`${Math.round(t.bitrate/1024)} kbps`,description:this.t("debugger.stats.bitrate.description"),verdict:pe({bitrate:t.bitrate,kind:"video",isScreenshare:!1})}),i.push({name:this.t("debugger.stats.packet_loss.label"),value:`${t.packetsLostPercentage}%`,description:this.t("debugger.stats.packet_loss.description"),verdict:le({packetLossPercentage:t.packetsLostPercentage})}),i.push({name:this.t("debugger.stats.jitter.label"),value:`${Math.round(1e3*t.jitter)} ms`,description:this.t("debugger.stats.jitter.description"),verdict:he({jitterInMS:1e3*t.jitter})}),this.videoProducerFormattedStats=i,this.networkBasedMediaHealth=ce({kind:"video",isScreenshare:!1,stats:i})}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.meeting&&(this.meeting.self.off("mediaScoreUpdate",this.mediaScoreUpdateListener),this.meeting.self.off("videoUpdate",this.videoUpdateListener),this.meeting.self.off("deviceListUpdate",this.deviceListUpdateListener))}async meetingChanged(e){e&&(e.self.on("mediaScoreUpdate",this.mediaScoreUpdateListener),e.self.on("videoUpdate",this.videoUpdateListener),e.self.on("deviceListUpdate",this.deviceListUpdateListener),await this.deviceListUpdateListener())}render(){var e,t;if(this.meeting)return(0,a.h)(a.H,null,(0,a.h)("div",{id:"header"}),(0,a.h)("div",{class:"tab-body"},(0,a.h)("div",{class:"status-container"},(0,a.h)("div",{class:"status-section"},(0,a.h)("div",{class:"section-header "+(this.networkBasedMediaHealth?"":"only-child")},(0,a.h)("span",null,this.t("debugger.video.sections.network_media")),this.networkBasedMediaHealth&&(0,a.h)("span",{class:`status ${null===(e=this.networkBasedMediaHealth)||void 0===e?void 0:e.toLowerCase()}`},this.t(`debugger.quality.${null===(t=this.networkBasedMediaHealth)||void 0===t?void 0:t.toLowerCase()}`))),this.isNetworkOpen&&!this.videoProducerFormattedStats.length&&(0,a.h)("div",{class:"section-body missing-stats"},this.meeting.self.videoEnabled?(0,a.h)("span",null,this.t("debugger.video.messages.generating_report")):(0,a.h)("span",null,this.t("debugger.video.messages.enable_media"))),this.isNetworkOpen&&!!this.videoProducerFormattedStats.length&&(0,a.h)("div",{class:"section-body network-table"},this.videoProducerFormattedStats.map((e=>{var t,i;return(0,a.h)("div",{class:"network-row"},(0,a.h)("div",{class:"network-cell label"},(0,a.h)("strong",null,e.name),(0,a.h)("span",{class:"description"},e.description)),(0,a.h)("div",{class:"network-cell value"},(0,a.h)("span",{class:`status ${null===(t=e.verdict)||void 0===t?void 0:t.toLowerCase()}`},this.t(`debugger.quality.${null===(i=e.verdict)||void 0===i?void 0:i.toLowerCase()}`)),(0,a.h)("span",{class:"value"},e.value)))})))))))}static get watchers(){return{videoProducerScoreStats:["videoProducerScoreStatsChanged"],meeting:["meetingChanged"]}}};we([(0,o.S)()],ke.prototype,"meeting",void 0),we([(0,o.S)()],ke.prototype,"states",void 0),we([(0,o.S)()],ke.prototype,"size",void 0),we([(0,o.S)()],ke.prototype,"iconPack",void 0),we([(0,o.S)()],ke.prototype,"t",void 0),ke.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;height:100%;width:100%;color:rgb(var(--dyte-colors-text-1000, 255 255 255));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar{width:var(--dyte-space-1\\.5, 6px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}h3{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:600}#header{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-5, 20px);display:flex;align-items:center;justify-content:space-evenly}.tab-body{margin:var(--dyte-space-4, 16px);display:flex;height:100%;flex-direction:column;justify-content:space-between;overflow-y:auto}.status-container{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;padding:16px}.status-section{margin-bottom:12px}.section-header{display:flex;justify-content:space-between;align-items:center;font-weight:bold;padding:8px 0}.section-header.only-child{justify-content:center}.section-body.missing-stats{display:flex;text-align:center;justify-content:center}.section-header .status{color:rgba(var(--dyte-colors-success));font-weight:bold}.section-header .arrow{font-size:14px}.network-table{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;margin-top:8px;overflow:hidden}.network-row{display:flex;justify-content:space-between;padding:12px;border-bottom:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60))}.network-row:last-child{border-bottom:none}.network-cell{display:flex;flex-direction:column}.network-cell.label strong{font-size:14px}.network-cell.label .description{font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}.network-cell.value{text-align:right}.status.good{color:rgba(var(--dyte-colors-success))}.status.average{color:rgba(var(--dyte-colors-warning))}.status.poor{color:rgba(var(--dyte-colors-danger))}.value{font-size:14px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}dyte-settings-video{display:flex;flex-direction:column}";var Pe=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const Ce=class{constructor(e){(0,a.r)(this,e),this.onClose=(0,a.c)(this,"dyteDialogClose",7),this.hideCloseButton=!1,this.disableEscapeKey=!1,this.config=s.d,this.iconPack=s.a,this.t=(0,s.c)(),this.open=!0,this.close=()=>{this.open=!1,this.onClose.emit()},this.keydownListener=e=>{!this.disableEscapeKey&&"Escape"===e.key&&this.open&&this.close()}}connectedCallback(){document.addEventListener("keydown",this.keydownListener)}disconnectedCallback(){document.removeEventListener("keydown",this.keydownListener)}render(){return this.open?(0,a.h)(a.H,null,(0,a.h)("div",{id:"dialog",part:"container",role:"dialog","aria-modal":"true"},(0,a.h)("slot",null),!this.hideCloseButton&&(0,a.h)("dyte-button",{part:"close-button",id:"dismiss-btn",kind:"icon",variant:"ghost",onClick:()=>this.close(),type:"button","aria-label":this.t("dialog.close"),role:"button"},(0,a.h)("dyte-icon",{icon:this.iconPack.dismiss})))):null}};Pe([(0,o.S)()],Ce.prototype,"meeting",void 0),Pe([(0,o.S)()],Ce.prototype,"states",void 0),Pe([(0,o.S)()],Ce.prototype,"size",void 0),Pe([(0,o.S)()],Ce.prototype,"iconPack",void 0),Pe([(0,o.S)()],Ce.prototype,"t",void 0),Ce.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{position:fixed;top:var(--dyte-space-0, 0px);right:var(--dyte-space-0, 0px);bottom:var(--dyte-space-0, 0px);left:var(--dyte-space-0, 0px);box-sizing:border-box;padding:var(--dyte-space-4, 16px);flex-direction:column;align-items:center;justify-content:center;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / 0.5);color:rgb(var(--dyte-colors-text-1000, 255 255 255));visibility:hidden;display:none;overflow-wrap:break-word;word-wrap:break-word;z-index:60;-webkit-backdrop-filter:blur(12px) saturate(180%);backdrop-filter:blur(12px) saturate(180%)}#dialog{position:relative;max-height:100%;max-width:100%}#dismiss-btn{position:absolute;top:var(--dyte-space-3, 12px);right:var(--dyte-space-3, 12px);z-index:50}::slotted(*){max-height:100%;max-width:100%}:host([open]){visibility:visible;display:flex}:host([open='false']){visibility:hidden;display:none}";var Se=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const Le=class{constructor(e){(0,a.r)(this,e),this.stateUpdate=(0,a.c)(this,"dyteStateUpdate",7),this.config=s.d,this.iconPack=s.a,this.t=(0,s.c)(),this.updateStoreState=(e,t)=>{this.stateUpdate.emit({[e]:t})},this.cancelJoinStage=async()=>{var e,t,i;"ACCEPTED_TO_JOIN_STAGE"===(null===(e=this.meeting.stage)||void 0===e?void 0:e.status)&&await(null===(i=null===(t=this.meeting)||void 0===t?void 0:t.stage)||void 0===i?void 0:i.leave()),this.updateStoreState("activeJoinStage",!1)},this.joinStage=async()=>{await this.meeting.stage.join()},this.stageStatusUpdateListener=e=>{var t;(null===(t=this.states)||void 0===t?void 0:t.activeJoinStage)&&"ON_STAGE"===e&&this.updateStoreState("activeJoinStage",!1)}}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){var e;null===(e=this.meeting.stage)||void 0===e||e.removeListener("stageStatusUpdate",this.stageStatusUpdateListener)}meetingChanged(e){if(null==e)return;const{stage:t}=e;null==t||t.addListener("stageStatusUpdate",this.stageStatusUpdateListener)}render(){var e,t,i,r;const s={meeting:this.meeting,states:this.states,config:this.config,size:this.size,iconPack:this.iconPack,t:this.t},o=this.states;if(null!=(null==o?void 0:o.image)){const e=o.image,t=()=>{this.stateUpdate.emit({image:null})};return(0,a.h)(a.H,null,(0,a.h)("dyte-dialog",{open:!0,onDyteDialogClose:t,hideCloseButton:!0,iconPack:this.iconPack,t:this.t},(0,a.h)("dyte-image-viewer",Object.assign({},s,{image:e,onClose:t}))))}if(!0===(null==o?void 0:o.activeSettings))return(0,a.h)(a.H,null,(0,a.h)("dyte-dialog",{open:!0,onDyteDialogClose:()=>this.updateStoreState("activeSettings",!1),iconPack:this.iconPack,t:this.t},(0,a.h)("dyte-settings",Object.assign({},s))));if(!0===(null==o?void 0:o.activeDebugger))return(0,a.h)(a.H,null,(0,a.h)("dyte-dialog",{open:!0,onDyteDialogClose:()=>this.updateStoreState("activeDebugger",!1),iconPack:this.iconPack,t:this.t},(0,a.h)("dyte-debugger",Object.assign({},s))));if(!0===(null==o?void 0:o.activeLeaveConfirmation))return(0,a.h)(a.H,null,(0,a.h)("dyte-dialog",{open:!0,onDyteDialogClose:()=>this.updateStoreState("activeLeaveConfirmation",!1),iconPack:this.iconPack,t:this.t},(0,a.h)("dyte-leave-meeting",Object.assign({},s))));if(!0===(null===(e=null==o?void 0:o.activePermissionsMessage)||void 0===e?void 0:e.enabled))return(0,a.h)(a.H,null,(0,a.h)("dyte-dialog",{open:!0,hideCloseButton:!0,iconPack:this.iconPack,t:this.t},(0,a.h)("dyte-permissions-message",Object.assign({},s))));if(!0===(null===(t=null==o?void 0:o.activeBreakoutRoomsManager)||void 0===t?void 0:t.active))return(0,a.h)(a.H,null,(0,a.h)("dyte-dialog",{open:!0,onDyteDialogClose:()=>this.updateStoreState("activeBreakoutRoomsManager",{active:!1,data:void 0}),iconPack:this.iconPack,t:this.t},(0,a.h)("dyte-breakout-rooms-manager",Object.assign({},s))));if(!0===(null===(i=null==o?void 0:o.activeConfirmationModal)||void 0===i?void 0:i.active))return(0,a.h)(a.H,null,(0,a.h)("dyte-dialog",{open:!0,onDyteDialogClose:()=>this.updateStoreState("activeConfirmationModal",!1),iconPack:this.iconPack,t:this.t},(0,a.h)("dyte-confirmation-modal",Object.assign({},s))));if(!0===(null===(r=null==o?void 0:o.activeOverlayModal)||void 0===r?void 0:r.active))return(0,a.h)(a.H,null,(0,a.h)("dyte-overlay-modal",{meeting:this.meeting,states:this.states,iconPack:this.iconPack,t:this.t}));if(null==o?void 0:o.activeBroadcastMessageModal)return(0,a.h)(a.H,null,(0,a.h)("dyte-dialog",{open:!0,onDyteDialogClose:()=>this.updateStoreState("activeBroadcastMessageModal",!1),iconPack:this.iconPack,t:this.t},(0,a.h)("dyte-broadcast-message-modal",Object.assign({},s))));if(!0===(null==o?void 0:o.activeJoinStage)){const e={title:this.t("stage.join_title"),label:{accept:this.t("stage.join_confirm"),reject:this.t("stage.join_cancel")},description:this.t("stage.join_summary")};return(0,a.h)(a.H,null,(0,a.h)("dyte-dialog",{open:!0,onDyteDialogClose:this.cancelJoinStage,iconPack:this.iconPack,t:this.t},(0,a.h)("dyte-join-stage",Object.assign({dataConfig:e,onDyteJoinStage:this.joinStage,onDyteLeaveStage:this.cancelJoinStage},s))))}return!0===(null==o?void 0:o.activeMuteAllConfirmation)?(0,a.h)(a.H,null,(0,a.h)("dyte-dialog",{open:!0,onDyteDialogClose:()=>{this.updateStoreState("activeMuteAllConfirmation",!1)},iconPack:this.iconPack,t:this.t},(0,a.h)("dyte-mute-all-confirmation",Object.assign({},s)))):(null==o?void 0:o.activeChannelCreator)?(0,a.h)(a.H,null,(0,a.h)("dyte-dialog",{open:!0,onDyteDialogClose:()=>{this.updateStoreState("activeChannelCreator",!1)},iconPack:this.iconPack,t:this.t},(0,a.h)("dyte-channel-creator",Object.assign({},s)))):null}static get watchers(){return{meeting:["meetingChanged"]}}};Se([(0,o.S)()],Le.prototype,"meeting",void 0),Se([(0,o.S)()],Le.prototype,"states",void 0),Se([(0,o.S)()],Le.prototype,"size",void 0),Se([(0,o.S)()],Le.prototype,"iconPack",void 0),Se([(0,o.S)()],Le.prototype,"t",void 0),Le.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block}";var Me=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const _e=class{constructor(e){(0,a.r)(this,e),this.onDeleteAttachment=(0,a.c)(this,"deleteAttachment",7),this.iconPack=s.a,this.t=(0,s.c)(),this.attachment=null,this.filePreview=null,this.fileReader=new FileReader,this.generatePreview=()=>{"image"===this.attachment.type?this.fileReader.readAsDataURL(this.attachment.file):"file"===this.attachment.type&&(this.filePreview=this.attachment.file.name)},this.onDeleteClickHandler=()=>{this.filePreview=null,this.onDeleteAttachment.emit()}}onAttachmentChange(){this.generatePreview()}connectedCallback(){this.fileReader.onload=e=>{"string"==typeof e.target.result&&(this.filePreview=e.target.result)}}componentWillLoad(){this.onAttachmentChange()}render(){return(0,a.h)(a.H,{key:"9ac12b9992619fe12ab30d07dfcd3113562e6d12"},(0,a.h)("div",{key:"3540e19bd3d7b5185c55359e128bdee18a31d32d",class:"preview-overlay"},(0,a.h)("div",{key:"2792a2f153702696ce4bb3803b6a401cb2075238",class:"preview"},(0,a.h)("dyte-tooltip",{key:"f1ae3139d0199a03a9e85a7366c766c8cb9f84b2",label:this.t("chat.cancel_upload")},(0,a.h)("dyte-button",{key:"99d6e020c4b7042a7f91861c799ff251193bd16c",variant:"secondary",kind:"icon",onClick:this.onDeleteClickHandler},(0,a.h)("dyte-icon",{key:"e8809cbd2ee916275de659a4eed986ab71351235",icon:this.iconPack.dismiss}))),"image"===this.attachment.type?(0,a.h)("img",{class:"preview-image",src:this.filePreview}):(0,a.h)("div",{class:"preview-file"},(0,a.h)("span",null,this.filePreview)))))}static get watchers(){return{attachment:["onAttachmentChange"]}}};Me([(0,o.S)()],_e.prototype,"iconPack",void 0),Me([(0,o.S)()],_e.prototype,"t",void 0),_e.style=":host{display:flex;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));border-top-left-radius:var(--dyte-border-radius-md, 8px);border-top-right-radius:var(--dyte-border-radius-md, 8px)}.preview-overlay{position:absolute;top:var(--dyte-space-0, 0px);right:var(--dyte-space-0, 0px);bottom:var(--dyte-space-0, 0px);left:var(--dyte-space-0, 0px);background-color:inherit}.preview{position:absolute;top:var(--dyte-space-4, 16px);left:var(--dyte-space-4, 16px);max-width:-moz-fit-content;max-width:fit-content;max-height:var(--dyte-space-20, 80px)}.preview:hover dyte-tooltip{display:block}.preview dyte-tooltip{position:absolute;top:calc(var(--dyte-space-1, 4px) * -1);left:calc(var(--dyte-space-1, 4px) * -1);display:none;margin-left:calc(var(--dyte-space-1, 4px) * -1);margin-top:calc(var(--dyte-space-1, 4px) * -1)}.preview dyte-button{display:flex;height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);align-items:center;justify-content:center;border-radius:9999px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));border:1px solid rgb(var(--dyte-colors-text-1000, 255 255 255))}.preview dyte-icon{height:var(--dyte-space-3, 12px);width:var(--dyte-space-3, 12px);color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.preview-image{height:var(--dyte-space-16, 64px);width:var(--dyte-space-16, 64px);-o-object-fit:cover;object-fit:cover;max-height:100%;max-width:100%;overflow:clip;border-radius:var(--dyte-border-radius-md, 8px)}.preview-file{padding-left:var(--dyte-space-3, 12px);padding-right:var(--dyte-space-3, 12px);padding-top:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-2, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-radius:var(--dyte-border-radius-md, 8px);max-width:200px}";let je;var ze=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const Re=class{constructor(e){(0,a.r)(this,e),this.pickerClose=(0,a.c)(this,"pickerClose",7),this.emojiClicked=(0,a.c)(this,"dyteEmojiClicked",7),this.iconPack=s.a,this.t=(0,s.c)(),this.focusWhenOpened=!0,this.filterVal="",this.filteredEmojis=[]}componentWillLoad(){(async()=>{if(!je){const e=await fetch("https://cdn.dyte.in/assets/emojis-data.json");je=e.json()}return je})().then((e=>{this.emojiList=e,this.handleInputChange(this.inputElement)}))}componentDidLoad(){this.focusWhenOpened&&this.inputElement.focus()}handleInputChange(e){this.filterVal=e.value;const t=new RegExp(`([^,]*?${this.filterVal}[^,]*):(\\d+)`,"g");this.filteredEmojis=Array.from(this.emojiList.search.matchAll(t)).map((e=>({name:e[1],emoji:this.emojiList.emojis[e[2]]})))}handleEmojiClick(e){this.emojiClicked.emit(e)}mapEmojiList(){var e;return(null===(e=this.emojiList)||void 0===e?void 0:e.length)>0?(0,a.h)("div",{id:"loader"},(0,a.h)("dyte-spinner",{iconPack:this.iconPack})):(0,a.h)("div",{id:"emoji-grid",class:"scrollbar max-w-40"},this.filteredEmojis.map((e=>(0,a.h)("dyte-button",{key:`emoji-button-${e.name}`,class:"emoji",variant:"ghost",kind:"icon",title:e.name,onClick:()=>this.handleEmojiClick(e.emoji)},e.emoji))))}render(){return(0,a.h)(a.H,{key:"332fe557a1fd6c4813a20dc67218583ed52f8080"},(0,a.h)("div",{key:"c33a2a916b8bb69a6890de686837f26a2a52ca66",class:"close-parent"},(0,a.h)("dyte-button",{key:"68957f915e70a98008dfe083e4cc1b5b01fcffb1",variant:"ghost",kind:"icon",class:"close",onClick:()=>{var e;return null===(e=this.pickerClose)||void 0===e?void 0:e.emit()},"aria-label":this.t("close")},(0,a.h)("dyte-icon",{key:"95d651fdde6aa3c3ae93bfcce89449ef85adf278",icon:this.iconPack.dismiss}))),(0,a.h)("div",{key:"71eb89294bd37df1d38e8f890fc96eee692c751f",class:"emoji-parent"},(0,a.h)("input",{key:"6650cd87c893fbed52aac4a1017b81fa2c7a920b",value:this.filterVal,onInput:e=>this.handleInputChange(e.target),placeholder:this.t("search"),ref:e=>this.inputElement=e}),this.mapEmojiList()))}};ze([(0,o.S)()],Re.prototype,"iconPack",void 0),ze([(0,o.S)()],Re.prototype,"t",void 0),Re.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{width:100%}.emoji-parent{box-sizing:border-box;display:inline-flex;height:var(--dyte-space-64, 256px);width:100%;max-width:640px;flex-direction:column;padding:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-0, 0px);-webkit-user-select:none;-moz-user-select:none;user-select:none;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.close-parent{display:flex;flex:1 1 0%;justify-content:flex-end;padding:var(--dyte-space-0, 0px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}#emoji-grid{margin-top:var(--dyte-space-2, 8px);box-sizing:border-box;display:flex;flex-direction:row;flex-wrap:wrap;align-content:flex-start;overflow-x:hidden;overflow-y:scroll;height:100%;grid-auto-rows:minmax(min-content, max-content)}#loader{display:flex;height:100%;width:100%;align-items:center;justify-content:center}input{display:block;height:var(--dyte-space-8, 32px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);font-size:14px;border-width:var(--dyte-border-width-none, 0);border-style:solid;border-style:none;border-color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}input::-moz-placeholder{color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}input::placeholder{color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}input{border-radius:var(--dyte-border-radius-sm, 4px);outline:2px solid transparent;outline-offset:2px;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms;border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60))}input:focus{--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-border-opacity));--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);--tw-ring-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-ring-opacity));--tw-ring-opacity:0.3}.emoji{height:var(--dyte-space-10, 40px);width:var(--dyte-space-10, 40px);font-size:20px;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}";var Te=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const De=class{constructor(e){(0,a.r)(this,e),this.iconPack=s.a,this.t=(0,s.c)()}render(){return(0,a.h)("dyte-tooltip",{key:"ed7771da8c8790052743bc9fe8da64c352b99826",label:this.t("chat.send_emoji")},(0,a.h)("dyte-button",{key:"16c59bbb9a708844c96569b89bbc246653c9d601",variant:"ghost",kind:"icon",class:{active:this.isActive},title:this.t("chat.send_emoji")},(0,a.h)("dyte-icon",{key:"27baf076cb231a538a31fd3759154a62d02c28b9",icon:this.iconPack.emoji_multiple})))}};Te([(0,o.S)()],De.prototype,"iconPack",void 0),Te([(0,o.S)()],De.prototype,"t",void 0),De.style=":host{}";const Ue=e=>e.split(/[#?]/)[0].split(".").pop().trim(),Oe=e=>{if(!e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return`${(e/1024**t).toFixed(2)} ${["B","kB","MB","GB","TB"][t]}`},Ee=async(e,t)=>{e=(0,n.a)(e);let i=null==t?void 0:t.name;const a=await fetch(e);if(!a.ok)return void window.open(e,"_blank");const r=URL.createObjectURL(await a.blob()),s=document.createElement("a");s.href=r,s.download=null!=i?i:((e,t="file")=>{try{const i=new URL(e).pathname.split("/").pop();return"/"!==i?i:t}catch(i){return t}})(e,null==t?void 0:t.fallbackName),s.click()};var Ie=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const Ae=class{constructor(e){(0,a.r)(this,e),this.now=new Date,this.isContinued=!1,this.iconPack=s.a,this.t=(0,s.c)(),this.showBubble=!1}render(){const e=(0,n.a)(this.message.link);return(0,a.h)(a.H,{key:"f5befc2c8ec9cb19a0bdf188a3313be725601841"},!this.isContinued&&(0,a.h)(l.C,{key:"127c8691596fe2b2ea236ecf754d6ceca18dee08",name:this.message.displayName,time:this.message.time,now:this.now}),(0,a.h)("div",{key:"209f10f73b231b9d7ccd5de677ff812dfc235950",class:{body:!0,bubble:this.showBubble},part:"body"},(0,a.h)("div",{key:"47834225c4d6b625db6823f979ae0b592f897ff8",class:"file"},(0,a.h)("div",{key:"14516331f804e78977f0b718758cf71b6e57ff33",class:"file-data"},(0,a.h)("div",{key:"fa03e638f47d8af6b66eca2b9155c3683d51eb8a",class:"name"},this.message.name),(0,a.h)("div",{key:"e9060694813e9d9d90692c70a52ff782a156268d",class:"file-data-split"},(0,a.h)("div",{key:"7955b2e62e52a2d23cb026badbb1b8960b8ac6e1",class:"ext"},Ue(this.message.name)),(0,a.h)("span",{key:"84d6ba7a76be685a3f1509c59d24844d29fd6fee",class:"divider"}),(0,a.h)("div",{key:"9070a6bac59bd947f0b73d4508bc1ff26a493f5d",class:"size"},Oe(this.message.size)))),(0,a.h)("dyte-button",{key:"8ff6e3be0173975f1ab73220317f7171a9923383",variant:"secondary",kind:"icon",onClick:()=>Ee(e,{name:this.message.name,fallbackName:"file"}),part:"button"},(0,a.h)("dyte-icon",{key:"da690564e3361a9f1ff1e4a933b21020636bd23e",icon:this.iconPack.download})))))}};Ie([(0,o.S)()],Ae.prototype,"iconPack",void 0),Ie([(0,o.S)()],Ae.prototype,"t",void 0);var He=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const $e=class{constructor(e){(0,a.r)(this,e),this.iconPack=s.a}render(){return(0,a.h)("div",{key:"27ef49cd85552610eb2aa9cfb2046f13e98f0b87",class:"file"},(0,a.h)("dyte-button",{key:"5553484477a3363eaa1a786f66a3e6a86036b7e3",variant:"secondary",kind:"icon",onClick:()=>Ee((0,n.a)(this.url),{name:this.name,fallbackName:"file"}),part:"button"},(0,a.h)("dyte-icon",{key:"f929d033d0a67ea654cb306bb5c175860f935af3",icon:this.iconPack.download})),(0,a.h)("div",{key:"238b4f2a4b47ef5d7f58d1e767cb409476073950",class:"file-data"},(0,a.h)("div",{key:"a7497d08623ef878d05c91d02114dbe3b1e5ac9d",class:"name"},this.name),(0,a.h)("div",{key:"3d361ca77f97b4f5d55ffa14173fb6be5e961140",class:"file-data-split"},(0,a.h)("div",{key:"d793ed396da5455431ca9a8937683a559531b575",class:"ext"},Ue(this.name)),(0,a.h)("span",{key:"098df4e883f1dfb51e6d4274ca6761f6ad5467a7",class:"divider"}),(0,a.h)("div",{key:"f11132ba5caa159139a94edb1213904b51886a7d",class:"size"},Oe(this.size)))))}};He([(0,o.S)()],$e.prototype,"iconPack",void 0),$e.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.file{display:flex;align-items:center;gap:var(--dyte-space-1, 4px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);padding-top:var(--dyte-space-1, 4px);padding-bottom:var(--dyte-space-1, 4px);min-width:var(--dyte-space-40, 160px);max-width:var(--dyte-space-64, 256px);border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}.file .file-data{margin-left:var(--dyte-space-1, 4px);flex:1 1 0%}.file .file-data .name{word-break:break-all;color:rgb(var(--dyte-colors-text-1000, 255 255 255));overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.file .file-data .file-data-split{margin-top:var(--dyte-space-0\\.5, 2px);display:flex;align-items:center;font-size:12px}.file .file-data .file-data-split .ext{margin-right:var(--dyte-space-2, 8px);text-transform:uppercase;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.file .file-data .file-data-split .divider{height:var(--dyte-space-4, 16px);width:var(--dyte-space-0\\.5, 2px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.file .file-data .file-data-split .size{margin-left:var(--dyte-space-2, 8px)}";var Ne=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const Be=class{constructor(e){(0,a.r)(this,e),this.onFileChange=(0,a.c)(this,"fileChange",7),this.icon="attach",this.iconPack=s.a,this.t=(0,s.c)(),this.uploadFile=()=>{const e=this.fileInputField;e.type="file",this.filter&&(e.accept=this.filter),e.onchange=e=>{const{validity:t,files:[i]}=e.target;t.valid&&this.onFileChange.emit(i)},e.click()}}connectedCallback(){this.fileInputField=document.createElement("input")}disconnectedCallback(){this.fileInputField=void 0}render(){const e=this.label||this.t("chat.send_file"),t=this.iconPack[this.icon];return(0,a.h)("dyte-tooltip",{key:"334c14777babe9de198038dd3b37926176d1a08a",label:e},(0,a.h)("dyte-button",{key:"0bc4d797c62074d3ffe9531d04c9087b21b16e0f",variant:"ghost",kind:"icon",onClick:()=>this.uploadFile(),title:e},(0,a.h)("dyte-icon",{key:"99066f2ba8c7eb773b1e9d5d9895d340af1d11fe",icon:t})))}};Ne([(0,o.S)()],Be.prototype,"iconPack",void 0),Ne([(0,o.S)()],Be.prototype,"t",void 0),Be.style=":host{}";var Fe=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const qe=e=>{try{return JSON.parse(e)}catch(t){return e}},Ve=class{constructor(e){(0,a.r)(this,e),this.variant="primary",this.size="lg"}render(){return(0,a.h)(a.H,{key:"7c30027e6133e5ec64063771c08d37a75b5435bd"},(0,a.h)("div",{key:"74cf660575c383f53e38ba4688612bc69dbe9b34",class:"icon-wrapper",innerHTML:qe(this.icon),part:"wrapper"}))}};Fe([(0,o.S)()],Ve.prototype,"size",void 0),Ve.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block;height:var(--dyte-space-10, 40px);outline:2px solid transparent;outline-offset:2px}:host .icon-wrapper{display:flex;height:100%;width:100%;flex-direction:column;align-items:center}:host svg{height:100%;width:100%;outline:2px solid transparent;outline-offset:2px}:host([size='xl']){box-sizing:border-box;display:block;height:var(--dyte-space-16, 64px) !important;width:var(--dyte-space-16, 64px) !important;--dyte-spinner-color:currentColor}:host([size='md']){box-sizing:border-box;display:block;height:var(--dyte-space-6, 24px) !important;width:var(--dyte-space-6, 24px) !important;--dyte-spinner-color:currentColor}:host([size='sm']){box-sizing:border-box;display:block;height:var(--dyte-space-4, 16px) !important;width:var(--dyte-space-4, 16px) !important;--dyte-spinner-color:currentColor}:host([variant='secondary']) .icon-wrapper{--tw-text-opacity:1;color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-text-opacity))}:host([variant='danger']) .icon-wrapper{--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}";var Ge=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const Je=class{constructor(e){(0,a.r)(this,e),this.stateUpdate=(0,a.c)(this,"dyteStateUpdate",7),this.now=new Date,this.isContinued=!1,this.iconPack=s.a,this.t=(0,s.c)(),this.showBubble=!1,this.status="loading"}render(){return(0,a.h)(a.H,{key:"fa9c168429dd5f92a542b7ca092dd4cc805743bd"},!this.isContinued&&(0,a.h)(l.C,{key:"dfd15b9192fc7198fef6c4b5f2964a83d912e53d",name:this.message.displayName,time:this.message.time,now:this.now}),(0,a.h)("div",{key:"cefee5d9928f506c9ff758c858cc53c12827ff35",class:{body:!0,bubble:this.showBubble},part:"body"},(0,a.h)("div",{key:"643e1d4703eac657c73467d0791307fba8aedcd8",class:{image:!0,loaded:"loaded"===this.status}},(0,a.h)("img",{key:"4453724021e1f2c83221cde8aebff82aceaf2e16",src:(0,n.a)(this.message.link),onLoad:()=>{this.status="loaded"},onError:()=>{this.status="errored"},onClick:()=>{"loaded"===this.status&&this.stateUpdate.emit({image:this.message})}}),"loading"===this.status&&(0,a.h)("div",{key:"ee3cf0052083e8468c9aed66fb8716e541424c5a",class:"image-spinner",title:this.t("chat.img.loading"),"aria-label":this.t("chat.img.loading")},(0,a.h)("dyte-spinner",{key:"a1e1563ab6269ce75dc319c6896d609b45fbd76e",iconPack:this.iconPack})),"errored"===this.status&&(0,a.h)("div",{key:"9a17301d149d6aa957408592ba5ea004f204c638",class:"image-errored",title:this.t("chat.error.img_not_found"),"aria-label":this.t("chat.error.img_not_found")},(0,a.h)("dyte-icon",{key:"ee5672f1c3708329f9d6a299c8186d9383b6c963",icon:this.iconPack.image_off})),"loaded"===this.status&&(0,a.h)("div",{key:"6b15f2e58846b2d3bbdb706c939d6c0e174ef45b",class:"actions"},(0,a.h)("dyte-button",{key:"b4c0904c8b31f2e8e0fed72d8147e106827ca8b8",class:"action",variant:"secondary",kind:"icon",onClick:()=>{this.stateUpdate.emit({image:this.message})}},(0,a.h)("dyte-icon",{key:"4745d25ee35fe6ce31f7cf037a6e6b6da07c7047",icon:this.iconPack.full_screen_maximize})),(0,a.h)("dyte-button",{key:"51d687441df970faf55c745bdbb39186188e2da0",class:"action",variant:"secondary",kind:"icon",onClick:()=>Ee(this.message.link,{fallbackName:"image"})},(0,a.h)("dyte-icon",{key:"cd488683796615bc0dd3c622338bf5949c0af89e",icon:this.iconPack.download}))))))}};Ge([(0,o.S)()],Je.prototype,"iconPack",void 0),Ge([(0,o.S)()],Je.prototype,"t",void 0),Je.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.image-spinner{cursor:wait}.image-errored{cursor:not-allowed}";var Ye=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const Qe=class{constructor(e){(0,a.r)(this,e),this.onPreview=(0,a.c)(this,"preview",7),this.iconPack=s.a,this.t=(0,s.c)(),this.status="loading"}render(){return(0,a.h)("div",{key:"4ab60c036ede1e5ff46471a978c68e5eafa615d3",class:{image:!0,loaded:"loaded"===this.status}},(0,a.h)("img",{key:"2eed0ef93098727817592425da81ff2357c60f72",src:(0,n.a)(this.url),onLoad:()=>{this.status="loaded"},onError:()=>{this.status="errored"},onClick:()=>{"loaded"===this.status&&this.onPreview.emit(this.url)}}),"loading"===this.status&&(0,a.h)("div",{key:"13efea611d39c5eb679d7cf5603dec9f95edc775",class:"image-spinner",title:this.t("chat.img.loading"),"aria-label":this.t("chat.img.loading")},(0,a.h)("dyte-spinner",{key:"afc0eb62f76007c1a15da942fb53fe79ee4aa37f",iconPack:this.iconPack})),"errored"===this.status&&(0,a.h)("div",{key:"c7aa254df37a2eaacb29f94ef22c2f7c056114ad",class:"image-errored",title:this.t("chat.error.img_not_found"),"aria-label":this.t("chat.error.img_not_found")},(0,a.h)("dyte-icon",{key:"873385f922410dd9c86192326c0470e2d310e08d",icon:this.iconPack.image_off})),"loaded"===this.status&&(0,a.h)("div",{key:"70a59be0b7b21af1a440ba8165cc2e55c249323d",class:"actions"},(0,a.h)("dyte-button",{key:"62801cc02ea09562a895e983f62e5e3271e89039",class:"action",variant:"secondary",kind:"icon",onClick:()=>{this.onPreview.emit(this.url)}},(0,a.h)("dyte-icon",{key:"60d0fdacecec31d24af48016dc2f58d95aaa71f2",icon:this.iconPack.full_screen_maximize})),(0,a.h)("dyte-button",{key:"adacc2b4023f5acc00e4b39304312593d7e74d62",class:"action",variant:"secondary",kind:"icon",onClick:()=>Ee(this.url,{fallbackName:"image"})},(0,a.h)("dyte-icon",{key:"5a455e504d1db35dcf8564458425dafd200129a3",icon:this.iconPack.download}))))}};Ye([(0,o.S)()],Qe.prototype,"iconPack",void 0),Ye([(0,o.S)()],Qe.prototype,"t",void 0),Qe.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.image-spinner{cursor:wait}.image-errored{cursor:not-allowed}.image{display:block;font-family:var(--dyte-font-family, sans-serif);color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));position:relative;height:var(--dyte-space-40, 160px);max-width:var(--dyte-space-64, 256px);cursor:pointer}.image img{display:none;height:100%;width:100%;border-radius:var(--dyte-border-radius-sm, 4px);-o-object-fit:cover;object-fit:cover}.image .image-spinner{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.image .image-spinner dyte-spinner{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-text-opacity))}.image .image-errored{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;border-radius:var(--dyte-border-radius-sm, 4px);background-color:rgba(var(--dyte-colors-danger, 255 45 45) / 0.1);--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}.image .actions{display:none;height:var(--dyte-space-8, 32px);align-items:center;position:absolute;top:var(--dyte-space-2, 8px);right:var(--dyte-space-2, 8px);border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));overflow:hidden;--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.image .actions .action{height:var(--dyte-space-8, 32px);width:var(--dyte-space-8, 32px);border-radius:var(--dyte-border-radius-none, 0);border-width:var(--dyte-border-width-none, 0);border-style:none;background-color:transparent;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.image .actions .action:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.image.loaded img{display:block}.image.loaded .image-spinner{display:none}.image:hover .actions,.image:focus .actions{display:flex}";var We=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const Ke=class{constructor(e){(0,a.r)(this,e),this.close=(0,a.c)(this,"close",7),this.t=(0,s.c)(),this.iconPack=s.a,this.keypressListener=e=>{"Escape"===e.key&&this.close.emit()},this.handleOutsideClick=()=>this.close.emit()}connectedCallback(){document.addEventListener("keydown",this.keypressListener),document.addEventListener("click",this.handleOutsideClick)}disconnectedCallback(){document.removeEventListener("keydown",this.keypressListener),document.removeEventListener("click",this.handleOutsideClick)}render(){return(0,a.h)(a.H,{key:"2491b39127e06ed796c380216cab38773f36209a",class:"scrollbar",onClick:e=>e.stopPropagation()},(0,a.h)("div",{key:"27dac52e6465f3e9dbfd415bcc1f34c6c1596635",class:"header"},(0,a.h)("div",{key:"7e9dab9f453cbc1bb7cd6cb2bab297bf671ca7d1",class:"shared-by-user"},this.t("chat.img.shared_by")," ",(0,a.h)("span",{key:"3ef88112f23a713d229b55d3bbc07cde28f5c461",class:"displayName"},(0,n.f)((0,n.s)(this.image.displayName)))),(0,a.h)("div",{key:"15a34a4d4b095ff64acd4682e7b5c8b8c85e8ca3",class:"actions"},(0,a.h)("dyte-button",{key:"88195fbcf9286c332d460e787ec378944779db1b",onClick:()=>Ee(this.image.link,{fallbackName:"image"})},(0,a.h)("dyte-icon",{key:"867a85747399a09446c0fde37738a898b999782d",icon:this.iconPack.download,slot:"start"}),"Download"),(0,a.h)("dyte-button",{key:"21a3c92ac5c52cd64911a3bbe115c5d7b0cf3397",kind:"icon",variant:"secondary",onClick:()=>this.close.emit()},(0,a.h)("dyte-icon",{key:"84d6450e7669cf9155c4cd2bb3be3d5f726033dc",icon:this.iconPack.dismiss})))),(0,a.h)("div",{key:"8db9e6e84b7836f089a6a98068c26dbfafd73529",class:"image-ctr"},(0,a.h)("img",{key:"200e0b6906bed300a4514b3b1baac10645803202",src:this.image.link})))}};We([(0,o.S)()],Ke.prototype,"size",void 0),We([(0,o.S)()],Ke.prototype,"t",void 0),We([(0,o.S)()],Ke.prototype,"iconPack",void 0),Ke.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{width:1140px;max-width:100%;box-sizing:border-box;display:flex;flex-direction:column;padding:var(--dyte-space-6, 24px);padding-top:var(--dyte-space-5, 20px);overflow-y:auto;color:rgb(var(--dyte-colors-text-1000, 255 255 255));z-index:40;border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity))}.displayName{font-weight:700}.image-ctr{margin-top:var(--dyte-space-2, 8px);box-sizing:border-box;display:flex;justify-content:center;overflow:hidden}.actions{display:flex;align-items:center;justify-content:flex-end;gap:var(--dyte-space-2, 8px)}img{box-sizing:border-box;display:block;max-height:100%;max-width:100%;-o-object-fit:contain;object-fit:contain}.header{display:flex;align-items:center;justify-content:space-between;padding-bottom:var(--dyte-space-4, 16px)}.shared-by-user{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}:host([size='sm']) .header{flex-direction:column}:host([size='sm']) .header .actions{margin-top:var(--dyte-space-4, 16px)}";var Xe=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const Ze=class{constructor(e){(0,a.r)(this,e),this.stateUpdate=(0,a.c)(this,"dyteStateUpdate",7),this.joinStage=(0,a.c)(this,"dyteJoinStage",7),this.leaveStage=(0,a.c)(this,"dyteLeaveStage",7),this.config=s.d,this.iconPack=s.a,this.t=(0,s.c)(),this.dataConfig={title:this.t("stage.join_title"),label:{accept:this.t("stage.join_confirm"),reject:this.t("stage.join_cancel")},description:this.t("stage.join_summary")},this.isLoading=!1}render(){var e,t;const i={meeting:this.meeting,size:this.size,states:this.states,config:this.config,iconPack:this.iconPack,t:this.t};return(0,a.h)(a.H,{key:"4fc08232560ec90d3cc13efaf69d7be2b7083c84",class:{stage:!0}},(0,a.h)("header",{key:"670578993c90490fb5184d710bbdee77218f0ae4"},(0,a.h)("h2",{key:"ea7574fa697829772e2840cf730536e6a2974e86"},this.dataConfig.title)),(0,a.h)(p.R,{key:"25136ca653e3bf08f45628c18ec4885fc5bca31f",element:"dyte-participant-setup",defaults:i,props:{participant:null===(e=this.meeting)||void 0===e?void 0:e.self,size:"md"},childProps:{participant:null===(t=this.meeting)||void 0===t?void 0:t.self,size:"md"},deepProps:!0}),(0,a.h)("div",{key:"06fdd1149e50508c662781aae6e5a7a6e5c786bd",class:"summary"},this.dataConfig.description),(0,a.h)("div",{key:"fbd5720696f7c415be96410b1d948c909c41ae36",class:"container"},(0,a.h)("dyte-button",{key:"f81130f39cca1c774d0bf2bfb0b2b30d88758cbd",variant:"secondary",onClick:()=>this.leaveStage.emit(),title:this.dataConfig.label.reject},this.dataConfig.label.reject),(0,a.h)("dyte-button",{key:"53dd411070bcde6b0c933855a7530e129d0c6b1c",onClick:()=>{this.isLoading||(this.isLoading=!0,this.joinStage.emit())},title:this.dataConfig.label.accept},this.isLoading?(0,a.h)("dyte-icon",{icon:this.iconPack.spinner}):this.dataConfig.label.accept)))}};Xe([(0,o.S)()],Ze.prototype,"meeting",void 0),Xe([(0,o.S)()],Ze.prototype,"states",void 0),Xe([(0,o.S)()],Ze.prototype,"size",void 0),Xe([(0,o.S)()],Ze.prototype,"iconPack",void 0),Xe([(0,o.S)()],Ze.prototype,"t",void 0),Ze.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host::-webkit-scrollbar{width:var(--dyte-space-1\\.5, 6px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}:host::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}:host(.stage){box-sizing:border-box;display:block;width:512px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));padding:var(--dyte-space-6, 24px);-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:auto;border-radius:var(--dyte-border-radius-md, 8px);line-height:1.25}:host(.stage) dyte-participant-setup{display:flex;flex:1 1 0%;align-items:center;justify-content:space-around;margin-left:auto;margin-right:auto}:host(.stage) .container dyte-button{flex-grow:1;padding:var(--dyte-space-1, 4px);width:50%}:host(.stage) .container dyte-button:nth-child(1){margin-right:var(--dyte-space-1\\.5, 6px)}:host(.stage) .container dyte-button:nth-child(2){margin-left:var(--dyte-space-1\\.5, 6px)}:host(.stage) h2{font-size:24px;font-weight:500;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}:host(.stage) header{padding-left:var(--dyte-space-4, 16px);padding-right:var(--dyte-space-4, 16px)}:host(.stage) .summary{padding:var(--dyte-space-4, 16px)}.deny-access{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}.container{width:100%;max-width:1080px;display:flex;flex:1 1 0%;align-items:center;justify-content:space-around}header{display:flex;align-items:center;justify-content:space-between}";var et=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const tt=class{constructor(e){(0,a.r)(this,e),this.stateUpdate=(0,a.c)(this,"dyteStateUpdate",7),this.keyPressListener=e=>{"Escape"===e.key&&this.close()},this.iconPack=s.a,this.t=(0,s.c)(),this.canEndMeeting=!1,this.isBreakoutRoomsActive=!1,this.isChildMeeting=!1,this.canJoinMainRoom=!1,this.permissionsUpdateListener=()=>{this.canEndMeeting=this.meeting.self.permissions.kickParticipant,this.canJoinMainRoom=this.meeting.self.permissions.connectedMeetings.canSwitchToParentMeeting},this.close=()=>{this.stateUpdate.emit({activeLeaveConfirmation:!1})},this.handleLeave=()=>{var e;null===(e=this.meeting)||void 0===e||e.leaveRoom(),this.close()},this.handleJoinMainRoom=()=>{this.meeting.connectedMeetings.moveParticipants(this.meeting.meta.meetingId,this.meeting.connectedMeetings.parentMeeting.id,[this.meeting.self.userId]),this.close()},this.handleEndMeeting=()=>{var e;null===(e=this.meeting)||void 0===e||e.participants.kickAll(),this.close()}}connectedCallback(){this.meetingChanged(this.meeting),document.addEventListener("keydown",this.keyPressListener)}disconnectedCallback(){var e;document.removeEventListener("keydown",this.keyPressListener),null===(e=this.meeting)||void 0===e||e.self.permissions.removeListener("permissionsUpdate",this.permissionsUpdateListener)}meetingChanged(e){null!=e&&(this.isBreakoutRoomsActive=this.meeting.connectedMeetings.supportsConnectedMeetings&&this.meeting.connectedMeetings.isActive,this.isChildMeeting=this.meeting.connectedMeetings.supportsConnectedMeetings&&this.meeting.connectedMeetings.meetings.some((t=>t.id===e.meta.meetingId)),this.meeting.self.permissions.addListener("permissionsUpdate",this.permissionsUpdateListener),this.permissionsUpdateListener())}render(){return(0,a.h)(a.H,{key:"c5753a8ebb2736da351d10529f002fc53f71cf6e"},(0,a.h)("div",{key:"1d08a38e0f9036a77981a6d48154e795b456c1fe",class:"leave-modal"},(0,a.h)("div",{key:"be3b122e0d37cab7898ce22c77885084fdc71a37",class:"header"},(0,a.h)("h2",{key:"57f69bc17c5d9ab5a246eb5e35651cd191993a2f",class:"title"},this.t("leave"))),(0,a.h)("p",{key:"be794688b2d9ab0039e0b34673ba2cfd384195a8",class:"message"},this.isBreakoutRoomsActive&&this.isChildMeeting?this.t("breakout_rooms.leave_confirmation"):this.t("leave_confirmation")),(0,a.h)("div",{key:"757a3aa9203f57b24fa9c1176a2d34b3106695e0",class:"content"},(0,a.h)("dyte-button",{key:"b5b39f76686aea039ff7cb3225e4948104386210",variant:"secondary",onClick:this.close,class:"secondary-btn"},this.t("cancel")),this.isBreakoutRoomsActive&&this.isChildMeeting&&this.canJoinMainRoom&&(0,a.h)("dyte-button",{key:"6a816c70fd6846a5da006e244074d7e72d9ce05c",variant:"secondary",onClick:this.handleJoinMainRoom,class:"secondary-btn"},this.t("breakout_rooms.leave_confirmation.main_room_btn")),(0,a.h)("dyte-button",{key:"7a978e721f7f1630fd21fff21210705fb4cbd37c",variant:this.canEndMeeting?"secondary":"danger",title:this.t("leave"),onClick:this.handleLeave,class:{"secondary-btn":this.canEndMeeting,"secondary-danger-btn":this.canEndMeeting}},this.t("leave")),this.canEndMeeting&&(0,a.h)("dyte-button",{key:"d204e9b3f2019e2352b0f5b5689ca37727d08f94",variant:"danger",onClick:this.handleEndMeeting},this.t("end.all")))))}static get watchers(){return{meeting:["meetingChanged"]}}};et([(0,o.S)()],tt.prototype,"meeting",void 0),et([(0,o.S)()],tt.prototype,"states",void 0),et([(0,o.S)()],tt.prototype,"iconPack",void 0),et([(0,o.S)()],tt.prototype,"t",void 0),tt.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.leave-modal{width:var(--dyte-space-72, 288px)}@media (min-width: 768px){.leave-modal{width:var(--dyte-space-96, 384px)}}.leave-modal{position:relative;display:flex;flex-direction:column;border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));padding:var(--dyte-space-8, 32px);color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.leave-modal .header h2{margin:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-3, 12px)}.leave-modal .message{color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}.leave-modal .content{margin-top:var(--dyte-space-4, 16px);font-size:14px;display:flex;flex-wrap:wrap;gap:var(--dyte-space-4, 16px)}.leave-modal .content dyte-button{height:var(--dyte-space-9, 36px);min-width:var(--dyte-space-44, 176px);flex-grow:1}.leave-modal .content .secondary-btn{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.leave-modal .content .secondary-btn:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.leave-modal .content .secondary-danger-btn{--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}";var it=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const at=class{constructor(e){(0,a.r)(this,e),this.config=s.d,this.t=(0,s.c)()}connectedCallback(){this.configChanged(this.config),this.meetingChanged(this.meeting)}configChanged(e){var t;if(null!=e){const i=null===(t=null==e?void 0:e.designTokens)||void 0===t?void 0:t.logo;null!=i&&null==this.logoUrl&&(this.logoUrl=i)}}meetingChanged(e){var t,i,a,r;if(null!=e){const s=null===(r=null===(a=null===(i=null===(t=e.self)||void 0===t?void 0:t.config)||void 0===i?void 0:i.header)||void 0===a?void 0:a.elements)||void 0===r?void 0:r.logo;null!=s&&null==this.logoUrl&&(this.logoUrl=s)}}render(){if(!this.logoUrl||""===this.logoUrl)return null;const e=this.logoUrl,t=this.t("logo");return(0,a.h)(a.H,{class:"loaded"},(0,a.h)("img",{src:e,alt:t}))}static get watchers(){return{config:["configChanged"],meeting:["meetingChanged"]}}};it([(0,o.S)()],at.prototype,"meeting",void 0),it([(0,o.S)()],at.prototype,"t",void 0),at.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;flex-direction:column;align-items:center;justify-content:center;color:rgb(var(--dyte-colors-text-1000, 255 255 255));height:100%;width:auto}svg,img{height:100%;width:auto}.brand-color{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-text-opacity))}";const rt=class{constructor(e){(0,a.r)(this,e),this.maxLength=c.M,this.restoreEmpty=(e,t,i)=>0===e.trim().length?`${t}${e}${t}`:i(e),this.renderLink=e=>(0,a.h)("a",{class:"link",href:e,target:"_blank",rel:"noopener noreferrer"},e),this.renderBold=e=>"string"==typeof e?this.restoreEmpty(e,"*",(e=>(0,a.h)("b",null,e))):(0,a.h)("b",null,this.renderTokens(e)),this.renderItalic=e=>"string"==typeof e?this.restoreEmpty(e,"_",(e=>(0,a.h)("i",null,e))):(0,a.h)("i",null,this.renderTokens(e)),this.renderStrikethrough=e=>"string"==typeof e?this.restoreEmpty(e,"~",(e=>(0,a.h)("s",null,e))):(0,a.h)("b",null,this.renderTokens(e)),this.renderPlainText=e=>"string"==typeof e?e:(0,a.h)("p",null,this.renderTokens(e)),this.renderTokens=e=>e.map((e=>{switch(e.type){case"a":if("string"==typeof e.content)return this.renderLink(e.content);case"b":return this.renderBold(e.content);case"i":return this.renderItalic(e.content);case"s":return this.renderStrikethrough(e.content);case"q":return(0,a.h)("span",{class:"block-quote"});default:return this.renderPlainText(e.content)}}))}renderMessage(e){let t=e.split("\n"),i=!1;"```"===t[0]&&"```"===t[t.length-1]&&(i=!0,t=t.slice(1,-1));const r=t.map((e=>{const t=(0,c.f)(e);return(0,a.h)("p",null,this.renderTokens(t))}));return i?(0,a.h)("pre",{style:{whiteSpace:"pre",overflow:"scroll"}},t.join("\n")):r}render(){const e=this.text.slice(0,this.maxLength),t=(0,c.j)(e,!0),i=(0,c.s)(e);return(0,a.h)("p",{key:"b3115390fc6d21369673cb6c92ba90b7a710173a"},0!==t.length&&(0,a.h)("blockquote",{key:"5aa48ffc60bb71da150b161582b9ab1b1ee59ff7"},this.renderMessage(t)),0!==i.length&&this.renderMessage(i))}};rt.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{overflow-wrap:break-word}a{color:currentColor}.block-quote,blockquote{margin:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-3, 12px);--tw-border-spacing-x:1px;--tw-border-spacing-y:1px;border-spacing:var(--tw-border-spacing-x) var(--tw-border-spacing-y);border-top-width:var(--dyte-border-width-none, 0);border-bottom-width:var(--dyte-border-width-none, 0);border-left-width:var(--dyte-border-width-md, 2px);border-right-width:var(--dyte-border-width-none, 0);border-style:solid;padding:var(--dyte-space-0\\.5, 2px);padding-left:var(--dyte-space-2, 8px);border-radius:var(--dyte-border-radius-sm, 4px);border-top-left-radius:var(--dyte-border-radius-none, 0);border-bottom-left-radius:var(--dyte-border-radius-none, 0)}pre{white-space:pre-wrap}";var st=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const ot=class{constructor(e){(0,a.r)(this,e),this.statesUpdate=(0,a.c)(this,"dyteStatesUpdate",7),this.roomJoinedListener=()=>{this.updateStates({meeting:"joined"})},this.waitlistedListener=()=>{this.updateStates({meeting:"waiting"})},this.roomLeftListener=({state:e})=>{"disconnected"!==e&&"failed"!==e&&this.updateStates({meeting:"ended",roomLeftState:e})},this.mediaPermissionUpdateListener=({kind:e,message:t})=>{if(["audio","video"].includes(e)&&("DENIED"===t||"SYSTEM_DENIED"===t)&&!0!==s.l.states.activeDebugger){const t={enabled:!0,kind:e};this.updateStates({activePermissionsMessage:t})}},this.socketConnectionUpdateListener=({state:e})=>{"failed"===e&&setTimeout((()=>{this.meeting.leave("disconnected")}),this.leaveRoomTimer)},this.loadConfigFromPreset=!1,this.applyDesignSystem=!1,this.mode="fixed",this.leaveOnUnmount=!1,this.t=(0,s.c)(),this.config=s.d,this.gridLayout="row",this.iconPack=s.a}connectedCallback(){var e;"undefined"!=typeof window&&(this.authErrorListener=e=>{e.detail.message.includes("401")&&this.updateStates({meeting:"ended",roomLeftState:"unauthorized"})},window.addEventListener("dyteError",this.authErrorListener)),this.leaveRoomTimer=1e4,this.loadConfigFromPreset=!0,this.applyDesignSystem=!0,this.resizeObserver=new y.i((()=>this.handleResize())),this.resizeObserver.observe(this.host),this.applyDesignSystem&&null!=(null===(e=this.config)||void 0===e?void 0:e.designTokens)&&"undefined"!=typeof document&&(0,g.p)(document.documentElement,this.config.designTokens),this.meetingChanged(this.meeting)}clearListeners(e){e&&(e.self.removeListener("roomLeft",this.roomLeftListener),e.self.removeListener("roomJoined",this.roomJoinedListener),e.self.removeListener("waitlisted",this.waitlistedListener),e.self.removeListener("mediaPermissionUpdate",this.mediaPermissionUpdateListener),e.meta.removeListener("socketConnectionUpdate",this.socketConnectionUpdateListener))}disconnectedCallback(){var e;this.leaveOnUnmount&&(null===(e=this.meeting)||void 0===e||e.leaveRoom()),this.resizeObserver.disconnect(),this.clearListeners(this.meeting),window.removeEventListener("dyteError",this.authErrorListener)}meetingChanged(e){var t,i;if(e){if(this.updateStates({viewType:e.meta.viewType}),this.loadConfigFromPreset&&null!=e.self.config){const i=e.self.config,{config:a,data:r}=(0,g.g)(i,e);this.config===s.d&&(this.config=a),null==this.showSetupScreen&&(this.showSetupScreen=r.showSetupScreen),e.connectedMeetings.supportsConnectedMeetings&&(null===(t=s.l.states.activeBreakoutRoomsManager)||void 0===t?void 0:t.destinationMeetingId)&&(this.showSetupScreen=!1)}this.applyDesignSystem&&null!=(null===(i=this.config)||void 0===i?void 0:i.designTokens)&&"undefined"!=typeof document&&(0,g.p)(document.documentElement,this.config.designTokens),e.self.addListener("roomJoined",this.roomJoinedListener),e.self.addListener("waitlisted",this.waitlistedListener),e.self.addListener("roomLeft",this.roomLeftListener),e.self.addListener("mediaPermissionUpdate",this.mediaPermissionUpdateListener),e.meta.addListener("socketConnectionUpdate",this.socketConnectionUpdateListener),e.connectedMeetings.supportsConnectedMeetings&&e.connectedMeetings.once("changingMeeting",this.handleChangingMeeting),e.self.roomJoined?this.updateStates({meeting:"joined"}):this.showSetupScreen?this.updateStates({meeting:"setup"}):e.joinRoom(),window.removeEventListener("dyteError",this.authErrorListener)}}listenState(e){this.updateStates(e.detail)}handleChangingMeeting(e){this.updateStates({activeBreakoutRoomsManager:Object.assign(Object.assign({},s.l.states.activeBreakoutRoomsManager),{destinationMeetingId:e})})}handleResize(){this.size=(0,b.g)(this.host.clientWidth)}updateStates(e){const t=Object.assign({},s.l.states);s.l.states=(0,g.d)(t,e),this.statesUpdate.emit(s.l.states)}render(){const e={meeting:this.meeting,size:this.size,states:s.l.states,config:this.config,iconPack:this.iconPack,t:this.t};if("CHAT"===s.l.states.viewType)return(0,a.h)("dyte-chat",Object.assign({},e));const t={"dyte-grid":{layout:this.gridLayout}};return(0,a.h)(p.R,{element:"dyte-meeting",defaults:e,asHost:!0,elementProps:t})}get host(){return(0,a.a)(this)}static get watchers(){return{meeting:["meetingChanged"]}}};st([(0,o.S)()],ot.prototype,"meeting",void 0),st([(0,o.S)()],ot.prototype,"t",void 0),st([(0,o.S)()],ot.prototype,"iconPack",void 0),ot.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{box-sizing:border-box;display:flex;flex-direction:column;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));overflow:hidden;position:fixed;top:var(--dyte-space-0, 0px);right:var(--dyte-space-0, 0px);bottom:var(--dyte-space-0, 0px);left:var(--dyte-space-0, 0px);height:100%;width:100%}:host([mode='fill']){position:relative}";var nt=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const dt=class{constructor(e){(0,a.r)(this,e),this.clickedThis=!1,this.placement="bottom-end",this.offset=10,this.iconPack=s.a,this.t=(0,s.c)(),this.handleOutsideClick=()=>{this.clickedThis||(this.menuListEl.style.display="none"),this.clickedThis=!1}}componentDidLoad(){document.addEventListener("click",this.handleOutsideClick),this.update()}disconnectedCallback(){document.removeEventListener("click",this.handleOutsideClick)}update(){(0,v.c)(this.triggerEl,this.menuListEl,{placement:this.placement,middleware:[(0,v.o)(this.offset),(0,v.f)(),(0,v.s)({padding:5})]}).then((({x:e,y:t})=>{Object.assign(this.menuListEl.style,{left:`${e}px`,top:`${t}px`})}))}render(){return(0,a.h)(a.H,{key:"8fce9cdf74c107e0438f30cd2c1ed33b5eb0570e"},(0,a.h)("span",{key:"bfe2fcfcac4f87a60cc2762d758c34e42c1ab653",id:"trigger",ref:e=>this.triggerEl=e,onClick:()=>{this.clickedThis=!0,"block"!==this.menuListEl.style.display?(this.menuListEl.style.display="block",this.update()):this.menuListEl.style.display="none"}},(0,a.h)("slot",{key:"09c4699c881002da8ffaab3cfef27e06d8ceae60",name:"trigger"})),(0,a.h)("span",{key:"1feae9bc99d7379471552ea2ea8a39c795259826",part:"menu-list",id:"menu-list",ref:e=>this.menuListEl=e},(0,a.h)("slot",{key:"01cc566916d96fb30a0845b975431c9202a20ebb"})))}};nt([(0,o.S)()],dt.prototype,"size",void 0),nt([(0,o.S)()],dt.prototype,"iconPack",void 0),nt([(0,o.S)()],dt.prototype,"t",void 0),dt.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{position:relative;display:inline-block;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}#menu-list{position:absolute;z-index:20;display:none}";var ct=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const lt=class{constructor(e){(0,a.r)(this,e),this.iconPack=s.a,this.t=(0,s.c)()}render(){return(0,a.h)(a.H,{key:"2e3a7e78987d9544820b74e2c83e8cd2c1b38e0b"},(0,a.h)("slot",{key:"be5768e5d7ec85f4d9e5c7fc43d3edd612f518c7",name:"start"}),(0,a.h)("slot",{key:"ce236f02c727fb4e42ee8cae25bc7bf00479be01"}),(0,a.h)("slot",{key:"92a2fb4f3a5fa3f03c396a1483b1eabfa83235e7",name:"end"}))}};ct([(0,o.S)()],lt.prototype,"size",void 0),ct([(0,o.S)()],lt.prototype,"iconPack",void 0),ct([(0,o.S)()],lt.prototype,"t",void 0),lt.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;align-items:center;padding-left:var(--dyte-space-3, 12px);padding-right:var(--dyte-space-3, 12px);padding-top:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-2, 8px);cursor:pointer;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms;color:rgb(var(--dyte-colors-text-1000, 255 255 255));font-size:14px}::slotted([slot='start']){margin-right:var(--dyte-space-2, 8px)}::slotted([slot='end']){margin-left:var(--dyte-space-2, 8px)}:host(:hover){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}:host(.red){--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}";var ht=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const pt=class{constructor(e){(0,a.r)(this,e),this.iconPack=s.a,this.t=(0,s.c)()}render(){return(0,a.h)(a.H,{key:"9aecbc06a89da8a7ea5ac9f5f8f47ad21ec389e8"},(0,a.h)("slot",{key:"3dfd067eec2d74e5e3751942b73f72fc2c6272cb"}))}};ht([(0,o.S)()],pt.prototype,"iconPack",void 0),ht([(0,o.S)()],pt.prototype,"t",void 0),pt.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;width:-moz-max-content;width:max-content;flex-direction:column;padding-top:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-2, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));overflow:hidden;border-radius:var(--dyte-border-radius-sm, 4px);--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}";var gt=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const bt=class{constructor(e){(0,a.r)(this,e),this.onAction=(0,a.c)(this,"action",7),this.actions=[],this.variant="bubble",this.viewType="outgoing",this.hideAvatar=!1,this.hideAuthorName=!1,this.hideMetadata=!1,this.iconPack=s.a}renderActions(){return(0,a.h)("dyte-menu",{placement:"top-end",offset:1},(0,a.h)("button",{slot:"trigger",class:"actions"},(0,a.h)("dyte-icon",{icon:this.iconPack.chevron_down})),(0,a.h)("dyte-menu-list",null,this.actions.map((e=>(0,a.h)("dyte-menu-item",{onClick:()=>this.onAction.emit(e.id)},e.icon&&(0,a.h)("dyte-icon",{icon:e.icon,slot:"start"}),e.label)))))}render(){return(0,a.h)(a.H,{key:"2a443309dfcb77b650bf1378ec13f77f2bf01593"},(0,a.h)("div",{key:"989baadfe7e60a3888be667fa0984c97c5a0f597",class:{"message-wrapper":!0,[this.viewType]:!0}},!this.hideAvatar&&(0,a.h)("aside",{key:"2513cf0da43268c39efd3a84c74aab3ec5adc85d",class:"avatar",part:"avatar"},(0,a.h)("dyte-avatar",{key:"18b94987038b10c30393a97f30025f31fe25c411",participant:{name:this.authorName,picture:this.avatarUrl},size:"sm"})),(0,a.h)("div",{key:"f88598f9114ef02ce5f8daa62a09220f0752ba79",class:"message",part:"message"},!this.hideAuthorName&&(0,a.h)("div",{key:"aaa59e19099a9c7d239e3f53b9017f257fe23165",class:"header"},this.authorName),(0,a.h)("div",{key:"4fe21121b123a49f30500ff488f12caa8a376c17",class:{body:!0,bubble:"bubble"===this.variant}},(0,a.h)("slot",{key:"4e8c4c9fa533cd920890648535fdb4203d320027"}),!this.hideMetadata&&!!this.time&&(0,a.h)("div",{key:"2612946059903647ac4172157cef2626e45c5dc7",class:"metadata",title:(0,l.f)(this.time)},(0,l.e)(this.time,new Date(Date.now()))),0!==this.actions.length&&this.renderActions()))))}};gt([(0,o.S)()],bt.prototype,"iconPack",void 0),bt.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}.message-wrapper{display:flex;flex-direction:row-reverse;gap:var(--dyte-space-2, 8px)}.message-wrapper.incoming{flex-direction:row}.message{display:flex;flex-direction:column}.header{margin-bottom:var(--dyte-space-1, 4px);align-self:flex-end;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));font-size:14px;font-weight:600}.incoming .header{align-self:flex-start}.body{display:flex;flex-direction:column;min-width:var(--dyte-space-24, 96px);font-family:var(--dyte-font-family, sans-serif);color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));font-size:14px;line-height:1.375;position:relative}.body .metadata{margin-top:var(--dyte-space-2, 8px);align-self:flex-end;font-size:10px}.bubble{max-width:var(--dyte-space-96, 384px);padding:var(--dyte-space-2, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));border-radius:var(--dyte-border-radius-md, 8px)}.incoming .bubble{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}.avatar{display:none}dyte-menu{position:absolute;right:var(--dyte-space-0, 0px);top:var(--dyte-space-0, 0px);border-radius:var(--dyte-border-radius-lg, 12px)}dyte-menu dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);cursor:pointer}.actions{display:flex;align-items:center;justify-content:center;padding-left:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-2, 8px);padding-top:var(--dyte-space-1, 4px);padding-right:var(--dyte-space-1, 4px);border-radius:var(--dyte-border-radius-md, 8px);border-width:var(--dyte-border-width-none, 0);border-style:none;background:radial-gradient(\n    at top right,\n    rgb(var(--dyte-colors-brand-300, 73 124 253)) 60%,\n    rgba(255, 255, 255, 0) 80%\n  )}.actions dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}.incoming .actions{background:radial-gradient(\n      at top right,\n      rgb(var(--dyte-colors-background-800, 30 30 30)) 60%,\n      rgba(255, 255, 255, 0) 80%\n    )}.incoming .actions dyte-icon{color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}.incoming dyte-avatar{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}@media (min-width: 400px){.avatar{display:flex;width:var(--dyte-space-6, 24px)}.avatar dyte-avatar{height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px);font-size:10px;overflow:clip;border-radius:9999px}}@media (hover: hover){dyte-menu{visibility:hidden}.body:hover dyte-menu{visibility:visible}}";var yt=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const vt=class{constructor(e){(0,a.r)(this,e),this.iconPack=s.a,this.variant="full",this.t=(0,s.c)(),this.audioinputDevices=[],this.canProduceAudio=!0,this.currentDevices={audio:void 0},this.stageStateListener=()=>{this.canProduceAudio="ALLOWED"===this.meeting.self.permissions.canProduceAudio},this.deviceListUpdateListener=async()=>{const e=await this.meeting.self.getAudioDevices();this.audioinputDevices=e},this.deviceUpdateListener=({device:e})=>{"audioinput"===e.kind&&(this.currentDevices={audio:e})},this.mediaPermissionUpdateListener=async({kind:e,message:t})=>{this.meeting&&"audio"===e&&"ACCEPTED"===t&&(this.audioinputDevices=await this.meeting.self.getAudioDevices())}}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){var e,t,i,a,r;null===(t=null===(e=this.meeting)||void 0===e?void 0:e.stage)||void 0===t||t.removeListener("stageStatusUpdate",this.stageStateListener),null===(i=this.meeting)||void 0===i||i.self.removeListener("deviceListUpdate",this.deviceListUpdateListener),null===(a=this.meeting)||void 0===a||a.self.removeListener("deviceUpdate",this.deviceUpdateListener),null===(r=this.meeting)||void 0===r||r.self.removeListener("mediaPermissionUpdate",this.mediaPermissionUpdateListener)}meetingChanged(e){null!=e&&(0,a.w)((async()=>{var t,i;const{self:a,stage:r}=e,s=await e.self.getAudioDevices(),o=null===(t=e.self.getCurrentDevices())||void 0===t?void 0:t.audio;this.currentDevices={audio:o},this.canProduceAudio="ALLOWED"===this.meeting.self.permissions.canProduceAudio,null==r||r.addListener("stageStatusUpdate",this.stageStateListener),a.addListener("deviceListUpdate",this.deviceListUpdateListener),a.addListener("deviceUpdate",this.deviceUpdateListener),a.addListener("mediaPermissionUpdate",this.mediaPermissionUpdateListener),this.audioinputDevices=null!=o?[null!==(i=s.find((e=>e.deviceId===o.deviceId)))&&void 0!==i?i:o,...s.filter((e=>e.deviceId!==o.deviceId))]:s}))}setDevice(e){var t;if((0,s.e)(this.meeting))return;const i=this.audioinputDevices.find((t=>t.deviceId===e));null!=i&&(this.currentDevices={audio:i},null===(t=this.meeting)||void 0===t||t.self.setDevice(i))}render(){if(null==this.meeting)return null;let e=0;return(0,a.h)(a.H,null,this.canProduceAudio&&(0,a.h)("div",{part:"microphone-selection",class:"group container "+this.variant},(0,a.h)("label",{slot:"label"},"inline"!==this.variant&&this.t("settings.microphone_input"),(0,a.h)("dyte-icon",{icon:this.iconPack.mic_on,size:"sm"})),(0,a.h)("div",{class:"row"},(0,a.h)("select",{class:"dyte-select",onChange:e=>this.setDevice(e.target.value)},this.audioinputDevices.map((({deviceId:t,label:i})=>{var r;return(0,a.h)("option",{value:t,selected:(null===(r=this.currentDevices.audio)||void 0===r?void 0:r.deviceId)===t},i||"Microphone "+ ++e)}))),(0,a.h)("slot",{name:"indicator"}))))}static get watchers(){return{meeting:["meetingChanged"]}}};yt([(0,o.S)()],vt.prototype,"meeting",void 0),yt([(0,o.S)()],vt.prototype,"size",void 0),yt([(0,o.S)()],vt.prototype,"iconPack",void 0),yt([(0,o.S)()],vt.prototype,"t",void 0),vt.style=".dyte-select{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.dyte-select:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.dyte-select{display:block;border-radius:var(--dyte-border-radius-sm, 4px);border-width:var(--dyte-border-width-none, 0);border-style:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:var(--dyte-space-3, 12px);font-size:16px;--icon-size:var(--dyte-select-chevron-size, var(--dyte-space-6, 24px));--icon-right-position:var(--dyte-select-chevron-right-position, var(--dyte-space-2, 8px));background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e\");background-position:right var(--icon-right-position) center;background-repeat:no-repeat;background-size:var(--icon-size) var(--icon-size);padding-right:calc(var(--icon-right-position) * 5);width:100%;max-width:100%;text-overflow:ellipsis}.inline .dyte-select{margin-top:var(--dyte-space-1, 4px);width:100%;padding-top:var(--dyte-space-1, 4px);padding-bottom:var(--dyte-space-1, 4px);padding-left:var(--dyte-space-1\\.5, 6px);padding-right:var(--dyte-space-1\\.5, 6px);padding-right:var(--dyte-space-8, 32px);font-size:14px}.row{margin-bottom:var(--dyte-space-2, 8px);display:flex;width:100%;align-items:center;justify-content:space-between;gap:var(--dyte-space-3, 12px)}.group{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px)}.group>*{margin-bottom:var(--dyte-space-2, 8px)}.group>*:last-child{margin-bottom:var(--dyte-space-0, 0px)}.group select{flex:1 1 0%}.inline.group{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-0\\.5, 2px)}.inline.group>*{margin-bottom:var(--dyte-space-0, 0px)}label{display:flex;-webkit-user-select:none;-moz-user-select:none;user-select:none;align-items:center;gap:var(--dyte-space-1, 4px);font-size:14px}.inline.container{display:flex;align-items:center;justify-content:flex-start;gap:var(--dyte-space-2, 8px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px)}";var ut=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const mt=class{constructor(e){(0,a.r)(this,e),this.stateUpdate=(0,a.c)(this,"dyteStateUpdate",7),this.iconPack=s.a,this.t=(0,s.c)(),this.allowUnmute=!0,this.onClose=()=>{this.stateUpdate.emit({activeMuteAllConfirmation:!1})},this.onMuteAll=()=>{var e;null===(e=this.meeting)||void 0===e||e.participants.disableAllAudio(this.allowUnmute),this.onClose()}}render(){return(0,a.h)(a.H,{key:"8d447912a33466ac84c7104e3731e67e5d574201"},(0,a.h)("div",{key:"f36495740298c71957ecb4038ea11baa96150427",class:"leave-modal"},(0,a.h)("div",{key:"5c7d23277e2fb5300b4d34800eb62e7a93e431dc",class:"header"},(0,a.h)("h2",{key:"bb08708a5d462763d51228e5368389c848f770b1",class:"title"},this.t("mute_all.header"))),(0,a.h)("p",{key:"34273d1a512336de748ce1de4b498baebd2c7cfb",class:"message"},this.t("mute_all.description")),(0,a.h)("div",{key:"2fae2f55acb20556e3478c5a57c9d3f5d0dae5ab",class:"content"},(0,a.h)("div",{key:"67308bf61bfa8891e0193033779ab4952a95a8e1",class:"leave-meeting"},(0,a.h)("dyte-button",{key:"03835bed6fe212b2d893ebd6c1d1061b6ef548e4",variant:"secondary",title:this.t("close"),onClick:this.onClose},this.t("cancel")),(0,a.h)("dyte-button",{key:"e9f5a1ef27c92446d6955e4898757070d39629ce",variant:"danger",title:this.t("mute_all"),onClick:this.onMuteAll},this.t("mute_all"))))))}};ut([(0,o.S)()],mt.prototype,"meeting",void 0),ut([(0,o.S)()],mt.prototype,"states",void 0),ut([(0,o.S)()],mt.prototype,"iconPack",void 0),ut([(0,o.S)()],mt.prototype,"t",void 0),mt.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block;-webkit-user-select:none;-moz-user-select:none;user-select:none}.leave-modal{position:relative;display:flex;flex-direction:column;border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));padding:var(--dyte-space-4, 16px);color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.leave-modal .header h2{margin:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-3, 12px)}.leave-modal .content{font-size:14px}.leave-message p{margin-top:var(--dyte-space-3, 12px);margin-bottom:var(--dyte-space-3, 12px)}.leave-meeting{display:flex;flex-direction:row;justify-content:space-between;gap:var(--dyte-space-2, 8px)}.leave-meeting dyte-button{flex:1 1 0%}.end-meeting{margin-top:var(--dyte-space-2, 8px)}.message{margin-bottom:var(--dyte-space-4, 16px)}label{display:flex;align-items:center}input[type='checkbox']{margin-right:var(--dyte-space-2, 8px);accent-color:rgb(var(--dyte-colors-brand-500, 33 96 253))}";var ft=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const xt=class{constructor(e){(0,a.r)(this,e),this.dismiss=(0,a.c)(this,"dyteNotificationDismiss",7),this.iconPack=s.a,this.t=(0,s.c)(),this.imageState="loading"}connectedCallback(){this.notificationChanged(this.notification)}notificationChanged(e){null!=e&&"number"==typeof e.duration&&setTimeout((()=>{this.dismiss.emit(e.id)}),e.duration)}render(){var e;return(0,a.h)(a.H,{key:"d1b50e98469e3a31478ffb37eaf0d16b06a97f11"},(0,a.h)("div",{key:"ccbba0abd0b8b2126ed435aa22fad0ce4c09bbc3",class:"ctr"},null!=this.notification.icon&&(0,a.h)("dyte-icon",{key:"2977f801f26dc7bab7484ca3344375b59e912789",class:"icon",icon:this.notification.icon,variant:null!==(e=this.notification.iconVariant)&&void 0!==e?e:"primary"}),null!=this.notification.image&&null==this.notification.icon&&"errored"!==this.imageState&&(0,a.h)("img",{key:"bb74bf766c92d366ff57a64109e9321a755173d3",src:this.notification.image,class:{loaded:"loaded"===this.imageState},onLoad:()=>this.imageState="loaded",onError:()=>this.imageState="errored"}),(0,a.h)("p",{key:"9882e460b11e649d6ea72ac5d366f968092bfdce",class:"message"},(0,a.h)(u.T,{key:"913d03c9028353d8b2b3d4a097a6cf588ac3ae9b",message:this.notification.message})),(0,a.h)("div",{key:"2c1458dc02e345bb3c1e3fc8285e6a561c4609eb",class:"right"},null!=this.notification.button&&(0,a.h)("dyte-button",{key:"2b5b9774b6f289ca2f533e5473080007b1390ec1",size:"sm",variant:this.notification.button.variant,onClick:()=>this.notification.button.onClick()},this.notification.button.text),(0,a.h)("dyte-icon",{key:"51b648dbc0c1411633a6e1e741080b82a7e95c5b","aria-label":this.t("dismiss"),class:"dismiss",icon:this.iconPack.dismiss,onClick:()=>this.dismiss.emit(this.notification.id)}))))}static get watchers(){return{notification:["notificationChanged"]}}};ft([(0,o.S)()],xt.prototype,"size",void 0),ft([(0,o.S)()],xt.prototype,"iconPack",void 0),ft([(0,o.S)()],xt.prototype,"t",void 0),xt.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{pointer-events:none;display:block;height:var(--dyte-space-10, 40px);color:rgb(var(--dyte-colors-text-1000, 255 255 255));animation:show 0.4s ease;transition:0.4s;z-index:100}.ctr{box-sizing:border-box;display:inline-flex;height:100%;min-width:var(--dyte-space-40, 160px);align-items:center;padding-left:var(--dyte-space-3, 12px);padding-right:var(--dyte-space-3, 12px);-webkit-user-select:none;-moz-user-select:none;user-select:none;border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));--tw-shadow:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);--tw-shadow-color:rgb(var(--dyte-colors-background-1000, 8 8 8));--tw-shadow:var(--tw-shadow-colored);pointer-events:auto}img{margin-right:var(--dyte-space-2, 8px);height:var(--dyte-space-0, 0px);width:var(--dyte-space-0, 0px);border-radius:9999px}img.loaded{height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px)}.message{margin-right:var(--dyte-space-3, 12px);max-width:var(--dyte-space-72, 288px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.message p{margin:var(--dyte-space-0, 0px);margin-right:var(--dyte-space-1, 4px);display:inline-block}.message blockquote{display:none}dyte-icon.icon{margin-right:var(--dyte-space-2, 8px);height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px);color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}dyte-icon.dismiss{margin-left:auto;height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px);border-radius:var(--dyte-border-radius-md, 8px);color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}dyte-icon.dismiss:hover{cursor:pointer;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}dyte-icon.dismiss{transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}dyte-button{margin-left:var(--dyte-space-4, 16px);margin-right:var(--dyte-space-2, 8px);border-radius:var(--dyte-border-radius-sm, 4px)}.right{margin-left:auto;display:flex;align-items:center}.right>*{margin-left:var(--dyte-space-2, 8px)}.right>*:first-child{margin-left:var(--dyte-space-0, 0px)}:host(.exit){animation:exit 0.4s ease}@keyframes show{0%{opacity:0;transform:translateX(-120px)}100%{opacity:1;transform:translateX(0px)}}@keyframes exit{0%{opacity:1;transform:translateX(0)}100%{opacity:0;transform:translateX(-120px)}}:host([size='sm']){font-size:14px}";const wt=2e3,kt=Object.freeze({notifications:{participant_joined:!0,participant_left:!0,participant_joined_waitlist:!0,chat:!0,polls:!0,webinar:!0,tab_sync:!0,recording_started:!0,recording_stopped:!0},notification_sounds:{participant_joined:!0,participant_left:!0,chat:!0,polls:!0,webinar:!0,participant_joined_waitlist:!0},notification_duration:{participant_joined:2100,participant_left:2100,participant_joined_waitlist:4e3,chat:wt,polls:wt,webinar:wt,tab_sync:wt,recording_started:wt,recording_stopped:wt},participant_joined_sound_notification_limit:10,participant_chat_message_sound_notification_limit:10});var Pt=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};function Ct(e){return Object.keys(e).filter((t=>e[t]))}const St=class{constructor(e){(0,a.r)(this,e),this.permissions=kt,this.enabledSounds=Ct(kt.notification_sounds),this.config=s.d,this.t=(0,s.c)(),this.iconPack=s.a,this.notifications=[],this.addStagePeersListeners=e=>{e.participants.joined.addListener("participantJoined",this.participantJoinedListener),e.participants.joined.addListener("participantLeft",this.participantLeftListener)},this.removeStagePeersListeners=e=>{e.participants.joined.removeListener("participantJoined",this.participantJoinedListener),e.participants.joined.removeListener("participantLeft",this.participantLeftListener)},this.onDyteNotification=e=>{this.add(e.detail);const t=e.detail.playSound;null!=t&&this.audio.play(t)},this.onRecordingUpdate=e=>{var t,i;"RECORDING"===e&&!1!==this.permissions.notifications.recording_started?this.add({id:"recording-started",icon:this.iconPack.recording,message:this.t("recording.started"),duration:null!==(t=this.permissions.notification_duration.recording_started)&&void 0!==t?t:wt}):"STOPPING"===e&&!1!==this.permissions.notifications.recording_stopped&&this.add({id:"recording-stopped",icon:this.iconPack.stop_recording,message:this.t("recording.stopped"),duration:null!==(i=this.permissions.notification_duration.recording_stopped)&&void 0!==i?i:wt})}}connectedCallback(){"undefined"!=typeof document&&(null===document||void 0===document||document.addEventListener("dyteNotification",this.onDyteNotification)),this.meetingChanged(this.meeting),this.configChanged(this.config),this.statesChanged(this.states)}clearListeners(e){var t,i,a,r,s,o,n,d;const c="LIVESTREAM"===e.meta.viewType;(c&&"ON_STAGE"===(null===(t=e.stage)||void 0===t?void 0:t.status)||!c)&&this.removeStagePeersListeners(e),this.chatUpdateListener&&(null===(i=e.chat)||void 0===i||i.removeListener("chatUpdate",this.chatUpdateListener)),this.pollUpdateListener&&(null===(a=e.polls)||void 0===a||a.removeListener("pollsUpdate",this.pollUpdateListener)),e.meta.removeListener("socketConnectionUpdate",this.socketConnectionUpdateListener),this.stageRequestAccepted&&(null===(r=e.stage)||void 0===r||r.removeListener("stageRequestApproved",this.stageRequestAccepted)),this.stageRequestRejected&&(null===(s=e.stage)||void 0===s||s.removeListener("stageRequestRejected",this.stageRequestRejected)),this.newStageRequests&&(null===(o=e.stage)||void 0===o||o.removeListener("newStageRequest",this.newStageRequests)),this.stageStatusUpdateListener&&(null===(n=e.stage)||void 0===n||n.removeListener("stageStatusUpdate",this.stageStatusUpdateListener)),null===(d=e.recording)||void 0===d||d.removeListener("recordingUpdate",this.onRecordingUpdate),clearTimeout(this.disconnectTimeout),e.self.removeListener("deviceUpdate",this.deviceUpdateListener)}disconnectedCallback(){var e;"undefined"!=typeof document&&(null===document||void 0===document||document.removeEventListener("dyteNotification",this.onDyteNotification)),null!=this.meeting&&(this.clearListeners(this.meeting),this.waitlistedParticipantJoinedListener&&this.meeting.participants.waitlisted.removeListener("participantJoined",this.waitlistedParticipantJoinedListener),this.waitlistedParticipantLeftListener&&this.meeting.participants.waitlisted.removeListener("participantLeft",this.waitlistedParticipantLeftListener),this.activeTabUpdateListener&&(null===(e=this.meeting.meta)||void 0===e||e.removeListener("activeTabUpdate",this.activeTabUpdateListener)),this.peerStageStatusListener&&this.meeting.participants.joined.removeListener("stageStatusUpdate",this.peerStageStatusListener))}meetingChanged(e,t){var i,a,r,o,d,l,h,p,g;if(clearTimeout(this.disconnectTimeout),void 0!==t&&this.clearListeners(t),null==e)return;const b="LIVESTREAM"===e.meta.viewType;this.audio=new m.D(e);const{notifications:y,notification_duration:v,notification_sounds:u}=this.permissions;if(this.participantJoinedListener=e=>{y.participant_joined&&this.add({id:`${e.id}-joined`,message:`${(0,n.f)(e.name)} ${this.t("notifications.joined")}`,image:e.picture,duration:v.participant_joined}),u.participant_joined&&this.canPlayParticipantJoinedSound()&&this.audio.play("joined")},this.participantLeftListener=e=>{const{socketState:{state:t}}=this.meeting.meta;y.participant_left&&"connected"!==t&&this.add({id:`${e.id}-left`,message:`${(0,n.f)(e.name)} ${this.t("notifications.left")}`,image:e.picture,duration:v.participant_left}),u.participant_left&&this.canPlayParticipantJoinedSound()&&this.audio.play("left")},this.waitlistedParticipantJoinedListener=e=>{if(!this.canAcceptWaitingRequests())return;const t=`${e.id}-joined-waitlist`;this.add({id:t,message:`${(0,n.f)(e.name)} ${this.t("notifications.requesting_to_join_meeting")}`,image:e.picture,duration:v.participant_joined_waitlist,button:{text:this.t("notifications.accept"),variant:"primary",onClick:async()=>{await this.meeting.participants.acceptWaitingRoomRequest(e.id),this.remove(t)}}}),u.participant_joined_waitlist&&this.canPlayParticipantJoinedSound()&&this.audio.play("message")},this.waitlistedParticipantLeftListener=e=>{this.remove(`${e.id}-joined-waitlist`)},this.chatUpdateListener=({message:t})=>{const i=(0,c.p)(t);if(null!=i){if(i.userId===e.self.userId)return;"text"===i.type&&(y.chat&&this.add({id:`message-${Math.random().toString(36)}`,icon:this.iconPack.chat,message:`${i.displayName}: ${i.message}`,duration:v.chat}),u.chat&&this.canPlayChatSound()&&this.audio.play("message"))}},this.pollUpdateListener=({polls:e,newPoll:t})=>{!1!==t&&(y.polls&&this.meeting.self.userId!==e[e.length-1].createdByUserId&&this.add({id:`poll-${Math.random().toString(36)}`,icon:this.iconPack.poll,message:`${this.t("notifications.new_poll_created_by")} ${e[e.length-1].createdBy}`,duration:v.polls}),u.polls&&this.meeting.self.userId!==e[e.length-1].createdByUserId&&this.canPlayChatSound()&&this.audio.play("message"))},this.deviceUpdateListener=({device:e,preview:t})=>{t||("audiooutput"===e.kind&&(this.audio.setDevice(e.deviceId),this.remove("speaker-switched"),this.add({id:"speaker-switched",message:`${this.t("notifications.connected_to")} ${e.label}`,icon:this.iconPack.speaker,duration:5e3})),"videoinput"===e.kind&&(this.remove("camera-switched"),this.add({id:"camera-switched",message:`${this.t("notifications.connected_to")} ${e.label}`,icon:this.meeting.self.videoEnabled?this.iconPack.video_on:this.iconPack.video_off,iconVariant:this.meeting.self.videoEnabled?"primary":"danger",duration:5e3})),"audioinput"===e.kind&&(this.remove("mic-switched"),this.add({id:"mic-switched",message:`${this.t("notifications.connected_to")} ${e.label}`,icon:this.meeting.self.audioEnabled?this.iconPack.mic_on:this.iconPack.mic_off,iconVariant:this.meeting.self.audioEnabled?"primary":"danger",duration:5e3})))},this.socketConnectionUpdateListener=({state:e,reconnectionAttempt:t,reconnected:i})=>{switch(e){case"connected":this.remove("socket"),i&&this.add({id:"socket",icon:this.iconPack.wifi,message:this.t("network.restored"),duration:3e3});break;case"disconnected":this.remove("socket"),this.add({id:"socket",icon:this.iconPack.disconnected,message:this.t("network.reconnecting")});break;case"reconnecting":t>=6?(this.remove("socket"),this.add({id:"socket",icon:this.iconPack.disconnected,message:this.t("network.disconnected"),button:{text:this.t("end"),variant:"danger",onClick:()=>{var e;return null===(e=this.meeting)||void 0===e?void 0:e.leaveRoom()}}})):t>=4&&(this.remove("socket"),this.add({id:"socket",icon:this.iconPack.disconnected,message:this.t("network.delay_extended")}));break;case"failed":this.remove("socket"),this.add({id:"socket",icon:this.iconPack.disconnected,message:this.t("network.leaving"),button:{text:this.t("end"),variant:"danger",onClick:()=>{var e;return null===(e=this.meeting)||void 0===e?void 0:e.leaveRoom()}}})}},this.activeTabUpdateListener=t=>{if(y.tab_sync)switch(t.type){case"plugin":const i=e.plugins.active.toArray().find((e=>e.id==t.id));null!=i&&this.add({id:"activeTab",message:`${this.t("notifications.plugin_switched_to")} ${i.name}`,duration:v.participant_joined});break;case"screenshare":const a=e.participants.joined.toArray().filter((e=>e.screenShareEnabled)).find((e=>e.id==t.id));null!=a&&this.add({id:"spotlight",message:`Now watching ${a.name}'s screen`,duration:v.webinar})}},this.peerStageStatusListener=e=>{"REQUESTED_TO_JOIN_STAGE"===e.stageStatus&&(this.add({id:`stage-request-${e.id}`,message:`${e.name} ${this.t("notifications.requested_to_join_stage")}`,duration:v.webinar,button:{text:this.t("notifications.accept"),variant:"primary",onClick:async()=>{await this.meeting.stage.grantAccess([e.userId]),this.remove(`stage-request-${e.id}`)}}}),u.webinar&&this.audio.play("joined")),"ON_STAGE"===e.stageStatus&&(this.add({id:`stage-joined-${e.id}`,message:`${e.name} ${this.t("notifications.joined_stage")}`,duration:v.webinar}),u.webinar&&this.audio.play("joined"))},this.stageRequestAccepted=()=>{this.add({id:"stage-request-accepted",message:this.t("notifications.request_to_join_accepted"),duration:3e3})},this.stageRequestRejected=()=>{this.add({id:"stage-request-rejected",message:this.t("notifications.request_to_join_rejected"),duration:3e3})},this.newStageRequests=({count:e})=>{this.add({id:"new-stage-request",message:`You have ${e<0?"new stage":`${e} pending`} request${1===e?"":"s"}`,duration:3e3})},this.stageStatusUpdateListener=t=>{"ON_STAGE"===t?this.addStagePeersListeners(e):this.removeStagePeersListeners(e)},!(0,s.s)(e)&&(null===(i=e.chat)||void 0===i||i.addListener("chatUpdate",this.chatUpdateListener)),"CHAT"===(null===(a=e.self.config.viewType)||void 0===a?void 0:a.toString()))return;const f=e.self.getCurrentDevices();null!=f.speaker&&this.audio.setDevice(f.speaker.deviceId),b?null===(r=e.stage)||void 0===r||r.on("stageStatusUpdate",this.stageStatusUpdateListener):this.addStagePeersListeners(e),this.canAcceptWaitingRequests()&&(e.participants.waitlisted.addListener("participantJoined",this.waitlistedParticipantJoinedListener),e.participants.waitlisted.addListener("participantLeft",this.waitlistedParticipantLeftListener)),null===(o=e.polls)||void 0===o||o.addListener("pollsUpdate",this.pollUpdateListener),e.self.addListener("deviceUpdate",this.deviceUpdateListener),e.meta.addListener("socketConnectionUpdate",this.socketConnectionUpdateListener),null===(d=e.meta)||void 0===d||d.addListener("activeTabUpdate",this.activeTabUpdateListener),null===(l=e.recording)||void 0===l||l.addListener("recordingUpdate",this.onRecordingUpdate),null===(h=e.stage)||void 0===h||h.addListener("stageRequestApproved",this.stageRequestAccepted),null===(p=e.stage)||void 0===p||p.addListener("stageRequestRejected",this.stageRequestRejected),e.self.permissions.stageEnabled&&e.self.permissions.acceptStageRequests&&(null===(g=e.stage)||void 0===g||g.addListener("newStageRequest",this.newStageRequests))}configChanged(e){null!=e&&null!=(null==e?void 0:e.config)&&(this.permissions=function(e){const t=Object.assign({},kt);return null==e||(Object.assign(t.notification_sounds,e.notification_sounds),Object.assign(t.notifications,e.notifications),Object.assign(t.notification_duration,e.notification_duration),t.participant_chat_message_sound_notification_limit=e.participant_chat_message_sound_notification_limit,t.participant_joined_sound_notification_limit=e.participant_joined_sound_notification_limit),t}(e.config),this.enabledSounds=Ct(this.permissions.notification_sounds))}statesChanged(e){var t;if(null!=e){const i=!(null===(t=null==e?void 0:e.prefs)||void 0===t?void 0:t.muteNotificationSounds);for(const e of this.enabledSounds)e in this.permissions.notification_sounds&&(this.permissions.notification_sounds[e]=i)}}apiErrorListener({detail:e}){const{trace:t,message:i}=e;this.add({id:t,message:i,duration:wt,icon:this.iconPack.warning})}sendNotificationListener({detail:e}){const{trace:t,message:i}=e;this.add({id:t,message:i,duration:wt})}add(e){"visible"===document.visibilityState&&this.notifications.length<5&&(this.notifications=[...this.notifications,e])}remove(e){this.notifications=this.notifications.filter((t=>t.id!==e))}handleDismiss(e){e.stopPropagation();const t=e.detail,i=this.host.shadowRoot.querySelector(`[data-id="${t}"]`);null==i||i.classList.add("exit"),setTimeout((()=>{(0,a.w)((()=>{this.remove(t)}))}),400)}canPlayParticipantJoinedSound(){return null==this.permissions.participant_joined_sound_notification_limit||this.permissions.participant_joined_sound_notification_limit<=0||this.meeting.participants.count<=this.permissions.participant_joined_sound_notification_limit}canPlayChatSound(){return null==this.permissions.participant_chat_message_sound_notification_limit||this.permissions.participant_chat_message_sound_notification_limit<=0||this.meeting.participants.count<=this.permissions.participant_chat_message_sound_notification_limit}canAcceptWaitingRequests(){return this.permissions.notifications.participant_joined_waitlist&&this.meeting.self.permissions.acceptWaitingRequests}render(){return(0,a.h)(a.H,{key:"1e122b16897a90f7c7900057849e89d5152f477f"},this.notifications.map((e=>(0,a.h)("dyte-notification",{size:this.size,key:e.id,"data-id":e.id,notification:e,onDyteNotificationDismiss:e=>this.handleDismiss(e),iconPack:this.iconPack,t:this.t}))))}get host(){return(0,a.a)(this)}static get watchers(){return{meeting:["meetingChanged"],config:["configChanged"],states:["statesChanged"]}}};Pt([(0,o.S)()],St.prototype,"meeting",void 0),Pt([(0,o.S)()],St.prototype,"states",void 0),Pt([(0,o.S)()],St.prototype,"t",void 0),Pt([(0,o.S)()],St.prototype,"size",void 0),Pt([(0,o.S)()],St.prototype,"iconPack",void 0),St.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{position:absolute;top:var(--dyte-space-4, 16px);right:var(--dyte-space-4, 16px);bottom:var(--dyte-space-4, 16px);left:var(--dyte-space-4, 16px);top:auto;display:flex;flex-direction:column;pointer-events:none;z-index:100}dyte-notification{margin-top:var(--dyte-space-2, 8px)}";var Lt=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const Mt=class{constructor(e){(0,a.r)(this,e),this.stateUpdate=(0,a.c)(this,"dyteStateUpdate",7),this.iconPack=s.a,this.t=(0,s.c)()}connectedCallback(){this.states.activeOverlayModal.timeout&&setTimeout((()=>{this.stateUpdate.emit({activeOverlayModal:{active:!1}})}),this.states.activeOverlayModal.timeout)}render(){return(0,a.h)(a.H,{key:"b4fa570e714d3297c1f7f5b25038d877f6001319"},(0,a.h)("dyte-icon",{key:"df183bada8963c6fbb22f27768e96922232201b7",icon:this.states.activeOverlayModal.icon}),(0,a.h)("h2",{key:"c028667f07d9db82e27e9e25f6e1d8712edccf20"},this.states.activeOverlayModal.title),(0,a.h)("p",{key:"74e847ad00e26147494acfb74481025e5c62f27c"},this.states.activeOverlayModal.description))}};Lt([(0,o.S)()],Mt.prototype,"meeting",void 0),Lt([(0,o.S)()],Mt.prototype,"states",void 0),Lt([(0,o.S)()],Mt.prototype,"iconPack",void 0),Lt([(0,o.S)()],Mt.prototype,"t",void 0),Mt.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / 0.6);position:fixed;top:var(--dyte-space-0, 0px);right:var(--dyte-space-0, 0px);z-index:50}dyte-icon{height:var(--dyte-space-20, 80px)}h2{margin:var(--dyte-space-2, 8px);font-weight:500}p{margin:var(--dyte-space-0, 0px);font-size:16px}";var _t=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const jt=class{constructor(e){(0,a.r)(this,e),this.autoScroll=!0,this.iconPack=s.a,this.t=(0,s.c)(),this.emptyListLabel=null,this.isLoading=!1,this.rerenderBoolean=!1,this.shouldRenderNewNodes=!0,this.hasNewNodesToRender=!1,this.showEmptyListLabel=!1,this.pagesToRender=[[]],this.currentTime=()=>(new Date).getTime(),this.observe=e=>{e&&this.intersectionObserver.observe(e)}}async onNewNode(e){this.shouldRenderNewNodes?(this.addNodeToRender(e,!1),this.rerender()):this.hasNewNodesToRender=!0}async onNodeDelete(e){const t=this.pagesToRender.flat().length;this.pagesToRender=this.pagesToRender.map((t=>t.filter((t=>t.id!==e)))),t!==this.pagesToRender.flat().length&&this.rerender()}async onNodeUpdate(e,t){let i=!1;this.pagesToRender=this.pagesToRender.map((a=>a.map((a=>a.id===e?(i=!0,t):a)))),i&&this.rerender()}onItemChanged(e,t){e!==t&&(this.pagesToRender=[[]],this.loadFirstPage().then((()=>this.rerender())))}connectedCallback(){this.rerender=(0,d.d)(this.rerender.bind(this),50,{maxWait:200}),this.intersectionObserver=new IntersectionObserver((e=>{(0,a.w)((()=>{for(const t of e)"bottom-scroll"===t.target.id&&(t.isIntersecting?this.loadBottom():this.shouldRenderNewNodes=!1),"top-scroll"===t.target.id&&t.isIntersecting&&this.loadTop()}))}))}disconnectedCallback(){this.intersectionObserver.disconnect()}componentDidLoad(){this.loadFirstPage(),this.observe(this.$topRef),this.observe(this.$bottomRef)}componentDidRender(){this.shouldRenderNewNodes&&this.autoScroll&&(0,h.s)(this.$paginatedList)}loadFirstPage(){return this.loadPage(this.currentTime(),this.pageSize,!0,(e=>{0===e.length&&(this.showEmptyListLabel=!0)}))}loadTop(){if(0===this.pagesToRender.length)return;if(1===this.pagesToRender.length&&this.pagesToRender[0].length<this.pageSize)return;const e=this.pagesToRender[0][0].timeMs;this.loadPage(e-1,this.pageSize,!0,(()=>{}))}loadBottom(){if(0===this.pagesToRender.length)return void(this.shouldRenderNewNodes=!0);if(1===this.pagesToRender.length&&this.pagesToRender[0].length<this.pageSize)return void(this.shouldRenderNewNodes=!0);const e=this.pagesToRender.at(-1).at(-1).timeMs;this.loadPage(e+1,this.pageSize,!1,(()=>(0,h.s)(this.$paginatedList)))}addNodeToRender(e,t){if(t){const t=this.pagesToRender[0];if(t&&(null==t?void 0:t.length)<this.pageSize)t.unshift(e);else{const t=[e];this.pagesToRender.unshift(t),this.removeLastPageIfNeeded(!1)}}else{const[t]=this.pagesToRender.slice(-1);if(t&&(null==t?void 0:t.length)<this.pageSize)t.push(e);else{const t=[e];this.pagesToRender.push(t),this.removeLastPageIfNeeded(!0)}}}async loadPage(e,t,i,a=()=>{}){this.isLoading=!0;const r=await this.fetchData(e,t,i);if(this.isLoading=!1,!(null==r?void 0:r.length))return i||(this.hasNewNodesToRender=!1,this.shouldRenderNewNodes=!0),void a([]);r.forEach((e=>this.addNodeToRender(e,i))),this.rerender(),a(r)}rerender(){this.rerenderBoolean=!this.rerenderBoolean}removeLastPageIfNeeded(e){this.pagesToRender.length>this.pagesAllowed&&(e?this.pagesToRender.shift():this.pagesToRender.pop())}onDownArrowClicked(){this.loadBottom()}render(){var e;return(0,a.h)(a.H,{key:"704a4d2f1669f83d2b609276c4e43b7d242dc204"},(0,a.h)("div",{key:"a73818c8a9db30909b021e5409a05e54b917172c",class:"scrollbar container",part:"container",ref:e=>this.$paginatedList=e},(0,a.h)("div",{key:"4f3c5bbde0e1e3d868b9f188c1de0aea83c57ef7",class:{"show-new-messages-ctr":!0,active:!this.shouldRenderNewNodes}},(0,a.h)("dyte-button",{key:"8bee70e062ccefaedf15495bb4be713b75c72c98",class:"show-new-messages",kind:"icon",variant:"secondary",part:"show-new-messages",onClick:()=>this.onDownArrowClicked()},(0,a.h)("dyte-icon",{key:"d8872dd2b18a05d9969ce4c0e79925e05ca511fe",icon:this.iconPack.chevron_down}))),(0,a.h)("div",{key:"fbd24ab1cc8352807661d6b78c771df69fa26d12",class:"smallest-dom-element",id:"bottom-scroll",ref:e=>this.$bottomRef=e}),this.isLoading&&0===this.pagesToRender.flat().length&&(0,a.h)("dyte-spinner",{key:"df59bc4e2d777d1ce98088930f5dd4e5bfead2dc",size:"lg"}),0===this.pagesToRender.flat().length&&this.showEmptyListLabel?(0,a.h)("div",{class:"empty-list"},null!==(e=this.emptyListLabel)&&void 0!==e?e:this.t("list.empty")):(0,a.h)("div",{class:"page-wrapper"},this.pagesToRender.map((e=>this.createNodes(e)))),(0,a.h)("div",{key:"7b54f683c79b5df12e101fcbb5fb645ddaeca082",class:"smallest-dom-element",id:"top-scroll",ref:e=>this.$topRef=e})))}static get watchers(){return{selectedItemId:["onItemChanged"]}}};_t([(0,o.S)()],jt.prototype,"iconPack",void 0),_t([(0,o.S)()],jt.prototype,"t",void 0),jt.style=".scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;flex:1}.container{box-sizing:border-box;display:flex;flex-direction:column-reverse;padding-top:var(--dyte-space-4, 16px);padding-bottom:var(--dyte-space-4, 16px);flex:1 0 0px;overflow-y:scroll;}.file-picker{display:none}.chat *:first-child{margin-top:var(--dyte-space-0, 0px)}.chat .head{display:flex;align-items:center}.chat .head .name{margin-right:var(--dyte-space-4, 16px);font-size:12px;font-weight:700}.chat .head .time{font-size:12px;color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}.chat .body{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px);overflow-wrap:break-word;font-size:14px;line-height:1.375}.chat .body .emoji{font-size:24px}p{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-3, 12px)}dyte-text-message,dyte-image-message,dyte-file-message{margin-top:var(--dyte-space-4, 16px);display:block;padding-left:var(--dyte-space-3, 12px);padding-right:var(--dyte-space-3, 12px);font-family:var(--dyte-font-family, sans-serif);color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));box-sizing:border-box}*[is-continued]{margin-top:var(--dyte-space-3, 12px)}dyte-text-message[is-continued]{margin-top:var(--dyte-space-2, 8px)}.chat .image{position:relative;height:var(--dyte-space-40, 160px);max-width:var(--dyte-space-64, 256px);cursor:pointer}.chat .image img{display:none;height:100%;width:100%;border-radius:var(--dyte-border-radius-sm, 4px);-o-object-fit:cover;object-fit:cover}.chat .image .image-spinner{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.chat .image .image-spinner dyte-spinner{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-text-opacity))}.chat .image .image-errored{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;border-radius:var(--dyte-border-radius-sm, 4px);background-color:rgba(var(--dyte-colors-danger, 255 45 45) / 0.1);--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}.chat .image .actions{display:none;height:var(--dyte-space-8, 32px);align-items:center;position:absolute;top:var(--dyte-space-2, 8px);right:var(--dyte-space-2, 8px);border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));overflow:hidden;--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.chat .image .actions .action{height:var(--dyte-space-8, 32px);width:var(--dyte-space-8, 32px);border-radius:var(--dyte-border-radius-none, 0);border-width:var(--dyte-border-width-none, 0);border-style:none;background-color:transparent;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.chat .image .actions .action:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.image.loaded img{display:block}.image.loaded .image-spinner{display:none}.image:hover .actions,.image:focus .actions{display:flex}.chat .file{display:flex;align-items:center;gap:var(--dyte-space-1, 4px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);padding-top:var(--dyte-space-1\\.5, 6px);padding-bottom:var(--dyte-space-1\\.5, 6px);border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}.chat .file .file-data{flex:1 1 0%}.chat .file .file-data .name{word-break:break-all;color:rgb(var(--dyte-colors-text-1000, 255 255 255));overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.chat .file .file-data .file-data-split{margin-top:var(--dyte-space-0\\.5, 2px);display:flex;align-items:center;font-size:12px}.chat .file .file-data .file-data-split .ext{margin-right:var(--dyte-space-2, 8px);text-transform:uppercase;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.chat .file .file-data .file-data-split .divider{height:var(--dyte-space-4, 16px);width:var(--dyte-space-0\\.5, 2px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.chat .file .file-data .file-data-split .size{margin-left:var(--dyte-space-2, 8px)}.smallest-dom-element{width:1px}#top-scroll{transform:translateY(20vh)}#bottom-scroll{transform:translateY(-20vh)}a{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity));text-decoration-line:none}a:hover{text-decoration-line:underline}.show-new-messages-ctr{pointer-events:none;position:absolute;bottom:var(--dyte-space-2, 8px);right:var(--dyte-space-4, 16px);z-index:10;margin-top:calc(var(--dyte-space-14, 56px) * -1);--tw-translate-y:var(--dyte-space-28, 112px);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:0;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.show-new-messages-ctr.active{--tw-translate-y:var(--dyte-space-0, 0px);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:1}.show-new-messages{pointer-events:auto;border-radius:9999px}.show-new-messages:hover{border-radius:9999px;--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);--tw-ring-opacity:1;--tw-ring-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-ring-opacity));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}dyte-spinner,.empty-list{margin:auto}.page-wrapper{margin-left:var(--dyte-space-1, 4px);margin-right:var(--dyte-space-1, 4px)}.message-wrapper{margin-bottom:var(--dyte-space-2, 8px)}.pinned .message-wrapper{position:relative}.pinned .pin-icon{position:absolute;right:calc(var(--dyte-space-1, 4px) * -1);top:calc(var(--dyte-space-1, 4px) * -1);display:flex;border-radius:var(--dyte-border-radius-sm, 4px)}.pinned dyte-message-view{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));padding-top:var(--dyte-space-1, 4px);padding-bottom:var(--dyte-space-1, 4px)}";var zt=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const Rt=class{constructor(e){(0,a.r)(this,e),this.tileLoad=(0,a.c)(this,"tileLoad",7),this.tileUnload=(0,a.c)(this,"tileUnload",7),this.isPinned=!1,this.mediaConnectionError=!1,this.nameTagPosition="bottom-left",this.isPreview=!1,this.config=s.d,this.variant="solid",this.iconPack=s.a,this.t=(0,s.c)(),this.onPinned=({isPinned:e})=>{this.isPinned=e},this.isSelf=()=>{var e;return this.isPreview||this.participant.id===(null===(e=this.meeting)||void 0===e?void 0:e.self.id)},this.onPause=e=>{var t,i;this.isSelf()&&(null===(t=this.meeting)||void 0===t?void 0:t.__internals__.features.hasFeature(s.F.PLAY_PARTICIPANT_TILE_VIDEO_ON_PAUSE))&&(this.meeting.__internals__.logger.warn(`Video player paused for ${this.participant.id} isSelf: ${this.isSelf()}`),null===(i=null==e?void 0:e.target)||void 0===i||i.play())},this.onPlaying=()=>{this.playTimeout&&clearTimeout(this.playTimeout)}}onVideoRef(e){this.participant&&this.meeting&&e!==this.videoEl&&(this.videoEl=e,this.participant.registerVideoElement(this.videoEl,this.isPreview),this.tileLoad.emit({participant:this.participant,videoElement:this.videoEl}))}connectedCallback(){this.meeting?this.meetingChanged(this.meeting):this.participantsChanged(this.participant)}disconnectedCallback(){this.playTimeout&&clearTimeout(this.playTimeout),null!=this.participant&&(this.participant.deregisterVideoElement(this.videoEl,this.isPreview),this.participant.removeListener("pinned",this.onPinned),this.participant.removeListener("unpinned",this.onPinned),this.meeting.meta.off("mediaConnectionUpdate",this.mediaConnectionUpdateListener),this.tileUnload.emit(this.participant))}meetingChanged(e){null!=e&&this.participantsChanged(this.participant)}participantsChanged(e){null!=e&&(void 0!==this.meeting?(this.isPinned=e.isPinned,this.videoEl&&this.participant.registerVideoElement(this.videoEl,this.isPreview),e.addListener("pinned",this.onPinned),e.addListener("unpinned",this.onPinned),this.meeting.meta.on("mediaConnectionUpdate",this.mediaConnectionUpdateListener.bind(this))):this.isPreview&&this.videoEl&&this.participant.registerVideoElement(this.videoEl,this.isPreview))}mediaConnectionUpdateListener(){var e,t,i;const{recv:a,send:r}=null!==(i=null===(t=null===(e=this.meeting)||void 0===e?void 0:e.meta)||void 0===t?void 0:t.mediaState)&&void 0!==i?i:{};"connected"===(null==a?void 0:a.state)||this.isSelf()?"connected"!==(null==r?void 0:r.state)&&this.isSelf()?this.mediaConnectionError=!0:this.mediaConnectionError=!1:this.mediaConnectionError=!0}isMirrored(){var e;if(null!=this.participant&&this.isSelf()){const t=this.states,i=null===(e=null==t?void 0:t.prefs)||void 0===e?void 0:e.mirrorVideo;if("boolean"==typeof i)return i}return!1}render(){var e,t,i;const r={meeting:this.meeting,size:this.size,states:this.states,config:this.config,iconPack:this.iconPack,t:this.t};return(0,a.h)(a.H,{key:"ae0d125a5d4b2bd7cab5c4c286be3fd31d9b6b80"},(0,a.h)("video",{key:"46c326caaf26377c1a7e6ba2989eabbc89a3d4aa",ref:e=>this.onVideoRef(e),class:{mirror:this.isMirrored(),[null!==(i=null===(t=null===(e=this.config)||void 0===e?void 0:e.config)||void 0===t?void 0:t.videoFit)&&void 0!==i?i:"cover"]:!0},onPlaying:this.onPlaying,onPause:this.onPause,autoPlay:!0,playsInline:!0,muted:!0,part:"video"}),this.isPinned&&(0,a.h)("dyte-icon",{key:"8a3e9d03d2c69b9a281d6633a87f519cd36f8caf",class:"pinned-icon",icon:this.iconPack.pin,"aria-label":this.t("pinned"),part:"pinned-icon"}),this.mediaConnectionError&&(0,a.h)("div",{key:"b501ff04fcbe6c283b71c5bfa226cdc2b0127c6e",class:"network-container",part:"network-indicator"},(0,a.h)("dyte-icon",{key:"a200fd6ee5973cacd387ea38af916ac8d71355b5",class:"network-icon",icon:this.iconPack.disconnected,"aria-label":this.t("pinned"),part:"pinned-icon"})),(0,a.h)("slot",{key:"03c182c48452d89f381eecea6895a98f865a1b2f"},(0,a.h)(p.R,{key:"459ff30c21c410a4cd7eea256d203fca6bf9d4bd",element:"dyte-participant-tile",defaults:r,childProps:{participant:this.participant},deepProps:!0,onlyChildren:!0})))}static get watchers(){return{meeting:["meetingChanged"],participant:["participantsChanged"]}}};zt([(0,o.S)()],Rt.prototype,"meeting",void 0),zt([(0,o.S)()],Rt.prototype,"states",void 0),zt([(0,o.S)()],Rt.prototype,"size",void 0),zt([(0,o.S)()],Rt.prototype,"iconPack",void 0),zt([(0,o.S)()],Rt.prototype,"t",void 0),Rt.style=":host {\n  line-height: initial;\n  font-family: var(--dyte-font-family, sans-serif);\n\n  font-feature-settings: normal;\n  font-variation-settings: normal;\n}\n\np {\n  margin: var(--dyte-space-0, 0px);\n  padding: var(--dyte-space-0, 0px);\n}\n\n\n:host {\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  aspect-ratio: 16 / 9;\n  height: var(--dyte-space-56, 224px);\n  overflow: hidden;\n  border-radius: var(--dyte-border-radius-lg, 12px);\n  -webkit-user-select: none;\n     -moz-user-select: none;\n          user-select: none;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-video-bg, 24 24 24) / var(--tw-bg-opacity));\n\n  transition-property: var(--dyte-transition-property, all);\n  transition-duration: 150ms;\n  container-type: inline-size;\n  container-name: participanttile;\n}\n\n@media (prefers-reduced-motion) {\n  /* No transitions when disabled */\n  :host {\n    --dyte-transition-property: none;\n  }\n}\n\ndyte-avatar {\n  z-index: -1;\n}\n\n/**\n  NOTE: provided :slotted(dyte-name-tag) & dyte-name-tag separately\n  because ::slotted isn't applied on default slots.\n*/\n\n::slotted(dyte-name-tag), \ndyte-name-tag {\n  position: absolute;\n  left: var(--dyte-space-3, 12px);\n  bottom: var(--dyte-space-3, 12px);\n}\n\n:host([size='sm'][variant='solid']) ::slotted(dyte-name-tag), \n  :host([size='sm'][variant='solid']) dyte-name-tag {\n  left: var(--dyte-space-2, 8px);\n  bottom: var(--dyte-space-2, 8px);\n  height: var(--dyte-space-4, 16px);\n}\n\n::slotted(dyte-network-indicator), \ndyte-network-indicator {\n  position: absolute;\n  right: var(--dyte-space-3, 12px);\n  bottom: var(--dyte-space-3, 12px);\n}\n\n:host([size='sm']) ::slotted(dyte-network-indicator), \n  :host([size='sm']) dyte-network-indicator {\n  right: var(--dyte-space-2, 8px);\n  bottom: var(--dyte-space-2, 8px);\n}\n\nvideo {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  border-radius: var(--dyte-border-radius-lg, 12px);\n}\n\nvideo.contain {\n  -o-object-fit: contain;\n     object-fit: contain;\n}\n\nvideo.cover {\n  -o-object-fit: cover;\n     object-fit: cover;\n}\n\nvideo::-webkit-media-controls {\n  display: none !important;\n}\n\n.pinned-icon {\n  position: absolute;\n  left: var(--dyte-space-3, 12px);\n  top: var(--dyte-space-3, 12px);\n  height: var(--dyte-space-5, 20px);\n  width: var(--dyte-space-5, 20px);\n  padding: var(--dyte-space-1, 4px);\n  border-radius: var(--dyte-border-radius-md, 8px);\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));\n}\n\n.network-container {\n  position: absolute;\n  right: var(--dyte-space-3, 12px);\n  bottom: var(--dyte-space-3, 12px);\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: var(--dyte-space-2, 8px);\n  font-size: 12px;\n  border-radius: var(--dyte-border-radius-md, 8px);\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));\n}\n.network-icon {\n  height: var(--dyte-space-5, 20px);\n  width: var(--dyte-space-5, 20px);\n  --tw-text-opacity: 1;\n  color: rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity));\n}\n\n:host([size='sm']) .pinned-icon {\n  top: var(--dyte-space-2, 8px);\n  left: var(--dyte-space-2, 8px);\n}\n\n:host([variant='gradient']) ::slotted(dyte-audio-visualizer), \n  :host([variant='gradient']) dyte-audio-visualizer {\n  position: absolute;\n  top: var(--dyte-space-2, 8px);\n  right: var(--dyte-space-2, 8px);\n  border-radius: 9999px;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));\n  padding: var(--dyte-space-2, 8px);\n}\n\n:host([variant='gradient']) ::slotted(dyte-name-tag), \n  :host([variant='gradient']) dyte-name-tag {\n  bottom: var(--dyte-space-0, 0px);\n  left: var(--dyte-space-0, 0px);\n  display: flex;\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  background-color: transparent;\n  background-image: linear-gradient(to top, var(--tw-gradient-stops));\n  --tw-gradient-from: rgb(var(--dyte-colors-background-1000, 8 8 8));\n  --tw-gradient-to: rgba(var(--dyte-colors-background-1000, 8 8 8) / 0);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n  --tw-gradient-to: transparent;\n}\n\nvideo.mirror {\n  transform: scaleX(-1);\n}\n\n/** Name tag positions */\n\n:host([name-tag-position='bottom-right']) ::slotted(dyte-name-tag), \n  :host([name-tag-position='bottom-right']) dyte-name-tag {\n  left: auto;\n  right: var(--dyte-space-3, 12px);\n}\n\n:host([name-tag-position='bottom-center']) ::slotted(dyte-name-tag), \n  :host([name-tag-position='bottom-center']) dyte-name-tag {\n  left: auto;\n  right: auto;\n}\n\n:host([name-tag-position='top-left']) ::slotted(dyte-name-tag), \n  :host([name-tag-position='top-left']) dyte-name-tag {\n  top: var(--dyte-space-3, 12px);\n  bottom: auto;\n}\n\n:host([name-tag-position='top-right']) ::slotted(dyte-name-tag), \n  :host([name-tag-position='top-right']) dyte-name-tag {\n  top: var(--dyte-space-3, 12px);\n  right: var(--dyte-space-3, 12px);\n  left: auto;\n  bottom: auto;\n}\n\n:host([name-tag-position='top-center']) ::slotted(dyte-name-tag), \n  :host([name-tag-position='top-center']) dyte-name-tag {\n  left: auto;\n  right: auto;\n  bottom: auto;\n  top: var(--dyte-space-3, 12px);\n}\n\n@media only screen and (max-height: 480px) and (orientation: landscape) {\n  :host([size='sm']) {\n    border-radius: var(--dyte-border-radius-sm, 4px);\n  }\n\n  :host([size='sm']) > video {\n    border-radius: var(--dyte-border-radius-sm, 4px);\n  }\n\n  ::slotted(dyte-avatar), \n  dyte-avatar {\n    height: var(--dyte-space-12, 48px);\n    width: var(--dyte-space-12, 48px);\n  }\n    :host([size='sm'][variant='solid']) ::slotted(dyte-name-tag),\n    :host([size='sm'][variant='solid']) dyte-name-tag {\n      transform-origin: -2% 100%;\n      transform: scale(0.6);\n      z-index: 10;\n      left: var(--dyte-space-0, 0px);\n      bottom: var(--dyte-space-0, 0px);\n      border-radius: var(--dyte-border-radius-none, 0);\n    }\n}\n\n@media only screen and (max-width: 480px) and (orientation: portrait) {\n  :host([size='sm']) {\n    border-radius: var(--dyte-border-radius-sm, 4px);\n  }\n\n  :host([size='sm']) > video {\n    border-radius: var(--dyte-border-radius-sm, 4px);\n  }\n\n  ::slotted(dyte-avatar), \n  dyte-avatar {\n    height: var(--dyte-space-12, 48px);\n    width: var(--dyte-space-12, 48px);\n  }\n    :host([size='sm'][variant='solid']) ::slotted(dyte-name-tag),\n    :host([size='sm'][variant='solid']) dyte-name-tag {\n      transform-origin: -5% 110%;\n      transform: scale(0.6);\n      z-index: 10;\n      left: var(--dyte-space-0, 0px);\n      bottom: var(--dyte-space-0, 0px);\n      border-radius: var(--dyte-border-radius-none, 0);\n    }\n}\n\n@container participanttile (max-width: 300px) {\n  ::slotted(dyte-name-tag),\n  dyte-name-tag {\n    transform-origin: 0 100%;\n    transform: scale(0.8);\n  }\n\n  ::slotted(dyte-avatar), \n  dyte-avatar {\n    height: var(--dyte-space-8, 32px) !important;\n    width: var(--dyte-space-8, 32px) !important;\n  }\n}\n\n@container participanttile (max-width: 150px) {\n  ::slotted(dyte-name-tag),\n  dyte-name-tag[variant='solid'] {\n    transform-origin: -10% 130%;\n    transform: scale(0.6);\n    z-index: 10;\n    border-radius: 9999px;\n  }\n\n  ::slotted(dyte-avatar), \n  dyte-avatar {\n    height: 6 !important;\n    width: 6 !important;\n  }\n}\n";var Tt=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const Dt={"Chrome.Desktop.audio":["Chrome1.svg","Chrome2.svg","Chrome3.svg"],"Chrome.Desktop.video":["Chrome1.svg","Chrome2.svg","Chrome3.svg"]},Ut=class{constructor(e){(0,a.r)(this,e),this.stateUpdate=(0,a.c)(this,"dyteStateUpdate",7),this.t=(0,s.c)(),this.iconPack=s.a,this.currentStep=0,this.svgSteps=[],this.continue=()=>{this.stateUpdate.emit({activePermissionsMessage:{enabled:!1}})},this.reload=()=>{"undefined"!=typeof window&&window.location.reload()},this.getImage=async e=>{function t(e,t,i){return e.split(t).join(i)}const i=await fetch(`https://assets.dyte.io/ui-kit/permissions/${e}`);let a=await i.text();return a=t(a,"yoursite.com",location.host),a=t(a,"Yoursite",document.title.length>14?`${document.title.slice(0,14)}...`:document.title),a},this.nextStep=()=>{this.currentStep=(this.currentStep+1)%this.svgSteps.length},this.openMacSystemSettings=()=>{const e=document.createElement("a");switch(this.mediaType){case"audio":e.href="x-apple.systempreferences:com.apple.preference.security?Privacy_Microphone";break;case"screenshare":e.href="x-apple.systempreferences:com.apple.preference.security?Privacy_ScreenCapture";break;case"video":e.href="x-apple.systempreferences:com.apple.preference.security?Privacy_Camera"}e.click()}}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.stepsTimer&&clearTimeout(this.stepsTimer)}meetingChanged(e){var t,i,a;if(null!=e){this.device=e.self.device;const r=(null===(t=this.device)||void 0===t?void 0:t.isMobile)?"Mobile":"Desktop",s=null!==(a=Dt[`${null===(i=this.device)||void 0===i?void 0:i.browserName}.${r}.${this.mediaType}`])&&void 0!==a?a:[];Promise.all(s.map(this.getImage)).then((e=>{this.svgSteps=e}))}}getLink(e){let t;switch(e){case"audio":t="microphone";break;case"video":t="camera";break;default:t="screenshare"}let i=`Allow+${t}+access`;if(null!=this.device){const{browserName:e,isMobile:t}=this.device;i+="+"+e,t&&(i+="+mobile")}return"https://www.google.com/search?q="+i}isDeniedBySystem(){var e;const t=null===(e=this.meeting)||void 0===e?void 0:e.self.mediaPermissions;return null!=t&&"SYSTEM_DENIED"===t[this.mediaType]}getTitle(){return this.isDeniedBySystem()?this.t(`perm_sys_denied.${this.mediaType}`):this.t(`perm_denied.${this.mediaType}`)}get mediaType(){var e,t,i;return null!==(i=null===(t=null===(e=this.states)||void 0===e?void 0:e.activePermissionsMessage)||void 0===t?void 0:t.kind)&&void 0!==i?i:"audio"}getMessage(){var e;const{browserName:t,osName:i}=this.meeting.self.device,a=this.isDeniedBySystem(),r=null!==(e=t.toLowerCase())&&void 0!==e?e:"others",s=null!=i?i:"others";if(a){const e=`perm_sys_denied.${this.mediaType}.${s.toLowerCase()}.message`;return this.t(e)===e?this.t(`perm_sys_denied.${this.mediaType}.others.message`):this.t(e)}const o=`perm_denied.${this.mediaType}.${r}.message`;return this.t(o)===o?this.t(`perm_denied.${this.mediaType}.others.message`):this.t(o)}render(){var e,t,i;const r=this.isDeniedBySystem();this.svgSteps.length>0&&(this.stepsTimer&&clearTimeout(this.stepsTimer),this.stepsTimer=setTimeout(this.nextStep,2500));const s=r&&"macOS"==this.meeting.self.device.osName;return(0,a.h)(a.H,{key:"fd3113af80de08603477d44313c51386dc18af5e"},(0,a.h)("h2",{key:"105d5ea31c336aa1cd436818328ccd782770c326"},(0,a.h)("dyte-icon",{key:"459d39bf025a2a86a5dc007d1d37da478de9cbb2",class:"text-icon",icon:this.iconPack.warning}),this.getTitle()),this.svgSteps.length>0&&(0,a.h)("div",{key:"d8795f8c99c3d3e2c7fc0e854d4a97df30501f7e",class:"svg-container"},this.svgSteps.map(((e,t)=>(0,a.h)("p",{innerHTML:e,class:"svg-ins",key:this.currentStep,hidden:t!==this.currentStep})))),(0,a.h)("div",{key:"f3c61c410b2561a7554cf92335bd45095e026d60"},this.getMessage()),!r&&(0,a.h)("a",{key:"44c3c2a12fbfd15aff428089a795b567c0948c0d",class:"need-help-link",href:this.getLink(null!==(i=null===(t=null===(e=this.states)||void 0===e?void 0:e.activePermissionsMessage)||void 0===t?void 0:t.kind)&&void 0!==i?i:"audio"),target:"_blank",rel:"noreferrer external noreferrer noopener"},(0,a.h)("dyte-icon",{key:"98ce0ba2b7a86af4c855cd3ce4025c5a40b5d52c",class:"text-icon",icon:this.iconPack.attach}),this.t("cta.help")),(0,a.h)("div",{key:"3d1c026bee6a4c04bb0239c14af85d67475f66ce",class:"actions"},(0,a.h)("dyte-button",{key:"3ef491db07fc2ec207ad87ef1c814bd132107bda",size:"lg",kind:"wide",variant:"secondary",onClick:this.continue},this.t("cta.continue")),s?(0,a.h)("dyte-button",{size:"lg",kind:"wide",onClick:this.openMacSystemSettings},this.t("cta.system_settings")):(0,a.h)("dyte-button",{size:"lg",kind:"wide",onClick:this.reload},this.t("cta.reload"))),(0,a.h)("slot",{key:"ed5ac76fdf888a80b20f495d2b9daa005b1fd692"}))}static get watchers(){return{meeting:["meetingChanged"]}}};Tt([(0,o.S)()],Ut.prototype,"meeting",void 0),Tt([(0,o.S)()],Ut.prototype,"t",void 0),Tt([(0,o.S)()],Ut.prototype,"iconPack",void 0),Tt([(0,o.S)()],Ut.prototype,"states",void 0),Ut.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{box-sizing:border-box;display:block;max-height:100%;width:600px;overflow-y:auto;padding:var(--dyte-space-6, 24px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));overflow-wrap:break-word;color:rgb(var(--dyte-colors-text-1000, 255 255 255));word-wrap:break-word}.actions{display:flex;align-items:center;gap:var(--dyte-space-2, 8px)}.text-icon{display:inline-block;vertical-align:middle}h2{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-4, 16px)}h2 .text-icon{margin-right:var(--dyte-space-2, 8px);height:var(--dyte-space-8, 32px);width:var(--dyte-space-8, 32px);--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}p{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-4, 16px)}.need-help-link{margin-top:var(--dyte-space-2, 8px);display:inline-block;text-underline-offset:2px;--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-400, 53 110 253) / var(--tw-text-opacity))}.need-help-link:hover{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-600, 13 81 253) / var(--tw-text-opacity))}a dyte-icon{margin-right:var(--dyte-space-2, 8px);height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px)}:host([size='sm']) .actions{flex-direction:column;align-items:flex-start;justify-content:center}:host([size='sm']) .action{width:100%;padding-top:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-2, 8px)}.actions{margin-top:var(--dyte-space-6, 24px)}.actions dyte-button{flex:1 1 0%}.svg-container{display:flex;width:100%;justify-content:center !important}.svg-ins{width:80%;border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}";var Ot=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const Et=class{constructor(e){(0,a.r)(this,e),this.stateUpdate=(0,a.c)(this,"dyteStateUpdate",7),this.keyPressListener=e=>{"Escape"===e.key&&this.close()},this.stageStatusListener=()=>{this.canProduceVideo="ALLOWED"===this.meeting.self.permissions.canProduceVideo},this.iconPack=s.a,this.t=(0,s.c)(),this.activeTab="connection",this.isMobileMainVisible=!1,this.networkStatus="good",this.canProduceVideo=!1}connectedCallback(){document.addEventListener("keydown",this.keyPressListener),this.meetingChanged(this.meeting)}disconnectedCallback(){var e;this.keyPressListener&&document.removeEventListener("keydown",this.keyPressListener),this.poorConnectionListener&&(null===(e=this.meeting)||void 0===e||e.meta.removeListener("poorConnection",this.poorConnectionListener)),this.meeting.stage.removeListener("stageStatusUpdate",this.stageStatusListener)}meetingChanged(e){null!=e&&(this.canProduceVideo="ALLOWED"===this.meeting.self.permissions.canProduceVideo,this.canProduceVideo?this.activeTab="video":this.activeTab="audio",this.poorConnectionListener=({score:e})=>{e<7?this.networkStatus="poor":e<4&&(this.networkStatus="poorest"),setTimeout((()=>{this.networkStatus="good"}),5e3)},e.meta.addListener("poorConnection",this.poorConnectionListener),e.stage.addListener("stageStatusUpdate",this.stageStatusListener))}changeTab(e){this.activeTab=e,"sm"===this.size&&(this.isMobileMainVisible||(this.isMobileMainVisible=!0))}close(){this.stateUpdate.emit({activeSettings:!1})}render(){if(null==this.meeting)return null;const e={meeting:this.meeting,states:this.states,iconPack:this.iconPack,t:this.t};return(0,a.h)(a.H,null,(0,a.h)("aside",{class:{hide:this.isMobileMainVisible},part:"menu"},(0,a.h)("header",null,(0,a.h)("h2",null,this.t("settings"))),(0,a.h)("button",{type:"button",class:{active:"audio"===this.activeTab},onClick:()=>this.changeTab("audio")},this.t("audio"),(0,a.h)("div",{class:"right"},(0,a.h)("dyte-icon",{icon:this.iconPack.mic_on}),"sm"===this.size&&(0,a.h)("dyte-icon",{icon:this.iconPack.chevron_right}))),this.canProduceVideo&&(0,a.h)("button",{type:"button",class:{active:"video"===this.activeTab},onClick:()=>this.changeTab("video")},this.t("video"),(0,a.h)("div",{class:"right"},(0,a.h)("dyte-icon",{icon:this.iconPack.video_on}),"sm"===this.size&&(0,a.h)("dyte-icon",{icon:this.iconPack.chevron_right}))),(0,a.h)("button",{type:"none",title:`Your network condition is ${this.networkStatus}`},this.t("connection"),(0,a.h)("div",{class:"right"},(0,a.h)("dyte-icon",{icon:this.iconPack.wifi,class:this.networkStatus})))),(0,a.h)("main",{class:{active:this.isMobileMainVisible,scrollbar:!0},part:"main-content"},"sm"===this.size&&(0,a.h)("header",null,(0,a.h)("dyte-button",{kind:"icon",class:"back-btn",onClick:()=>this.isMobileMainVisible=!1},(0,a.h)("dyte-icon",{icon:this.iconPack.chevron_left})),(0,a.h)("h2",null,this.t("audio"===this.activeTab?"audio":"video"))),"audio"===this.activeTab&&(0,a.h)("dyte-settings-audio",Object.assign({},e)),"video"===this.activeTab&&(0,a.h)("dyte-settings-video",Object.assign({},e))))}static get watchers(){return{meeting:["meetingChanged"]}}};Ot([(0,o.S)()],Et.prototype,"meeting",void 0),Ot([(0,o.S)()],Et.prototype,"states",void 0),Ot([(0,o.S)()],Et.prototype,"size",void 0),Ot([(0,o.S)()],Et.prototype,"iconPack",void 0),Ot([(0,o.S)()],Et.prototype,"t",void 0),Et.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;overflow:hidden;border-radius:var(--dyte-border-radius-md, 8px);width:100%;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}header{display:flex;align-items:center;justify-content:space-between;padding-left:var(--dyte-space-4, 16px);padding-right:var(--dyte-space-4, 16px)}.title{font-size:20px;line-height:1}.back-btn,.dismiss-btn{border-radius:var(--dyte-border-radius-sm, 4px);background-color:transparent;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.back-btn:hover,.dismiss-btn:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}aside{box-sizing:border-box;display:flex;min-width:var(--dyte-space-56, 224px);flex-direction:column;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));padding-left:var(--dyte-space-2, 8px)}aside button{margin-top:var(--dyte-space-4, 16px);box-sizing:border-box;display:flex;width:100%;align-items:center;justify-content:space-between;border-top-left-radius:var(--dyte-border-radius-sm, 4px);border-bottom-left-radius:var(--dyte-border-radius-sm, 4px);padding-left:var(--dyte-space-4, 16px);padding-right:var(--dyte-space-4, 16px);padding-top:var(--dyte-space-3, 12px);padding-bottom:var(--dyte-space-3, 12px);background-color:transparent;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));cursor:default;font-size:16px;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);border-width:var(--dyte-border-width-none, 0);border-style:none;outline:2px solid transparent;outline-offset:2px}aside button .right{display:flex;align-items:center}aside button .right dyte-icon{height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px)}aside button .right dyte-icon:last-child{margin-left:var(--dyte-space-4, 16px)}aside button[type='button']{cursor:pointer;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}aside button[type='button']:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}aside button[type='button']{border-right:var(--dyte-border-width-md, 2px) solid transparent}aside button.active{--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-border-opacity));background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / 0.2)}aside button.active:hover{background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / 0.2)}dyte-icon.poor{--tw-text-opacity:1;color:rgba(var(--dyte-colors-warning, 255 205 7) / var(--tw-text-opacity))}dyte-icon.poorest{--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}dyte-icon.good{--tw-text-opacity:1;color:rgba(var(--dyte-colors-success, 98 165 4) / var(--tw-text-opacity))}main{display:flex;flex:1 1 0%;align-items:center;justify-content:center;padding-left:var(--dyte-space-6, 24px);padding-right:var(--dyte-space-6, 24px);box-sizing:border-box;width:100%;max-width:calc(100% - var(--dyte-space-56, 224px))}.dismiss-btn{position:absolute;top:var(--dyte-space-3, 12px);right:var(--dyte-space-3, 12px);height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px)}:host([size='sm']) aside{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}:host([size='sm']) .dismiss-btn{top:var(--dyte-space-5, 20px);right:var(--dyte-space-4, 16px)}:host([size='sm']) aside{width:100%;padding-left:var(--dyte-space-0, 0px)}:host([size='sm']) aside button{border-radius:var(--dyte-border-radius-none, 0)}:host([size='sm']) aside button.active{border-width:var(--dyte-border-width-none, 0);border-style:none;background-color:transparent}:host([size='sm']) aside button.active:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}:host([size='sm']) aside.hide{display:none}:host([size='sm']) main{display:none;max-width:100%;overflow-y:auto;padding-left:var(--dyte-space-4, 16px);padding-right:var(--dyte-space-4, 16px)}:host([size='sm']) main header{justify-content:center}:host([size='sm']) main header dyte-button{position:absolute;left:var(--dyte-space-4, 16px)}:host([size='sm']) main.active{display:block}";var It=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const At=class{constructor(e){(0,a.r)(this,e),this.stateUpdate=(0,a.c)(this,"dyteStateUpdate",7),this.iconPack=s.a,this.t=(0,s.c)()}render(){var e,t;if(null==this.meeting)return null;const i={meeting:this.meeting,states:this.states,size:this.size,iconPack:this.iconPack,t:this.t},r=this.states,o=!0===(null===(e=null==r?void 0:r.prefs)||void 0===e?void 0:e.muteNotificationSounds)||"true"===(0,s.m)("mute-notification-sounds");return(0,a.h)(a.H,null,(0,a.h)("dyte-microphone-selector",Object.assign({},i),(0,a.h)("dyte-audio-visualizer",{participant:null===(t=this.meeting)||void 0===t?void 0:t.self,iconPack:this.iconPack,t:this.t,slot:"indicator"})),(0,a.h)("dyte-speaker-selector",Object.assign({},i)),(0,a.h)("div",{class:"group",part:"notification-toggle"},(0,a.h)("div",{class:"row"},(0,a.h)("label",{htmlFor:"notification-toggle"},this.t("settings.notification_sound")),(0,a.h)("dyte-switch",{id:"notification-toggle",checked:!o,onDyteChange:e=>{const{checked:t}=e.target,i=!t;this.stateUpdate.emit({prefs:{muteNotificationSounds:i}}),(0,s.n)("mute-notification-sounds",i)},iconPack:this.iconPack,t:this.t}))))}};It([(0,o.S)()],At.prototype,"meeting",void 0),It([(0,o.S)()],At.prototype,"states",void 0),It([(0,o.S)()],At.prototype,"size",void 0),It([(0,o.S)()],At.prototype,"iconPack",void 0),It([(0,o.S)()],At.prototype,"t",void 0),At.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;width:100%;flex-direction:column}audio{visibility:hidden}.group{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px)}.group>*{margin-bottom:var(--dyte-space-2, 8px)}.group>*:last-child{margin-bottom:var(--dyte-space-0, 0px)}.group select{flex:1 1 0%}dyte-audio-visualizer{flex-shrink:0}dyte-button{border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}dyte-button dyte-icon{margin-right:var(--dyte-space-2, 8px)}";var Ht=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const $t=class{constructor(e){(0,a.r)(this,e),this.stateUpdate=(0,a.c)(this,"dyteStateUpdate",7),this.iconPack=s.a,this.t=(0,s.c)(),this.onVideoUpdate=e=>{this.videoEnabled=e.videoEnabled}}componentDidLoad(){this.meetingChanged(this.meeting)}meetingChanged(e){var t;null!=e&&(this.videoEnabled=e.self.videoEnabled,null===(t=e.self)||void 0===t||t.addListener("videoUpdate",this.onVideoUpdate))}disconnectedCallback(){var e;null===(e=this.meeting.self)||void 0===e||e.removeListener("videoUpdate",this.onVideoUpdate)}render(){var e,t,i;if(null==this.meeting)return null;const r={meeting:this.meeting,states:this.states,size:this.size,iconPack:this.iconPack,t:this.t},o=this.states,n=!0===(null===(e=null==o?void 0:o.prefs)||void 0===e?void 0:e.mirrorVideo)||"true"===(0,s.m)("mirror-video");return(0,a.h)(a.H,null,(0,a.h)("div",{class:"section",part:"tile-preview"},(0,a.h)("div",{class:"group",part:"tile-preview"},!0===this.videoEnabled?(0,a.h)("dyte-participant-tile",{meeting:this.meeting,participant:null===(t=this.meeting)||void 0===t?void 0:t.self,iconPack:this.iconPack,t:this.t,states:o,size:this.size,isPreview:!0}):(0,a.h)("div",{class:"camera-off-helper"},(0,a.h)("dyte-participant-tile",{meeting:this.meeting,participant:null===(i=this.meeting)||void 0===i?void 0:i.self,size:this.size},(0,a.h)("div",null,(0,a.h)("dyte-icon",{id:"icon",icon:this.iconPack.video_off,tabIndex:-1,"aria-hidden":!0}),(0,a.h)("div",null,this.t("settings.camera_off"))))))),(0,a.h)("dyte-camera-selector",Object.assign({},r)),(0,a.h)("div",{class:"group",part:"mirror-toggle"},(0,a.h)("div",{class:"row"},(0,a.h)("label",{htmlFor:"mirror-toggle"},this.t("settings.mirror_video")),(0,a.h)("dyte-switch",{checked:n,iconPack:this.iconPack,t:this.t,onDyteChange:e=>{const{checked:t}=e.target;this.stateUpdate.emit({prefs:{mirrorVideo:t}}),(0,s.n)("mirror-video",t)}}))))}static get watchers(){return{meeting:["meetingChanged"]}}};Ht([(0,o.S)()],$t.prototype,"meeting",void 0),Ht([(0,o.S)()],$t.prototype,"states",void 0),Ht([(0,o.S)()],$t.prototype,"size",void 0),Ht([(0,o.S)()],$t.prototype,"iconPack",void 0),Ht([(0,o.S)()],$t.prototype,"t",void 0),$t.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.dyte-select{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.dyte-select:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.dyte-select{display:block;border-radius:var(--dyte-border-radius-sm, 4px);border-width:var(--dyte-border-width-none, 0);border-style:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:var(--dyte-space-3, 12px);font-size:16px;--icon-size:var(--dyte-select-chevron-size, var(--dyte-space-6, 24px));--icon-right-position:var(--dyte-select-chevron-right-position, var(--dyte-space-2, 8px));background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e\");background-position:right var(--icon-right-position) center;background-repeat:no-repeat;background-size:var(--icon-size) var(--icon-size);padding-right:calc(var(--icon-right-position) * 5)}:host{display:flex;width:100%;flex-direction:column}.dyte-select{width:100%;text-overflow:ellipsis}dyte-participant-tile{margin-left:auto;margin-right:auto;margin-bottom:var(--dyte-space-4, 16px);max-width:100%}#icon{padding-bottom:var(--dyte-space-1, 4px)}.apply-button{height:var(--dyte-space-10, 40px)}label{-webkit-user-select:none;-moz-user-select:none;user-select:none;font-size:14px}.group{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px)}.group>*{margin-bottom:var(--dyte-space-2, 8px)}.group>*:last-child{margin-bottom:var(--dyte-space-0, 0px)}.group select{flex:1 1 0%}.row{display:flex;align-items:center;justify-content:space-between;gap:var(--dyte-space-3, 12px)}.section{display:flex;flex-direction:column}@media only screen and (max-height: 480px) and (orientation: landscape){:host{flex-direction:row}:host([size='sm']){flex-direction:row}.section[part='tile-preview']{margin-left:var(--dyte-space-2, 8px);margin-right:var(--dyte-space-2, 8px);max-height:90%;max-width:40%;flex-shrink:1}.section[part='video-settings']{margin-left:var(--dyte-space-2, 8px);margin-right:var(--dyte-space-2, 8px);flex-grow:1}}";var Nt=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const Bt=class{constructor(e){(0,a.r)(this,e),this.variant="full",this.iconPack=s.a,this.t=(0,s.c)(),this.speakerDevices=[],this.currentDevices={speaker:void 0},this.deviceListUpdateListener=async()=>{const e=await this.meeting.self.getSpeakerDevices();this.speakerDevices=e},this.deviceUpdateListener=({device:e})=>{"audiooutput"===e.kind&&(this.currentDevices={speaker:e})},this.mediaPermissionUpdate=async({kind:e,message:t})=>{this.meeting&&"audio"===e&&"ACCEPTED"===t&&(this.speakerDevices=await this.meeting.self.getSpeakerDevices())}}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){var e,t,i;null===(e=this.meeting)||void 0===e||e.self.removeListener("deviceListUpdate",this.deviceListUpdateListener),null===(t=this.meeting)||void 0===t||t.self.removeListener("deviceUpdate",this.deviceUpdateListener),null===(i=this.meeting)||void 0===i||i.self.addListener("mediaPermissionUpdate",this.mediaPermissionUpdate)}meetingChanged(e){null!=e&&(0,a.w)((async()=>{var t,i;const{self:a}=e,r=await e.self.getSpeakerDevices(),s=null===(t=e.self.getCurrentDevices())||void 0===t?void 0:t.speaker;this.currentDevices={speaker:s},a.addListener("deviceListUpdate",this.deviceListUpdateListener),a.addListener("deviceUpdate",this.deviceUpdateListener),a.addListener("mediaPermissionUpdate",this.mediaPermissionUpdate),this.speakerDevices=null!=s?[null!==(i=r.find((e=>e.deviceId===s.deviceId)))&&void 0!==i?i:s,...r.filter((e=>e.deviceId!==s.deviceId))]:r}))}testAudio(){var e;null===(e=this.testAudioEl)||void 0===e||e.play()}setDevice(e){var t,i;if((0,s.e)(this.meeting))return;const a=this.speakerDevices.find((t=>t.deviceId===e));this.currentDevices={speaker:a},null!=a&&(null===(t=this.meeting)||void 0===t||t.self.setDevice(a),null===(i=this.testAudioEl)||void 0===i||i.setSinkId(a.deviceId))}render(){if(null==this.meeting)return null;let e=0;return(0,a.h)(a.H,null,(0,a.h)("audio",{preload:"auto",src:"https://assets.dyte.io/ui-kit/speaker-test.mp3",ref:e=>this.testAudioEl=e}),(0,a.h)("div",{class:"group "+this.variant,part:"speaker-selection"},this.speakerDevices.length>0&&!(0,s.e)(this.meeting)&&(0,a.h)("div",{class:"container"},(0,a.h)("label",null,"inline"!==this.variant&&this.t("settings.speaker_output"),(0,a.h)("dyte-icon",{icon:this.iconPack.speaker,size:"sm"})),(0,a.h)("div",{class:"row"},(0,a.h)("select",{class:"dyte-select",onChange:e=>this.setDevice(e.target.value)},this.speakerDevices.map((({deviceId:t,label:i})=>{var r;return(0,a.h)("option",{value:t,selected:(null===(r=this.currentDevices.speaker)||void 0===r?void 0:r.deviceId)===t},i||"Speaker "+ ++e)}))))),"full"===this.variant&&(0,a.h)("dyte-button",{variant:"secondary",onClick:()=>this.testAudio()},(0,a.h)("dyte-icon",{icon:this.iconPack.speaker,slot:"start"}),this.t("test"))))}static get watchers(){return{meeting:["meetingChanged"]}}};Nt([(0,o.S)()],Bt.prototype,"meeting",void 0),Nt([(0,o.S)()],Bt.prototype,"states",void 0),Nt([(0,o.S)()],Bt.prototype,"size",void 0),Nt([(0,o.S)()],Bt.prototype,"iconPack",void 0),Nt([(0,o.S)()],Bt.prototype,"t",void 0),Bt.style=".dyte-select{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.dyte-select:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.dyte-select{display:block;border-radius:var(--dyte-border-radius-sm, 4px);border-width:var(--dyte-border-width-none, 0);border-style:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:var(--dyte-space-3, 12px);font-size:16px;--icon-size:var(--dyte-select-chevron-size, var(--dyte-space-6, 24px));--icon-right-position:var(--dyte-select-chevron-right-position, var(--dyte-space-2, 8px));background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e\");background-position:right var(--icon-right-position) center;background-repeat:no-repeat;background-size:var(--icon-size) var(--icon-size);padding-right:calc(var(--icon-right-position) * 5);width:100%;max-width:100%;text-overflow:ellipsis}.inline .dyte-select{margin-top:var(--dyte-space-1, 4px);width:100%;padding-top:var(--dyte-space-1, 4px);padding-bottom:var(--dyte-space-1, 4px);padding-left:var(--dyte-space-1\\.5, 6px);padding-right:var(--dyte-space-1\\.5, 6px);padding-right:var(--dyte-space-8, 32px);font-size:14px}.row{display:flex;width:100%;align-items:center;justify-content:space-between;gap:var(--dyte-space-3, 12px)}.group{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px)}.group>*{margin-bottom:var(--dyte-space-2, 8px)}.group>*:last-child{margin-bottom:var(--dyte-space-0, 0px)}.group select{flex:1 1 0%}.inline.group{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-0\\.5, 2px)}.inline.group>*{margin-bottom:var(--dyte-space-0, 0px)}label{display:flex;-webkit-user-select:none;-moz-user-select:none;user-select:none;align-items:center;gap:var(--dyte-space-1, 4px);font-size:14px}.inline .container{display:flex;align-items:center;justify-content:flex-start;gap:var(--dyte-space-2, 8px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px)}";var Ft=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const qt=class{constructor(e){(0,a.r)(this,e),this.iconPack=s.a,this.size="md"}render(){return(0,a.h)(a.H,{key:"f8333e747d1132d7bc402861ad4977d4c48ce101"},(0,a.h)("dyte-icon",{key:"5ba9127b0a2096f7315e1b349a2c1499f7bcf20c",class:"spinner",icon:this.iconPack.spinner}))}};Ft([(0,o.S)()],qt.prototype,"iconPack",void 0),Ft([(0,o.S)()],qt.prototype,"size",void 0),qt.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{box-sizing:border-box;display:block;height:var(--dyte-space-10, 40px);width:var(--dyte-space-10, 40px);--dyte-spinner-color:currentColor}.spinner{height:100%;width:100%}@keyframes spin{to{transform:rotate(360deg)}}.spinner{animation:spin 1s linear infinite;border-radius:9999px;background-color:transparent;animation-duration:1.3s}:host([size='md']){height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px)}:host([size='sm']){height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px)}";var Vt=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const Gt=class{constructor(e){(0,a.r)(this,e),this.dyteChange=(0,a.c)(this,"dyteChange",4),this.checked=!1,this.readonly=!1,this.disabled=!1,this.iconPack=s.a,this.t=(0,s.c)(),this.onClick=()=>{this.readonly||this.disabled||(this.checked=!this.checked)},this.onKeyPress=e=>{if(!this.readonly)switch(e.key){case"Enter":case" ":this.checked=!this.checked}}}connectedCallback(){this.checkedChange(this.checked)}checkedChange(e){this.checked=e,this.dyteChange.emit(e)}render(){return(0,a.h)(a.H,{key:"873702f9dfe5cff8482944e50c3d18cdbcc83185",role:"switch",tabIndex:this.disabled&&0,"aria-readonly":this.readonly,"aria-checked":this.checked,"aria-disabled":this.disabled,class:{checked:this.checked},onClick:this.onClick,onKeyPress:this.onKeyPress},(0,a.h)("div",{key:"01d727f8cbe301d7a1134b522dabd0d9a202923f",class:"switch",part:"switch"}))}static get watchers(){return{checked:["checkedChange"]}}};Vt([(0,o.S)()],Gt.prototype,"iconPack",void 0),Vt([(0,o.S)()],Gt.prototype,"t",void 0),Gt.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{box-sizing:border-box;display:inline-flex;height:var(--dyte-space-6, 24px);width:var(--dyte-space-10, 40px);align-items:center;padding:var(--dyte-space-1, 4px);border-radius:9999px;background-color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52));cursor:pointer}.switch{box-sizing:border-box;height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);background-color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));border-radius:9999px;transition-property:var(--dyte-transition-property, all);transition-duration:200ms}:host(.checked){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity))}:host(.checked) .switch{transform:translateX(100%)}:host([readonly]),:host([disabled]){cursor:not-allowed;opacity:0.6}";var Jt=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const Yt=class{constructor(e){(0,a.r)(this,e),this.onTextChange=(0,a.c)(this,"textChange",7),this.disabled=!1,this.rateLimitBreached=!1,this.keyDownHandler=()=>{},this.iconPack=s.a,this.t=(0,s.c)(),this.maxLengthBreached=0,this.onInputHandler=()=>{const e=this.$textArea.value.trim();this.maybeResize(e),this.checkLength(e),this.onTextChange.emit(e)},this.maybeResize=e=>{const t=[...e.matchAll(/\n/g)].length;this.$textArea.style.height=`${Math.min(200,60+20*t)}px`}}componentDidLoad(){this.maxLength&&(this.$textArea.maxLength=this.maxLength);const e=this.$textArea.value.trim();""!==e&&this.maybeResize(e),this.$textArea.focus()}async setText(e,t=!1){this.$textArea.value=e,this.maybeResize(e),t&&this.$textArea.focus(),this.checkLength(e),this.onTextChange.emit(e)}checkLength(e){const t=e.length;t+10>=this.maxLength?this.maxLengthBreached=e.length:t+10<this.maxLength&&this.maxLengthBreached>0&&(this.maxLengthBreached=0)}render(){return(0,a.h)("div",{key:"61ed661cf0660b1fc1b4a7efb76ade09d536145d",class:"chat-input",part:"chat-input-container"},this.maxLengthBreached>0&&(0,a.h)("div",{key:"97aecab3860485a146fe4725ebe05bfb010baefa",class:"text-error "+(this.maxLengthBreached===this.maxLength?"breached":"")},(0,a.h)("dyte-icon",{key:"daebcf9e4728ea6a9efe79f0b1a781a863bd465d",id:"warning-indicator",icon:this.iconPack.warning,part:"warning-indicator"})," ",this.maxLengthBreached," / ",this.maxLength," ",this.t("chat.max_limit_warning")),this.rateLimitBreached&&(0,a.h)("div",{key:"92f309d491682582352bdc48b73f06fa9ab49bde",class:"text-error breached"},(0,a.h)("dyte-icon",{key:"7ff7d2636801892348061ea60473dd846f0d2b1d",id:"warning-indicator",icon:this.iconPack.warning,part:"warning-indicator"})," ",this.t("chat.rate_limit_error")),(0,a.h)("textarea",{key:"386477d46285c144ec055cf48bf59b5dbff3989c",ref:e=>this.$textArea=e,placeholder:this.placeholder,disabled:this.disabled,onInput:this.onInputHandler,onKeyDown:this.keyDownHandler,part:"chat-input",value:this.value}))}};Jt([(0,o.S)()],Yt.prototype,"iconPack",void 0),Jt([(0,o.S)()],Yt.prototype,"t",void 0),Yt.style=".chat-input {\n  position: relative;\n  z-index: 10;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  border-top-left-radius: var(--dyte-border-radius-md, 8px);\n  border-top-right-radius: var(--dyte-border-radius-md, 8px)\n}\n\n  .chat-input textarea {\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));\n  box-sizing: border-box;\n  padding: var(--dyte-space-3, 12px);\n  color: rgb(var(--dyte-colors-text-1000, 255 255 255))\n}\n\n  .chat-input textarea::-moz-placeholder {\n  color: rgb(var(--dyte-colors-text-1000, 255 255 255))\n}\n\n  .chat-input textarea::placeholder {\n  color: rgb(var(--dyte-colors-text-1000, 255 255 255))\n}\n\n  .chat-input textarea {\n  font-family: var(--dyte-font-family, sans-serif);\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  resize: none;\n  overflow-y: auto;\n  border-width: var(--dyte-border-width-none, 0);\n  border-style: none;\n  min-height: 60px;\n  font-size: 14px\n}\n\n@container chatcontainer (height < 360px) {\n  textarea {\n    height: 30px !important;\n    min-height: 30px !important\n  }\n}\n\n.text-error {\n  left: var(--dyte-space-0, 0px);\n  z-index: 10;\n  margin-top: var(--dyte-space-1, 4px);\n  margin-left: var(--dyte-space-1, 4px);\n  display: flex;\n  width: -moz-fit-content;\n  width: fit-content;\n  align-items: center;\n  justify-content: flex-start;\n  border-radius: var(--dyte-border-radius-sm, 4px);\n  --tw-border-opacity: 1;\n  border-color: rgba(var(--dyte-colors-warning, 255 205 7) / var(--tw-border-opacity));\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));\n  padding-left: var(--dyte-space-2, 8px);\n  padding-right: var(--dyte-space-2, 8px);\n  font-size: 12px;\n  font-weight: 600;\n  --tw-text-opacity: 1;\n  color: rgba(var(--dyte-colors-warning, 255 205 7) / var(--tw-text-opacity));\n  border: 1px solid\n}\n\n#warning-indicator {\n  margin-right: var(--dyte-space-1, 4px);\n  height: var(--dyte-space-3, 12px);\n  width: var(--dyte-space-3, 12px)\n}\n\n.text-error.breached {\n  --tw-border-opacity: 1;\n  border-color: rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-border-opacity));\n  --tw-text-opacity: 1;\n  color: rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))\n}";var Qt=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const Wt=class{constructor(e){(0,a.r)(this,e),this.now=new Date,this.isContinued=!1,this.iconPack=s.a,this.t=(0,s.c)(),this.showBubble=!1}render(){return(0,a.h)(a.H,{key:"e082f0075f22f97890614d9b15899a0ed09ade61"},!this.isContinued&&(0,a.h)(l.C,{key:"4b825acf9ef68956ff3ce22227de8b411adb34a1",name:this.message.displayName,time:this.message.time,now:this.now}),(0,a.h)("div",{key:"fdeaa70cd0f2b5bc0576e81269af073724081c5f",class:{body:!0,bubble:this.showBubble},part:"body"},(0,a.h)("div",{key:"6ecfefe0b50f26759757e88024e050551d32f370",class:{text:!0,emoji:(0,n.h)(this.message.message)}},(0,a.h)(u.T,{key:"8272d97cf01cd17426607194a9c39c6152db6e2c",message:this.message.message}))))}};Qt([(0,o.S)()],Wt.prototype,"iconPack",void 0),Qt([(0,o.S)()],Wt.prototype,"t",void 0);const Kt=class{constructor(e){(0,a.r)(this,e),this.isMarkdown=!1}render(){return(0,a.h)("p",{key:"0bfd2379f422f2ec89f13714fd40ca29b73bed0d",class:{text:!0,emoji:(0,n.h)(this.text)}},this.isMarkdown?(0,a.h)("dyte-markdown-view",{text:this.text}):this.text)}};Kt.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.text{word-break:break-word;display:block;overflow-wrap:break-word;line-height:1.375}.text.emoji{font-size:24px}";var Xt=function(e,t,i,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o};const Zt=class{constructor(e){(0,a.r)(this,e),this.dyteOpenChange=(0,a.c)(this,"dyteOpenChange",7),this.label="",this.variant="secondary",this.disabled=!1,this.open=!1,this.kind="inline",this.placement="top",this.delay=0,this.isInFocus=!1,this.showMenu=()=>{this.disabled||(this.isInFocus=!0,setTimeout((()=>{this.isInFocus&&(this.tooltipEl.style.display="block",this.update(),this.dyteOpenChange.emit(!0),"sm"===this.size&&setTimeout((()=>{this.isInFocus&&this.hideMenu()}),1e3))}),this.delay))},this.hideMenu=()=>{this.open||this.disabled||(this.isInFocus=!1,this.tooltipEl.style.display="none",this.dyteOpenChange.emit(!1))}}componentDidLoad(){this.triggerEl.addEventListener("focusin",this.showMenu),this.triggerEl.addEventListener("mouseenter",this.showMenu),this.triggerEl.addEventListener("focusout",this.hideMenu),this.triggerEl.addEventListener("mouseleave",this.hideMenu),(0,a.w)((()=>{this.openChanged(this.open)}))}disconnectedCallback(){this.triggerEl&&(this.triggerEl.removeEventListener("focusin",this.showMenu),this.triggerEl.removeEventListener("mouseenter",this.showMenu),this.triggerEl.removeEventListener("focusout",this.hideMenu),this.triggerEl.removeEventListener("mouseleave",this.hideMenu),this.triggerEl=void 0)}openChanged(e){e?this.showMenu():this.hideMenu()}update(){(0,v.c)(this.triggerEl,this.tooltipEl,{placement:this.placement,middleware:[(0,v.o)(8),(0,v.f)(),(0,v.s)({padding:5}),(0,v.a)({element:this.arrowEl})]}).then((({x:e,y:t,placement:i,middlewareData:a})=>{Object.assign(this.tooltipEl.style,{left:`${e}px`,top:`${t}px`});const{x:r,y:s}=a.arrow,o={top:"bottom",right:"left",bottom:"top",left:"right"}[i.split("-")[0]];Object.assign(this.arrowEl.style,{left:null!=r?`${r}px`:"",top:null!=s?`${s}px`:"",right:"",bottom:"",[o]:"-4px"})}))}render(){return(0,a.h)(a.H,{key:"408cc292b9ee81259eb1bb4b9df70eb2adf469a7"},(0,a.h)("span",{key:"4fb7a6d6ebe5a15dfe2e016c6a8e83f6c1571463",part:"trigger",id:"trigger",ref:e=>this.triggerEl=e},(0,a.h)("slot",{key:"7cec3218611b38d3de272f80b21aaf2406d6ea46"})),(0,a.h)("div",{key:"0bcf3a675eb667b2604d9f69fc8cf5c125ef0c5c",part:"tooltip",class:"tooltip",id:"tooltip",role:"tooltip",ref:e=>this.tooltipEl=e},(0,a.h)("div",{key:"51965a748edbb9ec286fc3f89a34e93e30ec958e",id:"arrow",ref:e=>this.arrowEl=e,part:"arrow"}),this.label,(0,a.h)("slot",{key:"6149d55b7fa3b346161d02d793717f5f839fafff",name:"tooltip"})))}static get watchers(){return{open:["openChanged"]}}};Xt([(0,o.S)()],Zt.prototype,"size",void 0),Zt.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{--background-color:var(--dyte-tooltip-background-color, rgb(var(--dyte-colors-background-600, 60 60 60)));--color:var(--dyte-tooltip-color, rgb(var(--dyte-colors-text-1000, 255 255 255)));display:inline-flex}#trigger{display:block;width:100%;flex:1 1 0%}.tooltip{max-width:var(--dyte-space-64, 256px);position:fixed;z-index:20;display:none;width:-moz-max-content;width:max-content;padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);padding-top:var(--dyte-space-1, 4px);padding-bottom:var(--dyte-space-1, 4px);border-radius:var(--dyte-border-radius-sm, 4px);--tw-shadow:0 1px 2px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);font-size:12px}.tooltip,#arrow{position:absolute;background-color:var(--background-color);color:var(--color)}#arrow{position:absolute;height:var(--dyte-space-2, 8px);width:var(--dyte-space-2, 8px);transform:rotate(45deg)}:host([variant='primary']){--background-color:rgb(var(--dyte-colors-brand-500, 33 96 253));--color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}:host([kind='block']){display:block}"},25056:(e,t,i)=>{i.d(t,{h:()=>d});var a=r;function r(){}r.mixin=function(e){var t=e.prototype||e;t.isWildEmitter=!0,t.on=function(e,t,i){this.callbacks=this.callbacks||{};var a=3===arguments.length,r=a?arguments[1]:void 0,s=a?arguments[2]:arguments[1];return s._groupName=r,(this.callbacks[e]=this.callbacks[e]||[]).push(s),this},t.once=function(e,t,i){var a=this,r=3===arguments.length,s=r?arguments[1]:void 0,o=r?arguments[2]:arguments[1];return this.on(e,s,(function t(){a.off(e,t),o.apply(this,arguments)})),this},t.releaseGroup=function(e){var t,i,a,r;for(t in this.callbacks=this.callbacks||{},this.callbacks)for(i=0,a=(r=this.callbacks[t]).length;i<a;i++)r[i]._groupName===e&&(r.splice(i,1),i--,a--);return this},t.off=function(e,t){this.callbacks=this.callbacks||{};var i,a=this.callbacks[e];return a?1===arguments.length?(delete this.callbacks[e],this):(-1!==(i=a.indexOf(t))&&(a.splice(i,1),0===a.length&&delete this.callbacks[e]),this):this},t.emit=function(e){this.callbacks=this.callbacks||{};var t,i,a,r=[].slice.call(arguments,1),s=this.callbacks[e],o=this.getWildcardCallbacks(e);if(s)for(t=0,i=(a=s.slice()).length;t<i&&a[t];++t)a[t].apply(this,r);if(o)for(i=o.length,t=0,i=(a=o.slice()).length;t<i&&a[t];++t)a[t].apply(this,[e].concat(r));return this},t.getWildcardCallbacks=function(e){this.callbacks=this.callbacks||{};var t,i,a=[];for(t in this.callbacks)i=t.split("*"),("*"===t||2===i.length&&e.slice(0,i[0].length)===i[0])&&(a=a.concat(this.callbacks[t]));return a}},r.mixin(r);var s,o=a;"undefined"!=typeof window&&(s=window.AudioContext||window.webkitAudioContext);var n=null,d=function(e,t){var i=new o;if(!s)return i;var a,r,d,c=(t=t||{}).smoothing||.1,l=t.interval||50,h=t.threshold,p=t.play,g=t.history||10,b=!0;n=t.audioContext||n||new s,(d=n.createAnalyser()).fftSize=512,d.smoothingTimeConstant=c,r=new Float32Array(d.frequencyBinCount),e.jquery&&(e=e[0]),e instanceof HTMLAudioElement||e instanceof HTMLVideoElement?(a=n.createMediaElementSource(e),void 0===p&&(p=!0),h=h||-50):(a=n.createMediaStreamSource(e),h=h||-50),a.connect(d),p&&d.connect(n.destination),i.speaking=!1,i.suspend=function(){return n.suspend()},i.resume=function(){return n.resume()},Object.defineProperty(i,"state",{get:function(){return n.state}}),n.onstatechange=function(){i.emit("state_change",n.state)},i.setThreshold=function(e){h=e},i.setInterval=function(e){l=e},i.stop=function(){b=!1,i.emit("volume_change",-100,h),i.speaking&&(i.speaking=!1,i.emit("stopped_speaking")),d.disconnect(),a.disconnect()},i.speakingHistory=[];for(var y=0;y<g;y++)i.speakingHistory.push(0);var v=function(){setTimeout((function(){if(b){var e=function(e,t){var i=-1/0;e.getFloatFrequencyData(t);for(var a=4,r=t.length;a<r;a++)t[a]>i&&t[a]<0&&(i=t[a]);return i}(d,r);i.emit("volume_change",e,h);var t=0;if(e>h&&!i.speaking){for(var a=i.speakingHistory.length-3;a<i.speakingHistory.length;a++)t+=i.speakingHistory[a];t>=2&&(i.speaking=!0,i.emit("speaking"))}else if(e<h&&i.speaking){for(a=0;a<i.speakingHistory.length;a++)t+=i.speakingHistory[a];0==t&&(i.speaking=!1,i.emit("stopped_speaking"))}i.speakingHistory.shift(),i.speakingHistory.push(0+(e>h)),v()}}),l)};return v(),i}},37633:(e,t,i)=>{i.d(t,{s:()=>a});const a=(e,t=!0)=>{null!=e&&e.scrollTo({top:e.scrollHeight,behavior:t?"smooth":"auto"})}},98836:(e,t,i)=>{i.d(t,{g:()=>s});const a=768,r=1080,s=e=>e>=r?"lg":e>=a?"md":"sm"}}]);