"use strict";(self.webpackChunksentinel_docs=self.webpackChunksentinel_docs||[]).push([[7278],{87779:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>c,frontMatter:()=>i,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"commands/transactions/authz","title":"Authz","description":"Authorize and revoke access to execute transactions on behalf of your address","source":"@site/docs/sentinel-hub/commands/transactions/authz.md","sourceDirName":"commands/transactions","slug":"/commands/transactions/authz","permalink":"/sentinel-hub/commands/transactions/authz","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Authz","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Multisig","permalink":"/sentinel-hub/commands/keys/multisig"},"next":{"title":"Send","permalink":"/sentinel-hub/commands/transactions/send"}}');var a=t(74848),r=t(28453);const i={title:"Authz",sidebar_position:1},o="Authz",d={},h=[{value:"Authorization to Spend",id:"authorization-to-spend",level:2},{value:"Grant",id:"grant",level:3},{value:"Revoke",id:"revoke",level:3},{value:"Grantee Transaction Process",id:"grantee-transaction-process",level:3},{value:"Authorization to Vote",id:"authorization-to-vote",level:2},{value:"Grant",id:"grant-1",level:3},{value:"Revoke",id:"revoke-1",level:3},{value:"Authorization to Withdraw Rewards",id:"authorization-to-withdraw-rewards",level:2},{value:"Grant",id:"grant-2",level:3},{value:"Revoke",id:"revoke-2",level:3},{value:"Authorization to Claim Validator Commissions",id:"authorization-to-claim-validator-commissions",level:2},{value:"Grant",id:"grant-3",level:3},{value:"Revoke",id:"revoke-3",level:3}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"authz",children:"Authz"})}),"\n",(0,a.jsx)(n.p,{children:"Authorize and revoke access to execute transactions on behalf of your address"}),"\n",(0,a.jsx)(n.h2,{id:"authorization-to-spend",children:"Authorization to Spend"}),"\n",(0,a.jsx)(n.h3,{id:"grant",children:"Grant"}),"\n",(0,a.jsx)(n.p,{children:"Grant permission for one address to spend on behalf of another address."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sentinelhub tx authz grant \\\n  <grantee_address> \\\n  send \\\n  --from <granter_key_name> \\\n  --spend-limit <amount>udvpn \\\n  --expiration 1730799045 \\\n  --node https://rpc.sentinel.co:443 \\\n  --chain-id sentinelhub-2 \\\n  --gas-prices=0.5udvpn \\\n  --gas=300000\n"})}),"\n",(0,a.jsx)(n.h3,{id:"revoke",children:"Revoke"}),"\n",(0,a.jsx)(n.p,{children:"Revoke permission for one address to spend on behalf of another address."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sentinelhub tx authz revoke \\\n  <grantee_address> \\\n  /cosmos.bank.v1beta1.MsgSend \\\n  --from <granter_key_name> \\\n  --node https://rpc.sentinel.co:443 \\\n  --chain-id sentinelhub-2 \\\n  --gas-prices=0.5udvpn \\\n  --gas=300000\n"})}),"\n",(0,a.jsx)(n.h3,{id:"grantee-transaction-process",children:"Grantee Transaction Process"}),"\n",(0,a.jsx)(n.p,{children:"To initiate the transaction on behalf of the granter account, follow these steps:"}),"\n",(0,a.jsx)(n.p,{children:"The granter must first generate an offline transaction using the following command which prepares the transaction details and saves them in the tx.json file."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sentinelhub tx bank send \\\n  <granter_address> \\\n  <recipient_address> \\\n  <amount>udvpn \\\n  --chain-id sentinelhub-2 \\\n  --generate-only > tx.json\n"})}),"\n",(0,a.jsx)(n.p,{children:"The grantee is then responsible for broadcasting the transaction. Ensure that the grantee has sufficient fees to cover the transaction costs. Use the following command:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sentinelhub tx authz exec tx.json \\\n  --from <grantee_key_name> \\\n  --node https://rpc.sentinel.co:443 \\\n  --chain-id sentinelhub-2 \\\n  --gas-prices=0.5udvpn \\\n  --gas=300000\n"})}),"\n",(0,a.jsx)(n.h2,{id:"authorization-to-vote",children:"Authorization to Vote"}),"\n",(0,a.jsx)(n.h3,{id:"grant-1",children:"Grant"}),"\n",(0,a.jsx)(n.p,{children:"Authorize an address to cast votes on behalf of another address for proposals."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sentinelhub tx authz grant \\\n  <grantee_address> \\\n  generic \\\n  --msg-type /cosmos.gov.v1beta1.MsgVote \\\n  --from <granter_key_name> \\\n  --expiration 1730799045 \\\n  --node https://rpc.sentinel.co:443 \\\n  --chain-id sentinelhub-2 \\\n  --gas-prices=0.5udvpn \\\n  --gas=300000\n"})}),"\n",(0,a.jsx)(n.p,{children:"Some notes on the flags:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"the expiration is set to default at 1730799045 which is 1 year"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"revoke-1",children:"Revoke"}),"\n",(0,a.jsx)(n.p,{children:"Revoke authorization for an address to cast votes on behalf of another address for proposals."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sentinelhub tx authz revoke \\\n  <grantee_address> \\\n  /cosmos.gov.v1beta1.MsgVote \\\n  --from <granter_key_name> \\\n  --node https://rpc.sentinel.co:443 \\\n  --chain-id sentinelhub-2 \\\n  --gas-prices=0.5udvpn \\\n  --gas=300000\n"})}),"\n",(0,a.jsx)(n.h2,{id:"authorization-to-withdraw-rewards",children:"Authorization to Withdraw Rewards"}),"\n",(0,a.jsx)(n.h3,{id:"grant-2",children:"Grant"}),"\n",(0,a.jsx)(n.p,{children:"Grant authorization for one address to withdraw staking rewards on behalf of another address."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sentinelhub tx authz grant \\\n  <grantee_address> \\\n  generic \\\n  --msg-type /cosmos.distribution.v1beta1.MsgSetWithdrawAddress \\\n  --from <granter_key_name> \\\n  --node https://rpc.sentinel.co:443 \\\n  --expiration 1730799045 \\\n  --chain-id sentinelhub-2 \\\n  --gas-prices=0.5udvpn \\\n  --gas=300000\n"})}),"\n",(0,a.jsx)(n.h3,{id:"revoke-2",children:"Revoke"}),"\n",(0,a.jsx)(n.p,{children:"Revoke the authorization for one address to withdraw staking rewards on behalf of another address."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sentinelhub tx authz revoke \\\n  <grantee_address> \\\n  /cosmos.distribution.v1beta1.MsgSetWithdrawAddress \\\n  --from <granter_key_name> \\\n  --node https://rpc.sentinel.co:443 \\\n  --chain-id sentinelhub-2 \\\n  --gas-prices=0.5udvpn \\\n  --gas=300000\n"})}),"\n",(0,a.jsx)(n.h2,{id:"authorization-to-claim-validator-commissions",children:"Authorization to Claim Validator Commissions"}),"\n",(0,a.jsx)(n.h3,{id:"grant-3",children:"Grant"}),"\n",(0,a.jsx)(n.p,{children:"Authorize one specific address to claim validator commissions on behalf of the validator's address."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sentinelhub tx authz grant \\\n  <grantee_address> \\\n  generic \\\n  --msg-type /cosmos.distribution.v1beta1.MsgWithdrawValidatorCommission \\\n  --from <granter_key_name> \\\n  --expiration 1730799045 \\\n  --node https://rpc.sentinel.co:443 \\\n  --chain-id sentinelhub-2 \\\n  --gas-prices=0.5udvpn \\\n  --gas=300000\n"})}),"\n",(0,a.jsx)(n.h3,{id:"revoke-3",children:"Revoke"}),"\n",(0,a.jsx)(n.p,{children:"Revoke the authorization for claiming validator rewards on behalf of the validator's address for a specific account."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sentinelhub tx authz revoke \\\n  <grantee_address> \\\n  /cosmos.distribution.v1beta1.MsgWithdrawValidatorCommission \\\n  --from <granter_key_name> \\\n  --node https://rpc.sentinel.co:443 \\\n  --chain-id sentinelhub-2 \\\n  --gas-prices=0.5udvpn \\\n  --gas=300000\n"})})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>o});var s=t(96540);const a={},r=s.createContext(a);function i(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);