"use strict";(self.webpackChunksentinel_docs=self.webpackChunksentinel_docs||[]).push([[5223],{72793:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>l,default:()=>o,frontMatter:()=>i,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"upgrades/software-update","title":"Software Upgrade","description":"This guide outlines the steps required to upgrade your Sentinel Hub software. Follow these instructions carefully to ensure a smooth process.","source":"@site/docs/full-node-setup/upgrades/software-update.md","sourceDirName":"upgrades","slug":"/upgrades/software-update","permalink":"/full-node-setup/upgrades/software-update","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Software Upgrade","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Binary Upgrade","permalink":"/full-node-setup/upgrades/cosmovisor/upgrade"},"next":{"title":"Hard Fork sentinelhub-2","permalink":"/full-node-setup/upgrades/hard-fork"}}');var r=n(74848),d=n(28453);const i={title:"Software Upgrade",sidebar_position:2},l="Software Upgrade",c={},h=[{value:"Upgrade List",id:"upgrade-list",level:2},{value:"Upgrade Steps",id:"upgrade-steps",level:2},{value:"Stop the node",id:"stop-the-node",level:3},{value:"Install the new version",id:"install-the-new-version",level:3},{value:"Start the node",id:"start-the-node",level:3},{value:"In Case of Upgrade Failure",id:"in-case-of-upgrade-failure",level:2}];function a(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"software-upgrade",children:"Software Upgrade"})}),"\n",(0,r.jsx)(s.p,{children:"This guide outlines the steps required to upgrade your Sentinel Hub software. Follow these instructions carefully to ensure a smooth process."}),"\n",(0,r.jsx)(s.h2,{id:"upgrade-list",children:"Upgrade List"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Upgrade #"})}),(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Binary Version"})}),(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Name"})}),(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Block Height"})}),(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Proposal #"})}),(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Commit Hash"})})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"upgrade-1"}),(0,r.jsx)(s.td,{children:"v0.7.0"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"upgrade-1"})}),(0,r.jsx)(s.td,{children:"1,272,000"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"https://explorer.busurnode.com/sentinel/gov/3",children:"3"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"https://github.com/sentinel-official/hub/commit/600fd5f8b71f60332656b826df2e3fa3bc6c5e5e",children:"600fd5f"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"upgrade-2"}),(0,r.jsx)(s.td,{children:"v0.8.3"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"upgrade-2"})}),(0,r.jsx)(s.td,{children:"2,586,000"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"https://explorer.busurnode.com/sentinel/gov/5",children:"5"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"https://github.com/sentinel-official/hub/commit/fa7cd3c7d5f427308d8a837a18b951482ce5c9e2",children:"fa7cd3c"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"upgrade-3"}),(0,r.jsx)(s.td,{children:"v0.9.2"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"upgrade-3"})}),(0,r.jsx)(s.td,{children:"5,125,000"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"https://explorer.busurnode.com/sentinel/gov/9",children:"9"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"https://github.com/sentinel-official/hub/commit/d04a4004600c9d19e326f61a13fcef853616e3ed",children:"d04a400"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"upgrade-4"}),(0,r.jsx)(s.td,{children:"v0.10.1"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"upgrade-4"})}),(0,r.jsx)(s.td,{children:"9,348,475"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"https://explorer.busurnode.com/sentinel/gov/19",children:"19"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"https://github.com/sentinel-official/hub/commit/bbe6fab51c81863551a69aeb4977ec4c19fcd60a",children:"bbe6fab"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"upgrade-5"}),(0,r.jsx)(s.td,{children:"v0.11.2"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"v11"})}),(0,r.jsx)(s.td,{children:"12,310,005"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"https://explorer.busurnode.com/sentinel/gov/30",children:"30"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"https://github.com/sentinel-official/hub/commit/54c28ae02786b62b25303759da761e5ce1226029",children:"54c28ae"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"upgrade-6"}),(0,r.jsx)(s.td,{children:"v12.0.0"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"v12_0_0"})}),(0,r.jsx)(s.td,{children:"23,997,755"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"https://explorer.busurnode.com/sentinel/gov/64",children:"64"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"https://github.com/sentinel-official/sentinelhub/commit/eb3c5c4287674bd0a7e3180c5cec7d03196207b3",children:"eb3c5c4"})})]})]})]}),"\n",(0,r.jsx)(s.h2,{id:"upgrade-steps",children:"Upgrade Steps"}),"\n",(0,r.jsx)(s.p,{children:"At the specified block height, the blockchain will halt. Follow these steps only after the blockchain stops producing new blocks."}),"\n",(0,r.jsx)(s.h3,{id:"stop-the-node",children:"Stop the node"}),"\n",(0,r.jsx)(s.p,{children:"Run the following command to verify the latest block height matches the upgrade height:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"curl -fsLS http://127.0.0.1:26657/status | jq -r '.result.sync_info.latest_block_height'\n"})}),"\n",(0,r.jsx)(s.p,{children:"Stop the running node to prepare for the upgrade."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"sudo systemctl stop sentinelhub.service\n"})}),"\n",(0,r.jsx)(s.h3,{id:"install-the-new-version",children:"Install the new version"}),"\n",(0,r.jsxs)(s.p,{children:["Clone the source code and replace ",(0,r.jsx)(s.code,{children:"<binary_version>"})," with the version from the table:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"VERSION=<binary_version>\r\nBASE_DIRECTORY=${GOPATH}/src/github.com/sentinel-official\r\n\r\nrm -rf ${BASE_DIRECTORY}/hub/ && mkdir -p ${BASE_DIRECTORY} && cd ${BASE_DIRECTORY}/ && \\\r\ngit clone https://github.com/sentinel-official/sentinelhub.git && cd ${BASE_DIRECTORY}/hub/ && \\\r\ngit checkout ${VERSION}\n"})}),"\n",(0,r.jsx)(s.p,{children:"Build and install the software"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"make install\n"})}),"\n",(0,r.jsx)(s.h3,{id:"start-the-node",children:"Start the node"}),"\n",(0,r.jsx)(s.p,{children:"Confirm the new version is installed correctly:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"sentinelhub version --long\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Start the ",(0,r.jsx)(s.code,{children:"sentinelhub"})," process"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"sudo systemctl start sentinelhub.service\n"})}),"\n",(0,r.jsx)(s.h2,{id:"in-case-of-upgrade-failure",children:"In Case of Upgrade Failure"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Use the version immediately before the failed upgrade (note: if you are installing software upgrade-1, use the version 0.6.3)."}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Confirm the installation matches the details in the table above."}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Start the ",(0,r.jsx)(s.code,{children:"sentinelhub"})," process with flag ",(0,r.jsx)(s.code,{children:"unsafe-skip-upgrades"})," at the upgrade block height"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"sentinelhub start --unsafe-skip-upgrades <block_height>\n"})}),"\n",(0,r.jsx)(s.p,{children:"This process ensures minimal downtime and a smooth transition between software versions."})]})}function o(e={}){const{wrapper:s}={...(0,d.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>l});var t=n(96540);const r={},d=t.createContext(r);function i(e){const s=t.useContext(d);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(d.Provider,{value:s},e.children)}}}]);