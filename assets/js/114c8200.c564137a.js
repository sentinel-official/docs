"use strict";(self.webpackChunksentinel_docs=self.webpackChunksentinel_docs||[]).push([[3648],{22021:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>s,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"manual/docker-image","title":"Preparing Sentinel Docker image","description":"Choose between prebuilt or from source","source":"@site/docs/node-setup/manual/docker-image.md","sourceDirName":"manual","slug":"/manual/docker-image","permalink":"/node-setup/manual/docker-image","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Preparing Sentinel Docker image","description":"Choose between prebuilt or from source","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Install Docker","permalink":"/node-setup/manual/docker-setup"},"next":{"title":"Node Configuration","permalink":"/node-setup/manual/node-config"}}');var r=t(74848),a=t(28453);const l={title:"Preparing Sentinel Docker image",description:"Choose between prebuilt or from source",sidebar_position:3},s="Preparing Sentinel Docker Image",o={},c=[{value:"Method 1 - Prebuilt",id:"method-1---prebuilt",level:2},{value:"x86_64",id:"x86_64",level:3},{value:"ARM7",id:"arm7",level:3},{value:"AArch64 (ARM64)",id:"aarch64-arm64",level:3},{value:"Method 2 - From Source",id:"method-2---from-source",level:2},{value:"Clone the GitHub repository",id:"clone-the-github-repository",level:3},{value:"Checkout to the latest tag",id:"checkout-to-the-latest-tag",level:3},{value:"Build the image",id:"build-the-image",level:3},{value:"Create a self-signed TLS certificate",id:"create-a-self-signed-tls-certificate",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"preparing-sentinel-docker-image",children:"Preparing Sentinel Docker Image"})}),"\n",(0,r.jsx)(n.h2,{id:"method-1---prebuilt",children:"Method 1 - Prebuilt"}),"\n",(0,r.jsx)(n.h3,{id:"x86_64",children:"x86_64"}),"\n",(0,r.jsxs)(n.p,{children:["Pull the image (check your desired version from this ",(0,r.jsx)(n.a,{href:"https://github.com/sentinel-official/dvpn-node/pkgs/container/dvpn-node",children:"link"}),")"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker pull ghcr.io/sentinel-official/dvpn-node:latest\n"})}),"\n",(0,r.jsx)(n.p,{children:"Tag the image"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker tag ghcr.io/sentinel-official/dvpn-node:latest sentinel-dvpn-node\n"})}),"\n",(0,r.jsx)(n.h3,{id:"arm7",children:"ARM7"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker pull wajatmaka/sentinel-arm7-debian:v0.7.1\n"})}),"\n",(0,r.jsx)(n.h3,{id:"aarch64-arm64",children:"AArch64 (ARM64)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker pull wajatmaka/sentinel-aarch64-alpine:v0.7.1\n"})}),"\n",(0,r.jsx)(n.h2,{id:"method-2---from-source",children:"Method 2 - From Source"}),"\n",(0,r.jsx)(n.h3,{id:"clone-the-github-repository",children:"Clone the GitHub repository"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/sentinel-official/dvpn-node.git \\\n    ${HOME}/dvpn-node/\n"})}),"\n",(0,r.jsx)(n.h3,{id:"checkout-to-the-latest-tag",children:"Checkout to the latest tag"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Option 1 - Automatic to the latest tag"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd ${HOME}/dvpn-node/ && \\\ncommit=$(git rev-list --tags --max-count=1) && \\\ngit checkout $(git describe --tags ${commit})\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Option 2 - Manual (if the previous command does not work for some reasons). Check ",(0,r.jsx)(n.a,{href:"https://github.com/sentinel-official/dvpn-node/releases",children:"here"})," for the last current release"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd ~/dvpn-node && \\\ngit fetch && \\\ngit checkout vX.X.X\n"})}),"\n",(0,r.jsx)(n.h3,{id:"build-the-image",children:"Build the image"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker build --file Dockerfile \\\n    --tag sentinel-dvpn-node \\\n    --force-rm \\\n    --no-cache \\\n    --compress .\n"})}),"\n",(0,r.jsx)(n.h2,{id:"create-a-self-signed-tls-certificate",children:"Create a self-signed TLS certificate"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"openssl req -new \\\n    -newkey ec \\\n    -pkeyopt ec_paramgen_curve:prime256v1 \\\n    -x509 \\\n    -sha256 \\\n    -days 365 \\\n    -nodes \\\n    -out ${HOME}/tls.crt \\\n    -keyout ${HOME}/tls.key\n"})}),"\n",(0,r.jsx)(n.p,{children:"You will be asked to fill in some fields. Please insert the country while you can leave the others blank. If you want to automate this process, just add the following line to the command above:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'-subj "/C=NA/ST=NA/L=./O=NA/OU=./CN=." \\\n'})})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>s});var i=t(96540);const r={},a=i.createContext(r);function l(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);