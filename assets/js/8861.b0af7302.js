"use strict";(self.webpackChunksentinel_docs=self.webpackChunksentinel_docs||[]).push([[8861],{8861:(e,t,i)=>{i.r(t),i.d(t,{BreakoutRoomsManager:()=>a.B,DyteAi:()=>C,DyteAiToggle:()=>_,DyteAiTranscriptions:()=>P,DyteAudioGrid:()=>L,DyteAudioTile:()=>E,DyteAudioVisualizer:()=>T,DyteAvatar:()=>A,DyteBreakoutRoomManager:()=>R,DyteBreakoutRoomParticipants:()=>M,DyteBreakoutRoomsManager:()=>D,DyteBreakoutRoomsToggle:()=>I,DyteBroadcastMessageModal:()=>O,DyteButton:()=>$,DyteCameraSelector:()=>U,DyteCameraToggle:()=>j,DyteCaptionToggle:()=>F,DyteChannelCreator:()=>N,DyteChannelDetails:()=>z,DyteChannelHeader:()=>B,DyteChannelSelectorUi:()=>H,DyteChannelSelectorView:()=>V,DyteChat:()=>G,DyteChatComposerUi:()=>q,DyteChatComposerView:()=>Z,DyteChatMessage:()=>K,DyteChatMessagesUi:()=>W,DyteChatMessagesUiPaginated:()=>Y,DyteChatSearchResults:()=>Q,DyteChatSelectorUi:()=>J,DyteChatToggle:()=>X,DyteClock:()=>ee,DyteConfirmationModal:()=>te,DyteControlbar:()=>ie,DyteControlbarButton:()=>ae,DyteCounter:()=>se,DyteDebugger:()=>re,DyteDebuggerAudio:()=>ne,DyteDebuggerScreenshare:()=>oe,DyteDebuggerSystem:()=>de,DyteDebuggerToggle:()=>ce,DyteDebuggerVideo:()=>le,DyteDialog:()=>he,DyteDialogManager:()=>pe,DyteDraftAttachmentView:()=>ge,DyteEmojiPicker:()=>ue,DyteEmojiPickerButton:()=>fe,DyteEndedScreen:()=>me,DyteFileDropzone:()=>ve,DyteFileMessage:()=>ye,DyteFileMessageView:()=>be,DyteFilePickerButton:()=>we,DyteFullscreenToggle:()=>xe,DyteGrid:()=>ke,DyteGridPagination:()=>Se,DyteHeader:()=>Ce,DyteIcon:()=>_e,DyteIdleScreen:()=>Pe,DyteImageMessage:()=>Le,DyteImageMessageView:()=>Ee,DyteImageViewer:()=>Te,DyteInformationTooltip:()=>Ae,DyteJoinStage:()=>Re,DyteLeaveButton:()=>Me,DyteLeaveMeeting:()=>De,DyteLivestreamIndicator:()=>Ie,DyteLivestreamPlayer:()=>Oe,DyteLivestreamToggle:()=>$e,DyteLogo:()=>Ue,DyteMarkdownView:()=>je,DyteMeeting:()=>Fe,DyteMeetingTitle:()=>Ne,DyteMenu:()=>ze,DyteMenuItem:()=>Be,DyteMenuList:()=>He,DyteMessageListView:()=>Ve,DyteMessageView:()=>Ge,DyteMicToggle:()=>qe,DyteMicrophoneSelector:()=>Ze,DyteMixedGrid:()=>Ke,DyteMoreToggle:()=>We,DyteMuteAllButton:()=>Ye,DyteMuteAllConfirmation:()=>Qe,DyteNameTag:()=>Je,DyteNetworkIndicator:()=>Xe,DyteNotification:()=>et,DyteNotifications:()=>tt,DyteNotificationsAudio:()=>r.D,DyteOverlayModal:()=>it,DytePaginatedList:()=>at,DyteParticipant:()=>st,DyteParticipantCount:()=>rt,DyteParticipantSetup:()=>nt,DyteParticipantTile:()=>ot,DyteParticipants:()=>dt,DyteParticipantsAudio:()=>ct,DyteParticipantsStageList:()=>lt,DyteParticipantsStageQueue:()=>ht,DyteParticipantsToggle:()=>pt,DyteParticipantsViewerList:()=>gt,DyteParticipantsWaitingList:()=>ut,DytePermissionsMessage:()=>ft,DytePipToggle:()=>mt,DytePluginMain:()=>vt,DytePlugins:()=>yt,DytePluginsToggle:()=>bt,DytePoll:()=>wt,DytePollForm:()=>xt,DytePolls:()=>kt,DytePollsToggle:()=>St,DyteRecordingIndicator:()=>Ct,DyteRecordingToggle:()=>_t,DyteScreenShareToggle:()=>Pt,DyteScreenshareView:()=>Lt,DyteSettings:()=>Et,DyteSettingsAudio:()=>Tt,DyteSettingsToggle:()=>At,DyteSettingsVideo:()=>Rt,DyteSetupScreen:()=>Mt,DyteSidebar:()=>Dt,DyteSidebarUi:()=>It,DyteSimpleGrid:()=>Ot,DyteSpeakerSelector:()=>$t,DyteSpinner:()=>Ut,DyteSpotlightGrid:()=>jt,DyteSpotlightIndicator:()=>Ft,DyteStage:()=>Nt,DyteStageToggle:()=>zt,DyteSwitch:()=>Bt,DyteTabBar:()=>Ht,DyteTextComposerView:()=>Vt,DyteTextMessage:()=>Gt,DyteTextMessageView:()=>qt,DyteTooltip:()=>Zt,DyteTranscript:()=>Kt,DyteTranscripts:()=>Wt,DyteUIBuilder:()=>p,DyteUiProvider:()=>Yt,DyteViewerCount:()=>Qt,DyteVirtualizedParticipantList:()=>Jt,DyteWaitingScreen:()=>Xt,defaultConfig:()=>a.d,defaultIconPack:()=>a.a,defaultLanguage:()=>a.b,extendConfig:()=>s.e,generateChatGroupKey:()=>n.g,generateConfig:()=>s.g,getChatGroups:()=>n.a,getInitialStates:()=>a.g,getParticipantUserId:()=>n.c,getUnreadChatCounts:()=>n.b,provideDyteDesignSystem:()=>s.p,registerAddons:()=>g,sendNotification:()=>o,uiStore:()=>a.u,useLanguage:()=>a.c});var a=i(371),s=i(89275),r=i(20878),n=i(92373);i(98342),i(86979),i(13633);const o=(e,t=void 0)=>{if("undefined"==typeof document)return!1;const i=new CustomEvent("dyteNotification",{detail:Object.assign(Object.assign({},e),{playSound:t}),composed:!0});return document.dispatchEvent(i)};function d(e){return t=>Array.isArray(t)?t[0]===e:t===e}function c(e){return t=>Array.isArray(t)?t[0]!==e:t!==e}function l(e){return e.replace(/([a-z])([A-Z])/g,(e=>`${e[0]}-${e[1]}`.toLowerCase()))}class h{constructor(e,t,i){this.elem=e,this.config=t,this.keyString=i}add(e,t={}){var i;let a=e=l(e);return Object.keys(t).length>0&&(a=[e,t]),Array.isArray(this.elem)?this.elem.push(a):"children"in this.elem&&Array.isArray(this.elem.children)?this.elem.children=[...this.elem.children,a]:"remove"in this.elem&&Array.isArray(this.elem.remove)&&this.elem.remove.find(d(e))?this.elem.remove=this.elem.remove.filter(c(e)):("add"in this.elem||(this.elem.add=[]),null===(i=this.elem.add)||void 0===i||i.push(a)),this}remove(e){var t;if(e=l(e),Array.isArray(this.elem)){const t=this.elem.findIndex(d(e));t>-1&&this.elem.splice(t,1)}else"children"in this.elem&&Array.isArray(this.elem.children)?this.elem.children=this.elem.children.filter(c(e)):"add"in this.elem&&Array.isArray(this.elem.add)&&this.elem.add.find((t=>t===e))?this.elem.add=this.elem.add.filter(c(e)):("remove"in this.elem||(this.elem.remove=[]),null===(t=this.elem.remove)||void 0===t||t.push(e));return this}set style(e){console.log(e)}setChildrenProps(e,t){console.log(this.keyString,e,t)}getChildrenProps(e){return console.log(this.keyString,e),{}}replace(e){console.log(this.config,e)}}class p{constructor(e){this.config=e||a.d}find(e,t={}){e=l(e);const i=[],a=[];Object.keys(t||{}).forEach((e=>{"boolean"==typeof t[e]?i.push(e):a.push([e,t[e]])})),i.sort();const s=this.config.root;if(void 0===s)return;let r=e,n="";i.length>0&&(n=`.${i.join(".")}`,r=`${e}${n}`,Array.isArray(s[e])&&(s[e]={states:[],children:s[e]}),void 0===s[e].states&&(s[e].states=[]),i.forEach((t=>{var i,a;-1===(null===(i=s[e].states)||void 0===i?void 0:i.indexOf(t))&&(null===(a=s[e].states)||void 0===a||a.push(t))}))),a.length>0&&a.forEach((t=>{const i=`[${t[0]}=${t[1]}]`;r=`${e}${i}${n}`,Array.isArray(s[e])&&(s[e]={state:t[0],children:s[e]})}));let o=s[r];return void 0===o&&(s[r]={},o=s[r]),new h(o,this.config,r)}build(){return this.config}}function g(e,t,i){if(!i){const e=(0,s.g)(t.self.config,t);i=e.config}return e.map((e=>{i=e.register(i,t,(e=>new p(e)))})),i}var u=i(96540);const f=e=>e.replace(/([A-Z])/g,(e=>`-${e[0].toLowerCase()}`)),m=(e,t,i)=>{const a=t.className||t.class,s=i.className||i.class,r=b(e),n=b(a?a.split(" "):[]),o=b(s?s.split(" "):[]),d=[];return r.forEach((e=>{n.has(e)?(d.push(e),n.delete(e)):o.has(e)||d.push(e)})),n.forEach((e=>d.push(e))),d.join(" ")},v=e=>{if("undefined"==typeof document)return!0;{const t="on"+(e=>"doubleclick"===e?"dblclick":e)(e);let i=t in document;if(!i){const e=document.createElement("div");e.setAttribute(t,"return;"),i="function"==typeof e[t]}return i}},y=(e,t,i)=>{const a=e.__events||(e.__events={}),s=a[t];s&&e.removeEventListener(t,s),e.addEventListener(t,a[t]=function(e){i&&i.call(this,e)})},b=e=>{const t=new Map;return e.forEach((e=>t.set(e,e))),t},w=(...e)=>t=>{e.forEach((e=>{((e,t)=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})(e,t)}))};var x=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(i[a[s]]=e[a[s]])}return i};const k=(e,t,i,a)=>{void 0!==a&&a();const s=e.toLowerCase().split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join("");const r=class extends u.Component{constructor(e){super(e),this.setComponentElRef=e=>{this.componentEl=e}}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(e){((e,t,i={})=>{if(e instanceof Element){const a=m(e.classList,t,i);""!==a&&(e.className=a),Object.keys(t).forEach((i=>{if("children"!==i&&"style"!==i&&"ref"!==i&&"class"!==i&&"className"!==i&&"forwardedRef"!==i)if(0===i.indexOf("on")&&i[2]===i[2].toUpperCase()){const a=i.substring(2),s=a[0].toLowerCase()+a.substring(1);v(s)||y(e,s,t[i])}else e[i]=t[i],"string"==typeof t[i]&&e.setAttribute(f(i),t[i])}))}})(this.componentEl,this.props,e)}render(){const t=this.props,{children:a,forwardedRef:s,style:r,className:n,ref:o}=t,d=x(t,["children","forwardedRef","style","className","ref"]);let c=Object.keys(d).reduce(((e,t)=>{const i=d[t];if(0===t.indexOf("on")&&t[2]===t[2].toUpperCase()){const a=t.substring(2).toLowerCase();"undefined"!=typeof document&&v(a)&&(e[t]=i)}else{const a=typeof i;"string"!==a&&"boolean"!==a&&"number"!==a||(e[f(t)]=i)}return e}),{});i&&(c=i(this.props,c));const l=Object.assign(Object.assign({},c),{ref:w(s,this.setComponentElRef),style:r});return(0,u.createElement)(e,l,a)}static get displayName(){return s}};return t&&(r.contextType=t),((e,t)=>{const i=(t,i)=>u.createElement(e,Object.assign({},t,{forwardedRef:i}));return i.displayName=t,u.forwardRef(i)})(r,s)};i(40961);var S=i(62443);!function(){if("undefined"!=typeof window&&void 0!==window.Reflect&&void 0!==window.customElements){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}}(),(0,S.u)();const C=k("dyte-ai"),_=k("dyte-ai-toggle"),P=k("dyte-ai-transcriptions"),L=k("dyte-audio-grid"),E=k("dyte-audio-tile"),T=k("dyte-audio-visualizer"),A=k("dyte-avatar"),R=k("dyte-breakout-room-manager"),M=k("dyte-breakout-room-participants"),D=k("dyte-breakout-rooms-manager"),I=k("dyte-breakout-rooms-toggle"),O=k("dyte-broadcast-message-modal"),$=k("dyte-button"),U=k("dyte-camera-selector"),j=k("dyte-camera-toggle"),F=k("dyte-caption-toggle"),N=k("dyte-channel-creator"),z=k("dyte-channel-details"),B=k("dyte-channel-header"),H=k("dyte-channel-selector-ui"),V=k("dyte-channel-selector-view"),G=k("dyte-chat"),q=k("dyte-chat-composer-ui"),Z=k("dyte-chat-composer-view"),K=k("dyte-chat-message"),W=k("dyte-chat-messages-ui"),Y=k("dyte-chat-messages-ui-paginated"),Q=k("dyte-chat-search-results"),J=k("dyte-chat-selector-ui"),X=k("dyte-chat-toggle"),ee=k("dyte-clock"),te=k("dyte-confirmation-modal"),ie=k("dyte-controlbar"),ae=k("dyte-controlbar-button"),se=k("dyte-counter"),re=k("dyte-debugger"),ne=k("dyte-debugger-audio"),oe=k("dyte-debugger-screenshare"),de=k("dyte-debugger-system"),ce=k("dyte-debugger-toggle"),le=k("dyte-debugger-video"),he=k("dyte-dialog"),pe=k("dyte-dialog-manager"),ge=k("dyte-draft-attachment-view"),ue=k("dyte-emoji-picker"),fe=k("dyte-emoji-picker-button"),me=k("dyte-ended-screen"),ve=k("dyte-file-dropzone"),ye=k("dyte-file-message"),be=k("dyte-file-message-view"),we=k("dyte-file-picker-button"),xe=k("dyte-fullscreen-toggle"),ke=k("dyte-grid"),Se=k("dyte-grid-pagination"),Ce=k("dyte-header"),_e=k("dyte-icon"),Pe=k("dyte-idle-screen"),Le=k("dyte-image-message"),Ee=k("dyte-image-message-view"),Te=k("dyte-image-viewer"),Ae=k("dyte-information-tooltip"),Re=k("dyte-join-stage"),Me=k("dyte-leave-button"),De=k("dyte-leave-meeting"),Ie=k("dyte-livestream-indicator"),Oe=k("dyte-livestream-player"),$e=k("dyte-livestream-toggle"),Ue=k("dyte-logo"),je=k("dyte-markdown-view"),Fe=k("dyte-meeting"),Ne=k("dyte-meeting-title"),ze=k("dyte-menu"),Be=k("dyte-menu-item"),He=k("dyte-menu-list"),Ve=k("dyte-message-list-view"),Ge=k("dyte-message-view"),qe=k("dyte-mic-toggle"),Ze=k("dyte-microphone-selector"),Ke=k("dyte-mixed-grid"),We=k("dyte-more-toggle"),Ye=k("dyte-mute-all-button"),Qe=k("dyte-mute-all-confirmation"),Je=k("dyte-name-tag"),Xe=k("dyte-network-indicator"),et=k("dyte-notification"),tt=k("dyte-notifications"),it=k("dyte-overlay-modal"),at=k("dyte-paginated-list"),st=k("dyte-participant"),rt=k("dyte-participant-count"),nt=k("dyte-participant-setup"),ot=k("dyte-participant-tile"),dt=k("dyte-participants"),ct=k("dyte-participants-audio"),lt=k("dyte-participants-stage-list"),ht=k("dyte-participants-stage-queue"),pt=k("dyte-participants-toggle"),gt=k("dyte-participants-viewer-list"),ut=k("dyte-participants-waiting-list"),ft=k("dyte-permissions-message"),mt=k("dyte-pip-toggle"),vt=k("dyte-plugin-main"),yt=k("dyte-plugins"),bt=k("dyte-plugins-toggle"),wt=k("dyte-poll"),xt=k("dyte-poll-form"),kt=k("dyte-polls"),St=k("dyte-polls-toggle"),Ct=k("dyte-recording-indicator"),_t=k("dyte-recording-toggle"),Pt=k("dyte-screen-share-toggle"),Lt=k("dyte-screenshare-view"),Et=k("dyte-settings"),Tt=k("dyte-settings-audio"),At=k("dyte-settings-toggle"),Rt=k("dyte-settings-video"),Mt=k("dyte-setup-screen"),Dt=k("dyte-sidebar"),It=k("dyte-sidebar-ui"),Ot=k("dyte-simple-grid"),$t=k("dyte-speaker-selector"),Ut=k("dyte-spinner"),jt=k("dyte-spotlight-grid"),Ft=k("dyte-spotlight-indicator"),Nt=k("dyte-stage"),zt=k("dyte-stage-toggle"),Bt=k("dyte-switch"),Ht=k("dyte-tab-bar"),Vt=k("dyte-text-composer-view"),Gt=k("dyte-text-message"),qt=k("dyte-text-message-view"),Zt=k("dyte-tooltip"),Kt=k("dyte-transcript"),Wt=k("dyte-transcripts"),Yt=k("dyte-ui-provider"),Qt=k("dyte-viewer-count"),Jt=k("dyte-virtualized-participant-list"),Xt=k("dyte-waiting-screen")},92373:(e,t,i)=>{i.d(t,{M:()=>k,T:()=>h,a:()=>d,b:()=>c,c:()=>l,d:()=>r,e:()=>g,f:()=>C,g:()=>n,h:()=>o,i:()=>p,j:()=>w,k:()=>b,p:()=>s,r:()=>u,s:()=>x});var a=i(371);const s=e=>{let t=null;try{const i=JSON.parse(e.message),{target:a,message:s}=i;t=void 0===a||void 0===s?e:Object.assign(Object.assign({},e),{targetUserIds:a,message:s})}catch(i){t=e}return t};function r(e,t){return e.localeCompare(t)}function n(e){return e.sort(((e,t)=>e.localeCompare(t))).join("_")}function o(e,t){if(null==e)return!0;for(const i of e)if("file"===i.kind){const e=i.getAsFile();i.type.startsWith("image/")?t("image",e):t("file",e)}}function d({messages:e,participants:t,selfUserId:i}){const a={};for(const s of t)a[n([s.userId,i])]=[];return e.forEach((e=>{var t;const i=s(e);let r="everyone";if((null===(t=i.targetUserIds)||void 0===t?void 0:t.length)>0){const e=new Set([i.userId,...i.targetUserIds]);r=n(Array.from(e))}a[r]||(a[r]=[]),a[r].push({type:"chat",message:i})})),a}function c({messages:e,selfUserId:t,selectedGroupId:i,participants:s}){var r;const n=d({messages:e,selfUserId:t,participants:s}),o={};for(const d in n){const e=null!==(r=a.f[d])&&void 0!==r?r:0;d===i?(o[d]=0,a.f[d]=new Date):o[d]=n[d].filter((i=>"chat"==i.type&&i.message.time>e&&i.message.userId!==t)).length}return o}function l({groupId:e,selfUserId:t}){return e.split("_").find((e=>e!=t))}const h="dm__";function p(e){return e.isDirectMessage}function g(e){return[...new Set(e)].sort(r).join("<>")}function u(e){return e.split("").reverse().join("")}const f=/^\*([^*\s]+)\*/,m=/^_([^_\s]+)_/,v=/^~([^~\s]+)~/,y=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.,~#?&//=]*)/,b=/<blockquote>[.\s\S]*<\/blockquote>\n\n/m;function w(e,t=!1){if(!b.test(e))return"";let i=0,a=13;return t&&(i=12,a=0),e.substring(e.indexOf("<blockquote>")+i,e.indexOf("</blockquote>")+a)}function x(e){return e.replace(b,"")}const k=2e3,S=["<a>","<b>","<i>","<q>","<s>"];function C(e){e=(e=e.split(" ").map((e=>{if(y.test(e)){const t=y.exec(e);e=e.replace(t[0],`<a>${t[0]}</a>`)}else{if(f.test(e)){const t=f.exec(e);e=e.replace(t[0],`<b>${t[1]}</b>`)}if(m.test(e)){const t=m.exec(e);e=e.replace(t[0],`<i>${t[1]}</i>`)}if(v.test(e)){const t=v.exec(e);e=e.replace(t[0],`<s>${t[1]}</s>`)}}return e})).join(" ")).split(" ").map(((e,t)=>">"!==e||0!==t&&">"!==e[t-1]?e:"<q></q>")).join(" ");const[t]=_(e);return t}function _(e,t=""){const i=[];if(0===e.length)return[i,0];let a=0;for(;a<e.length;){if(t.length&&t===e.substring(a,a+t.length))return[i,a+t.length];if(S.includes(e.substring(a,a+3))){const[t,s]=_(e.substring(a+3),`</${e[a+1]}>`);i.push({type:e[a+1],content:1===t.length&&"plain_text"===t[0].type?t[0].content:t}),a+=s+3}else{let t=i[i.length-1];t&&"plain_text"===t.type||(i.push({type:"plain_text",content:""}),t=i[i.length-1]),t.content+=e[a],a++}}return[i,a]}},89275:(e,t,i)=>{i.d(t,{d:()=>j,e:()=>F,g:()=>N,p:()=>f});var a=i(371),s=i(86979),r=i(13633);const n=[0,.5,1,1.5,2,3,4,5,6,7,8,9,10,12,14,16,20,24,28,32,36,40,44,48,52,56,60,64,72,80,96],o={darkest:{background:{1e3:"#080808",900:"#1A1A1A",800:"#1E1E1E",700:"#2C2C2C",600:"#393939"},text:"#FFFFFF"},dark:{background:{1e3:"#252525",900:"#2F2F2F",800:"#323232",700:"#3E3E3E",600:"#4A4A4A"},text:"#F5F5F5","video-bg":"#1C1C1C"},light:{background:{1e3:"#FFFFFF",900:"#F5F5F5",800:"#EBEBEB",700:"#E0E0E0",600:"#D6D6D6"},text:"#111111","text-on-brand":"#ffffff","video-bg":"#DADADA"}},d={none:{none:0,sm:0,md:0,lg:0},thin:{none:0,sm:1,md:2,lg:4},fat:{none:0,sm:2,md:4,lg:8}},c={sharp:{none:0,sm:0,md:0,lg:0},rounded:{none:0,sm:4,md:8,lg:12},"extra-rounded":{none:0,sm:8,md:16,lg:24},circular:{none:9999,sm:9999,md:9999,lg:9999}};function l(e){let t="0",i="0",a="0";return 4==(e=e.trim()).length?(t="0x"+e[1]+e[1],i="0x"+e[2]+e[2],a="0x"+e[3]+e[3]):e.length>6&&(t="0x"+e[1]+e[2],i="0x"+e[3]+e[4],a="0x"+e[5]+e[6]),[+t,+i,+a]}const h=e=>"string"==typeof e&&7===e.length&&e.startsWith("#"),p="--dyte-";function g(e,t=p){return t+e}const u=(e,t,i=p)=>{Object.keys(t).forEach((a=>{const s=t[a];if("string"==typeof s)if("text"===a||"text-on-brand"===a){const t=l(s).join(" ");e.style.setProperty(g(`colors-${a}-1000`,i),`${t}`),e.style.setProperty(g(`colors-${a}-900`,i),`${t} / 0.88`),e.style.setProperty(g(`colors-${a}-800`,i),`${t} / 0.76`),e.style.setProperty(g(`colors-${a}-700`,i),`${t} / 0.64`),e.style.setProperty(g(`colors-${a}-600`,i),`${t} / 0.52`)}else{const t=l(s).join(" ");e.style.setProperty(g(`colors-${a}`,i),t)}else"object"==typeof s&&Object.keys(s).forEach((t=>{const r=l(s[t]).join(" ");e.style.setProperty(g(`colors-${a}-${t}`,i),r)}))}))},f=(e,{spacingBase:t,borderRadius:i,borderWidth:a,colors:s,fontFamily:r,googleFont:l,theme:h,tokenPrefix:f=p})=>{if("object"!=typeof e)throw new Error("[dyte-ui-kit] (provideDyteDesignSystem): Passed element is not a valid HTML Element");if("string"==typeof l&&((e=>{const t=[];if(null==document.querySelector("link[data-dyte-font]")){const e=document.createElement("link");e.rel="preconnect",e.setAttribute("data-dyte-font","true"),e.href="https://fonts.googleapis.com";const i=e.cloneNode(!0);i.href="https://fonts.gstatic.com",i.crossOrigin="",t.push(e,i)}const i=document.createElement("link");i.rel="stylesheet",i.setAttribute("data-dyte-font",e),i.href=encodeURI(`https://fonts.googleapis.com/css2?family=${e}:wght@${[400,500,700].join(";")}&display=swap`),t.push(i),document.head.append(...t)})(l),e.style.setProperty(g("font-family",f),l)),"string"==typeof r&&e.style.setProperty(g("font-family",f),r),"number"==typeof t&&((e,t,i=p)=>{n.forEach((a=>{e.style.setProperty(g(`space-${a}`,i),a*t+"px")}))})(e,t,f),"string"==typeof a&&((e,t,i=p)=>{if(t in d){const a=d[t];Object.keys(a).forEach((t=>{e.style.setProperty(g(`border-width-${t}`,i),`${a[t]}px`)}))}})(e,a,f),"string"==typeof i&&((e,t,i=p)=>{if(t in c){const a=c[t];Object.keys(a).forEach((t=>{e.style.setProperty(g(`border-radius-${t}`,i),`${a[t]}px`)}))}})(e,i,f),"string"==typeof h){const t=o[h];null!=t&&u(e,t,f)}"object"==typeof s&&u(e,s,f)};function m(e,t,i){(void 0!==i&&!(0,s.e)(e[t],i)||void 0===i&&!(t in e))&&(0,s.b)(e,t,i)}var v;const y=function(e,t,i){for(var a=-1,s=Object(e),r=i(e),n=r.length;n--;){var o=r[v?n:++a];if(!1===t(s[o],o,s))break}return e};var b=Function.prototype,w=Object.prototype,x=b.toString,k=w.hasOwnProperty,S=x.call(Object);function C(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function _(e,t,i,a,n,o,d){var c=C(e,i),l=C(t,i),h=d.get(l);if(h)m(e,i,h);else{var p,g=o?o(c,l,i+"",e,t,d):void 0,u=void 0===g;if(u){var f=(0,s.a)(l),v=!f&&(0,s.d)(l),y=!f&&!v&&(0,s.f)(l);g=l,f||v||y?(0,s.a)(c)?g=c:(p=c,(0,r.i)(p)&&(0,s.i)(p)?g=(0,s.h)(c):v?(u=!1,g=(0,s.j)(l,!0)):y?(u=!1,g=(0,s.l)(l,!0)):g=[]):function(e){if(!(0,r.i)(e)||"[object Object]"!=(0,r.b)(e))return!1;var t=(0,s.g)(e);if(null===t)return!0;var i=k.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&x.call(i)==S}(l)||(0,s.m)(l)?(g=c,(0,s.m)(c)?g=function(e){return(0,s.c)(e,(0,s.k)(e))}(c):(0,r.a)(c)&&!(0,s.n)(c)||(g=(0,s.o)(l))):u=!1}u&&(d.set(l,g),n(g,l,a,o,d),d.delete(l)),m(e,i,g)}}function P(e,t,i,a,n){e!==t&&y(t,(function(o,d){if(n||(n=new s.S),(0,r.a)(o))_(e,t,d,i,P,a,n);else{var c=a?a(C(e,d),o,d+"",e,t,n):void 0;void 0===c&&(c=o),m(e,d,c)}}),s.k)}function L(e){return e}var E=Math.max;var T=s.p?function(e,t){return(0,s.p)(e,"toString",{configurable:!0,enumerable:!1,value:(i=t,function(){return i}),writable:!0});var i}:L;const A=T;var R,M,D,I=Date.now;const O=(R=A,M=0,D=0,function(){var e=I(),t=16-(e-D);if(D=e,t>0){if(++M>=800)return arguments[0]}else M=0;return R.apply(void 0,arguments)});function $(e,t){return O(function(e,t,i){return t=E(void 0===t?e.length-1:t,0),function(){for(var a=arguments,s=-1,r=E(a.length-t,0),n=Array(r);++s<r;)n[s]=a[t+s];s=-1;for(var o=Array(t+1);++s<t;)o[s]=a[s];return o[t]=i(n),function(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}(e,this,o)}}(e,t,L),e+"")}var U;const j=(U=function(e,t,i){P(e,t,i)},$((function(e,t){var i=-1,a=t.length,n=a>1?t[a-1]:void 0,o=a>2?t[2]:void 0;for(n=U.length>3&&"function"==typeof n?(a--,n):void 0,o&&function(e,t,i){if(!(0,r.a)(i))return!1;var a=typeof t;return!!("number"==a?(0,s.i)(i)&&(0,s.q)(t,i.length):"string"==a&&t in i)&&(0,s.e)(i[t],e)}(t[0],t[1],o)&&(n=a<3?void 0:n,a=1),e=Object(e);++i<a;){var d=t[i];d&&U(e,d,i,n)}return e}))),F=(e,t=a.d)=>{let i=Object.assign({},t);return j(i,e),i},N=(e,t,i={},s={grid_pagination:!0,settings_toggle:!0})=>{var r,n,o,d,c,l,p,g,u,f,m,v,y,b,w,x,k,S;const C={showSetupScreen:!0};let _,P=["dyte-stage"],L={},E={};const T=!1!==(null==s?void 0:s.settings_toggle),A=!1!==(null==s?void 0:s.grid_pagination);if(null===(r=e.controlBar)||void 0===r?void 0:r.isEnabled){P.push("dyte-controlbar");const{elements:i}=e.controlBar,s=[...i.fullscreen?["dyte-fullscreen-toggle"]:[],...T?["dyte-settings-toggle"]:[]],r=[],h=[];(null===(n=t.participants.pip)||void 0===n?void 0:n.isSupported())&&(null===(d=null===(o=t.self)||void 0===o?void 0:o.config)||void 0===d?void 0:d.pipMode)&&"LIVESTREAM"!==(null===(c=t.self.config)||void 0===c?void 0:c.viewType)&&h.push("dyte-pip-toggle"),(null==t?void 0:t.self.permissions.canDisableParticipantAudio)&&h.push("dyte-mute-all-button"),h.push("dyte-breakout-rooms-toggle"),(null===(l=t.self)||void 0===l?void 0:l.permissions.canRecord)&&h.push("dyte-recording-toggle"),null!==(p=t.self.permissions.transcriptionEnabled)&&void 0!==p&&p&&h.push("dyte-caption-toggle"),"ReactNative"!==navigator.product&&h.push("dyte-debugger-toggle"),(0,a.i)(t)&&s.push("dyte-livestream-toggle"),i.screenshare&&s.push("dyte-screen-share-toggle"),i.chat&&r.push("dyte-chat-toggle"),i.polls&&r.push("dyte-polls-toggle"),i.participants&&r.push("dyte-participants-toggle"),i.plugins&&r.push("dyte-plugins-toggle"),r.push("dyte-ai-toggle");const g=["dyte-mic-toggle","dyte-camera-toggle","dyte-stage-toggle","dyte-leave-button"];h.length>0&&g.push("dyte-more-toggle");const u=s.concat(r).concat(h);let f=!1;u.length>0&&(f=!0),E={"dyte-controlbar":{states:["activeMoreMenu"],children:["div#controlbar-left","div#controlbar-center","div#controlbar-right"]},"div#controlbar-left":s,"div#controlbar-center":g,"div#controlbar-right":r,"dyte-more-toggle":{states:["activeMoreMenu"],children:[]},"dyte-more-toggle.activeMoreMenu":h.map((e=>[e,{variant:"horizontal",slot:"more-elements"}])),"dyte-controlbar.sm":["div#controlbar-mobile"],"dyte-controlbar.md":["div#controlbar-mobile"],"dyte-more-toggle.activeMoreMenu.md":u.map((e=>[e,{variant:"horizontal",slot:"more-elements"}])),"dyte-more-toggle.activeMoreMenu.sm":u.map((e=>[e,{variant:"horizontal",slot:"more-elements"}])),"div#controlbar-mobile":["dyte-mic-toggle","dyte-camera-toggle","dyte-stage-toggle",f&&"dyte-more-toggle","dyte-leave-button"]}}if(null===(g=e.header)||void 0===g?void 0:g.isEnabled){P.unshift("dyte-header");const{elements:t}=e.header;let i=["dyte-recording-indicator","dyte-livestream-indicator"],a=[],s=[];A&&s.push("dyte-grid-pagination"),t.title&&a.push("dyte-meeting-title"),"string"==typeof t.logo&&t.logo.length>0&&(_=t.logo,i.unshift("dyte-logo")),t.participantCount&&s.push("dyte-participant-count","dyte-viewer-count"),t.timer&&s.push("dyte-clock"),L={"dyte-header":["div#header-left","div#header-center","div#header-right"],"dyte-header.sm":{remove:["div#header-center"]},"div#header-left":i,"div#header-center":a,"div#header-right":s,"div#header-left.sm":{remove:["dyte-logo"],prepend:["dyte-meeting-title"]}}}P.push("dyte-participants-audio","dyte-dialog-manager");let R={logo:_};R=e.designTokens,h(null===(f=null===(u=null==e?void 0:e.designTokens)||void 0===u?void 0:u.colors)||void 0===f?void 0:f.textOnBrand)&&(R.colors["text-on-brand"]=null===(v=null===(m=null==e?void 0:e.designTokens)||void 0===m?void 0:m.colors)||void 0===v?void 0:v.textOnBrand),h(null===(b=null===(y=null==e?void 0:e.designTokens)||void 0===y?void 0:y.colors)||void 0===b?void 0:b.videoBg)&&(R.colors["video-bg"]=null===(x=null===(w=null==e?void 0:e.designTokens)||void 0===w?void 0:w.colors)||void 0===x?void 0:x.videoBg);let M={designTokens:R,styles:{"dyte-header":{display:"grid",height:"48px",gridTemplateColumns:"repeat(3, 1fr)",gridTemplateRows:"1fr",alignItems:"center"},"dyte-header.sm":{display:"grid",gridArea:"header",gridTemplateColumns:"repeat(2, 1fr)",gridTemplateRows:"1fr",alignItems:"center"},"div#header-left":{display:"flex",alignItems:"center",height:"48px",wordBreak:"break-all"},"dyte-logo":{height:"26px"},"div#header-center":{display:"flex",alignItems:"center",justifyContent:"center",wordBreak:"break-all"},"div#header-right":{display:"flex",alignItems:"center",justifyContent:"flex-end"},"dyte-stage":{display:"flex",flex:"1"},"dyte-grid":{flex:"1",height:"auto"},"dyte-controlbar":{display:"grid",gridTemplateColumns:"repeat(3,1fr)",gridTemplateRows:"1fr",alignItems:"center",padding:"8px"},"dyte-controlbar.sm":{display:"flex",position:"relative",backgroundColor:"var(--dyte-colors-background-1000, #000)"},"dyte-controlbar.md":{display:"flex",position:"relative",backgroundColor:"var(--dyte-colors-background-1000, #000)"},"div#controlbar-left":{display:"flex",alignItems:"center",gap:"var(--dyte-space-1, 4px)"},"div#controlbar-center":{display:"flex",alignItems:"center",position:"relative",overflow:"visible",justifyContent:"center",gap:"var(--dyte-space-1, 4px)"},"div#controlbar-mobile":{display:"flex",flex:"1",alignItems:"center",justifyContent:"center",zIndex:"10000",gap:"var(--dyte-space-1, 4px)"},"div#controlbar-right":{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"var(--dyte-space-1, 4px)"},"dyte-settings":{width:"720px",height:"480px"},"dyte-debugger":{width:"720px",height:"480px"},"div#setupcontrols-indicator":{position:"absolute",bottom:"12px",left:"12px",display:"flex",gap:"6px",background:"rgb(var(--dyte-colors-background-800, 0 0 0))",borderRadius:"100%"},"div#setupcontrols-media":{position:"absolute",bottom:"8px",right:"8px",display:"flex",gap:"6px"},"div#setupcontrols-settings":{position:"absolute",top:"8px",right:"8px",display:"flex",flexDirection:"column",gap:"6px"},"dyte-meeting-title.sm":{marginLeft:"0"},"dyte-clock":{marginRight:"0"}},root:Object.assign(Object.assign(Object.assign({"dyte-meeting":{state:"meeting",states:["activeSidebar","activeAI"]},"dyte-meeting[meeting=idle]":["dyte-idle-screen"],"dyte-meeting[meeting=waiting]":["dyte-waiting-screen"],"dyte-meeting[meeting=setup]":["dyte-setup-screen","dyte-dialog-manager"],"dyte-meeting[meeting=joined]":P,"dyte-meeting[meeting=joined].activeSidebar.sm":{add:[["dyte-sidebar",{view:"full-screen"}]]},"dyte-meeting[meeting=joined].activeSidebar.md":{add:[["dyte-sidebar",{view:"full-screen"}]]},"dyte-meeting[meeting=joined].activeAI.sm":{add:[["dyte-ai",{view:"full-screen"}]]},"dyte-meeting[meeting=joined].activeAI.md":{add:[["dyte-ai",{view:"full-screen"}]]},"dyte-meeting[meeting=ended]":["dyte-ended-screen"]},L),E),{"dyte-stage":{states:["activeSidebar","activeAI"],children:["dyte-grid","dyte-notifications","dyte-transcripts"]},"dyte-stage.activeSidebar":{add:[["dyte-sidebar",{view:"sidebar"}]]},"dyte-stage.activeSidebar.sm":{remove:["dyte-sidebar"]},"dyte-stage.activeAI":{add:[["dyte-ai",{view:"sidebar"}]]},"dyte-stage.activeAI.sm":{remove:["dyte-ai"]},"dyte-grid":{states:["activeScreenShare","activePlugin","activeSpotlight"],state:"viewType",children:["dyte-simple-grid"]},"dyte-grid[viewType=AUDIO_ROOM]":["dyte-audio-grid"],"dyte-grid[viewType=AUDIO_ROOM].activePlugin":["dyte-mixed-grid"],"dyte-grid[viewType=AUDIO_ROOM].activeScreenshare":["dyte-mixed-grid"],"dyte-grid[viewType=AUDIO_ROOM].activeScreenShare.activeSpotlight":["dyte-mixed-grid"],"dyte-grid[viewType=AUDIO_ROOM].activePlugin.activeSpotlight":["dyte-mixed-grid"],"dyte-grid[viewType=AUDIO_ROOM].activePlugin.activeScreenShare.activeSpotlight":["dyte-mixed-grid"],"dyte-grid.activeSpotlight":["dyte-spotlight-grid"],"dyte-grid.activeScreenShare":["dyte-mixed-grid"],"dyte-grid.activePlugin":["dyte-mixed-grid"],"dyte-grid.activeScreenShare.activeSpotlight":["dyte-mixed-grid"],"dyte-grid.activePlugin.activeSpotlight":["dyte-mixed-grid"],"dyte-grid.activePlugin.activeScreenShare.activeSpotlight":["dyte-mixed-grid"],"dyte-mixed-grid":{states:["activeSpotlight"],state:"viewType",children:["dyte-simple-grid"]},"dyte-mixed-grid[viewType=AUDIO_ROOM]":["dyte-audio-grid"],"dyte-mixed-grid.activeSpotlight":["dyte-spotlight-grid"],"dyte-participant-tile":{state:"meeting",children:["dyte-name-tag","dyte-avatar","dyte-network-indicator"]},"dyte-participant-setup":["dyte-avatar","div#setupcontrols-media"],"dyte-participant-tile[meeting=setup]":["dyte-avatar","div#setupcontrols-indicator","div#setupcontrols-media",...T?["div#setupcontrols-settings"]:[]],"div#setupcontrols-indicator":[["dyte-audio-visualizer",{slot:"start",hideMuted:!0}]],"div#setupcontrols-media":[["dyte-mic-toggle",{size:"sm"}],["dyte-camera-toggle",{size:"sm"}]],"div#setupcontrols-settings":[["dyte-settings-toggle",{size:"sm"}]],"dyte-screenshare-view":["dyte-name-tag","dyte-network-indicator"],"dyte-name-tag":[["dyte-audio-visualizer",{slot:"start"}]]}),config:{notification_sounds:{participant_left:!1},participant_joined_sound_notification_limit:3,participant_chat_message_sound_notification_limit:10,videoFit:"cover"}};return M=F(i,M),C.showSetupScreen=null===(S=null===(k=e.setupScreen)||void 0===k?void 0:k.isEnabled)||void 0===S||S,{config:M,data:C}}},98342:(e,t,i)=>{i.d(t,{F:()=>$e,H:()=>H,a:()=>Z,c:()=>K,f:()=>Me,g:()=>Ae,h:()=>z,r:()=>c,w:()=>_});const a=!1,s="hydrated",r=!0,n=!0;var o=Object.defineProperty,d=e=>{if(e.__stencil__getHostRef)return e.__stencil__getHostRef()},c=(e,t)=>{e.__stencil__getHostRef=()=>t,t.$lazyInstance$=e},l=(e,t)=>t in e,h=(e,t)=>(0,console.error)(e,t),p=new Map,g="slot-fb{display:contents}slot-fb[hidden]{display:none}",u="http://www.w3.org/1999/xlink",f="undefined"!=typeof window?window:{},m={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,i,a)=>e.addEventListener(t,i,a),rel:(e,t,i,a)=>e.removeEventListener(t,i,a),ce:(e,t)=>new CustomEvent(e,t)},v=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(e){}return!1})(),y=!1,b=[],w=[],x=(e,t)=>i=>{e.push(i),y||(y=!0,t&&4&m.$flags$?C(S):m.raf(S))},k=e=>{for(let i=0;i<e.length;i++)try{e[i](performance.now())}catch(t){h(t)}e.length=0},S=()=>{k(b),k(w),(y=b.length>0)&&m.raf(S)},C=e=>{return Promise.resolve(t).then(e);var t},_=x(w,!0),P=e=>"object"===(e=typeof e)||"function"===e;function L(e){var t,i,a;return null!=(a=null==(i=null==(t=e.head)?void 0:t.querySelector('meta[name="csp-nonce"]'))?void 0:i.getAttribute("content"))?a:void 0}((e,t)=>{for(var i in t)o(e,i,{get:t[i],enumerable:!0})})({},{err:()=>T,map:()=>A,ok:()=>E,unwrap:()=>R,unwrapErr:()=>M});var E=e=>({isOk:!0,isErr:!1,value:e}),T=e=>({isOk:!1,isErr:!0,value:e});function A(e,t){if(e.isOk){const i=t(e.value);return i instanceof Promise?i.then((e=>E(e))):E(i)}if(e.isErr){const t=e.value;return T(t)}throw"should never get here"}var R=e=>{if(e.isOk)return e.value;throw e.value},M=e=>{if(e.isErr)return e.value;throw e.value},D=e=>{const t=j(e,"childNodes");e.tagName&&e.tagName.includes("-")&&e["s-cr"]&&"SLOT-FB"!==e.tagName&&I(t,e.tagName).forEach((e=>{1===e.nodeType&&"SLOT-FB"===e.tagName&&(O(e,U(e),!1).length?e.hidden=!0:e.hidden=!1)}));let i=0;for(i=0;i<t.length;i++){const e=t[i];1===e.nodeType&&j(e,"childNodes").length&&D(e)}};function I(e,t,i){let a,s=0,r=[];for(;s<e.length;s++){if(a=e[s],a["s-sr"]&&(!t||a["s-hn"]===t)&&(void 0===i||U(a)===i)&&(r.push(a),void 0!==i))return r;r=[...r,...I(a.childNodes,t,i)]}return r}var O=(e,t,i=!0)=>{const a=[];(i&&e["s-sr"]||!e["s-sr"])&&a.push(e);let s=e;for(;s=s.nextSibling;)U(s)!==t||!i&&s["s-sr"]||a.push(s);return a},$=(e,t)=>1===e.nodeType?null===e.getAttribute("slot")&&""===t||e.getAttribute("slot")===t:e["s-sn"]===t||""===t,U=e=>"string"==typeof e["s-sn"]?e["s-sn"]:1===e.nodeType&&e.getAttribute("slot")||void 0;function j(e,t){if("__"+t in e){const i=e["__"+t];return"function"!=typeof i?i:i.bind(e)}return"function"!=typeof e[t]?e[t]:e[t].bind(e)}var F,N,z=(e,t,...i)=>{let a=null,s=null,r=null,n=!1,o=!1;const d=[],c=t=>{for(let i=0;i<t.length;i++)a=t[i],Array.isArray(a)?c(a):null!=a&&"boolean"!=typeof a&&((n="function"!=typeof e&&!P(a))&&(a=String(a)),n&&o?d[d.length-1].$text$+=a:d.push(n?B(null,a):a),o=n)};if(c(i),t){t.key&&(s=t.key),t.name&&(r=t.name);{const e=t.className||t.class;e&&(t.class="object"!=typeof e?e:Object.keys(e).filter((t=>e[t])).join(" "))}}if("function"==typeof e)return e(null===t?{}:t,d,V);const l=B(e,null);return l.$attrs$=t,d.length>0&&(l.$children$=d),l.$key$=s,l.$name$=r,l},B=(e,t)=>{const i={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null};return i},H={},V={forEach:(e,t)=>e.map(G).forEach(t),map:(e,t)=>e.map(G).map(t).map(q)},G=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),q=e=>{if("function"==typeof e.vtag){const t={...e.vattrs};return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),z(e.vtag,t,...e.vchildren||[])}const t=B(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},Z=e=>d(e).$hostElement$,K=(e,t,i)=>{const a=Z(e);return{emit:e=>W(a,t,{bubbles:!!(4&i),composed:!!(2&i),cancelable:!!(1&i),detail:e})}},W=(e,t,i)=>{const a=m.ce(t,i);return e.dispatchEvent(a),a},Y=new WeakMap,Q=e=>{const t=e.$cmpMeta$,i=e.$hostElement$,a=t.$flags$,s=(t.$tagName$,()=>{}),r=((e,t)=>{var i;const a=J(t),s=p.get(a);if(!f.document)return a;if(e=11===e.nodeType?e:f.document,s)if("string"==typeof s){e=e.head||e;let r,n=Y.get(e);if(n||Y.set(e,n=new Set),!n.has(a)){{r=document.querySelector(`[sty-id="${a}"]`)||f.document.createElement("style"),r.innerHTML=s;const n=null!=(i=m.$nonce$)?i:L(f.document);if(null!=n&&r.setAttribute("nonce",n),!(1&t.$flags$))if("HEAD"===e.nodeName){const t=e.querySelectorAll("link[rel=preconnect]"),i=t.length>0?t[t.length-1].nextSibling:e.querySelector("style");e.insertBefore(r,(null==i?void 0:i.parentNode)===e?i:null)}else if("host"in e)if(v){const t=new CSSStyleSheet;t.replaceSync(s),e.adoptedStyleSheets=[t,...e.adoptedStyleSheets]}else{const t=e.querySelector("style");t?t.innerHTML=s+t.innerHTML:e.prepend(r)}else e.append(r);1&t.$flags$&&e.insertBefore(r,null)}4&t.$flags$&&(r.innerHTML+=g),n&&n.add(a)}}else e.adoptedStyleSheets.includes(s)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,s]);return a})(i.shadowRoot?i.shadowRoot:i.getRootNode(),t);(10&a&&2&a||128&a)&&(i["s-sc"]=r,i.classList.add(r+"-h")),s()},J=(e,t)=>"sc-"+e.$tagName$,X=(e,t,i,a,s,r,n)=>{if(i===a)return;let o=l(e,t),d=t.toLowerCase();if("class"===t){const t=e.classList,s=te(i);let r=te(a);t.remove(...s.filter((e=>e&&!r.includes(e)))),t.add(...r.filter((e=>e&&!s.includes(e))))}else if("style"===t){for(const t in i)a&&null!=a[t]||(t.includes("-")?e.style.removeProperty(t):e.style[t]="");for(const t in a)i&&a[t]===i[t]||(t.includes("-")?e.style.setProperty(t,a[t]):e.style[t]=a[t])}else if("key"===t);else if("ref"===t)a&&a(e);else if(o||"o"!==t[0]||"n"!==t[1]){const n=P(a);if((o||n&&null!==a)&&!s)try{if(e.tagName.includes("-"))e[t]!==a&&(e[t]=a);else{const s=null==a?"":a;"list"===t?o=!1:null!=i&&e[t]==s||("function"==typeof e.__lookupSetter__(t)?e[t]=s:e.setAttribute(t,s))}}catch(c){}let l=!1;d!==(d=d.replace(/^xlink\:?/,""))&&(t=d,l=!0),null==a||!1===a?!1===a&&""!==e.getAttribute(t)||(l?e.removeAttributeNS(u,t):e.removeAttribute(t)):(!o||4&r||s)&&!n&&1===e.nodeType&&(a=!0===a?"":a,l?e.setAttributeNS(u,t,a):e.setAttribute(t,a))}else if(t="-"===t[2]?t.slice(3):l(f,d)?d.slice(2):d[2]+t.slice(3),i||a){const s=t.endsWith(ie);t=t.replace(ae,""),i&&m.rel(e,t,i,s),a&&m.ael(e,t,a,s)}},ee=/\s/,te=e=>("object"==typeof e&&e&&"baseVal"in e&&(e=e.baseVal),e&&"string"==typeof e?e.split(ee):[]),ie="Capture",ae=new RegExp(ie+"$"),se=(e,t,i,a)=>{const s=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,r=e&&e.$attrs$||{},n=t.$attrs$||{};for(const o of re(Object.keys(r)))o in n||X(s,o,r[o],void 0,i,t.$flags$);for(const o of re(Object.keys(n)))X(s,o,r[o],n[o],i,t.$flags$)};function re(e){return e.includes("ref")?[...e.filter((e=>"ref"!==e)),"ref"]:e}var ne=!1,oe=!1,de=!1,ce=!1,le=(e,t,i)=>{var a;const s=t.$children$[i];let n,o,d,c=0;if(ne||(de=!0,"slot"===s.$tag$&&(s.$flags$|=s.$children$?2:1)),null!==s.$text$)n=s.$elm$=f.document.createTextNode(s.$text$);else if(1&s.$flags$)n=s.$elm$=f.document.createTextNode(""),se(null,s,ce);else{if(!f.document)throw new Error("You are trying to render a Stencil component in an environment that doesn't support the DOM. Make sure to populate the [`window`](https://developer.mozilla.org/en-US/docs/Web/API/Window/window) object before rendering a component.");if(n=s.$elm$=f.document.createElement(!ne&&r&&2&s.$flags$?"slot-fb":s.$tag$),se(null,s,ce),s.$children$)for(c=0;c<s.$children$.length;++c)o=le(e,s,c),o&&n.appendChild(o)}return n["s-hn"]=N,3&s.$flags$&&(n["s-sr"]=!0,n["s-cr"]=F,n["s-sn"]=s.$name$||"",n["s-rf"]=null==(a=s.$attrs$)?void 0:a.ref,function(e){if(e.assignedElements||e.assignedNodes||!e["s-sr"])return;const t=t=>function(e){const i=[],a=this["s-sn"];(null==e?void 0:e.flatten)&&console.error("\n          Flattening is not supported for Stencil non-shadow slots. \n          You can use `.childNodes` to nested slot fallback content.\n          If you have a particular use case, please open an issue on the Stencil repo.\n        ");const s=this["s-cr"].parentElement;return(s.__childNodes?s.childNodes:(e=>{const t=[];for(let i=0;i<e.length;i++){const a=e[i]["s-nr"]||void 0;a&&a.isConnected&&t.push(a)}return t})(s.childNodes)).forEach((e=>{a===U(e)&&i.push(e)})),t?i.filter((e=>1===e.nodeType)):i}.bind(e);e.assignedElements=t(!0),e.assignedNodes=t(!1)}(n),d=e&&e.$children$&&e.$children$[i],d&&d.$tag$===s.$tag$&&e.$elm$&&he(e.$elm$,!1)),n},he=(e,t)=>{m.$flags$|=1;const i=Array.from(e.__childNodes||e.childNodes);if(e["s-sr"]&&a){let t=e;for(;t=t.nextSibling;)t&&t["s-sn"]===e["s-sn"]&&t["s-sh"]===N&&i.push(t)}for(let a=i.length-1;a>=0;a--){const e=i[a];e["s-hn"]!==N&&e["s-ol"]&&(we(fe(e).parentNode,e,fe(e)),e["s-ol"].remove(),e["s-ol"]=void 0,e["s-sh"]=void 0,de=!0),t&&he(e,t)}m.$flags$&=-2},pe=(e,t,i,a,s,r)=>{let n,o=e["s-cr"]&&e["s-cr"].parentNode||e;for(o.shadowRoot&&o.tagName===N&&(o=o.shadowRoot);s<=r;++s)a[s]&&(n=le(null,i,s),n&&(a[s].$elm$=n,we(o,n,fe(t))))},ge=(e,t,i)=>{for(let a=t;a<=i;++a){const t=e[a];if(t){const e=t.$elm$;be(t),e&&(oe=!0,e["s-ol"]?e["s-ol"].remove():he(e,!0),e.remove())}}},ue=(e,t,i=!1)=>e.$tag$===t.$tag$&&("slot"===e.$tag$?e.$name$===t.$name$:i?(i&&!e.$key$&&t.$key$&&(e.$key$=t.$key$),!0):e.$key$===t.$key$),fe=e=>e&&e["s-ol"]||e,me=(e,t,i=!1)=>{const a=t.$elm$=e.$elm$,s=e.$children$,r=t.$children$,o=t.$text$;let d;null===o?(se(e,t,ce),null!==s&&null!==r?((e,t,i,a,s=!1)=>{let r,n,o=0,d=0,c=0,l=0,h=t.length-1,p=t[0],g=t[h],u=a.length-1,f=a[0],m=a[u];for(;o<=h&&d<=u;)if(null==p)p=t[++o];else if(null==g)g=t[--h];else if(null==f)f=a[++d];else if(null==m)m=a[--u];else if(ue(p,f,s))me(p,f,s),p=t[++o],f=a[++d];else if(ue(g,m,s))me(g,m,s),g=t[--h],m=a[--u];else if(ue(p,m,s))"slot"!==p.$tag$&&"slot"!==m.$tag$||he(p.$elm$.parentNode,!1),me(p,m,s),we(e,p.$elm$,g.$elm$.nextSibling),p=t[++o],m=a[--u];else if(ue(g,f,s))"slot"!==p.$tag$&&"slot"!==m.$tag$||he(g.$elm$.parentNode,!1),me(g,f,s),we(e,g.$elm$,p.$elm$),g=t[--h],f=a[++d];else{for(c=-1,l=o;l<=h;++l)if(t[l]&&null!==t[l].$key$&&t[l].$key$===f.$key$){c=l;break}c>=0?(n=t[c],n.$tag$!==f.$tag$?r=le(t&&t[d],i,c):(me(n,f,s),t[c]=void 0,r=n.$elm$),f=a[++d]):(r=le(t&&t[d],i,d),f=a[++d]),r&&we(fe(p.$elm$).parentNode,r,fe(p.$elm$))}o>h?pe(e,null==a[u+1]?null:a[u+1].$elm$,i,a,d,u):d>u&&ge(t,o,h)})(a,s,t,r,i):null!==r?(null!==e.$text$&&(a.textContent=""),pe(a,null,t,r,0,r.length-1)):!i&&n&&null!==s&&ge(s,0,s.length-1)):(d=a["s-cr"])?d.parentNode.textContent=o:e.$text$!==o&&(a.data=o)},ve=[],ye=e=>{let t,i,s;const r=e.__childNodes||e.childNodes;for(const n of r){if(n["s-sr"]&&(t=n["s-cr"])&&t.parentNode){i=t.parentNode.__childNodes||t.parentNode.childNodes;const e=n["s-sn"];for(s=i.length-1;s>=0;s--)if(t=i[s],!t["s-cn"]&&!t["s-nr"]&&t["s-hn"]!==n["s-hn"]&&!a)if($(t,e)){let i=ve.find((e=>e.$nodeToRelocate$===t));oe=!0,t["s-sn"]=t["s-sn"]||e,i?(i.$nodeToRelocate$["s-sh"]=n["s-hn"],i.$slotRefNode$=n):(t["s-sh"]=n["s-hn"],ve.push({$slotRefNode$:n,$nodeToRelocate$:t})),t["s-sr"]&&ve.map((e=>{$(e.$nodeToRelocate$,t["s-sn"])&&(i=ve.find((e=>e.$nodeToRelocate$===t)),i&&!e.$slotRefNode$&&(e.$slotRefNode$=i.$slotRefNode$))}))}else ve.some((e=>e.$nodeToRelocate$===t))||ve.push({$nodeToRelocate$:t})}1===n.nodeType&&ye(n)}},be=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(be)},we=(e,t,i)=>null==e?void 0:e.insertBefore(t,i),xe=(e,t,i=!1)=>{var a,s,r,n;const o=e.$hostElement$,d=e.$cmpMeta$,c=e.$vnode$||B(null,null),l=(h=t)&&h.$tag$===H?t:z(null,null,t);var h;if(N=o.tagName,d.$attrsToReflect$&&(l.$attrs$=l.$attrs$||{},d.$attrsToReflect$.map((([e,t])=>l.$attrs$[t]=o[e]))),i&&l.$attrs$)for(const p of Object.keys(l.$attrs$))o.hasAttribute(p)&&!["key","ref","style","class"].includes(p)&&(l.$attrs$[p]=o[p]);if(l.$tag$=null,l.$flags$|=4,e.$vnode$=l,l.$elm$=c.$elm$=o.shadowRoot||o,ne=!(!(1&d.$flags$)||128&d.$flags$),F=o["s-cr"],oe=!1,me(c,l,i),m.$flags$|=1,de){ye(l.$elm$);for(const e of ve){const t=e.$nodeToRelocate$;if(!t["s-ol"]&&f.document){const e=f.document.createTextNode("");e["s-nr"]=t,we(t.parentNode,t["s-ol"]=e,t)}}for(const e of ve){const t=e.$nodeToRelocate$,o=e.$slotRefNode$;if(o){const e=o.parentNode;let i=o.nextSibling;{let r=null==(a=t["s-ol"])?void 0:a.previousSibling;for(;r;){let a=null!=(s=r["s-nr"])?s:null;if(a&&a["s-sn"]===t["s-sn"]&&e===(a.__parentNode||a.parentNode)){for(a=a.nextSibling;a===t||(null==a?void 0:a["s-sr"]);)a=null==a?void 0:a.nextSibling;if(!a||!a["s-nr"]){i=a;break}}r=r.previousSibling}}const n=t.__parentNode||t.parentNode,d=t.__nextSibling||t.nextSibling;(!i&&e!==n||d!==i)&&t!==i&&(!t["s-hn"]&&t["s-ol"]&&(t["s-hn"]=t["s-ol"].parentNode.nodeName),we(e,t,i),1===t.nodeType&&"SLOT-FB"!==t.tagName&&(t.hidden=null!=(r=t["s-ih"])&&r)),t&&"function"==typeof o["s-rf"]&&o["s-rf"](o)}else 1===t.nodeType&&(i&&(t["s-ih"]=null!=(n=t.hidden)&&n),t.hidden=!0)}}oe&&D(l.$elm$),m.$flags$&=-2,ve.length=0,F=void 0},ke=(e,t)=>{if(t&&!e.$onRenderResolve$&&t["s-p"]){const i=t["s-p"].push(new Promise((a=>e.$onRenderResolve$=()=>{t["s-p"].splice(i-1,1),a()})))}},Se=(e,t)=>{if(e.$flags$|=16,4&e.$flags$)return void(e.$flags$|=512);ke(e,e.$ancestorComponent$);return _((()=>Ce(e,t)))},Ce=(e,t)=>{const i=e.$hostElement$,a=(e.$cmpMeta$.$tagName$,()=>{}),s=e.$lazyInstance$;if(!s)throw new Error(`Can't render component <${i.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let r;return t?(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map((([e,t])=>Ie(s,e,t,i))),e.$queuedListeners$=void 0),r=Ie(s,"componentWillLoad",void 0,i)):r=Ie(s,"componentWillUpdate",void 0,i),r=_e(r,(()=>Ie(s,"componentWillRender",void 0,i))),a(),_e(r,(()=>Le(e,s,t)))},_e=(e,t)=>Pe(e)?e.then(t).catch((e=>{console.error(e),t()})):t(),Pe=e=>e instanceof Promise||e&&e.then&&"function"==typeof e.then,Le=async(e,t,i)=>{var a;const s=e.$hostElement$,r=(e.$cmpMeta$.$tagName$,()=>{}),n=s["s-rc"];i&&Q(e);const o=(e.$cmpMeta$.$tagName$,()=>{});Te(e,t,s,i),n&&(n.map((e=>e())),s["s-rc"]=void 0),o(),r();{const t=null!=(a=s["s-p"])?a:[],i=()=>Re(e);0===t.length?i():(Promise.all(t).then(i),e.$flags$|=4,t.length=0)}},Ee=null,Te=(e,t,i,a)=>{try{Ee=t,t=t.render(),e.$flags$&=-17,e.$flags$|=2,xe(e,t,a)}catch(s){h(s,e.$hostElement$)}return Ee=null,null},Ae=()=>Ee,Re=e=>{e.$cmpMeta$.$tagName$;const t=e.$hostElement$,i=()=>{},a=e.$lazyInstance$,s=e.$ancestorComponent$;Ie(a,"componentDidRender",void 0,t),64&e.$flags$?(Ie(a,"componentDidUpdate",void 0,t),i()):(e.$flags$|=64,Oe(t),Ie(a,"componentDidLoad",void 0,t),i(),e.$onReadyResolve$(t),s||De()),e.$onInstanceResolve$(t),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&C((()=>Se(e,!1))),e.$flags$&=-517},Me=e=>{{const t=d(e),i=t.$hostElement$.isConnected;return i&&2==(18&t.$flags$)&&Se(t,!1),i}},De=e=>{C((()=>W(f,"appload",{detail:{namespace:"dyte-ui-kit"}})))},Ie=(e,t,i,a)=>{if(e&&e[t])try{return e[t](i)}catch(s){h(s,a)}},Oe=e=>{var t;return e.classList.add(null!=(t=s)?t:"hydrated")},$e=(e,t)=>t},13633:(e,t,i)=>{i.d(t,{S:()=>n,a:()=>m,b:()=>f,f:()=>a,i:()=>v,r:()=>r});const a="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g;var s="object"==typeof self&&self&&self.Object===Object&&self;const r=a||s||Function("return this")();const n=r.Symbol;var o=Object.prototype,d=o.hasOwnProperty,c=o.toString,l=n?n.toStringTag:void 0;var h=Object.prototype.toString;var p="[object Null]",g="[object Undefined]",u=n?n.toStringTag:void 0;function f(e){return null==e?void 0===e?g:p:u&&u in Object(e)?function(e){var t=d.call(e,l),i=e[l];try{e[l]=void 0;var a=!0}catch(r){}var s=c.call(e);return a&&(t?e[l]=i:delete e[l]),s}(e):function(e){return h.call(e)}(e)}function m(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function v(e){return null!=e&&"object"==typeof e}},86979:(e,t,i)=>{i.d(t,{M:()=>P,S:()=>D,a:()=>ae,b:()=>O,c:()=>xe,d:()=>le,e:()=>s,f:()=>ye,g:()=>K,h:()=>V,i:()=>ne,j:()=>N,k:()=>Te,l:()=>H,m:()=>ie,n:()=>p,o:()=>Q,p:()=>I,q:()=>Ce,r:()=>_,s:()=>Z,t:()=>Y,u:()=>Pe,v:()=>v,w:()=>B,x:()=>pe,y:()=>me,z:()=>we});var a=i(13633);function s(e,t){return e===t||e!=e&&t!=t}function r(e,t){for(var i=e.length;i--;)if(s(e[i][0],t))return i;return-1}e=i.hmd(e);var n=Array.prototype.splice;function o(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var a=e[t];this.set(a[0],a[1])}}o.prototype.clear=function(){this.__data__=[],this.size=0},o.prototype.delete=function(e){var t=this.__data__,i=r(t,e);return!(i<0)&&(i==t.length-1?t.pop():n.call(t,i,1),--this.size,!0)},o.prototype.get=function(e){var t=this.__data__,i=r(t,e);return i<0?void 0:t[i][1]},o.prototype.has=function(e){return r(this.__data__,e)>-1},o.prototype.set=function(e,t){var i=this.__data__,a=r(i,e);return a<0?(++this.size,i.push([e,t])):i[a][1]=t,this};var d="[object AsyncFunction]",c="[object Function]",l="[object GeneratorFunction]",h="[object Proxy]";function p(e){if(!(0,a.a)(e))return!1;var t=(0,a.b)(e);return t==c||t==l||t==d||t==h}const g=a.r["__core-js_shared__"];var u,f=(u=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"";var m=Function.prototype.toString;function v(e){if(null!=e){try{return m.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var y=/^\[object .+?Constructor\]$/,b=Function.prototype,w=Object.prototype,x=b.toString,k=w.hasOwnProperty,S=RegExp("^"+x.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function C(e){return!(!(0,a.a)(e)||(t=e,f&&f in t))&&(p(e)?S:y).test(v(e));var t}function _(e,t){var i=function(e,t){return null==e?void 0:e[t]}(e,t);return C(i)?i:void 0}const P=_(a.r,"Map");const L=_(Object,"create");var E=Object.prototype.hasOwnProperty;var T=Object.prototype.hasOwnProperty;function A(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var a=e[t];this.set(a[0],a[1])}}function R(e,t){var i,a,s=e.__data__;return("string"==(a=typeof(i=t))||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==i:null===i)?s["string"==typeof t?"string":"hash"]:s.map}function M(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var a=e[t];this.set(a[0],a[1])}}A.prototype.clear=function(){this.__data__=L?L(null):{},this.size=0},A.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},A.prototype.get=function(e){var t=this.__data__;if(L){var i=t[e];return"__lodash_hash_undefined__"===i?void 0:i}return E.call(t,e)?t[e]:void 0},A.prototype.has=function(e){var t=this.__data__;return L?void 0!==t[e]:T.call(t,e)},A.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=L&&void 0===t?"__lodash_hash_undefined__":t,this},M.prototype.clear=function(){this.size=0,this.__data__={hash:new A,map:new(P||o),string:new A}},M.prototype.delete=function(e){var t=R(this,e).delete(e);return this.size-=t?1:0,t},M.prototype.get=function(e){return R(this,e).get(e)},M.prototype.has=function(e){return R(this,e).has(e)},M.prototype.set=function(e,t){var i=R(this,e),a=i.size;return i.set(e,t),this.size+=i.size==a?0:1,this};function D(e){var t=this.__data__=new o(e);this.size=t.size}D.prototype.clear=function(){this.__data__=new o,this.size=0},D.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},D.prototype.get=function(e){return this.__data__.get(e)},D.prototype.has=function(e){return this.__data__.has(e)},D.prototype.set=function(e,t){var i=this.__data__;if(i instanceof o){var a=i.__data__;if(!P||a.length<199)return a.push([e,t]),this.size=++i.size,this;i=this.__data__=new M(a)}return i.set(e,t),this.size=i.size,this};const I=function(){try{var e=_(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();function O(e,t,i){"__proto__"==t&&I?I(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}var $="object"==typeof exports&&exports&&!exports.nodeType&&exports,U=$&&e&&!e.nodeType&&e,j=U&&U.exports===$?a.r.Buffer:void 0,F=j?j.allocUnsafe:void 0;function N(e,t){if(t)return e.slice();var i=e.length,a=F?F(i):new e.constructor(i);return e.copy(a),a}const z=a.r.Uint8Array;function B(e){var t=new e.constructor(e.byteLength);return new z(t).set(new z(e)),t}function H(e,t){var i=t?B(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}function V(e,t){var i=-1,a=e.length;for(t||(t=Array(a));++i<a;)t[i]=e[i];return t}var G=Object.create;const q=function(){function e(){}return function(t){if(!(0,a.a)(t))return{};if(G)return G(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}();function Z(e,t){return function(i){return e(t(i))}}const K=Z(Object.getPrototypeOf,Object);var W=Object.prototype;function Y(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||W)}function Q(e){return"function"!=typeof e.constructor||Y(e)?{}:q(K(e))}function J(e){return(0,a.i)(e)&&"[object Arguments]"==(0,a.b)(e)}var X=Object.prototype,ee=X.hasOwnProperty,te=X.propertyIsEnumerable;const ie=J(function(){return arguments}())?J:function(e){return(0,a.i)(e)&&ee.call(e,"callee")&&!te.call(e,"callee")};const ae=Array.isArray;var se=9007199254740991;function re(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=se}function ne(e){return null!=e&&re(e.length)&&!p(e)}var oe="object"==typeof exports&&exports&&!exports.nodeType&&exports,de=oe&&e&&!e.nodeType&&e,ce=de&&de.exports===oe?a.r.Buffer:void 0;const le=(ce?ce.isBuffer:void 0)||function(){return!1};var he={};function pe(e){return function(t){return e(t)}}he["[object Float32Array]"]=he["[object Float64Array]"]=he["[object Int8Array]"]=he["[object Int16Array]"]=he["[object Int32Array]"]=he["[object Uint8Array]"]=he["[object Uint8ClampedArray]"]=he["[object Uint16Array]"]=he["[object Uint32Array]"]=!0,he["[object Arguments]"]=he["[object Array]"]=he["[object ArrayBuffer]"]=he["[object Boolean]"]=he["[object DataView]"]=he["[object Date]"]=he["[object Error]"]=he["[object Function]"]=he["[object Map]"]=he["[object Number]"]=he["[object Object]"]=he["[object RegExp]"]=he["[object Set]"]=he["[object String]"]=he["[object WeakMap]"]=!1;var ge="object"==typeof exports&&exports&&!exports.nodeType&&exports,ue=ge&&e&&!e.nodeType&&e,fe=ue&&ue.exports===ge&&a.f.process;const me=function(){try{var e=ue&&ue.require&&ue.require("util").types;return e||fe&&fe.binding&&fe.binding("util")}catch(t){}}();var ve=me&&me.isTypedArray;const ye=ve?pe(ve):function(e){return(0,a.i)(e)&&re(e.length)&&!!he[(0,a.b)(e)]};var be=Object.prototype.hasOwnProperty;function we(e,t,i){var a=e[t];be.call(e,t)&&s(a,i)&&(void 0!==i||t in e)||O(e,t,i)}function xe(e,t,i,a){var s=!i;i||(i={});for(var r=-1,n=t.length;++r<n;){var o=t[r],d=a?a(i[o],e[o],o,i,e):void 0;void 0===d&&(d=e[o]),s?O(i,o,d):we(i,o,d)}return i}var ke=9007199254740991,Se=/^(?:0|[1-9]\d*)$/;function Ce(e,t){var i=typeof e;return!!(t=null==t?ke:t)&&("number"==i||"symbol"!=i&&Se.test(e))&&e>-1&&e%1==0&&e<t}var _e=Object.prototype.hasOwnProperty;function Pe(e,t){var i=ae(e),a=!i&&ie(e),s=!i&&!a&&le(e),r=!i&&!a&&!s&&ye(e),n=i||a||s||r,o=n?function(e,t){for(var i=-1,a=Array(e);++i<e;)a[i]=t(i);return a}(e.length,String):[],d=o.length;for(var c in e)!t&&!_e.call(e,c)||n&&("length"==c||s&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ce(c,d))||o.push(c);return o}var Le=Object.prototype.hasOwnProperty;function Ee(e){if(!(0,a.a)(e))return function(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t}(e);var t=Y(e),i=[];for(var s in e)("constructor"!=s||!t&&Le.call(e,s))&&i.push(s);return i}function Te(e){return ne(e)?Pe(e,!0):Ee(e)}},62443:(e,t,i)=>{i.d(t,{u:()=>Qe}),e=i.hmd(e);const a="hydrated",s=!0,r=!0,n=!0;var o=Object.defineProperty,d=e=>{if(e.__stencil__getHostRef)return e.__stencil__getHostRef()},c=(e,t)=>{e.__stencil__getHostRef=()=>t,t.$lazyInstance$=e},l=(e,t)=>t in e,h=(e,t)=>(0,console.error)(e,t),p=new Map,g=new Map,u="slot-fb{display:contents}slot-fb[hidden]{display:none}",f="http://www.w3.org/1999/xlink",m="undefined"!=typeof window?window:{},v={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,i,a)=>e.addEventListener(t,i,a),rel:(e,t,i,a)=>e.removeEventListener(t,i,a),ce:(e,t)=>new CustomEvent(e,t)},y=(()=>{var e;let t=!1;try{null==(e=m.document)||e.addEventListener("e",null,Object.defineProperty({},"passive",{get(){t=!0}}))}catch(i){}return t})(),b=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(e){}return!1})(),w=!1,x=[],k=[],S=(e,t)=>t=>{e.push(t),w||(w=!0,4&v.$flags$?P(_):v.raf(_))},C=e=>{for(let i=0;i<e.length;i++)try{e[i](performance.now())}catch(t){h(t)}e.length=0},_=()=>{C(x),C(k),(w=x.length>0)&&v.raf(_)},P=e=>{return Promise.resolve(t).then(e);var t},L=S(k),E=e=>"object"===(e=typeof e)||"function"===e;function T(e){var t,i,a;return null!=(a=null==(i=null==(t=e.head)?void 0:t.querySelector('meta[name="csp-nonce"]'))?void 0:i.getAttribute("content"))?a:void 0}((e,t)=>{for(var i in t)o(e,i,{get:t[i],enumerable:!0})})({},{err:()=>R,map:()=>M,ok:()=>A,unwrap:()=>D,unwrapErr:()=>I});var A=e=>({isOk:!0,isErr:!1,value:e}),R=e=>({isOk:!1,isErr:!0,value:e});function M(e,t){if(e.isOk){const i=t(e.value);return i instanceof Promise?i.then((e=>A(e))):A(i)}if(e.isErr){const t=e.value;return R(t)}throw"should never get here"}var D=e=>{if(e.isOk)return e.value;throw e.value},I=e=>{if(e.isErr)return e.value;throw e.value},O=e=>{const t=N(e,"childNodes");e.tagName&&e.tagName.includes("-")&&e["s-cr"]&&"SLOT-FB"!==e.tagName&&$(t,e.tagName).forEach((e=>{1===e.nodeType&&"SLOT-FB"===e.tagName&&(U(e,F(e),!1).length?e.hidden=!0:e.hidden=!1)}));let i=0;for(i=0;i<t.length;i++){const e=t[i];1===e.nodeType&&N(e,"childNodes").length&&O(e)}};function $(e,t,i){let a,s=0,r=[];for(;s<e.length;s++)a=e[s],!a["s-sr"]||t&&a["s-hn"]!==t||void 0!==i||r.push(a),r=[...r,...$(a.childNodes,t,i)];return r}var U=(e,t,i=!0)=>{const a=[];(i&&e["s-sr"]||!e["s-sr"])&&a.push(e);let s=e;for(;s=s.nextSibling;)F(s)!==t||!i&&s["s-sr"]||a.push(s);return a},j=(e,t)=>1===e.nodeType?null===e.getAttribute("slot")&&""===t||e.getAttribute("slot")===t:e["s-sn"]===t||""===t,F=e=>"string"==typeof e["s-sn"]?e["s-sn"]:1===e.nodeType&&e.getAttribute("slot")||void 0;function N(e,t){if("__"+t in e){const i=e["__"+t];return"function"!=typeof i?i:i.bind(e)}return"function"!=typeof e[t]?e[t]:e[t].bind(e)}var z,B,H=(e,t,...i)=>{let a=null,s=null,r=null,n=!1,o=!1;const d=[],c=t=>{for(let i=0;i<t.length;i++)a=t[i],Array.isArray(a)?c(a):null!=a&&"boolean"!=typeof a&&((n="function"!=typeof e&&!E(a))&&(a=String(a)),n&&o?d[d.length-1].$text$+=a:d.push(n?V(null,a):a),o=n)};if(c(i),t){t.key&&(s=t.key),t.name&&(r=t.name);{const e=t.className||t.class;e&&(t.class="object"!=typeof e?e:Object.keys(e).filter((t=>e[t])).join(" "))}}if("function"==typeof e)return e(null===t?{}:t,d,q);const l=V(e,null);return l.$attrs$=t,d.length>0&&(l.$children$=d),l.$key$=s,l.$name$=r,l},V=(e,t)=>{const i={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null};return i},G={},q={forEach:(e,t)=>e.map(Z).forEach(t),map:(e,t)=>e.map(Z).map(t).map(K)},Z=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),K=e=>{if("function"==typeof e.vtag){const t={...e.vattrs};return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),H(e.vtag,t,...e.vchildren||[])}const t=V(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},W=(e,t)=>null==e||E(e)?e:4&t?"false"!==e&&(""===e||!!e):2&t?parseFloat(e):1&t?String(e):e,Y=e=>d(e).$hostElement$,Q=(e,t,i)=>{const a=Y(e);return{emit:e=>J(a,t,{bubbles:!!(4&i),composed:!!(2&i),cancelable:!!(1&i),detail:e})}},J=(e,t,i)=>{const a=v.ce(t,i);return e.dispatchEvent(a),a},X=new WeakMap,ee=e=>{const t=e.$cmpMeta$,i=e.$hostElement$,a=t.$flags$,s=(t.$tagName$,()=>{}),r=((e,t)=>{var i;const a=te(t),s=g.get(a);if(!m.document)return a;if(e=11===e.nodeType?e:m.document,s)if("string"==typeof s){e=e.head||e;let r,n=X.get(e);if(n||X.set(e,n=new Set),!n.has(a)){{r=document.querySelector(`[sty-id="${a}"]`)||m.document.createElement("style"),r.innerHTML=s;const n=null!=(i=v.$nonce$)?i:T(m.document);if(null!=n&&r.setAttribute("nonce",n),!(1&t.$flags$))if("HEAD"===e.nodeName){const t=e.querySelectorAll("link[rel=preconnect]"),i=t.length>0?t[t.length-1].nextSibling:e.querySelector("style");e.insertBefore(r,(null==i?void 0:i.parentNode)===e?i:null)}else if("host"in e)if(b){const t=new CSSStyleSheet;t.replaceSync(s),e.adoptedStyleSheets=[t,...e.adoptedStyleSheets]}else{const t=e.querySelector("style");t?t.innerHTML=s+t.innerHTML:e.prepend(r)}else e.append(r);1&t.$flags$&&e.insertBefore(r,null)}4&t.$flags$&&(r.innerHTML+=u),n&&n.add(a)}}else e.adoptedStyleSheets.includes(s)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,s]);return a})(i.shadowRoot?i.shadowRoot:i.getRootNode(),t);(10&a&&2&a||128&a)&&(i["s-sc"]=r,i.classList.add(r+"-h")),s()},te=(e,t)=>"sc-"+e.$tagName$,ie=(e,t,i,a,s,r,n)=>{if(i===a)return;let o=l(e,t),d=t.toLowerCase();if("class"===t){const t=e.classList,s=se(i);let r=se(a);t.remove(...s.filter((e=>e&&!r.includes(e)))),t.add(...r.filter((e=>e&&!s.includes(e))))}else if("style"===t){for(const t in i)a&&null!=a[t]||(t.includes("-")?e.style.removeProperty(t):e.style[t]="");for(const t in a)i&&a[t]===i[t]||(t.includes("-")?e.style.setProperty(t,a[t]):e.style[t]=a[t])}else if("key"===t);else if("ref"===t)a&&a(e);else if(o||"o"!==t[0]||"n"!==t[1]){const n=E(a);if(o||n&&null!==a)try{if(e.tagName.includes("-"))e[t]!==a&&(e[t]=a);else{const s=null==a?"":a;"list"===t?o=!1:null!=i&&e[t]==s||("function"==typeof e.__lookupSetter__(t)?e[t]=s:e.setAttribute(t,s))}}catch(c){}let l=!1;d!==(d=d.replace(/^xlink\:?/,""))&&(t=d,l=!0),null==a||!1===a?!1===a&&""!==e.getAttribute(t)||(l?e.removeAttributeNS(f,t):e.removeAttribute(t)):(!o||4&r||s)&&!n&&1===e.nodeType&&(a=!0===a?"":a,l?e.setAttributeNS(f,t,a):e.setAttribute(t,a))}else if(t="-"===t[2]?t.slice(3):l(m,d)?d.slice(2):d[2]+t.slice(3),i||a){const s=t.endsWith(re);t=t.replace(ne,""),i&&v.rel(e,t,i,s),a&&v.ael(e,t,a,s)}},ae=/\s/,se=e=>("object"==typeof e&&e&&"baseVal"in e&&(e=e.baseVal),e&&"string"==typeof e?e.split(ae):[]),re="Capture",ne=new RegExp(re+"$"),oe=(e,t,i,a)=>{const s=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,r=e&&e.$attrs$||{},n=t.$attrs$||{};for(const o of de(Object.keys(r)))o in n||ie(s,o,r[o],void 0,i,t.$flags$);for(const o of de(Object.keys(n)))ie(s,o,r[o],n[o],i,t.$flags$)};function de(e){return e.includes("ref")?[...e.filter((e=>"ref"!==e)),"ref"]:e}var ce=!1,le=!1,he=!1,pe=!1,ge=(e,t,i)=>{var a;const s=t.$children$[i];let n,o,d,c=0;if(ce||(he=!0,"slot"===s.$tag$&&(s.$flags$|=s.$children$?2:1)),null!==s.$text$)n=s.$elm$=m.document.createTextNode(s.$text$);else if(1&s.$flags$)n=s.$elm$=m.document.createTextNode(""),oe(null,s,pe);else{if(!m.document)throw new Error("You are trying to render a Stencil component in an environment that doesn't support the DOM. Make sure to populate the [`window`](https://developer.mozilla.org/en-US/docs/Web/API/Window/window) object before rendering a component.");if(n=s.$elm$=m.document.createElement(!ce&&r&&2&s.$flags$?"slot-fb":s.$tag$),oe(null,s,pe),s.$children$)for(c=0;c<s.$children$.length;++c)o=ge(e,s,c),o&&n.appendChild(o)}return n["s-hn"]=B,3&s.$flags$&&(n["s-sr"]=!0,n["s-cr"]=z,n["s-sn"]=s.$name$||"",n["s-rf"]=null==(a=s.$attrs$)?void 0:a.ref,function(e){if(e.assignedElements||e.assignedNodes||!e["s-sr"])return;const t=t=>function(e){const i=[],a=this["s-sn"];(null==e?void 0:e.flatten)&&console.error("\n          Flattening is not supported for Stencil non-shadow slots. \n          You can use `.childNodes` to nested slot fallback content.\n          If you have a particular use case, please open an issue on the Stencil repo.\n        ");const s=this["s-cr"].parentElement;return(s.__childNodes?s.childNodes:(e=>{const t=[];for(let i=0;i<e.length;i++){const a=e[i]["s-nr"]||void 0;a&&a.isConnected&&t.push(a)}return t})(s.childNodes)).forEach((e=>{a===F(e)&&i.push(e)})),t?i.filter((e=>1===e.nodeType)):i}.bind(e);e.assignedElements=t(!0),e.assignedNodes=t(!1)}(n),d=e&&e.$children$&&e.$children$[i],d&&d.$tag$===s.$tag$&&e.$elm$&&ue(e.$elm$,!1)),n},ue=(e,t)=>{v.$flags$|=1;const i=Array.from(e.__childNodes||e.childNodes);e["s-sr"];for(let a=i.length-1;a>=0;a--){const e=i[a];e["s-hn"]!==B&&e["s-ol"]&&(Se(ye(e).parentNode,e,ye(e)),e["s-ol"].remove(),e["s-ol"]=void 0,e["s-sh"]=void 0,he=!0),t&&ue(e,t)}v.$flags$&=-2},fe=(e,t,i,a,s,r)=>{let n,o=e["s-cr"]&&e["s-cr"].parentNode||e;for(o.shadowRoot&&o.tagName===B&&(o=o.shadowRoot);s<=r;++s)a[s]&&(n=ge(null,i,s),n&&(a[s].$elm$=n,Se(o,n,ye(t))))},me=(e,t,i)=>{for(let a=t;a<=i;++a){const t=e[a];if(t){const e=t.$elm$;ke(t),e&&(le=!0,e["s-ol"]?e["s-ol"].remove():ue(e,!0),e.remove())}}},ve=(e,t,i=!1)=>e.$tag$===t.$tag$&&("slot"===e.$tag$?e.$name$===t.$name$:i?(i&&!e.$key$&&t.$key$&&(e.$key$=t.$key$),!0):e.$key$===t.$key$),ye=e=>e&&e["s-ol"]||e,be=(e,t,i=!1)=>{const a=t.$elm$=e.$elm$,s=e.$children$,r=t.$children$,o=t.$text$;let d;null===o?(oe(e,t,pe),null!==s&&null!==r?((e,t,i,a,s=!1)=>{let r,n,o=0,d=0,c=0,l=0,h=t.length-1,p=t[0],g=t[h],u=a.length-1,f=a[0],m=a[u];for(;o<=h&&d<=u;)if(null==p)p=t[++o];else if(null==g)g=t[--h];else if(null==f)f=a[++d];else if(null==m)m=a[--u];else if(ve(p,f,s))be(p,f,s),p=t[++o],f=a[++d];else if(ve(g,m,s))be(g,m,s),g=t[--h],m=a[--u];else if(ve(p,m,s))"slot"!==p.$tag$&&"slot"!==m.$tag$||ue(p.$elm$.parentNode,!1),be(p,m,s),Se(e,p.$elm$,g.$elm$.nextSibling),p=t[++o],m=a[--u];else if(ve(g,f,s))"slot"!==p.$tag$&&"slot"!==m.$tag$||ue(g.$elm$.parentNode,!1),be(g,f,s),Se(e,g.$elm$,p.$elm$),g=t[--h],f=a[++d];else{for(c=-1,l=o;l<=h;++l)if(t[l]&&null!==t[l].$key$&&t[l].$key$===f.$key$){c=l;break}c>=0?(n=t[c],n.$tag$!==f.$tag$?r=ge(t&&t[d],i,c):(be(n,f,s),t[c]=void 0,r=n.$elm$),f=a[++d]):(r=ge(t&&t[d],i,d),f=a[++d]),r&&Se(ye(p.$elm$).parentNode,r,ye(p.$elm$))}o>h?fe(e,null==a[u+1]?null:a[u+1].$elm$,i,a,d,u):d>u&&me(t,o,h)})(a,s,t,r,i):null!==r?(null!==e.$text$&&(a.textContent=""),fe(a,null,t,r,0,r.length-1)):!i&&n&&null!==s&&me(s,0,s.length-1)):(d=a["s-cr"])?d.parentNode.textContent=o:e.$text$!==o&&(a.data=o)},we=[],xe=e=>{let t,i,a;const s=e.__childNodes||e.childNodes;for(const r of s){if(r["s-sr"]&&(t=r["s-cr"])&&t.parentNode){i=t.parentNode.__childNodes||t.parentNode.childNodes;const e=r["s-sn"];for(a=i.length-1;a>=0;a--)if(t=i[a],!t["s-cn"]&&!t["s-nr"]&&t["s-hn"]!==r["s-hn"])if(j(t,e)){let i=we.find((e=>e.$nodeToRelocate$===t));le=!0,t["s-sn"]=t["s-sn"]||e,i?(i.$nodeToRelocate$["s-sh"]=r["s-hn"],i.$slotRefNode$=r):(t["s-sh"]=r["s-hn"],we.push({$slotRefNode$:r,$nodeToRelocate$:t})),t["s-sr"]&&we.map((e=>{j(e.$nodeToRelocate$,t["s-sn"])&&(i=we.find((e=>e.$nodeToRelocate$===t)),i&&!e.$slotRefNode$&&(e.$slotRefNode$=i.$slotRefNode$))}))}else we.some((e=>e.$nodeToRelocate$===t))||we.push({$nodeToRelocate$:t})}1===r.nodeType&&xe(r)}},ke=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(ke)},Se=(e,t,i)=>null==e?void 0:e.insertBefore(t,i),Ce=(e,t,i=!1)=>{var a,s,r,n;const o=e.$hostElement$,d=e.$cmpMeta$,c=e.$vnode$||V(null,null),l=(h=t)&&h.$tag$===G?t:H(null,null,t);var h;if(B=o.tagName,d.$attrsToReflect$&&(l.$attrs$=l.$attrs$||{},d.$attrsToReflect$.map((([e,t])=>l.$attrs$[t]=o[e]))),i&&l.$attrs$)for(const p of Object.keys(l.$attrs$))o.hasAttribute(p)&&!["key","ref","style","class"].includes(p)&&(l.$attrs$[p]=o[p]);if(l.$tag$=null,l.$flags$|=4,e.$vnode$=l,l.$elm$=c.$elm$=o.shadowRoot||o,ce=!(!(1&d.$flags$)||128&d.$flags$),z=o["s-cr"],le=!1,be(c,l,i),v.$flags$|=1,he){xe(l.$elm$);for(const e of we){const t=e.$nodeToRelocate$;if(!t["s-ol"]&&m.document){const e=m.document.createTextNode("");e["s-nr"]=t,Se(t.parentNode,t["s-ol"]=e,t)}}for(const e of we){const t=e.$nodeToRelocate$,o=e.$slotRefNode$;if(o){const e=o.parentNode;let i=o.nextSibling;{let r=null==(a=t["s-ol"])?void 0:a.previousSibling;for(;r;){let a=null!=(s=r["s-nr"])?s:null;if(a&&a["s-sn"]===t["s-sn"]&&e===(a.__parentNode||a.parentNode)){for(a=a.nextSibling;a===t||(null==a?void 0:a["s-sr"]);)a=null==a?void 0:a.nextSibling;if(!a||!a["s-nr"]){i=a;break}}r=r.previousSibling}}const n=t.__parentNode||t.parentNode,d=t.__nextSibling||t.nextSibling;(!i&&e!==n||d!==i)&&t!==i&&(!t["s-hn"]&&t["s-ol"]&&(t["s-hn"]=t["s-ol"].parentNode.nodeName),Se(e,t,i),1===t.nodeType&&"SLOT-FB"!==t.tagName&&(t.hidden=null!=(r=t["s-ih"])&&r)),t&&"function"==typeof o["s-rf"]&&o["s-rf"](o)}else 1===t.nodeType&&(i&&(t["s-ih"]=null!=(n=t.hidden)&&n),t.hidden=!0)}}le&&O(l.$elm$),v.$flags$&=-2,we.length=0,z=void 0},_e=(e,t)=>{if(t&&!e.$onRenderResolve$&&t["s-p"]){const i=t["s-p"].push(new Promise((a=>e.$onRenderResolve$=()=>{t["s-p"].splice(i-1,1),a()})))}},Pe=(e,t)=>{if(e.$flags$|=16,4&e.$flags$)return void(e.$flags$|=512);_e(e,e.$ancestorComponent$);return L((()=>Le(e,t)))},Le=(e,t)=>{const i=e.$hostElement$,a=(e.$cmpMeta$.$tagName$,()=>{}),s=e.$lazyInstance$;if(!s)throw new Error(`Can't render component <${i.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let r;return t?(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map((([e,t])=>Ue(s,e,t,i))),e.$queuedListeners$=void 0),r=Ue(s,"componentWillLoad",void 0,i)):r=Ue(s,"componentWillUpdate",void 0,i),r=Ee(r,(()=>Ue(s,"componentWillRender",void 0,i))),a(),Ee(r,(()=>Ae(e,s,t)))},Ee=(e,t)=>Te(e)?e.then(t).catch((e=>{console.error(e),t()})):t(),Te=e=>e instanceof Promise||e&&e.then&&"function"==typeof e.then,Ae=async(e,t,i)=>{var a;const s=e.$hostElement$,r=(e.$cmpMeta$.$tagName$,()=>{}),n=s["s-rc"];i&&ee(e);const o=(e.$cmpMeta$.$tagName$,()=>{});Me(e,t,s,i),n&&(n.map((e=>e())),s["s-rc"]=void 0),o(),r();{const t=null!=(a=s["s-p"])?a:[],i=()=>Ie(e);0===t.length?i():(Promise.all(t).then(i),e.$flags$|=4,t.length=0)}},Re=null,Me=(e,t,i,a)=>{try{Re=t,t=t.render(),e.$flags$&=-17,e.$flags$|=2,Ce(e,t,a)}catch(s){h(s,e.$hostElement$)}return Re=null,null},De=()=>Re,Ie=e=>{e.$cmpMeta$.$tagName$;const t=e.$hostElement$,i=()=>{},a=e.$lazyInstance$,s=e.$ancestorComponent$;Ue(a,"componentDidRender",void 0,t),64&e.$flags$?(Ue(a,"componentDidUpdate",void 0,t),i()):(e.$flags$|=64,je(t),Ue(a,"componentDidLoad",void 0,t),i(),e.$onReadyResolve$(t),s||$e()),e.$onInstanceResolve$(t),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&P((()=>Pe(e,!1))),e.$flags$&=-517},Oe=e=>{{const t=d(e),i=t.$hostElement$.isConnected;return i&&2==(18&t.$flags$)&&Pe(t,!1),i}},$e=e=>{P((()=>J(m,"appload",{detail:{namespace:"dyte-ui-kit"}})))},Ue=(e,t,i,a)=>{if(e&&e[t])try{return e[t](i)}catch(s){h(s,a)}},je=e=>{var t;return e.classList.add(null!=(t=a)?t:"hydrated")},Fe=(e,t,i,a)=>{const s=d(e);if(!s)throw new Error(`Couldn't find host element for "${a.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/stenciljs/core/issues/5457).`);const r=s.$hostElement$,n=s.$instanceValues$.get(t),o=s.$flags$,c=s.$lazyInstance$;i=W(i,a.$members$[t][0]);const l=Number.isNaN(n)&&Number.isNaN(i);if((!(8&o)||void 0===n)&&(i!==n&&!l)&&(s.$instanceValues$.set(t,i),c)){if(a.$watchers$&&128&o){const e=a.$watchers$[t];e&&e.map((e=>{try{c[e](i,n,t)}catch(a){h(a,r)}}))}if(2==(18&o)){if(c.componentShouldUpdate&&!1===c.componentShouldUpdate(i,n,t))return;Pe(s,!1)}}},Ne=(e,t,i)=>{var a,r;const n=e.prototype;if(t.$members$||t.$watchers$||e.watchers){e.watchers&&!t.$watchers$&&(t.$watchers$=e.watchers);const o=Object.entries(null!=(a=t.$members$)?a:{});if(o.map((([e,[a]])=>{if(31&a||2&i&&32&a){const{get:s,set:r}=Object.getOwnPropertyDescriptor(n,e)||{};s&&(t.$members$[e][0]|=2048),r&&(t.$members$[e][0]|=4096),(1&i||!s)&&Object.defineProperty(n,e,{get(){{if(!(2048&t.$members$[e][0]))return((e,t)=>d(e).$instanceValues$.get(t))(this,e);const i=d(this),a=i?i.$lazyInstance$:n;if(!a)return;return a[e]}},configurable:!0,enumerable:!0}),Object.defineProperty(n,e,{set(s){const n=d(this);if(r){const i=32&a?this[e]:n.$hostElement$[e];return void 0===i&&n.$instanceValues$.get(e)?s=n.$instanceValues$.get(e):!n.$instanceValues$.get(e)&&i&&n.$instanceValues$.set(e,i),r.apply(this,[W(s,a)]),s=32&a?this[e]:n.$hostElement$[e],void Fe(this,e,s,t)}{if(!(1&i&&4096&t.$members$[e][0]))return Fe(this,e,s,t),void(1&i&&!n.$lazyInstance$&&n.$onReadyPromise$.then((()=>{4096&t.$members$[e][0]&&n.$lazyInstance$[e]!==n.$instanceValues$.get(e)&&(n.$lazyInstance$[e]=s)})));const r=()=>{const i=n.$lazyInstance$[e];!n.$instanceValues$.get(e)&&i&&n.$instanceValues$.set(e,i),n.$lazyInstance$[e]=W(s,a),Fe(this,e,n.$lazyInstance$[e],t)};n.$lazyInstance$?r():n.$onReadyPromise$.then((()=>r()))}}})}else 1&i&&64&a&&Object.defineProperty(n,e,{value(...t){var i;const a=d(this);return null==(i=null==a?void 0:a.$onInstancePromise$)?void 0:i.then((()=>{var i;return null==(i=a.$lazyInstance$)?void 0:i[e](...t)}))}})})),1&i){const i=new Map;n.attributeChangedCallback=function(e,a,r){v.jmp((()=>{var o;const c=i.get(e);if(this.hasOwnProperty(c)&&s)r=this[c],delete this[c];else{if(n.hasOwnProperty(c)&&"number"==typeof this[c]&&this[c]==r)return;if(null==c){const i=d(this),s=null==i?void 0:i.$flags$;if(s&&!(8&s)&&128&s&&r!==a){const s=i.$lazyInstance$,n=null==(o=t.$watchers$)?void 0:o[e];null==n||n.forEach((t=>{null!=s[t]&&s[t].call(s,r,a,e)}))}return}}const l=Object.getOwnPropertyDescriptor(n,c);(r=(null!==r||"boolean"!=typeof this[c])&&r)===this[c]||l.get&&!l.set||(this[c]=r)}))},e.observedAttributes=Array.from(new Set([...Object.keys(null!=(r=t.$watchers$)?r:{}),...o.filter((([e,t])=>15&t[0])).map((([e,a])=>{var s;const r=a[1]||e;return i.set(r,e),512&a[0]&&(null==(s=t.$attrsToReflect$)||s.push([e,r])),r}))]))}}return e},ze=async(e,t,a,s)=>{let r;if(!(32&t.$flags$)){t.$flags$|=32;if(a.$lazyBundleId$){const s=((e,t)=>{const a=e.$tagName$.replace(/-/g,"_"),s=e.$lazyBundleId$;if(!s)return;const r=p.get(s);if(r)return r[a];{const e=e=>(p.set(s,e),e[a]);switch(s){case"dyte-audio-visualizer_64":return Promise.resolve().then((function(){return $c})).then(e,h);case"dyte-ai":return Promise.resolve().then((function(){return Fc})).then(e,h);case"dyte-ai-toggle":return Promise.resolve().then((function(){return Bc})).then(e,h);case"dyte-audio-grid":return Promise.resolve().then((function(){return Gc})).then(e,h);case"dyte-audio-tile":return Promise.resolve().then((function(){return Kc})).then(e,h);case"dyte-breakout-rooms-toggle":return Promise.resolve().then((function(){return Qc})).then(e,h);case"dyte-camera-toggle":return Promise.resolve().then((function(){return el})).then(e,h);case"dyte-caption-toggle":return Promise.resolve().then((function(){return al})).then(e,h);case"dyte-channel-selector-ui":return Promise.resolve().then((function(){return nl})).then(e,h);case"dyte-chat-composer-ui":return Promise.resolve().then((function(){return ll})).then(e,h);case"dyte-chat-selector-ui":return Promise.resolve().then((function(){return gl})).then(e,h);case"dyte-chat-toggle":return Promise.resolve().then((function(){return wl})).then(e,h);case"dyte-clock":return Promise.resolve().then((function(){return Cl})).then(e,h);case"dyte-controlbar":return Promise.resolve().then((function(){return Ll})).then(e,h);case"dyte-debugger-toggle":return Promise.resolve().then((function(){return Al})).then(e,h);case"dyte-ended-screen":return Promise.resolve().then((function(){return Dl})).then(e,h);case"dyte-file-dropzone":return Promise.resolve().then((function(){return $l})).then(e,h);case"dyte-grid":return Promise.resolve().then((function(){return Lh})).then(e,h);case"dyte-grid-pagination":return Promise.resolve().then((function(){return Ah})).then(e,h);case"dyte-header":return Promise.resolve().then((function(){return Dh})).then(e,h);case"dyte-idle-screen":return Promise.resolve().then((function(){return $h})).then(e,h);case"dyte-information-tooltip":return Promise.resolve().then((function(){return jh})).then(e,h);case"dyte-leave-button":return Promise.resolve().then((function(){return zh})).then(e,h);case"dyte-livestream-toggle":return Promise.resolve().then((function(){return Vh})).then(e,h);case"dyte-meeting-title":return Promise.resolve().then((function(){return Zh})).then(e,h);case"dyte-message-list-view":return Promise.resolve().then((function(){return Wh})).then(e,h);case"dyte-mic-toggle":return Promise.resolve().then((function(){return Jh})).then(e,h);case"dyte-mixed-grid":return Promise.resolve().then((function(){return tp})).then(e,h);case"dyte-more-toggle":return Promise.resolve().then((function(){return sp})).then(e,h);case"dyte-mute-all-button":return Promise.resolve().then((function(){return op})).then(e,h);case"dyte-network-indicator":return Promise.resolve().then((function(){return lp})).then(e,h);case"dyte-participant-count":return Promise.resolve().then((function(){return gp})).then(e,h);case"dyte-participant-setup":return Promise.resolve().then((function(){return mp})).then(e,h);case"dyte-participants":return Promise.resolve().then((function(){return bp})).then(e,h);case"dyte-participants-audio":return Promise.resolve().then((function(){return Sp})).then(e,h);case"dyte-participants-toggle":return Promise.resolve().then((function(){return Pp})).then(e,h);case"dyte-pip-toggle":return Promise.resolve().then((function(){return Tp})).then(e,h);case"dyte-plugins-toggle":return Promise.resolve().then((function(){return Mp})).then(e,h);case"dyte-polls-toggle":return Promise.resolve().then((function(){return Op})).then(e,h);case"dyte-recording-indicator":return Promise.resolve().then((function(){return jp})).then(e,h);case"dyte-recording-toggle":return Promise.resolve().then((function(){return zp})).then(e,h);case"dyte-screen-share-toggle":return Promise.resolve().then((function(){return Gp})).then(e,h);case"dyte-screenshare-view":return Promise.resolve().then((function(){return Jp})).then(e,h);case"dyte-settings-toggle":return Promise.resolve().then((function(){return tg})).then(e,h);case"dyte-setup-screen":return Promise.resolve().then((function(){return sg})).then(e,h);case"dyte-sidebar":return Promise.resolve().then((function(){return og})).then(e,h);case"dyte-simple-grid":return Promise.resolve().then((function(){return lg})).then(e,h);case"dyte-spotlight-grid":return Promise.resolve().then((function(){return gg})).then(e,h);case"dyte-stage":return Promise.resolve().then((function(){return mg})).then(e,h);case"dyte-stage-toggle":return Promise.resolve().then((function(){return bg})).then(e,h);case"dyte-transcripts":return Promise.resolve().then((function(){return ou})).then(e,h);case"dyte-ui-provider":return Promise.resolve().then((function(){return cu})).then(e,h);case"dyte-waiting-screen":return Promise.resolve().then((function(){return pu})).then(e,h);case"dyte-ai-transcriptions":return Promise.resolve().then((function(){return fu})).then(e,h);case"dyte-livestream-indicator_3":return Promise.resolve().then((function(){return Xx})).then(e,h);case"dyte-name-tag":return Promise.resolve().then((function(){return ik})).then(e,h);case"dyte-participants-stage-list_4":return Promise.resolve().then((function(){return hk})).then(e,h);case"dyte-plugin-main_2":return Promise.resolve().then((function(){return mk})).then(e,h);case"dyte-plugins_2":return Promise.resolve().then((function(){return xk})).then(e,h);case"dyte-transcript":return Promise.resolve().then((function(){return Sk})).then(e,h);case"dyte-fullscreen-toggle":return Promise.resolve().then((function(){return Pk})).then(e,h);case"dyte-participant_2":return Promise.resolve().then((function(){return Ak})).then(e,h);case"dyte-poll_2":return Promise.resolve().then((function(){return Ok})).then(e,h);case"dyte-sidebar-ui":return Promise.resolve().then((function(){return Uk})).then(e,h);case"dyte-spotlight-indicator":return Promise.resolve().then((function(){return Nk})).then(e,h);case"dyte-controlbar-button":return Promise.resolve().then((function(){return Hk})).then(e,h)}}return i(14794)(`./${s}.entry.js`).then((e=>(p.set(s,e),e[a])),(e=>{h(e,t.$hostElement$)}))})(a,t);if(s&&"then"in s){const e=()=>{};r=await s,e()}else r=s;if(!r)throw new Error(`Constructor for "${a.$tagName$}#${t.$modeName$}" was not found`);r.isProxied||(a.$watchers$=r.watchers,Ne(r,a,2),r.isProxied=!0);const n=(a.$tagName$,()=>{});t.$flags$|=8;try{new r(t)}catch(d){h(d,e)}t.$flags$&=-9,t.$flags$|=128,n(),Be(t.$lazyInstance$,e)}else{r=e.constructor;const i=e.localName;customElements.whenDefined(i).then((()=>t.$flags$|=128))}if(r&&r.style){let e;"string"==typeof r.style&&(e=r.style);const t=te(a);if(!g.has(t)){const i=(a.$tagName$,()=>{});((e,t,i)=>{let a=g.get(e);b&&i?(a=a||new CSSStyleSheet,"string"==typeof a?a=t:a.replaceSync(t)):a=t,g.set(e,a)})(t,e,!!(1&a.$flags$)),i()}}}const n=t.$ancestorComponent$,o=()=>Pe(t,!0);n&&n["s-rc"]?n["s-rc"].push(o):o()},Be=(e,t)=>{Ue(e,"connectedCallback",void 0,t)},He=e=>{if(!m.document)return;const t=e["s-cr"]=m.document.createComment("");t["s-cn"]=!0,Se(e,t,e.firstChild)},Ve=(e,t)=>{Ue(e,"disconnectedCallback",void 0,t||e)},Ge=(e,t={})=>{var i;if(!m.document)return void console.warn("Stencil: No document found. Skipping bootstrapping lazy components.");const a=()=>{},s=[],r=t.exclude||[],n=m.customElements,o=m.document.head,c=o.querySelector("meta[charset]"),l=m.document.createElement("style"),h=[];let p,g=!0;Object.assign(v,t),v.$resourcesUrl$=new URL(t.resourcesUrl||"./",m.document.baseURI).href;let f=!1;if(e.map((e=>{e[1].map((t=>{var i;const a={$flags$:t[0],$tagName$:t[1],$members$:t[2],$listeners$:t[3]};4&a.$flags$&&(f=!0),a.$members$=t[2],a.$listeners$=t[3],a.$attrsToReflect$=[],a.$watchers$=null!=(i=t[4])?i:{};const o=a.$tagName$,c=class extends HTMLElement{constructor(e){if(super(e),this.hasRegisteredEventListeners=!1,((e,t)=>{const i={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};i.$onInstancePromise$=new Promise((e=>i.$onInstanceResolve$=e)),i.$onReadyPromise$=new Promise((e=>i.$onReadyResolve$=e)),e["s-p"]=[],e["s-rc"]=[];const a=i;e.__stencil__getHostRef=()=>a})(e=this,a),1&a.$flags$)if(e.shadowRoot){if("open"!==e.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${a.$tagName$}! Mode is set to ${e.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else e.attachShadow({mode:"open"})}connectedCallback(){const e=d(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,Ze(this,e,a.$listeners$)),p&&(clearTimeout(p),p=null),g?h.push(this):v.jmp((()=>(e=>{if(!(1&v.$flags$)){const t=d(e),i=t.$cmpMeta$,a=(i.$tagName$,()=>{});if(1&t.$flags$)Ze(e,t,i.$listeners$),(null==t?void 0:t.$lazyInstance$)?Be(t.$lazyInstance$,e):(null==t?void 0:t.$onReadyPromise$)&&t.$onReadyPromise$.then((()=>Be(t.$lazyInstance$,e)));else{t.$flags$|=1,12&i.$flags$&&He(e);{let i=e;for(;i=i.parentNode||i.host;)if(i["s-p"]){_e(t,t.$ancestorComponent$=i);break}}i.$members$&&Object.entries(i.$members$).map((([t,[i]])=>{if(31&i&&e.hasOwnProperty(t)){const i=e[t];delete e[t],e[t]=i}})),ze(e,t,i)}a()}})(this)))}disconnectedCallback(){v.jmp((()=>(async e=>{if(!(1&v.$flags$)){const t=d(e);t.$rmListeners$&&(t.$rmListeners$.map((e=>e())),t.$rmListeners$=void 0),(null==t?void 0:t.$lazyInstance$)?Ve(t.$lazyInstance$,e):(null==t?void 0:t.$onReadyPromise$)&&t.$onReadyPromise$.then((()=>Ve(t.$lazyInstance$,e)))}X.has(e)&&X.delete(e),e.shadowRoot&&X.has(e.shadowRoot)&&X.delete(e.shadowRoot)})(this))),v.raf((()=>{var e;const t=d(this),i=h.findIndex((e=>e===this));i>-1&&h.splice(i,1),(null==(e=null==t?void 0:t.$vnode$)?void 0:e.$elm$)instanceof Node&&!t.$vnode$.$elm$.isConnected&&delete t.$vnode$.$elm$}))}componentOnReady(){return d(this).$onReadyPromise$}};a.$lazyBundleId$=e[0],r.includes(o)||n.get(o)||(s.push(o),n.define(o,Ne(c,a,1)))}))})),s.length>0&&(f&&(l.textContent+=u),l.textContent+=s.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",l.innerHTML.length)){l.setAttribute("data-styles","");const e=null!=(i=v.$nonce$)?i:T(m.document);null!=e&&l.setAttribute("nonce",e),o.insertBefore(l,c?c.nextSibling:o.firstChild)}g=!1,h.length?h.map((e=>e.connectedCallback())):v.jmp((()=>p=setTimeout($e,30))),a()},qe=(e,t)=>t,Ze=(e,t,i,a)=>{i&&m.document&&i.map((([i,a,s])=>{const r=We(m.document,e,i),n=Ke(t,s),o=Ye(i);v.ael(r,a,n,o),(t.$rmListeners$=t.$rmListeners$||[]).push((()=>v.rel(r,a,n,o)))}))},Ke=(e,t)=>i=>{var a;try{256&e.$flags$?null==(a=e.$lazyInstance$)||a[t](i):(e.$queuedListeners$=e.$queuedListeners$||[]).push([t,i])}catch(s){h(s,e.$hostElement$)}},We=(e,t,i)=>8&i?m:t,Ye=e=>y?{passive:!!(1&e),capture:!!(2&e)}:!!(2&e);const Qe=async(e,t)=>{if("undefined"!=typeof window)return await void 0,Ge(JSON.parse('[["dyte-audio-visualizer_64",[[1,"dyte-meeting",{"loadConfigFromPreset":[1028,"load-config-from-preset"],"applyDesignSystem":[1028,"apply-design-system"],"mode":[513],"leaveOnUnmount":[4,"leave-on-unmount"],"meeting":[16],"showSetupScreen":[1028,"show-setup-screen"],"t":[16],"config":[1040],"size":[1537],"gridLayout":[1,"grid-layout"],"iconPack":[16]},[[0,"dyteStateUpdate","listenState"]],{"meeting":["meetingChanged"]}],[1,"dyte-chat",{"meeting":[16],"config":[16],"size":[513],"iconPack":[16],"t":[16],"disablePrivateChat":[4,"disable-private-chat"],"privatePresetFilter":[16],"displayFilter":[16],"canPinMessages":[32],"unreadCountGroups":[32],"chatGroups":[32],"selectedGroup":[32],"now":[32],"dropzoneActivated":[32],"showLatestMessageButton":[32],"canSend":[32],"canSendTextMessage":[32],"canSendFiles":[32],"canPrivateMessage":[32],"canSendPrivateTexts":[32],"canSendPrivateFiles":[32],"emojiPickerEnabled":[32],"chatRecipientId":[32],"participants":[32],"selectedParticipant":[32],"channels":[32],"selectedChannelId":[32],"editingMessage":[32],"replyMessage":[32],"searchQuery":[32],"selectorState":[32],"creatingChannel":[32],"showPinnedMessages":[32]},[[8,"editMessageInit","onEditMessageInit"],[0,"switchChannel","channelSwitchListener"]],{"meeting":["meetingChanged"],"chatGroups":["chatGroupsChanged"],"displayFilter":["onDisplayFilterChanged"]}],[1,"dyte-dialog-manager",{"meeting":[16],"config":[16],"states":[16],"size":[513],"iconPack":[16],"t":[16]},null,{"meeting":["meetingChanged"]}],[1,"dyte-chat-messages-ui",{"selectedGroup":[1,"selected-group"],"messages":[16],"selfUserId":[1,"self-user-id"],"canPinMessages":[4,"can-pin-messages"],"size":[513],"iconPack":[16],"t":[16],"now":[32],"showLatestMessageButton":[32]},null,{"messages":["chatChanged"],"selectedGroup":["selectedBucketChanged"]}],[1,"dyte-chat-messages-ui-paginated",{"meeting":[16],"selectedChannel":[16],"selectedChannelId":[1,"selected-channel-id"],"size":[513],"iconPack":[16],"t":[16],"leftAlign":[4,"left-align"],"children":[32],"permissionsChanged":[32]},null,{"meeting":["meetingChanged"],"selectedChannelId":["channelChanged"]}],[1,"dyte-chat-search-results",{"meeting":[16],"query":[1],"channelId":[1,"channel-id"],"iconPack":[16],"t":[16]}],[1,"dyte-chat-composer-view",{"canSendTextMessage":[4,"can-send-text-message"],"canSendFiles":[4,"can-send-files"],"message":[1],"quotedMessage":[1,"quoted-message"],"storageKey":[1,"storage-key"],"inputTextPlaceholder":[1,"input-text-placeholder"],"isEditing":[4,"is-editing"],"iconPack":[16],"t":[16],"maxLength":[2,"max-length"],"disableEmojiPicker":[4,"disable-emoji-picker"],"rateLimits":[16],"fileToUpload":[32],"isEmojiPickerOpen":[32],"disableSendButton":[32],"rateLimitsBreached":[32]}],[0,"dyte-channel-header",{"meeting":[16],"channel":[16],"iconPack":[16],"t":[16],"showBackButton":[4,"show-back-button"],"showChannelDetailsDialog":[32],"showSearchBar":[32],"members":[32]},null,{"channel":["onChannelChanged"]}],[1,"dyte-channel-selector-view",{"channels":[16],"selectedChannelId":[1,"selected-channel-id"],"disableSearch":[4,"disable-search"],"hideAvatar":[4,"hide-avatar"],"iconPack":[16],"t":[16],"viewAs":[1,"view-as"],"searchQuery":[32],"showDropdown":[32]}],[1,"dyte-notifications",{"meeting":[16],"states":[16],"config":[16],"t":[16],"size":[513],"iconPack":[16],"notifications":[32]},[[8,"dyteAPIError","apiErrorListener"],[8,"dyteSendNotification","sendNotificationListener"]],{"meeting":["meetingChanged"],"config":["configChanged"],"states":["statesChanged"]}],[1,"dyte-chat-message",{"message":[16],"isContinued":[4,"is-continued"],"child":[16],"isUnread":[4,"is-unread"],"size":[513],"iconPack":[16],"t":[16],"isSelf":[4,"is-self"],"canEdit":[4,"can-edit"],"canDelete":[4,"can-delete"],"canReply":[4,"can-reply"],"canPin":[4,"can-pin"],"disableControls":[4,"disable-controls"],"alignRight":[4,"align-right"],"senderDisplayPicture":[1,"sender-display-picture"],"hideAvatar":[4,"hide-avatar"],"leftAlign":[4,"left-align"],"now":[32]}],[1,"dyte-settings",{"meeting":[16],"states":[16],"size":[513],"iconPack":[16],"t":[16],"activeTab":[32],"isMobileMainVisible":[32],"networkStatus":[32],"canProduceVideo":[32]},null,{"meeting":["meetingChanged"]}],[1,"dyte-breakout-rooms-manager",{"meeting":[16],"states":[16],"iconPack":[16],"t":[16],"loading":[32],"roomConfig":[32],"draftState":[32],"assigningParticipants":[32],"selectedParticipants":[32],"ephemeralStatusText":[32],"isDragMode":[32]},[[0,"participantDelete","onParticipantDelete"],[0,"participantsDragging","toggleDragMode"],[0,"selectedParticipantsUpdate","updateSelectedParticipants"],[0,"allParticipantsToggleUpdate","updateAllParticipants"]],{"selectedParticipants":["onSelectedParticipantsChanged"]}],[1,"dyte-debugger",{"meeting":[16],"states":[16],"size":[513],"iconPack":[16],"t":[16],"activeTab":[32],"isMobileMainVisible":[32],"progress":[32]},[[0,"testProgress","progressUpdate"]]],[1,"dyte-channel-creator",{"meeting":[16],"t":[16],"iconPack":[16],"channelName":[32],"searchQuery":[32],"step":[32],"loading":[32],"selectedMemberIds":[32],"focusedMemberIndex":[32],"showAllMembersList":[32]}],[1,"dyte-channel-details",{"channel":[16],"t":[16],"iconPack":[16],"members":[16]}],[1,"dyte-draft-attachment-view",{"iconPack":[16],"t":[16],"attachment":[16],"filePreview":[32]},null,{"attachment":["onAttachmentChange"]}],[1,"dyte-emoji-picker-button",{"iconPack":[16],"t":[16],"isActive":[4,"is-active"]}],[1,"dyte-file-picker-button",{"filter":[1],"label":[1],"icon":[1],"iconPack":[16],"t":[16]}],[1,"dyte-broadcast-message-modal",{"meeting":[16],"states":[16],"iconPack":[16],"t":[16],"messagePayload":[32],"successMessage":[32]}],[1,"dyte-image-viewer",{"image":[16],"size":[513],"t":[16],"iconPack":[16]}],[1,"dyte-join-stage",{"meeting":[16],"config":[16],"states":[16],"size":[513],"iconPack":[16],"t":[16],"dataConfig":[16],"isLoading":[32]}],[1,"dyte-notification",{"notification":[16],"size":[513],"iconPack":[16],"t":[16],"imageState":[32]},null,{"notification":["notificationChanged"]}],[1,"dyte-permissions-message",{"meeting":[16],"t":[16],"iconPack":[16],"states":[16],"device":[32],"currentStep":[32],"svgSteps":[32]},null,{"meeting":["meetingChanged"]}],[1,"dyte-confirmation-modal",{"meeting":[16],"states":[16],"iconPack":[16],"t":[16]}],[1,"dyte-leave-meeting",{"meeting":[16],"states":[16],"iconPack":[16],"t":[16],"canEndMeeting":[32]},null,{"meeting":["meetingChanged"]}],[1,"dyte-mute-all-confirmation",{"meeting":[16],"states":[16],"iconPack":[16],"t":[16],"allowUnmute":[32]}],[1,"dyte-overlay-modal",{"meeting":[16],"states":[16],"iconPack":[16],"t":[16]}],[1,"dyte-text-composer-view",{"disabled":[4],"placeholder":[1],"value":[1],"maxLength":[2,"max-length"],"rateLimitBreached":[4,"rate-limit-breached"],"keyDownHandler":[16],"iconPack":[16],"t":[16],"maxLengthBreached":[32],"setText":[64]}],[1,"dyte-message-view",{"actions":[16],"variant":[1],"viewType":[1,"view-type"],"avatarUrl":[1,"avatar-url"],"hideAvatar":[4,"hide-avatar"],"authorName":[1,"author-name"],"hideAuthorName":[4,"hide-author-name"],"hideMetadata":[4,"hide-metadata"],"time":[16],"iconPack":[16]}],[1,"dyte-settings-audio",{"meeting":[16],"states":[16],"size":[513],"iconPack":[16],"t":[16]}],[1,"dyte-breakout-room-manager",{"meeting":[16],"assigningParticipants":[4,"assigning-participants"],"mode":[1],"states":[16],"allowDelete":[4,"allow-delete"],"iconPack":[16],"t":[16],"isDragMode":[4,"is-drag-mode"],"room":[16],"defaultExpanded":[4,"default-expanded"],"editingTitleRoomId":[32],"newTitle":[32],"showExpandedCard":[32],"glowingCard":[32]}],[1,"dyte-breakout-room-participants",{"meeting":[16],"participantIds":[16],"iconPack":[16],"t":[16],"selectedParticipantIds":[16],"search":[32],"participantsToShow":[32],"isDragging":[32]},null,{"meeting":["meetingChanged"],"participantIds":["participantsChanged"],"search":["searchChanged"]}],[1,"dyte-settings-video",{"meeting":[16],"states":[16],"size":[513],"iconPack":[16],"t":[16],"videoEnabled":[32]},null,{"meeting":["meetingChanged"]}],[1,"dyte-emoji-picker",{"iconPack":[16],"t":[16],"focusWhenOpened":[4,"focus-when-opened"],"emojiList":[32],"filterVal":[32],"filteredEmojis":[32]}],[0,"dyte-image-message",{"message":[16],"now":[16],"isContinued":[516,"is-continued"],"iconPack":[16],"t":[16],"showBubble":[4,"show-bubble"],"status":[32]}],[1,"dyte-image-message-view",{"url":[1],"iconPack":[16],"t":[16],"status":[32]}],[1,"dyte-paginated-list",{"pageSize":[2,"page-size"],"pagesAllowed":[2,"pages-allowed"],"fetchData":[16],"createNodes":[16],"selectedItemId":[1,"selected-item-id"],"autoScroll":[4,"auto-scroll"],"iconPack":[16],"t":[16],"emptyListLabel":[1,"empty-list-label"],"isLoading":[32],"rerenderBoolean":[32],"shouldRenderNewNodes":[32],"hasNewNodesToRender":[32],"showEmptyListLabel":[32],"onNewNode":[64],"onNodeDelete":[64],"onNodeUpdate":[64]},null,{"selectedItemId":["onItemChanged"]}],[1,"dyte-counter",{"size":[513],"value":[2],"minValue":[2,"min-value"],"iconPack":[16],"t":[16],"input":[32]},null,{"input":["watchStateHandler"]}],[0,"dyte-file-message",{"message":[16],"now":[16],"isContinued":[516,"is-continued"],"iconPack":[16],"t":[16],"showBubble":[4,"show-bubble"]}],[1,"dyte-file-message-view",{"name":[1],"size":[2],"url":[1],"iconPack":[16]}],[1,"dyte-debugger-audio",{"meeting":[16],"states":[16],"size":[513],"iconPack":[16],"t":[16],"isNetworkOpen":[32],"isDevicesOpen":[32],"audioProducerFormattedStats":[32],"audioProducerScoreStats":[32],"networkBasedMediaHealth":[32],"devicesHealth":[32]},null,{"audioProducerScoreStats":["audioProducerScoreStatsChanged"],"meeting":["meetingChanged"]}],[1,"dyte-debugger-screenshare",{"meeting":[16],"states":[16],"size":[513],"iconPack":[16],"t":[16],"isNetworkOpen":[32],"isDevicesOpen":[32],"videoProducerFormattedStats":[32],"videoProducerScoreStats":[32],"audioProducerFormattedStats":[32],"audioProducerScoreStats":[32],"networkBasedMediaHealth":[32]},null,{"videoProducerScoreStats":["videoProducerScoreStatsChanged"],"audioProducerScoreStats":["audioProducerScoreStatsChanged"],"meeting":["meetingChanged"]}],[1,"dyte-debugger-system",{"meeting":[16],"states":[16],"size":[513],"iconPack":[16],"t":[16],"isBatterySectionOpen":[32],"batterySectionHealth":[32],"battery":[32],"batteryFormattedStats":[32]},null,{"meeting":["meetingChanged"]}],[1,"dyte-debugger-video",{"meeting":[16],"states":[16],"size":[513],"iconPack":[16],"t":[16],"isNetworkOpen":[32],"isDevicesOpen":[32],"videoProducerFormattedStats":[32],"videoProducerScoreStats":[32],"networkBasedMediaHealth":[32],"devicesHealth":[32]},null,{"videoProducerScoreStats":["videoProducerScoreStatsChanged"],"meeting":["meetingChanged"]}],[0,"dyte-text-message",{"message":[16],"now":[16],"isContinued":[516,"is-continued"],"iconPack":[16],"t":[16],"showBubble":[4,"show-bubble"]}],[1,"dyte-dialog",{"hideCloseButton":[4,"hide-close-button"],"disableEscapeKey":[4,"disable-escape-key"],"meeting":[16],"config":[16],"states":[16],"size":[513],"iconPack":[16],"t":[16],"open":[1540]}],[1,"dyte-audio-visualizer",{"variant":[513],"participant":[16],"size":[513],"iconPack":[16],"t":[16],"hideMuted":[4,"hide-muted"],"isScreenShare":[4,"is-screen-share"],"audioEnabled":[32],"volume":[32]},null,{"participant":["participantChanged"]}],[1,"dyte-participant-tile",{"nameTagPosition":[513,"name-tag-position"],"isPreview":[4,"is-preview"],"participant":[16],"meeting":[16],"states":[16],"config":[16],"variant":[513],"size":[513],"iconPack":[16],"t":[16],"isPinned":[32],"mediaConnectionError":[32]},null,{"meeting":["meetingChanged"],"participant":["participantsChanged"]}],[1,"dyte-logo",{"logoUrl":[1025,"logo-url"],"config":[16],"meeting":[16],"t":[16]},null,{"config":["configChanged"],"meeting":["meetingChanged"]}],[1,"dyte-speaker-selector",{"meeting":[16],"states":[16],"variant":[1],"size":[513],"iconPack":[16],"t":[16],"speakerDevices":[32],"currentDevices":[32]},null,{"meeting":["meetingChanged"]}],[1,"dyte-camera-selector",{"meeting":[16],"size":[513],"iconPack":[16],"variant":[1],"t":[16],"videoDevices":[32],"currentDevice":[32],"canProduceVideo":[32]},null,{"meeting":["meetingChanged"]}],[1,"dyte-microphone-selector",{"meeting":[16],"size":[513],"iconPack":[16],"variant":[1],"t":[16],"audioinputDevices":[32],"canProduceAudio":[32],"currentDevices":[32]},null,{"meeting":["meetingChanged"]}],[0,"dyte-text-message-view",{"text":[1],"isMarkdown":[4,"is-markdown"]}],[1,"dyte-switch",{"checked":[1028],"readonly":[4],"disabled":[516],"iconPack":[16],"t":[16]},null,{"checked":["checkedChange"]}],[1,"dyte-markdown-view",{"text":[1],"maxLength":[2,"max-length"]}],[1,"dyte-menu",{"size":[513],"placement":[1],"offset":[2],"iconPack":[16],"t":[16]}],[1,"dyte-menu-item",{"size":[513],"iconPack":[16],"t":[16]}],[1,"dyte-menu-list",{"iconPack":[16],"t":[16]}],[1,"dyte-avatar",{"participant":[16],"variant":[513],"size":[513],"iconPack":[16],"t":[16],"imageState":[32]}],[1,"dyte-tooltip",{"label":[1],"variant":[513],"disabled":[516],"open":[516],"kind":[513],"size":[513],"placement":[1],"delay":[2],"isInFocus":[32]},null,{"open":["openChanged"]}],[1,"dyte-spinner",{"iconPack":[16],"size":[513]}],[1,"dyte-button",{"size":[513],"variant":[513],"kind":[513],"reverse":[516],"disabled":[516],"type":[513]}],[1,"dyte-icon",{"icon":[1],"variant":[513],"size":[513]}]]],["dyte-participants",[[1,"dyte-participants",{"meeting":[16],"states":[16],"config":[16],"size":[513],"iconPack":[16],"defaultParticipantsTabId":[1,"default-participants-tab-id"],"t":[16],"currentParticipantsTabId":[32],"tabs":[32],"hasRequests":[32],"search":[32]},null,{"meeting":["meetingChanged"],"currentParticipantsTabId":["currentParticipantsTabIdChanged"]}]]],["dyte-grid",[[1,"dyte-grid",{"layout":[513],"aspectRatio":[513,"aspect-ratio"],"meeting":[16],"gap":[514],"size":[513],"states":[16],"config":[16],"iconPack":[16],"t":[16],"gridSize":[16],"overrides":[8],"participants":[32],"pinnedParticipants":[32],"screenShareParticipants":[32],"plugins":[32],"emptyStage":[32],"showLiveStreamPlayer":[32],"canCurrentPeerHost":[32],"pipSupported":[32],"pipEnabled":[32],"hidden":[32],"roomState":[32]},null,{"meeting":["meetingChanged"],"overrides":["overridesChanged"],"screenShareParticipants":["screenShareParticipantsChanged"],"plugins":["pluginsChanged"],"pinnedParticipants":["pinnedParticipantsChanged"]}]]],["dyte-sidebar",[[1,"dyte-sidebar",{"enabledSections":[1040],"defaultSection":[1,"default-section"],"meeting":[16],"states":[16],"config":[16],"iconPack":[16],"t":[16],"size":[513],"view":[513],"currentTab":[32],"isFloating":[32],"enablePinning":[32]},null,{"meeting":["meetingChanged"],"states":["statesChanged"],"view":["viewChanged"]}]]],["dyte-chat-composer-ui",[[1,"dyte-chat-composer-ui",{"canSendTextMessage":[4,"can-send-text-message"],"canSendFiles":[4,"can-send-files"],"size":[513],"iconPack":[16],"t":[16],"disableEmojiPicker":[4,"disable-emoji-picker"],"prefill":[16],"members":[16],"channelId":[1,"channel-id"],"emojiPickerActive":[32],"mentionQuery":[32],"focusedMemberIndex":[32],"filePreview":[32]},null,{"channelId":["onChannelChanged"]}]]],["dyte-mixed-grid",[[1,"dyte-mixed-grid",{"layout":[513],"participants":[16],"pinnedParticipants":[16],"screenShareParticipants":[16],"plugins":[16],"aspectRatio":[1,"aspect-ratio"],"gap":[2],"size":[513],"meeting":[16],"states":[16],"config":[16],"iconPack":[16],"t":[16],"gridSize":[16],"activeTab":[32],"initialised":[32]},null,{"meeting":["meetingChanged"],"screenShareParticipants":["screenShareParticipantsChanged"],"plugins":["pluginsChanged"]}]]],["dyte-setup-screen",[[1,"dyte-setup-screen",{"meeting":[16],"states":[16],"size":[513],"config":[16],"iconPack":[16],"t":[16],"displayName":[32],"isJoining":[32],"canEditName":[32],"canProduceAudio":[32],"connectionState":[32]},null,{"meeting":["meetingChanged"]}]]],["dyte-audio-tile",[[1,"dyte-audio-tile",{"meeting":[16],"config":[16],"size":[513],"states":[16],"iconPack":[16],"t":[16],"participant":[16],"audioEnabled":[32],"volume":[32]},null,{"participant":["participantChanged"]}]]],["dyte-camera-toggle",[[1,"dyte-camera-toggle",{"variant":[513],"meeting":[16],"size":[513],"iconPack":[16],"t":[16],"videoEnabled":[32],"canProduceVideo":[32],"cameraPermission":[32],"stageStatus":[32]},null,{"meeting":["meetingChanged"]}]]],["dyte-channel-selector-ui",[[1,"dyte-channel-selector-ui",{"channels":[16],"selectedChannelId":[1,"selected-channel-id"],"iconPack":[16],"t":[16],"showRecentMessage":[4,"show-recent-message"],"isHidden":[32],"searchQuery":[32]}]]],["dyte-mic-toggle",[[1,"dyte-mic-toggle",{"variant":[513],"meeting":[16],"size":[513],"iconPack":[16],"t":[16],"audioEnabled":[32],"canProduceAudio":[32],"micPermission":[32],"stageStatus":[32]},null,{"meeting":["meetingChanged"]}]]],["dyte-mute-all-button",[[1,"dyte-mute-all-button",{"variant":[513],"meeting":[16],"size":[513],"iconPack":[16],"t":[16],"canDisable":[32]},null,{"meeting":["meetingChanged"]}]]],["dyte-screen-share-toggle",[[1,"dyte-screen-share-toggle",{"states":[16],"variant":[513],"meeting":[16],"size":[513],"iconPack":[16],"t":[16],"maxScreenShareCount":[32],"screenShareCount":[32],"screenShareEnabled":[32],"canScreenShare":[32],"shareScreenPermission":[32],"screenShareState":[32],"stageStatus":[32]},null,{"meeting":["meetingChanged"]}]]],["dyte-stage-toggle",[[1,"dyte-stage-toggle",{"variant":[513],"meeting":[16],"size":[513],"iconPack":[16],"states":[16],"t":[16],"stageStatus":[32],"state":[32]},null,{"meeting":["meetingChanged"]}]]],["dyte-ai",[[1,"dyte-ai",{"meeting":[16],"states":[16],"config":[16],"iconPack":[16],"t":[16],"size":[513],"view":[513]},null,{"view":["viewChanged"]}]]],["dyte-ai-toggle",[[1,"dyte-ai-toggle",{"variant":[513],"states":[16],"meeting":[16],"size":[513],"iconPack":[16],"t":[16],"aiActive":[32]},null,{"states":["statesChanged"]}]]],["dyte-breakout-rooms-toggle",[[1,"dyte-breakout-rooms-toggle",{"variant":[513],"meeting":[16],"states":[16],"size":[513],"iconPack":[16],"t":[16],"canToggle":[32]},null,{"meeting":["meetingChanged"]}]]],["dyte-caption-toggle",[[1,"dyte-caption-toggle",{"variant":[513],"meeting":[16],"states":[16],"config":[16],"iconPack":[16],"size":[513],"t":[16],"captionEnabled":[32]},null,{"meeting":["meetingChanged"]}]]],["dyte-chat-toggle",[[1,"dyte-chat-toggle",{"variant":[513],"meeting":[16],"states":[16],"size":[513],"iconPack":[16],"t":[16],"unreadMessageCount":[32],"chatActive":[32],"canViewChat":[32],"hasNewMessages":[32]},null,{"meeting":["meetingChanged"],"states":["statesChanged"]}]]],["dyte-debugger-toggle",[[1,"dyte-debugger-toggle",{"variant":[513],"meeting":[16],"states":[16],"t":[16],"iconPack":[16],"size":[513]}]]],["dyte-grid-pagination",[[1,"dyte-grid-pagination",{"meeting":[16],"states":[16],"size":[513],"variant":[513],"iconPack":[16],"t":[16],"page":[32],"pageCount":[32],"activeCount":[32],"activeComputedCount":[32],"showPagination":[32]},null,{"meeting":["meetingChanged"],"size":["sizeChanged"]}]]],["dyte-idle-screen",[[1,"dyte-idle-screen",{"meeting":[16],"config":[16],"iconPack":[16],"t":[16]}]]],["dyte-leave-button",[[1,"dyte-leave-button",{"variant":[513],"size":[513],"iconPack":[16],"t":[16]}]]],["dyte-livestream-toggle",[[1,"dyte-livestream-toggle",{"variant":[513],"meeting":[16],"size":[513],"iconPack":[16],"t":[16],"livestreamState":[32]},null,{"meeting":["meetingChanged"]}]]],["dyte-more-toggle",[[1,"dyte-more-toggle",{"states":[16],"size":[513],"iconPack":[16],"t":[16]}]]],["dyte-participants-audio",[[1,"dyte-participants-audio",{"meeting":[16],"iconPack":[16],"t":[16],"preloadedAudioElem":[16],"showPlayDialog":[32]},null,{"meeting":["meetingChanged"]}]]],["dyte-participants-toggle",[[1,"dyte-participants-toggle",{"variant":[513],"meeting":[16],"states":[16],"size":[513],"iconPack":[16],"t":[16],"participantsActive":[32],"waitlistedParticipants":[32],"stageRequestedParticipants":[32],"badgeCount":[32],"canViewParticipants":[32]},null,{"meeting":["meetingChanged"],"states":["statesChanged"]}]]],["dyte-pip-toggle",[[1,"dyte-pip-toggle",{"variant":[513],"meeting":[16],"states":[16],"config":[16],"iconPack":[16],"size":[513],"t":[16],"pipSupported":[32]},null,{"meeting":["meetingChanged"]}]]],["dyte-plugins-toggle",[[1,"dyte-plugins-toggle",{"variant":[513],"meeting":[16],"states":[16],"size":[513],"iconPack":[16],"t":[16],"pluginsActive":[32],"canViewPlugins":[32]},null,{"meeting":["meetingChanged"],"states":["statesChanged"]}]]],["dyte-polls-toggle",[[1,"dyte-polls-toggle",{"variant":[513],"meeting":[16],"states":[16],"size":[513],"iconPack":[16],"t":[16],"pollsActive":[32],"unreadPollsCount":[32],"canViewPolls":[32]},null,{"meeting":["meetingChanged"],"states":["statesChanged"]}]]],["dyte-recording-toggle",[[1,"dyte-recording-toggle",{"variant":[513],"meeting":[16],"t":[16],"iconPack":[16],"size":[513],"disabled":[4],"recordingState":[32],"canRecord":[32]},null,{"meeting":["meetingChanged"]}]]],["dyte-screenshare-view",[[1,"dyte-screenshare-view",{"hideFullScreenButton":[4,"hide-full-screen-button"],"nameTagPosition":[513,"name-tag-position"],"participant":[16],"meeting":[16],"variant":[513],"size":[513],"iconPack":[16],"t":[16],"videoExpanded":[32],"screenShareEnabled":[32],"isFullScreen":[32],"remoteControlInfo":[32]},null,{"participant":["participantChanged"]}]]],["dyte-settings-toggle",[[1,"dyte-settings-toggle",{"variant":[513],"states":[16],"size":[513],"iconPack":[16],"t":[16]}]]],["dyte-ended-screen",[[1,"dyte-ended-screen",{"config":[16],"size":[513],"states":[16],"t":[16],"iconPack":[16],"meeting":[16],"icon":[32],"message":[32]},null,{"states":["statesChanged"]}]]],["dyte-message-list-view",[[0,"dyte-message-list-view",{"messages":[16],"renderer":[16],"loadMore":[16],"visibleItemsCount":[2,"visible-items-count"],"estimateItemSize":[2,"estimate-item-size"],"iconPack":[16],"range":[32],"isFetching":[32],"autoScroll":[32],"totalHeight":[32]},null,{"messages":["messagesUpdated"]}]]],["dyte-chat-selector-ui",[[1,"dyte-chat-selector-ui",{"selfUserId":[1,"self-user-id"],"selectedGroupId":[1,"selected-group-id"],"unreadCounts":[16],"groups":[16],"iconPack":[16],"t":[16],"showParticipantsPanel":[32],"query":[32]}]]],["dyte-clock",[[1,"dyte-clock",{"meeting":[16],"iconPack":[16],"startedTime":[32],"timeDiff":[32]},null,{"meeting":["meetingChanged"],"startedTime":["startedTimeChanged"]}]]],["dyte-file-dropzone",[[1,"dyte-file-dropzone",{"hostEl":[16],"iconPack":[16],"t":[16],"dropzoneActivated":[32]}]]],["dyte-information-tooltip",[[1,"dyte-information-tooltip",{"iconPack":[16]}]]],["dyte-meeting-title",[[1,"dyte-meeting-title",{"meeting":[16],"iconPack":[16],"t":[16]}]]],["dyte-network-indicator",[[1,"dyte-network-indicator",{"participant":[16],"meeting":[16],"iconPack":[16],"t":[16],"isScreenShare":[4,"is-screen-share"],"score":[32]},null,{"participant":["participantChanged"]}]]],["dyte-participant-count",[[1,"dyte-participant-count",{"meeting":[16],"iconPack":[16],"t":[16],"size":[513],"participantCount":[32],"isViewer":[32]},null,{"meeting":["meetingChanged"]}]]],["dyte-recording-indicator",[[1,"dyte-recording-indicator",{"meeting":[16],"size":[513],"t":[16],"iconPack":[16],"isRecording":[32]},null,{"meeting":["meetingChanged"]}]]],["dyte-transcripts",[[1,"dyte-transcripts",{"meeting":[16],"states":[16],"config":[16],"t":[16],"transcripts":[32],"listenerAttached":[32]},null,{"meeting":["meetingChanged"],"states":["statesChanged"]}]]],["dyte-waiting-screen",[[1,"dyte-waiting-screen",{"meeting":[16],"config":[16],"iconPack":[16],"t":[16]}]]],["dyte-audio-grid",[[1,"dyte-audio-grid",{"meeting":[16],"config":[16],"states":[16],"iconPack":[16],"size":[513],"t":[16],"hideSelf":[4,"hide-self"],"activeParticipants":[32],"onStageParticipants":[32],"offStageParticipants":[32]},null,{"meeting":["meetingChanged"]}]]],["dyte-controlbar",[[1,"dyte-controlbar",{"variant":[513],"disableRender":[4,"disable-render"],"meeting":[16],"config":[16],"states":[16],"iconPack":[16],"t":[16],"size":[513]}]]],["dyte-header",[[1,"dyte-header",{"variant":[513],"disableRender":[4,"disable-render"],"meeting":[16],"config":[16],"states":[16],"iconPack":[16],"t":[16],"size":[513]}]]],["dyte-participant-setup",[[1,"dyte-participant-setup",{"nameTagPosition":[513,"name-tag-position"],"isPreview":[4,"is-preview"],"participant":[16],"states":[16],"config":[16],"variant":[513],"size":[513],"iconPack":[16],"t":[16],"videoState":[32],"isPinned":[32]},null,{"participant":["participantsChanged"],"videoState":["videoStateChanged"]}]]],["dyte-simple-grid",[[1,"dyte-simple-grid",{"participants":[16],"aspectRatio":[1,"aspect-ratio"],"gap":[2],"size":[513],"meeting":[16],"states":[16],"config":[16],"iconPack":[16],"t":[16],"dimensions":[32],"mediaConnection":[32]},null,{"meeting":["meetingChanged"]}]]],["dyte-spotlight-grid",[[1,"dyte-spotlight-grid",{"layout":[513],"participants":[16],"pinnedParticipants":[16],"aspectRatio":[1,"aspect-ratio"],"gap":[2],"size":[513],"meeting":[16],"states":[16],"config":[16],"iconPack":[16],"t":[16],"gridSize":[16]}]]],["dyte-stage",[[1,"dyte-stage",{"iconPack":[16],"t":[16]}]]],["dyte-ui-provider",[[4,"dyte-ui-provider",{"meeting":[16],"iconPack":[16],"t":[16],"config":[16],"size":[1537],"showSetupScreen":[4,"show-setup-screen"],"noRenderUntilMeeting":[4,"no-render-until-meeting"]},[[0,"dyteStateUpdate","listenState"]],{"meeting":["onMeetingChange"],"iconPack":["onIconPackChange"],"t":["onTChange"],"config":["onConfigChange"],"size":["onSizeChange"]}]]],["dyte-ai-transcriptions",[[1,"dyte-ai-transcriptions",{"t":[16],"meeting":[16],"initialTranscriptions":[16],"participantQuery":[32],"isProcessing":[32],"transcriptions":[32]},null,{"meeting":["meetingChanged"],"transcriptions":["transcriptionsChanged"]}]]],["dyte-name-tag",[[1,"dyte-name-tag",{"participant":[16],"meeting":[16],"size":[513],"isScreenShare":[4,"is-screen-share"],"variant":[513],"iconPack":[16],"t":[16],"length":[32]},null,{"size":["sizeChanged"]}]]],["dyte-transcript",[[1,"dyte-transcript",{"transcript":[16],"t":[16],"timeout":[32]},null,{"transcript":["transcriptChanged"]}]]],["dyte-plugins_2",[[1,"dyte-polls",{"meeting":[16],"config":[16],"size":[513],"iconPack":[16],"t":[16],"create":[32],"polls":[32],"permissions":[32]},null,{"meeting":["meetingChanged"]}],[1,"dyte-plugins",{"meeting":[16],"config":[16],"size":[513],"iconPack":[16],"t":[16],"plugins":[32],"canStartPlugins":[32],"canClosePlugins":[32],"activatedPluginsId":[32]},null,{"meeting":["meetingChanged"]}]]],["dyte-plugin-main_2",[[1,"dyte-tab-bar",{"size":[513],"meeting":[16],"states":[16],"config":[16],"layout":[513],"iconPack":[16],"t":[16],"activeTab":[16],"tabs":[16]}],[1,"dyte-plugin-main",{"meeting":[16],"plugin":[16],"iconPack":[16],"t":[16],"canClosePlugin":[32],"viewModeEnabled":[32]},null,{"meeting":["meetingChanged"],"plugin":["pluginChanged"]}]]],["dyte-fullscreen-toggle",[[1,"dyte-fullscreen-toggle",{"states":[16],"targetElement":[16],"variant":[513],"size":[513],"iconPack":[16],"t":[16],"fullScreenActive":[32],"isFullScreenSupported":[32]}]]],["dyte-sidebar-ui",[[1,"dyte-sidebar-ui",{"view":[513],"tabs":[16],"hideHeader":[4,"hide-header"],"hideCloseAction":[4,"hide-close-action"],"currentTab":[1,"current-tab"],"iconPack":[16],"t":[16]}]]],["dyte-spotlight-indicator",[[1,"dyte-spotlight-indicator",{"meeting":[16],"iconPack":[16],"t":[16],"size":[513],"canSpotlight":[32],"isSpotlighted":[32]},null,{"meeting":["meetingChanged"]}]]],["dyte-controlbar-button",[[1,"dyte-controlbar-button",{"variant":[513],"showWarning":[4,"show-warning"],"size":[513],"label":[1],"icon":[1],"isLoading":[4,"is-loading"],"disabled":[516],"iconPack":[16],"brandIcon":[516,"brand-icon"]}]]],["dyte-livestream-indicator_3",[[1,"dyte-livestream-player",{"meeting":[16],"size":[513],"t":[16],"iconPack":[16],"playbackUrl":[32],"isSupported":[32],"playerState":[32],"livestreamState":[32],"playerError":[32],"livestreamId":[32],"audioPlaybackError":[32],"qualityLevels":[32],"selectedQuality":[32],"currentTime":[32],"duration":[32],"hideControls":[32]},null,{"livestreamState":["updateLivestreamId"],"meeting":["meetingChanged"]}],[1,"dyte-livestream-indicator",{"meeting":[16],"size":[513],"t":[16],"iconPack":[16],"isLivestreaming":[32]},null,{"meeting":["meetingChanged"]}],[1,"dyte-viewer-count",{"meeting":[16],"variant":[513],"iconPack":[16],"t":[16],"viewerCount":[32]},null,{"meeting":["meetingChanged"]}]]],["dyte-participant_2",[[1,"dyte-participant",{"meeting":[16],"states":[16],"view":[1],"participant":[16],"iconPack":[16],"t":[16],"config":[16],"audioEnabled":[32],"videoEnabled":[32],"isPinned":[32],"isHidden":[32],"isOnStage":[32],"canDisableParticipantAudio":[32],"canDisableParticipantVideo":[32],"canKickParticipant":[32],"canPinParticipant":[32],"canAllowParticipantOnStage":[32],"menuOpen":[32]},null,{"meeting":["meetingChanged"],"participant":["participantChanged"]}],[0,"dyte-virtualized-participant-list",{"items":[16],"renderItem":[16],"itemHeight":[1026,"item-height"],"bufferedItemsCount":[2,"buffered-items-count"],"emptyListElement":[16],"visibleStart":[32],"visibleEnd":[32]},null,{"items":["itemsChanged"]}]]],["dyte-participants-stage-list_4",[[1,"dyte-participants-viewer-list",{"meeting":[16],"config":[16],"size":[513],"hideHeader":[4,"hide-header"],"iconPack":[16],"view":[1],"search":[1],"t":[16],"stageViewers":[32]},null,{"meeting":["meetingChanged"],"search":["searchChanged"]}],[1,"dyte-participants-stage-queue",{"meeting":[16],"config":[16],"size":[513],"iconPack":[16],"view":[1],"t":[16],"stageRequestedParticipants":[32]},null,{"meeting":["meetingChanged"]}],[1,"dyte-participants-waiting-list",{"meeting":[16],"config":[16],"size":[513],"iconPack":[16],"view":[1],"t":[16],"waitlistedParticipants":[32]},null,{"meeting":["meetingChanged"]}],[1,"dyte-participants-stage-list",{"meeting":[16],"states":[16],"config":[16],"size":[513],"hideHeader":[4,"hide-header"],"iconPack":[16],"view":[1],"t":[16],"search":[1],"participants":[32]},null,{"meeting":["meetingChanged"],"search":["searchChanged"]}]]],["dyte-poll_2",[[1,"dyte-poll-form",{"iconPack":[16],"t":[16],"options":[32],"anonymous":[32],"hideVotes":[32],"error":[32]}],[1,"dyte-poll",{"poll":[16],"self":[1],"permissions":[16],"iconPack":[16],"t":[16]}]]]]'),t)};var Je=Xe;function Xe(){}Xe.mixin=function(e){var t=e.prototype||e;t.isWildEmitter=!0,t.on=function(e,t,i){this.callbacks=this.callbacks||{};var a=3===arguments.length,s=a?arguments[1]:void 0,r=a?arguments[2]:arguments[1];return r._groupName=s,(this.callbacks[e]=this.callbacks[e]||[]).push(r),this},t.once=function(e,t,i){var a=this,s=3===arguments.length,r=s?arguments[1]:void 0,n=s?arguments[2]:arguments[1];return this.on(e,r,(function t(){a.off(e,t),n.apply(this,arguments)})),this},t.releaseGroup=function(e){var t,i,a,s;for(t in this.callbacks=this.callbacks||{},this.callbacks)for(i=0,a=(s=this.callbacks[t]).length;i<a;i++)s[i]._groupName===e&&(s.splice(i,1),i--,a--);return this},t.off=function(e,t){this.callbacks=this.callbacks||{};var i,a=this.callbacks[e];return a?1===arguments.length?(delete this.callbacks[e],this):(-1!==(i=a.indexOf(t))&&(a.splice(i,1),0===a.length&&delete this.callbacks[e]),this):this},t.emit=function(e){this.callbacks=this.callbacks||{};var t,i,a,s=[].slice.call(arguments,1),r=this.callbacks[e],n=this.getWildcardCallbacks(e);if(r)for(t=0,i=(a=r.slice()).length;t<i&&a[t];++t)a[t].apply(this,s);if(n)for(i=n.length,t=0,i=(a=n.slice()).length;t<i&&a[t];++t)a[t].apply(this,[e].concat(s));return this},t.getWildcardCallbacks=function(e){this.callbacks=this.callbacks||{};var t,i,a=[];for(t in this.callbacks)i=t.split("*"),("*"===t||2===i.length&&e.slice(0,i[0].length)===i[0])&&(a=a.concat(this.callbacks[t]));return a}},Xe.mixin(Xe);var et,tt=Je;"undefined"!=typeof window&&(et=window.AudioContext||window.webkitAudioContext);var it=null,at=function(e,t){var i=new tt;if(!et)return i;var a,s,r,n=(t=t||{}).smoothing||.1,o=t.interval||50,d=t.threshold,c=t.play,l=t.history||10,h=!0;it=t.audioContext||it||new et,(r=it.createAnalyser()).fftSize=512,r.smoothingTimeConstant=n,s=new Float32Array(r.frequencyBinCount),e.jquery&&(e=e[0]),e instanceof HTMLAudioElement||e instanceof HTMLVideoElement?(a=it.createMediaElementSource(e),void 0===c&&(c=!0),d=d||-50):(a=it.createMediaStreamSource(e),d=d||-50),a.connect(r),c&&r.connect(it.destination),i.speaking=!1,i.suspend=function(){return it.suspend()},i.resume=function(){return it.resume()},Object.defineProperty(i,"state",{get:function(){return it.state}}),it.onstatechange=function(){i.emit("state_change",it.state)},i.setThreshold=function(e){d=e},i.setInterval=function(e){o=e},i.stop=function(){h=!1,i.emit("volume_change",-100,d),i.speaking&&(i.speaking=!1,i.emit("stopped_speaking")),r.disconnect(),a.disconnect()},i.speakingHistory=[];for(var p=0;p<l;p++)i.speakingHistory.push(0);var g=function(){setTimeout((function(){if(h){var e=function(e,t){var i=-1/0;e.getFloatFrequencyData(t);for(var a=4,s=t.length;a<s;a++)t[a]>i&&t[a]<0&&(i=t[a]);return i}(r,s);i.emit("volume_change",e,d);var t=0;if(e>d&&!i.speaking){for(var a=i.speakingHistory.length-3;a<i.speakingHistory.length;a++)t+=i.speakingHistory[a];t>=2&&(i.speaking=!0,i.emit("speaking"))}else if(e<d&&i.speaking){for(a=0;a<i.speakingHistory.length;a++)t+=i.speakingHistory[a];0==t&&(i.speaking=!1,i.emit("stopped_speaking"))}i.speakingHistory.shift(),i.speakingHistory.push(0+(e>d)),g()}}),o)};return g(),i};const st=e=>!!nt(e)&&("LIVESTREAM"===e.meta.viewType&&"ON_STAGE"!==e.stage.status),rt=e=>{var t;return!!nt(e)&&("LIVESTREAM"===e.meta.viewType&&(null===(t=null==e?void 0:e.self)||void 0===t?void 0:t.permissions.canLivestream))},nt=e=>null==e?void 0:e.livestream;var ot,dt;!function(e){e.BUFFERING="Buffering",e.ENDED="Ended",e.IDLE="Idle",e.PAUSED="Paused",e.PLAYING="Playing",e.READY="Ready"}(ot||(ot={})),function(e){e.INITIALIZED="PlayerInitialized",e.QUALITY_CHANGED="PlayerQualityChanged",e.DURATION_CHANGED="PlayerDurationChanged",e.VOLUME_CHANGED="PlayerVolumeChanged",e.MUTED_CHANGED="PlayerMutedChanged",e.PLAYBACK_RATE_CHANGED="PlayerPlaybackRateChanged",e.REBUFFERING="PlayerRebuffering",e.AUDIO_BLOCKED="PlayerAudioBlocked",e.PLAYBACK_BLOCKED="PlayerPlaybackBlocked",e.ERROR="PlayerError",e.RECOVERABLE_ERROR="PlayerRecoverableError",e.ANALYTICS_EVENT="PlayerAnalyticsEvent",e.TIME_UPDATE="PlayerTimeUpdate",e.BUFFER_UPDATE="PlayerBufferUpdate",e.SEEK_COMPLETED="PlayerSeekCompleted",e.SESSION_DATA="PlayerSessionData",e.STATE_CHANGED="PlayerStateChanged",e.WORKER_ERROR="PlayerWorkerError",e.METADATA="PlayerMetadata",e.TEXT_CUE="PlayerTextCue",e.TEXT_METADATA_CUE="PlayerTextMetadataCue",e.AD_CUE="PlayerAdCue",e.STREAM_SOURCE_CUE="PlayerStreamSourceCue",e.NETWORK_UNAVAILABLE="PlayerNetworkUnavailable",e.SEGMENT_DISCONTINUITY="PlayerSegmentDiscontinuity",e.SEGMENT_METADATA="PlayerSegmentMetadata",e.PLAYER_METADATA="PlayerMetadata"}(dt||(dt={}));const ct="play_participant_tile_video_on_pause",lt="disable_emoji_picker",ht="disable_kicking",pt="admin_cantremove_admin",gt="cantinvite_viewer",ut="pinned_msgs",ft=e=>{var t;return"CHAT"===(null==e?void 0:e.meta.viewType)||nt(e)||(null===(t=null==e?void 0:e.__internals__)||void 0===t?void 0:t.features.hasFeature("feat_paginated_chat"))},mt=e=>{var t,i;return(null===(t=null==e?void 0:e.__internals__)||void 0===t?void 0:t.browserSpecs.isFirefox())&&(null===(i=null==e?void 0:e.__internals__)||void 0===i?void 0:i.features.hasFeature("disable_firefox_setting_sink_id"))};let vt=0;const yt="temp-";function bt(e){return e.includes(yt)}function wt(e){var t;return null!==(t=e.customParticipantId)&&void 0!==t?t:e.clientSpecificId}function xt(e){const t=new Map;return[e.self,...e.participants.joined.toArray()].map((e=>{t.set(wt(e),e.picture)})),[e.connectedMeetings.parentMeeting,...e.connectedMeetings.meetings].flatMap((e=>e.participants)).map((e=>({id:e.id,customParticipantId:wt(e),displayName:e.displayName,displayPictureUrl:""!==e.displayPictureUrl?e.displayPictureUrl:t.get(wt(e))})))}const kt=e=>{if(!(e=>e.connectedMeetings.supportsConnectedMeetings)(e))return!1;const t=e.self.permissions.connectedMeetings;return!!t.canAlterConnectedMeetings||!(!t.canSwitchConnectedMeetings&&!t.canSwitchToParentMeeting)&&e.connectedMeetings.isActive};var St,Ct,_t,Pt,Lt,Et,Tt,At,Rt,Mt,Dt,It,Ot,$t,Ut,jt=function(e,t,i,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,i):s?s.value=i:t.set(e,i),i},Ft=function(e,t,i,a){if("a"===i&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?a:"a"===i?a.call(e):a?a.value:t.get(e)};class Nt{constructor(){St.add(this),Ct.set(this,!1),_t.set(this,void 0),Pt.set(this,void 0),Lt.set(this,void 0),Et.set(this,void 0),Tt.set(this,void 0),At.set(this,void 0),Rt.set(this,void 0),Mt.set(this,void 0)}get hasLocalChanges(){return Ft(this,Ct,"f")}get currentState(){let e,t=[];return Array.from(Ft(this,Et,"f").keys()).forEach((i=>{const a=Ft(this,At,"f").get(i);a.isParent?e=Object.assign(Object.assign({},a),{participants:Ft(this,St,"m",Ut).call(this,i)}):t.push(Object.assign(Object.assign({},a),{participants:Ft(this,St,"m",Ut).call(this,i)}))})),{parentMeeting:e,meetings:t}}get allConnectedMeetings(){return this.currentState.meetings.sort(((e,t)=>e.title.localeCompare(t.title)))}get allParticipants(){return Array.from(Ft(this,Tt,"f").values())}get unassignedParticipants(){return Ft(this,St,"m",Ut).call(this,Ft(this,_t,"f").parentMeeting.id)}getParticipantsForMeeting(e){return Ft(this,St,"m",Ut).call(this,e)}addNewMeeting(){jt(this,Ct,!0,"f");const e=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(i[a[s]]=e[a[s]])}return i}({id:`${yt}${Math.random().toString(36)}`,title:"Room "+ ++vt,participants:[]},["participants"]);return Ft(this,St,"m",It).call(this,Object.assign(Object.assign({},e),{isParent:!1})),e}addNewMeetings(e){return Array.from({length:e}).map((()=>this.addNewMeeting()))}updateMeetingTitle(e,t){Ft(this,At,"f").get(e).title=t,bt(e)||Ft(this,Rt,"f").add(e)}deleteMeeting(e){jt(this,Ct,!0,"f");const t=Ft(this,At,"f").get(e),i=Ft(this,St,"m",Ut).call(this,t.id).map(wt);this.assignParticipantsToMeeting(i,Ft(this,_t,"f").parentMeeting.id),Ft(this,At,"f").delete(t.id),Ft(this,Et,"f").delete(t.id),bt(t.id)||Ft(this,Mt,"f").add(t.id)}assignParticipantsToMeeting(e,t){return jt(this,Ct,!0,"f"),e.forEach((e=>{const i=Ft(this,Pt,"f").get(e);Ft(this,Et,"f").get(i).delete(e),Ft(this,Et,"f").get(t).add(e),Ft(this,Pt,"f").set(e,t)})),this.currentState}assignParticipantsRandomly(){const e=function(e,t){const i=e.length,a=Math.ceil(i/t),s=new Array(t);let r=0;for(let n=0;n<t;n++)s[n]=e.slice(r,r+a),r+=a;return s.filter((e=>e.length))}(this.unassignedParticipants,this.allConnectedMeetings.length);return this.allConnectedMeetings.forEach(((t,i)=>{const a=e[i];a&&0!==a.length&&this.assignParticipantsToMeeting(a.map((e=>e.customParticipantId)),t.id)})),this.currentState}unassignParticipants(e){const t=Ft(this,_t,"f").parentMeeting.id;return this.assignParticipantsToMeeting(e,t)}unassignAllParticipants(){const e=Ft(this,_t,"f").parentMeeting.id,t=this.allParticipants.map(wt);return this.assignParticipantsToMeeting(t,e)}updateCurrentState(e){Ft(this,Ct,"f")||Ft(this,St,"m",Dt).call(this,e),[e.parentMeeting,...e.meetings].forEach(((e,t)=>{const i=Object.assign(Object.assign({},e),{isParent:0===t});Ft(this,St,"m",It).call(this,i),e.participants.forEach((e=>{Ft(this,St,"m",Ot).call(this,e,i)}))}))}get meetingsToCreate(){return this.allConnectedMeetings.filter((e=>bt(e.id))).map((({id:e,title:t})=>({id:e,title:t})))}get meetingsToUpdate(){return this.allConnectedMeetings.filter((e=>Ft(this,Rt,"f").has(e.id))).map((({id:e,title:t})=>({id:e,title:t})))}get meetingsToDelete(){return Array.from(Ft(this,Mt,"f"))}get participantsToMove(){const e=new Map;return Array.from(Ft(this,Pt,"f").keys()).forEach((t=>{const i=Ft(this,Lt,"f").get(t),a=Ft(this,Pt,"f").get(t);if(i===a)return;const s=`${i}__${a}`;e.has(s)||e.set(s,[]);const r=Ft(this,Tt,"f").get(t);e.get(s).push(r.id)})),Array.from(e.keys()).map((t=>{const[i,a]=t.split("__");return{sourceMeetingId:i,destinationMeetingId:a,participantIds:e.get(t)}}))}async applyChanges(e){const t=0!==this.meetingsToCreate.length?e.connectedMeetings.createMeetings(this.meetingsToCreate):Promise.resolve([]),i=0!==this.meetingsToUpdate.length?e.connectedMeetings.updateMeetings(this.meetingsToUpdate):Promise.resolve(),[a]=await Promise.all([t,i]);a&&a.forEach((e=>{this.meetingsToCreate.forEach((t=>{t.title===e.title&&Ft(this,St,"m",$t).call(this,Ft(this,At,"f").get(t.id),e.id)}))})),0!==this.participantsToMove.length&&this.participantsToMove.forEach((({sourceMeetingId:t,destinationMeetingId:i,participantIds:a})=>{e.connectedMeetings.moveParticipants(t,i,a)})),0!==this.meetingsToDelete.length&&e.connectedMeetings.deleteMeetings(this.meetingsToDelete)}discardChanges(){return jt(this,Ct,!1,"f"),this.updateCurrentState(Ft(this,_t,"f")),this.currentState}}Ct=new WeakMap,_t=new WeakMap,Pt=new WeakMap,Lt=new WeakMap,Et=new WeakMap,Tt=new WeakMap,At=new WeakMap,Rt=new WeakMap,Mt=new WeakMap,St=new WeakSet,Dt=function(e){jt(this,_t,e,"f"),jt(this,At,new Map,"f"),jt(this,Tt,new Map,"f"),jt(this,Rt,new Set,"f"),jt(this,Mt,new Set,"f"),jt(this,Et,new Map,"f"),jt(this,Pt,new Map,"f"),jt(this,Lt,new Map,"f"),jt(this,Lt,new Map,"f"),Ft(this,_t,"f").parentMeeting.participants.forEach((e=>{Ft(this,Lt,"f").set(wt(e),Ft(this,_t,"f").parentMeeting.id)})),Ft(this,_t,"f").meetings.forEach((e=>{e.participants.forEach((t=>{Ft(this,Lt,"f").set(wt(t),e.id)}))}))},It=function(e){Ft(this,At,"f").has(e.id)||(Ft(this,At,"f").set(e.id,e),Ft(this,Et,"f").set(e.id,new Set))},Ot=function(e,t){Ft(this,Tt,"f").has(wt(e))||(Ft(this,Tt,"f").set(wt(e),e),Ft(this,Pt,"f").set(wt(e),t.id),Ft(this,Et,"f").get(t.id).add(wt(e)))},$t=function(e,t){const i=e.id;Ft(this,St,"m",It).call(this,Object.assign(Object.assign({},e),{id:t})),Ft(this,At,"f").delete(i);const a=Ft(this,Et,"f").get(i);Ft(this,Et,"f").set(t,a),Ft(this,Et,"f").delete(i),Array.from(Ft(this,Pt,"f").keys()).forEach((e=>{Ft(this,Pt,"f").get(e)===i&&Ft(this,Pt,"f").set(e,t)}))},Ut=function(e){return Array.from(Ft(this,Et,"f").get(e)).map((e=>Ft(this,Tt,"f").get(e)))};const zt={designTokens:{spacingBase:4,googleFont:"Inter"},styles:{"dyte-header":{display:"grid",height:"48px",gridTemplateColumns:"repeat(3, 1fr)",gridTemplateRows:"1fr",alignItems:"center"},"dyte-header.sm":{display:"grid",gridArea:"header",gridTemplateColumns:"repeat(2, 1fr)",gridTemplateRows:"1fr",alignItems:"center"},"div#header-left":{display:"flex",alignItems:"center",height:"48px",wordBreak:"break-all"},"dyte-logo":{height:"26px"},"div#header-center":{display:"flex",alignItems:"center",justifyContent:"center",wordBreak:"break-all"},"div#header-right":{display:"flex",alignItems:"center",justifyContent:"flex-end"},"dyte-stage":{display:"flex",flex:"1"},"dyte-grid":{flex:"1",height:"auto"},"dyte-controlbar":{display:"grid",gridTemplateColumns:"repeat(3,1fr)",gridTemplateRows:"1fr",alignItems:"center",padding:"8px"},"dyte-controlbar.sm":{display:"flex",position:"relative",backgroundColor:"rgb(var(--dyte-colors-background-1000, 0 0 0))"},"dyte-controlbar.md":{display:"flex",position:"relative",backgroundColor:"rgb(var(--dyte-colors-background-1000, 0 0 0))"},"div#controlbar-left":{display:"flex",alignItems:"center",gap:"var(--dyte-space-1, 4px)"},"div#controlbar-center":{display:"flex",alignItems:"center",gap:"var(--dyte-space-1, 4px)",position:"relative",overflow:"visible",justifyContent:"center"},"div#controlbar-mobile":{display:"flex",flex:"1",alignItems:"center",gap:"var(--dyte-space-1, 4px)",justifyContent:"center"},"div#controlbar-right":{display:"flex",alignItems:"center",gap:"var(--dyte-space-1, 4px)",justifyContent:"flex-end"},"dyte-settings":{width:"720px",height:"480px"},"dyte-debugger":{width:"720px",height:"480px"},"dyte-breakout-rooms-manager":{minHeight:"400px",minWidth:"500px",maxWidth:"80%",maxHeight:"480px"},"div#setupcontrols-media":{position:"absolute",bottom:"8px",right:"8px",display:"flex",gap:"4px"},"div#setupcontrols-settings":{position:"absolute",top:"8px",right:"8px",display:"flex",flexDirection:"column",gap:"6px"},"dyte-meeting-title.sm":{marginLeft:"0"},"dyte-clock":{marginRight:"0"}},root:{"dyte-meeting":{state:"meeting",states:["activeSidebar","activeAI"]},"dyte-meeting[meeting=waiting]":["dyte-waiting-screen"],"dyte-meeting[meeting=idle]":["dyte-idle-screen"],"dyte-meeting[meeting=setup]":["dyte-setup-screen","dyte-dialog-manager"],"dyte-meeting[meeting=joined]":["dyte-header","dyte-stage","dyte-controlbar","dyte-participants-audio","dyte-dialog-manager"],"dyte-meeting[meeting=joined].activeSidebar.sm":{add:[["dyte-sidebar",{view:"full-screen"}]]},"dyte-meeting[meeting=joined].activeSidebar.md":{add:[["dyte-sidebar",{view:"full-screen"}]]},"dyte-meeting[meeting=joined].activeAI.sm":{add:[["dyte-ai",{view:"full-screen"}]]},"dyte-meeting[meeting=joined].activeAI.md":{add:[["dyte-ai",{view:"full-screen"}]]},"dyte-meeting[meeting=ended]":["dyte-ended-screen"],"dyte-header":["div#header-left","div#header-center","div#header-right"],"dyte-header.sm":{remove:["div#header-center"]},"div#header-left":["dyte-logo","dyte-recording-indicator","dyte-livestream-indicator"],"div#header-center":["dyte-meeting-title"],"div#header-right":["dyte-grid-pagination","dyte-clock","dyte-participant-count","dyte-viewer-count"],"div#header-left.sm":["dyte-meeting-title","dyte-recording-indicator","dyte-livestream-indicator"],"dyte-stage":{states:["activeSidebar","activeAI"],children:["dyte-grid","dyte-notifications","dyte-transcripts"]},"dyte-stage.activeSidebar":{add:[["dyte-sidebar",{view:"sidebar"}]]},"dyte-stage.activeSidebar.sm":{remove:["dyte-sidebar"]},"dyte-stage.activeAI":{add:[["dyte-ai",{view:"sidebar"}]]},"dyte-stage.activeAI.sm":{remove:["dyte-ai"]},"dyte-grid":{states:["activeScreenShare","activePlugin","activeSpotlight"],children:["dyte-simple-grid"]},"dyte-grid.activeSpotlight":["dyte-spotlight-grid"],"dyte-grid.activeScreenShare":["dyte-mixed-grid"],"dyte-grid.activePlugin":["dyte-mixed-grid"],"dyte-grid.activeScreenShare.activeSpotlight":["dyte-mixed-grid"],"dyte-grid.activePlugin.activeSpotlight":["dyte-mixed-grid"],"dyte-grid.activePlugin.activeScreenShare.activeSpotlight":["dyte-mixed-grid"],"dyte-mixed-grid":{states:["activeSpotlight"],children:["dyte-simple-grid"]},"dyte-mixed-grid.activeSpotlight":["dyte-spotlight-grid"],"dyte-participant-tile":{state:"meeting",children:["dyte-name-tag","dyte-avatar","dyte-network-indicator"]},"dyte-participant-setup":["dyte-avatar","div#setupcontrols-media"],"dyte-participant-tile[meeting=setup]":["dyte-avatar","div#setupcontrols-settings","div#setupcontrols-media"],"div#setupcontrols-media":[["dyte-mic-toggle",{size:"sm"}],["dyte-camera-toggle",{size:"sm"}]],"div#setupcontrols-settings":[["dyte-settings-toggle",{size:"sm"}]],"dyte-screenshare-view":{children:["dyte-name-tag","dyte-network-indicator"]},"dyte-name-tag":[["dyte-audio-visualizer",{slot:"start"}]],"dyte-controlbar":{states:["activeMoreMenu"],props:{variant:"solid"},children:["div#controlbar-left","div#controlbar-center","div#controlbar-right"]},"dyte-more-toggle":{states:["activeMoreMenu"],children:[]},"dyte-controlbar.sm":["div#controlbar-mobile"],"dyte-controlbar.md":["div#controlbar-mobile"],"dyte-more-toggle.activeMoreMenu":[["dyte-fullscreen-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-pip-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-caption-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-mute-all-button",{variant:"horizontal",slot:"more-elements"}],["dyte-breakout-rooms-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-recording-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-debugger-toggle",{variant:"horizontal"}]],"dyte-more-toggle.activeMoreMenu.sm":[["dyte-chat-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-participants-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-polls-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-plugins-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-fullscreen-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-screen-share-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-pip-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-caption-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-mute-all-button",{variant:"horizontal",slot:"more-elements"}],["dyte-breakout-rooms-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-settings-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-ai-toggle",{variant:"horizontal"}],["dyte-debugger-toggle",{variant:"horizontal"}]],"dyte-more-toggle.activeMoreMenu.md":[["dyte-chat-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-participants-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-polls-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-plugins-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-fullscreen-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-screen-share-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-pip-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-caption-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-mute-all-button",{variant:"horizontal",slot:"more-elements"}],["dyte-breakout-rooms-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-settings-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-ai-toggle",{variant:"horizontal"}],["dyte-debugger-toggle",{variant:"horizontal"}]],"div#controlbar-mobile":["dyte-mic-toggle","dyte-camera-toggle","dyte-webinar-stage-toggle","dyte-stage-toggle","dyte-leave-button","dyte-more-toggle"],"div#controlbar-left":["dyte-settings-toggle","dyte-screen-share-toggle","dyte-livestream-toggle"],"div#controlbar-center":["dyte-mic-toggle","dyte-camera-toggle","dyte-webinar-stage-toggle","dyte-stage-toggle","dyte-more-toggle","dyte-leave-button"],"div#controlbar-right":["dyte-chat-toggle","dyte-polls-toggle","dyte-participants-toggle","dyte-plugins-toggle","dyte-ai-toggle"]},config:{notification_sounds:{participant_left:!1},participant_joined_sound_notification_limit:10,participant_chat_message_sound_notification_limit:10,videoFit:"cover"}},Bt=e=>!("isConnected"in e)||e.isConnected,Ht=((e,t)=>{let i;return(...a)=>{i&&clearTimeout(i),i=setTimeout((()=>{i=0,e(...a)}),t)}})((e=>{for(let t of e.keys())e.set(t,e.get(t).filter(Bt))}),2e3),Vt=e=>"function"==typeof e?e():e,Gt=(e,t)=>{const i=e.indexOf(t);i>=0&&(e[i]=e[e.length-1],e.length--)},qt={about_call:"About Call",screen:"Screen",camera:"Camera",leave:"Leave",dismiss:"Dismiss",logo:"Logo",page:"Page",more:"More","page.prev":"Previous Page","page.next":"Next Page",layout:"Layout","layout.auto":"Auto Layout",settings:"Settings",file:"File",image:"Image",connection:"Connection",leave_confirmation:"Are you sure you want to leave the call?",cancel:"Cancel",yes:"Yes","(you)":"(you)",you:"You",everyone:"Everyone",to:"To",mute:"Mute",kick:"Kick",pin:"Pin",pinned:"Pinned",accept:"Accept",unpin:"Unpin",pip_on:"Show PiP",pip_off:"Hide PiP",viewers:"Viewers",join:"Join",joined:"Joined",create:"Create",close:"Close",ask:"Ask",type:"Type",activate:"Activate",requests:"Requests",mic_off:"Mic Off",disable_mic:"Disable Mic",mic_on:"Mic On",enable_mic:"Enable Mic",audio:"Audio",test:"Test",minimize:"Hide Tile",maximize:"Show Tile",mute_all:"Mute all","mute_all.description":"Everyone else in the meeting will be muted.","mute_all.header":"Are you sure?","mute_all.allow_unmute":"Allow others to unmute",video_off:"Video Off",disable_video:"Disable Video",video_on:"Video On",enable_video:"Enable Video",video:"Video",offline:"You're offline","offline.description":"Please ensure that you are connected to the internet.",disconnected:"You haven't joined the meeting.",failed:"You've been disconnected","failed.description":"We could not connect you back to the meeting room. Please try rejoining the meeting.","disconnected.description":"Please join the meeting in order to see and interact with other participants.",participants:"Participants","participants.errors.empty_results":"Couldn't find a participant with the specified name or ID.","participants.empty_list":"It looks like nobody is here.","participants.no_pending_requests":"There are no pending requests.","participants.turn_off_video":"Turn off video",polls:"Polls","polls.by":"Poll by","polls.question":"Poll Question","polls.question.placeholder":"What is your poll for?","polls.answers":"Answers","polls.option":"Add an option.","polls.option.placeholder":"Enter an option","polls.results.anon":"Anonymous","polls.results.hide":"Hide results before voting","polls.create":"Create Poll","polls.cancel":"Cancel Poll Creation","polls.empty":"No polls available","polls.errors.question_required":"Question is required.","polls.errors.empty_option":"Empty options not allowed.",screenshare:"Screen Share","screenshare.min_preview":"Minimize Preview","screenshare.max_preview":"Expand Preview","screenshare.shared":"Your screen is being shared.","screenshare.start":"Share Screen","screenshare.stop":"Stop Sharing","screenshare.error.unknown":"An error occured while starting screenshare.","screenshare.error.max_count":"Maximum screen share limit reached.",plugins:"Plugins",perm_denied:"Permission denied by browser.","perm_denied.audio":"Mic Permission denied by browser","perm_denied.video":"Camera Permission denied by browser","perm_denied.screenshare":"Screenshare Permission denied by browser","perm_denied.audio.chrome.message":"In the top navigation bar, click on the icon left to the URL and ensure  'Microphone' permission is checked","perm_denied.video.chrome.message":"In the top navigation bar, click on the icon left to the URL and ensure  'Camera' permission is checked","perm_denied.screenshare.chrome.message":"Under Chrome settings, navigate to 'Privacy and Security > Site Settings > Permissions'. Select 'Screenshare', provide permission and reload this application.","perm_denied.audio.safari.message":"Under Safari settings, navigate to 'Websites > Microphone', provide permission and reload this application.","perm_denied.video.safari.message":"Under Safari settings, navigate to 'Websites > Camera', provide permission and reload this application.","perm_denied.screenshare.safari.message":"Under Safari settings, navigate to 'Websites > Screenshare', provide permission and reload this application.","perm_denied.audio.edge.message":"Under Edge settings, navigate to 'Site Permissions > Microphone', provide permission and reload this application.","perm_denied.video.edge.message":"Under Edge settings, navigate to 'Site Permissions > Camera', provide permission and reload this application.","perm_denied.screenshare.edge.message":"Under Edge settings, navigate to 'Site Permissions > Screenshare', provide permission and reload this application.","perm_denied.audio.microsoft edge.message":"Under Edge settings, navigate to 'Site Permissions > Microphone', provide permission and reload this application.","perm_denied.video.microsoft edge.message":"Under Edge settings, navigate to 'Site Permissions > Camera', provide permission and reload this application.","perm_denied.screenshare.microsoft edge.message":"Under Edge settings, navigate to 'Site Permissions > Screenshare', provide permission and reload this application.","perm_denied.audio.firefox.message":"Under Firefox settings, navigate to 'Privacy and Security > Permissions > Microphone', provide permission and reload this application.","perm_denied.video.firefox.message":"Under Firefox settings, navigate to 'Privacy and Security > Permissions > Camera', provide permission and reload this application.","perm_denied.screenshare.firefox.message":"Under Firefox settings, navigate to 'Privacy and Security > Permissions > Screenshare', provide permission and reload this application.","perm_denied.audio.others.message":"From your browser settings, enable 'Microphone' permissions and reload this application.","perm_denied.video.others.message":"From your browser settings, enable 'Camera' permissions and reload this application.","perm_denied.screenshare.others.message":"From your browser settings, enable 'Screenshare' permissions and reload this application.",perm_sys_denied:"Permission denied by system","perm_sys_denied.audio":"Mic permission denied by system","perm_sys_denied.video":"Camera permission denied by system","perm_sys_denied.screenshare":"Screenshare permission denied by system","perm_sys_denied.audio.macos.message":"Open Apple Menu, Navigate to 'System Settings > Privacy & Security > Microphone'. Allow access to your browser and reload this application.","perm_sys_denied.video.macos.message":"Open Apple Menu, Navigate to 'System Settings > Privacy & Security > Camera'. Allow access to your browser and reload this application.","perm_sys_denied.screenshare.macos.message":"Open Apple Menu, Navigate to 'System Settings > Privacy & Security > Screenshare'. Allow access to your browser and reload this application.","perm_sys_denied.audio.ios.message":"On your iPhone, navigate to 'Settings > Privacy > Microphone', allow access to your browser and reload this application.","perm_sys_denied.video.ios.message":"On your iPhone, navigate to 'Settings > Privacy > Camera', allow access to your browser and reload this application.","perm_sys_denied.screenshare.ios.message":"On your iPhone, navigate to 'Settings > Privacy > Screenshare', allow access to your browser and reload this application.","perm_sys_denied.audio.windows.message":"Go to windows settings, select 'Settings > Privacy > Microphone'. Allow permissions to your browser and reload this application.","perm_sys_denied.video.windows.message":"Go to windows settings, select 'Settings > Privacy > Camera'. Allow permissions to your browser and reload this application.","perm_sys_denied.screenshare.windows.message":"Go to windows settings, select 'Settings > Privacy > Screenshare'. Allow permissions to your browser and reload this application.","perm_sys_denied.audio.android.message":"On you device, navigate to 'Settings > Apps'. Select your browser, allow Microphone permissions and reload this application.","perm_sys_denied.video.android.message":"On you device, navigate to 'Settings > Apps'. Select your browser, allow Camera permissions and reload this application.","perm_sys_denied.screenshare.android.message":"On you device, navigate to 'Settings > Apps'. Select your browser, allow Screenshare permissions and reload this application.","perm_sys_denied.audio.others.message":"Navigate to your system settings. Allow 'Microphone' permissions for your browser and reload this application.","perm_sys_denied.video.others.message":"Navigate to your system settings. Allow 'Camera' permissions for your browser and reload this application.","perm_sys_denied.screenshare.others.message":"Navigate to your system settings. Allow 'Screenshare' permissions for your browser and reload this application.",perm_could_not_start:"Could not capture device.","perm_could_not_start.audio":"Unable to start your Microphone","perm_could_not_start.video":"Unable to start your Camera","perm_could_not_start.screenshare":"Unable to start your Screenshare","perm_could_not_start.audio.message":"Looks like the system could not capture your microphone. Please restart your device or upgrade your browser to fix this.","perm_could_not_start.video.message":"Looks like the system could not capture your camera. Please restart your device or upgrade your browser to fix this.","perm_could_not_start.screenshare.message":"Looks like the system could not capture your screenshare. Please restart your device or upgrade your browser to fix this.",full_screen:"Full Screen","full_screen.exit":"Exit Full Screen","waitlist.header_title":"Waiting","waitlist.body_text":"You are in the waiting room, the host will let you in soon.","waitlist.deny_request":"Deny request","waitlist.accept_request":"Accept request","waitlist.accept_all":"Accept all","stage_request.header_title":"Join Stage Requests","stage_request.deny_request":"Deny request","stage_request.accept_request":"Accept request","stage_request.accept_all":"Accept all","stage_request.deny_all":"Deny all","stage_request.approval_pending":"Pending","stage_request.denied":"Denied","stage_request.request":"Join stage","stage_request.requested":"Requested","stage_request.cancel_request":"Cancel request","stage_request.leave_stage":"Leave stage","stage_request.request_tip":"Request to join the discussion","stage_request.leave_tip":"Leave the stage","stage_request.pending_tip":"Request pending","stage_request.denied_tip":"Rejected request","stage.empty_host":"The stage is empty","stage.empty_host_summary":"You are off stage. You can manage stage request from the participants tab.","stage.empty_viewer":"There is no one on stage","stage.remove_from_stage":"Remove from stage","stage.invited_notification":"has been invited to join stage.","stage.add_to_stage":"Invite to stage","stage.join_title":"Join Stage","stage.join_summary":"You are about to join the stage, your video & audio as shown above will be visible to all participants.","stage.join_cancel":"Cancel","stage.join_confirm":"Join","setup_screen.join_in_as":"Join in as","setup_screen.joining_as":"Joining as","setup_screen.your_name":"Your name","stage.reconnecting":"Reconnecting...","recording.label":"REC","recording.indicator":"This meeting is being recorded.","recording.started":"This meeting is being recorded.","recording.stopped":"Recording for this meeting has been stopped.","recording.paused":"Recording for this meeting has been paused.","recording.error.start":"Error while starting recording.","recording.error.stop":"Error while stopping recording","recording.error.resume":"Error while resuming recording","recording.start":"Start Recording","recording.stop":"Stop Recording","recording.resume":"Resume Recording","recording.starting":"Starting","recording.stopping":"Stopping","recording.loading":"Loading","recording.idle":"Record",audio_playback:"Play Audio","audio_playback.title":"Allow Audio Playback","audio_playback.description":"In order to play audio properly on your device, click the button below.",breakout_rooms:"Breakout Rooms","breakout_rooms.room_config_header":"Create Breakout","breakout_rooms.join_breakout_header":"Join Breakout","breakout_rooms.empty":"Nobody here yet.","breakout_rooms.delete":"Delete Room","breakout_rooms.switch":"Switch","breakout_rooms.main_room":"Main Room","breakout_rooms.shuffle_participants":"Shuffle Participants","breakout_rooms.deselect":"Deselect","breakout_rooms.selected":"selected","breakout_rooms.num_of_rooms":"No. of Rooms","breakout_rooms.approx":"Approx.","breakout_rooms.participants_per_room":"participants/room","breakout_rooms.division_text":"when equally divided.","breakout_rooms.start_breakout":"Start Breakout","breakout_rooms.close_breakout":"Close Breakout","breakout_rooms.update_breakout":"Update Breakout","breakout_rooms.discard_changes":"Discard Changes","breakout_rooms.room":"Room","breakout_rooms.rooms":"Rooms","breakout_rooms.room_name":"Room Name","breakout_rooms.edit_room_name":"Edit Room Name","breakout_rooms.save_room_name":"Save Room Name","breakout_rooms.add_room":"Add","breakout_rooms.add_room_brief":"Add Room","breakout_rooms.select_all":"Select all","breakout_rooms.unassign_all":"Unassign all","breakout_rooms.assign":"Assign","breakout_rooms.assign_participants":"Assign Participants","breakout_rooms.none_assigned":"No participants assigned yet","breakout_rooms.drag_drop_participants":"Drag and drop participants","breakout_rooms.click_drop_participants":"Click here to assign","breakout_rooms.status.assign_multiple":"Assign multiple participants at once by clicking and selecting them","breakout_rooms.status.select_room":"Select a room to assign","breakout_rooms.ephemeral_status.participants_assigned":"Participants assigned","breakout_rooms.ephemeral_status.participants_assigned_randomly":"Participants assigned randomly","breakout_rooms.ephemeral_status.changes_discarded":"Changes discarded","breakout_rooms.confirm_modal.start_breakout.header":"Start breakout rooms?","breakout_rooms.confirm_modal.start_breakout.content":"Once started, all participants will be moved to their assigned rooms.","breakout_rooms.confirm_modal.start_breakout.cancelText":"No, go back","breakout_rooms.confirm_modal.start_breakout.ctaText":"Yes, start","breakout_rooms.confirm_modal.close_breakout.header":"Close breakout rooms?","breakout_rooms.confirm_modal.close_breakout.content":"All breakout rooms will be closed & participants will be moved back to the main room.","breakout_rooms.confirm_modal.close_breakout.ctaText":"Yes, close breakout","breakout_rooms.move_reason.started_msg":"Starting breakout rooms...","breakout_rooms.move_reason.started_desc":"You are being moved to your assigned room","breakout_rooms.move_reason.closed_msg":"Closing Breakout rooms...","breakout_rooms.move_reason.closed_desc":"You are being moved back to the main room","breakout_rooms.move_reason.switch_room":"Joining Breakout Room...","breakout_rooms.move_reason.switch_main_room":"Joining Main Room...","breakout_rooms.all_assigned":"All participants have been assigned","breakout_rooms.empty_main_room":"No more participants in the main room.","breakout_rooms.leave_confirmation":"Are you sure you want to leave the call? You are in a breakout room, you can join the main room too.","breakout_rooms.leave_confirmation.main_room_btn":"Go back to main room",ai:"AI","ai.meeting_ai":"MeetingAI","ai.home":"Home","ai.transcriptions":"Transcriptions","ai.personal":"Personal","ai.caption_view":"Caption View","ai.chat.tooltip":"This conversation will just be visible to you and not to others in the call.","ai.chat.summerise":"Hey AI, summarise this call","ai.chat.agenda":"Hey AI, what is today's agenda?",search:"Search","search.could_not_find":"Couldn't find a participant with the specified name or ID.","search.empty":"It looks like nobody is here.",end:"End Meeting","end.all":"End meeting for all",ended:"The meeting ended.","ended.rejected":"Your request to join the meeting was denied.","ended.left":"You left the meeting.","ended.kicked":"You were removed from the meeting.","ended.disconnected":"The call ended because the connection was lost.","ended.network":"Please check your internet connection and try again.","ended.unauthorized":"You are not authorized to join this meeting.",network:"Network","network.reconnecting":"Connection lost. Trying to reconnect.","network.delay_extended":"Taking too long to reconnect. Please check your network connection.","network.disconnected":"Could not reconnect. Please leave the meeting and try refreshing the window.","network.leaving":"Automatically leaving the meeting in 10 seconds.","network.restored":"Connection restored","network.delay":"Taking too long to reconnect.","network.lost":"Connection lost","network.lost_extended":"Connection lost. Please check your network connection.",livestream:"Livestream","livestream.indicator":"This meeting is being livestreamed.","livestream.skip":"Skip to Live","livestream.idle":"Waiting to go live.","livestream.starting":"Livestream is starting...","livestream.stopping":"Livestream is stopping...","livestream.waiting_on_manual_ingestion":"Please ingest livestream media.","livestream.error.not_supported":"Player not supported.","livestream.error.not_found":"Playback URL not found.","livestream.error.unknown":"An unknown error occured.","livestream.error.sync":"Could not sync livestream please try again later.","livestream.error.start":"Error while starting livestream.","livestream.error.stop":"Error while stopping livestream.","livestream.go_live":"Go Live","livestream.end_live":"End Live","livestream.error":"Error","cta.help":"Need help on how to do this?","cta.continue":"Ignore","cta.reload":"Reload","cta.confirmation":"Are you sure?","cta.system_settings":"Open Settings","remote_access.empty":"There are no remote requests, yet.","remote_access.requests":"The following people have requested remote control to your screen share.","remote_access.allow":"Please select whom you want to give access to.","remote_access.grant":"Grant acess","remote_access.indicator":"Any plugin or screenshare you switch to will sync the change across the meeting",chat:"Chat","chat.new":"New","chat.max_limit_warning":"Max Character Limit","chat.rate_limit_error":"Please wait before you can send another message","chat.new_channel":"Create new channel","chat.channel_name":"Enter channel name","chat.member_name":"Enter member name","chat.add_members":"Add members","chat.delete_msg":"Delete","chat.edit_msg":"Edit","chat.send_msg":"Send message","chat.send_attachment":"Drop files/images to send","chat.send_img":"Send an image","chat.send_file":"Send a file","chat.send_emoji":"Send an emoji","chat.update_msg":"Update message","chat.channel_members":"Channel Members","chat.img.loading":"Loading image","chat.error.img_not_found":"Image not found","chat.error.empty_results":"Couldn't find a member with the specified name.","chat.img.shared_by":"Shared by","chat.reply":"Reply","chat.message_placeholder":"Message..","chat.click_to_send":"Click to send as message","chat.search_msgs":"Search messages","chat.search_conversations":"Search conversations","chat.start_conversation":"Start a conversation..","chat.empty_search":"No messages found","chat.empty_channel":"Send a message to get started","chat.cancel_upload":"Cancel upload","chat.view_chats":"View chats","chat.everyone":"everyone","chat.pinned_msgs":"Pinned messages","chat.toggle_pinned_msgs":"Toggle pinned messages","date.today":"Today","date.yesteday":"Yesterday","date.sunday":"Sunday","date.monday":"Monday","date.tuesday":"Tuesday","date.wednesday":"Wednesday","date.thursday":"Thursday","date.friday":"Friday","date.saturday":"Saturday","list.empty":"No items found","grid.listening":"Listening","transcript.off":"Turn off Transcripts","transcript.on":"Turn on Transcripts","settings.notification_sound":"Notification sound","settings.microphone_input":"Microphone","settings.speaker_output":"Speaker","settings.mirror_video":"Mirror my Video","settings.camera_off":"Camera is off","dialog.close":"Close dialog","notifications.joined":"just joined","notifications.left":"left","notifications.requesting_to_join_meeting":"is requesting to join the meeting","notifications.requested_to_join_stage":"has requested to join stage","notifications.joined_stage":"has joined stage","notifications.request_to_join_accepted":"Request to join accepted","notifications.request_to_join_rejected":"Request to join rejected","notifications.accept":"Accept","notifications.new_poll_created_by":"New poll created by","notifications.connected_to":"Connected to","notifications.plugin_switched_to":"Plugin switched to","notifications.remote_control_requested":"has requested for remote control","notifications.remote_control_request_sent":"Sent remote control request to","notifications.remote_control_request_accepted":"has granted remote control","notifications.remote_control_granted":"Granted remote control to","notifications.remote_control_terminated":"Existing remote control has been terminated","debugger.troubleshooting.label":"Troubleshooting","debugger.quality.good":"Good","debugger.quality.average":"Average","debugger.quality.poor":"Poor","debugger.stats.bitrate.label":"Bitrate","debugger.stats.bitrate.description":"Data transmitted per second, affects quality and file size.","debugger.stats.packet_loss.label":"Packet Loss","debugger.stats.packet_loss.description":"Amount of data lost during transfer","debugger.stats.jitter.label":"Jitter","debugger.stats.jitter.description":"Variance or fluctuation in latency","debugger.stats.cpu_limitations.label":"CPU Limitations","debugger.stats.cpu_limitations.description":"CPU limitations can impact WebRTC call quality and performance.","debugger.stats.bandwidth_limitations.label":"Bandwidth Limitations","debugger.stats.bandwidth_limitations.description":"Slow internet speeds can degrade video quality.","debugger.audio.label":"Audio","debugger.audio.troubleshooting.label":"Audio Troubleshooting","debugger.audio.messages.generating_report":"Generating report. Please wait for a few seconds.","debugger.audio.messages.enable_media":"Please enable mic to see the report.","debugger.audio.sections.network_media":"Network & Media","debugger.video.label":"Video","debugger.video.troubleshooting.label":"Video Troubleshooting","debugger.video.messages.generating_report":"Generating report. Please wait for a few seconds.","debugger.video.messages.enable_media":"Please enable camera to see the report.","debugger.video.sections.network_media":"Network & Media","debugger.screenshare.label":"Screenshare","debugger.screenshare.troubleshooting.label":"Screenshare Troubleshooting","debugger.screenshare.sections.network_media":"Network & Media","debugger.screenshare.messages.generating_report":"Generating report. Please wait for a few seconds.","debugger.screenshare.messages.enable_media":"Please share screen to see the report.","debugger.system.label":"System","debugger.system.troubleshooting.label":"System Troubleshooting","debugger.system.sections.battery":"Battery","debugger.system.battery.level.label":"Battery Level","debugger.system.battery.level.description":"A low battery charge may result in reduced performance.","debugger.system.battery.charging.label":"Battery Charging Status","debugger.system.battery.charging.description":"A device running on power performs optimally.","debugger.system.battery.charging.is_charging":"Charging","debugger.system.battery.charging.is_not_charging":"Not charging"},Zt=(e=qt)=>{let t=qt;return(e!==qt||Object.keys(e).length>0)&&(t=Object.assign({},qt,e)),e=>{var i;return null!==(i=t[e])&&void 0!==i?i:e}},Kt={people:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 13.999 13 14a2 2 0 0 1 1.995 1.85L15 16v1.5C14.999 21 11.284 22 8.5 22c-2.722 0-6.335-.956-6.495-4.27L2 17.5v-1.501c0-1.054.816-1.918 1.85-1.995L4 14ZM15.22 14H20c1.054 0 1.918.816 1.994 1.85L22 16v1c-.001 3.062-2.858 4-5 4a7.16 7.16 0 0 1-2.14-.322c.336-.386.607-.827.802-1.327A6.19 6.19 0 0 0 17 19.5l.267-.006c.985-.043 3.086-.363 3.226-2.289L20.5 17v-1a.501.501 0 0 0-.41-.492L20 15.5h-4.051a2.957 2.957 0 0 0-.595-1.34L15.22 14H20h-4.78ZM4 15.499l-.1.01a.51.51 0 0 0-.254.136.506.506 0 0 0-.136.253l-.01.101V17.5c0 1.009.45 1.722 1.417 2.242.826.445 2.003.714 3.266.753l.317.005.317-.005c1.263-.039 2.439-.308 3.266-.753.906-.488 1.359-1.145 1.412-2.057l.005-.186V16a.501.501 0 0 0-.41-.492L13 15.5l-9-.001ZM8.5 3a4.5 4.5 0 1 1 0 9 4.5 4.5 0 0 1 0-9Zm9 2a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7Zm-9-.5c-1.654 0-3 1.346-3 3s1.346 3 3 3 3-1.346 3-3-1.346-3-3-3Zm9 2c-1.103 0-2 .897-2 2s.897 2 2 2 2-.897 2-2-.897-2-2-2Z" fill="currentColor"/></svg>',people_checked:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 29 29"><path fill="currentColor" d="M14.58 15.333H2.833a2.667 2.667 0 0 0-2.666 2.666v2l.006.307c.214 4.419 5.031 5.693 8.66 5.693 1.374 0 2.92-.182 4.32-.649a8.53 8.53 0 0 1-.717-1.87c-.93.298-2.027.478-3.18.513l-.423.006-.422-.006c-1.684-.052-3.254-.411-4.355-1.004-1.29-.694-1.89-1.644-1.89-2.99v-2.001l.014-.135a.675.675 0 0 1 .181-.337.68.68 0 0 1 .338-.181l.134-.014h10.31a8.71 8.71 0 0 1 1.436-1.998h.001Zm.253-8.667a6 6 0 1 0-12 0 6 6 0 0 0 12 0Zm-10 0c0-2.205 1.795-4 4-4 2.206 0 4 1.795 4 4s-1.794 4-4 4c-2.205 0-4-1.795-4-4ZM25.5 7.999a4.667 4.667 0 1 0-9.333 0A4.667 4.667 0 0 0 25.5 8Zm-7.333 0a2.67 2.67 0 0 1 2.666-2.666A2.67 2.67 0 0 1 23.5 7.999a2.67 2.67 0 0 1-2.667 2.667 2.67 2.67 0 0 1-2.666-2.667Zm10 13.334a7.333 7.333 0 1 1-14.667 0 7.333 7.333 0 0 1 14.667 0Zm-2.862-3.139a.666.666 0 0 0-.944 0l-4.86 4.863-2.196-2.196a.667.667 0 1 0-.944.944l2.667 2.666a.666.666 0 0 0 .944 0l5.333-5.333a.666.666 0 0 0 0-.944Z"/></svg>',chat:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10a9.96 9.96 0 0 1-4.587-1.112l-3.826 1.067a1.25 1.25 0 0 1-1.54-1.54l1.068-3.823A9.96 9.96 0 0 1 2 12C2 6.477 6.477 2 12 2Zm0 1.5A8.5 8.5 0 0 0 3.5 12c0 1.47.373 2.883 1.073 4.137l.15.27-1.112 3.984 3.987-1.112.27.15A8.5 8.5 0 1 0 12 3.5ZM8.75 13h4.498a.75.75 0 0 1 .102 1.493l-.102.007H8.75a.75.75 0 0 1-.102-1.493L8.75 13h4.498H8.75Zm0-3.5h6.505a.75.75 0 0 1 .101 1.493l-.101.007H8.75a.75.75 0 0 1-.102-1.493L8.75 9.5h6.505H8.75Z" fill="currentColor"/></svg>',poll:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11.752 2a2.752 2.752 0 0 1 2.752 2.751V19.25a2.752 2.752 0 1 1-5.504 0V4.75A2.752 2.752 0 0 1 11.752 2Zm7 5a2.752 2.752 0 0 1 2.752 2.751v9.499a2.752 2.752 0 1 1-5.504 0V9.75A2.752 2.752 0 0 1 18.752 7Zm-14 5a2.752 2.752 0 0 1 2.752 2.751v4.499a2.752 2.752 0 0 1-5.504 0V14.75A2.752 2.752 0 0 1 4.752 12Zm7-8.5c-.692 0-1.252.56-1.252 1.251V19.25a1.252 1.252 0 0 0 2.504 0V4.75c0-.691-.56-1.251-1.252-1.251Zm7 5c-.691 0-1.252.56-1.252 1.251v9.499a1.252 1.252 0 0 0 2.504 0V9.75c0-.691-.56-1.251-1.252-1.251Zm-14 5c-.692 0-1.252.56-1.252 1.251v4.499a1.252 1.252 0 1 0 2.504 0V14.75c0-.691-.56-1.252-1.252-1.252Z" fill="currentColor"/></svg>',participants:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.754 10c.966 0 1.75.784 1.75 1.75v4.749a4.501 4.501 0 0 1-9.002 0V11.75c0-.966.783-1.75 1.75-1.75h5.502Zm0 1.5H9.252a.25.25 0 0 0-.25.25v4.749a3.001 3.001 0 0 0 6.002 0V11.75a.25.25 0 0 0-.25-.25ZM3.75 10h3.381a2.738 2.738 0 0 0-.618 1.5H3.75a.25.25 0 0 0-.25.25v3.249a2.501 2.501 0 0 0 3.082 2.433c.085.504.24.985.453 1.432A4.001 4.001 0 0 1 2 14.999V11.75c0-.966.784-1.75 1.75-1.75Zm13.125 0h3.375c.966 0 1.75.784 1.75 1.75V15a4 4 0 0 1-5.03 3.866c.214-.448.369-.929.455-1.433A2.5 2.5 0 0 0 20.5 15v-3.25a.25.25 0 0 0-.25-.25h-2.757a2.738 2.738 0 0 0-.618-1.5ZM12 3a3 3 0 1 1 0 6 3 3 0 0 1 0-6Zm6.5 1a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5Zm-13 0a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5Zm6.5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Zm6.5 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm-13 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z" fill="currentColor"/></svg>',rocket:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M9.35 20.45 14.65 22.7Q15.55 20.9 16.575 19.15Q17.6 17.4 18.75 15.8L14.8 15Q14.8 15 14.8 15Q14.8 15 14.8 15ZM17.05 24.5 23.7 31.15Q26.55 29.85 29.05 28.2Q31.55 26.55 33.1 25Q37.15 20.95 39.05 16.7Q40.95 12.45 41.1 7.1Q35.75 7.25 31.5 9.15Q27.25 11.05 23.2 15.1Q21.65 16.65 20 19.15Q18.35 21.65 17.05 24.5ZM28.5 19.7Q27.5 18.7 27.5 17.225Q27.5 15.75 28.5 14.75Q29.5 13.75 30.975 13.75Q32.45 13.75 33.45 14.75Q34.45 15.75 34.45 17.225Q34.45 18.7 33.45 19.7Q32.45 20.7 30.975 20.7Q29.5 20.7 28.5 19.7ZM27.75 38.85 33.2 33.4Q33.2 33.4 33.2 33.4Q33.2 33.4 33.2 33.4L32.4 29.45Q30.8 30.6 29.05 31.625Q27.3 32.65 25.5 33.55ZM44.05 4.15Q44.5 10.95 42.35 16.55Q40.2 22.15 35.25 27.1Q35.2 27.15 35.15 27.2Q35.1 27.25 35.05 27.3L36.15 32.8Q36.3 33.55 36.075 34.25Q35.85 34.95 35.3 35.5L26.75 44.1L22.5 34.2L14 25.7L4.1 21.45L12.7 12.9Q13.25 12.35 13.95 12.125Q14.65 11.9 15.4 12.05L20.9 13.15Q20.95 13.1 21 13.075Q21.05 13.05 21.1 13Q26.05 8.05 31.65 5.875Q37.25 3.7 44.05 4.15ZM7.45 31.75Q9.2 30 11.725 29.975Q14.25 29.95 16 31.7Q17.75 33.45 17.725 35.975Q17.7 38.5 15.95 40.25Q14.65 41.55 11.925 42.4Q9.2 43.25 3.75 44Q4.5 38.55 5.325 35.8Q6.15 33.05 7.45 31.75ZM9.55 33.9Q8.85 34.65 8.3 36.25Q7.75 37.85 7.35 40.35Q9.85 39.95 11.45 39.4Q13.05 38.85 13.8 38.15Q14.75 37.3 14.775 36.025Q14.8 34.75 13.9 33.8Q12.95 32.9 11.675 32.925Q10.4 32.95 9.55 33.9Z" fill="currentColor" /></svg>',call_end:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m21.903 13.202-.191.816a2.75 2.75 0 0 1-2.955 2.107l-1.755-.178A2.75 2.75 0 0 1 14.6 13.83l-.389-1.686a.25.25 0 0 0-.113-.157c-.321-.197-1.034-.32-2.098-.32-.786 0-1.386.067-1.786.189-.14.043-.238.085-.301.116l-.09.048-.015.04-.409 1.77A2.75 2.75 0 0 1 7 15.948l-1.746.177A2.75 2.75 0 0 1 2.3 14.03l-.196-.817a3.75 3.75 0 0 1 1.13-3.651C5.134 7.839 8.064 7 12 7c3.943 0 6.875.842 8.776 2.57a3.75 3.75 0 0 1 1.172 3.41l-.045.222Zm-1.426-.514a2.25 2.25 0 0 0-.71-2.009C18.184 9.241 15.602 8.5 12 8.5c-3.598 0-6.177.739-7.76 2.172a2.25 2.25 0 0 0-.677 2.19l.196.818a1.25 1.25 0 0 0 1.342.953l1.746-.178a1.25 1.25 0 0 0 1.09-.962l.423-1.82.043-.136c.376-.998 1.591-1.37 3.597-1.37 1.318 0 2.265.164 2.88.54.401.245.687.642.793 1.1l.389 1.685c.12.522.56.909 1.092.963l1.754.178a1.25 1.25 0 0 0 1.343-.958l.192-.816.034-.171Z" fill="currentColor"/></svg>',share:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 2.498a3.502 3.502 0 1 1-2.597 5.851l-4.558 2.604a3.5 3.5 0 0 1 0 2.093l4.557 2.606a3.502 3.502 0 1 1-.745 1.302L9.1 14.347a3.502 3.502 0 1 1 0-4.698l4.557-2.604A3.502 3.502 0 0 1 17 2.498Zm0 13.5a2.002 2.002 0 1 0 0 4.004 2.002 2.002 0 0 0 0-4.004Zm-10.498-6a2.002 2.002 0 1 0 0 4.004 2.002 2.002 0 0 0 0-4.004Zm10.498-6a2.002 2.002 0 1 0 0 4.004 2.002 2.002 0 0 0 0-4.004Z" fill="currentColor"/></svg>',mic_on:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.25 11a.75.75 0 0 1 .743.648l.007.102v.5a6.75 6.75 0 0 1-6.249 6.732l-.001 2.268a.75.75 0 0 1-1.493.102l-.007-.102v-2.268a6.75 6.75 0 0 1-6.246-6.496L5 12.25v-.5a.75.75 0 0 1 1.493-.102l.007.102v.5a5.25 5.25 0 0 0 5.034 5.246l.216.004h.5a5.25 5.25 0 0 0 5.246-5.034l.004-.216v-.5a.75.75 0 0 1 .75-.75ZM12 2a4 4 0 0 1 4 4v6a4 4 0 0 1-8 0V6a4 4 0 0 1 4-4Zm0 1.5A2.5 2.5 0 0 0 9.5 6v6a2.5 2.5 0 0 0 5 0V6A2.5 2.5 0 0 0 12 3.5Z" fill="currentColor"/></svg>',mic_off:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.28 2.22a.75.75 0 1 0-1.06 1.06L8 9.06V12a4 4 0 0 0 6.248 3.309l1.146 1.146A5.227 5.227 0 0 1 12.25 17.5h-.5l-.216-.004A5.25 5.25 0 0 1 6.5 12.25v-.5l-.007-.102A.75.75 0 0 0 5 11.75v.5l.004.236a6.75 6.75 0 0 0 6.246 6.496v2.268l.007.102a.75.75 0 0 0 1.493-.102l.001-2.268a6.718 6.718 0 0 0 3.712-1.458l4.256 4.256a.75.75 0 0 0 1.061-1.06L3.28 2.22Zm9.876 11.997A2.5 2.5 0 0 1 9.5 12v-1.44l3.656 3.657ZM14.5 6v5.318l1.43 1.43c.046-.242.07-.492.07-.748V6a4 4 0 0 0-7.862-1.044L9.5 6.318V6a2.5 2.5 0 0 1 5 0ZM17.196 14.014l1.146 1.146A6.725 6.725 0 0 0 19 12.25v-.5l-.007-.102a.75.75 0 0 0-1.493.102v.5l-.004.216a5.233 5.233 0 0 1-.3 1.548Z" fill="currentColor"/></svg>',video_on:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13.75 4.5A3.25 3.25 0 0 1 17 7.75v.173l3.864-2.318A.75.75 0 0 1 22 6.248V17.75a.75.75 0 0 1-1.136.643L17 16.075v.175a3.25 3.25 0 0 1-3.25 3.25h-8.5A3.25 3.25 0 0 1 2 16.25v-8.5A3.25 3.25 0 0 1 5.25 4.5h8.5Zm0 1.5h-8.5A1.75 1.75 0 0 0 3.5 7.75v8.5c0 .966.784 1.75 1.75 1.75h8.5a1.75 1.75 0 0 0 1.75-1.75v-8.5A1.75 1.75 0 0 0 13.75 6Zm6.75 1.573L17 9.674v4.651l3.5 2.1V7.573Z" fill="currentColor"/></svg>',video_off:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.28 2.22a.75.75 0 1 0-1.06 1.06l1.567 1.567A3.25 3.25 0 0 0 2 7.75v8.5a3.25 3.25 0 0 0 3.25 3.25h8.5a3.25 3.25 0 0 0 2.903-1.786l4.066 4.067a.75.75 0 0 0 1.061-1.061L3.28 2.22Zm12.196 14.317A1.75 1.75 0 0 1 13.75 18h-8.5a1.75 1.75 0 0 1-1.75-1.75v-8.5c0-.869.633-1.59 1.463-1.727l10.514 10.514ZM15.5 12.318V7.75A1.75 1.75 0 0 0 13.75 6H9.182l-1.5-1.5h6.068A3.25 3.25 0 0 1 17 7.75v.173l3.864-2.318A.75.75 0 0 1 22 6.248V17.75c0 .301-.17.543-.403.665L20.5 17.318V7.573L17 9.674v4.144l-1.5-1.5Z" fill="currentColor"/></svg>',share_screen_start:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2 6.25A2.25 2.25 0 0 1 4.25 4h15.5A2.25 2.25 0 0 1 22 6.25v11.5A2.25 2.25 0 0 1 19.75 20H4.25A2.25 2.25 0 0 1 2 17.75V6.25Zm2.25-.75a.75.75 0 0 0-.75.75v11.5c0 .414.336.75.75.75h15.5a.75.75 0 0 0 .75-.75V6.25a.75.75 0 0 0-.75-.75H4.25Z"/><path d="M12 7.245a.75.75 0 0 1 .53.22l3.255 3.255a.75.75 0 1 1-1.06 1.06L12.75 9.806v6.447a.75.75 0 0 1-1.5 0V9.808L9.28 11.78a.75.75 0 1 1-1.06-1.06l3.25-3.254a.75.75 0 0 1 .53-.22Z"/></svg>',share_screen_stop:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2 6.25A2.25 2.25 0 0 1 4.25 4h15.5A2.25 2.25 0 0 1 22 6.25v11.5A2.25 2.25 0 0 1 19.75 20H4.25A2.25 2.25 0 0 1 2 17.75V6.25Zm2.25-.75a.75.75 0 0 0-.75.75v11.5c0 .414.336.75.75.75h15.5a.75.75 0 0 0 .75-.75V6.25a.75.75 0 0 0-.75-.75H4.25Z"/><path d="M8.22 8.215a.75.75 0 0 1 1.06 0l2.72 2.72 2.725-2.716a.75.75 0 0 1 1.06 1.062l-2.724 2.715 2.724 2.724a.75.75 0 1 1-1.06 1.06L12 13.057 9.28 15.78a.75.75 0 0 1-1.06-1.06l2.72-2.724-2.72-2.72a.75.75 0 0 1 0-1.06Z"/></svg>',share_screen_person:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2 7.25A3.25 3.25 0 0 1 5.25 4h13.5A3.25 3.25 0 0 1 22 7.25V13h-.258a3.74 3.74 0 0 0-1.242-2.545V7.25a1.75 1.75 0 0 0-1.75-1.75H5.25A1.75 1.75 0 0 0 3.5 7.25v9.5c0 .966.784 1.75 1.75 1.75H12v.5c0 .34.04.674.118 1H5.25A3.25 3.25 0 0 1 2 16.75v-9.5ZM21.5 17a1.5 1.5 0 0 1 1.5 1.5v.5c0 1.971-1.86 4-5 4-3.14 0-5-2.029-5-4v-.5a1.5 1.5 0 0 1 1.5-1.5h7ZM18 10.5a2.75 2.75 0 1 1 0 5.5 2.75 2.75 0 0 1 0-5.5Z" fill="currentColor"/></svg>',clock:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2c5.523 0 10 4.478 10 10s-4.477 10-10 10S2 17.522 2 12 6.477 2 12 2Zm0 1.667c-4.595 0-8.333 3.738-8.333 8.333 0 4.595 3.738 8.333 8.333 8.333 4.595 0 8.333-3.738 8.333-8.333 0-4.595-3.738-8.333-8.333-8.333ZM11.25 6a.75.75 0 0 1 .743.648L12 6.75V12h3.25a.75.75 0 0 1 .102 1.493l-.102.007h-4a.75.75 0 0 1-.743-.648l-.007-.102v-6a.75.75 0 0 1 .75-.75Z" fill="currentColor"/></svg>',dismiss:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m4.397 4.554.073-.084a.75.75 0 0 1 .976-.073l.084.073L12 10.939l6.47-6.47a.75.75 0 1 1 1.06 1.061L13.061 12l6.47 6.47a.75.75 0 0 1 .072.976l-.073.084a.75.75 0 0 1-.976.073l-.084-.073L12 13.061l-6.47 6.47a.75.75 0 0 1-1.06-1.061L10.939 12l-6.47-6.47a.75.75 0 0 1-.072-.976l.073-.084-.073.084Z" fill="currentColor"/></svg>',send:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.694 12 2.299 3.272c-.236-.607.356-1.188.942-.982l.093.04 18 9a.75.75 0 0 1 .097 1.283l-.097.058-18 9a.75.75 0 0 1-1.065-.847l.03-.096L5.694 12 2.299 3.272 5.694 12ZM4.402 4.54l2.61 6.71h6.627a.75.75 0 0 1 .743.648l.007.102a.75.75 0 0 1-.649.743l-.101.007H7.01l-2.609 6.71L19.322 12 4.401 4.54Z" fill="currentColor"/></svg>',search:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 2.75a7.25 7.25 0 0 1 5.63 11.819l4.9 4.9a.75.75 0 0 1-.976 1.134l-.084-.073-4.901-4.9A7.25 7.25 0 1 1 10 2.75Zm0 1.5a5.75 5.75 0 1 0 0 11.5 5.75 5.75 0 0 0 0-11.5Z" fill="currentColor"/</svg>',more_vertical:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7.75a1.75 1.75 0 1 1 0-3.5 1.75 1.75 0 0 1 0 3.5ZM12 13.75a1.75 1.75 0 1 1 0-3.5 1.75 1.75 0 0 1 0 3.5ZM10.25 18a1.75 1.75 0 1 0 3.5 0 1.75 1.75 0 0 0-3.5 0Z" fill="currentColor"/></svg>',chevron_down:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4.22 8.47a.75.75 0 0 1 1.06 0L12 15.19l6.72-6.72a.75.75 0 1 1 1.06 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L4.22 9.53a.75.75 0 0 1 0-1.06Z" fill="currentColor"/></svg>',chevron_up:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4.22 15.53a.75.75 0 0 0 1.06 0L12 8.81l6.72 6.72a.75.75 0 1 0 1.06-1.06l-7.25-7.25a.75.75 0 0 0-1.06 0l-7.25 7.25a.75.75 0 0 0 0 1.06Z" fill="currentColor"/></svg>',chevron_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.53 4.22a.75.75 0 0 1 0 1.06L8.81 12l6.72 6.72a.75.75 0 1 1-1.06 1.06l-7.25-7.25a.75.75 0 0 1 0-1.06l7.25-7.25a.75.75 0 0 1 1.06 0Z" fill="currentColor"/></svg>',chevron_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.47 4.22a.75.75 0 0 0 0 1.06L15.19 12l-6.72 6.72a.75.75 0 1 0 1.06 1.06l7.25-7.25a.75.75 0 0 0 0-1.06L9.53 4.22a.75.75 0 0 0-1.06 0Z" fill="currentColor"/></svg>',settings:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12.012 2.25c.734.008 1.465.093 2.182.253a.75.75 0 0 1 .582.649l.17 1.527a1.384 1.384 0 0 0 1.927 1.116l1.401-.615a.75.75 0 0 1 .85.174 9.792 9.792 0 0 1 2.204 3.792.75.75 0 0 1-.271.825l-1.242.916a1.381 1.381 0 0 0 0 2.226l1.243.915a.75.75 0 0 1 .272.826 9.797 9.797 0 0 1-2.204 3.792.75.75 0 0 1-.848.175l-1.407-.617a1.38 1.38 0 0 0-1.926 1.114l-.169 1.526a.75.75 0 0 1-.572.647 9.518 9.518 0 0 1-4.406 0 .75.75 0 0 1-.572-.647l-.168-1.524a1.382 1.382 0 0 0-1.926-1.11l-1.406.616a.75.75 0 0 1-.849-.175 9.798 9.798 0 0 1-2.204-3.796.75.75 0 0 1 .272-.826l1.243-.916a1.38 1.38 0 0 0 0-2.226l-1.243-.914a.75.75 0 0 1-.271-.826 9.793 9.793 0 0 1 2.204-3.792.75.75 0 0 1 .85-.174l1.4.615a1.387 1.387 0 0 0 1.93-1.118l.17-1.526a.75.75 0 0 1 .583-.65c.717-.159 1.45-.243 2.201-.252Zm0 1.5a9.135 9.135 0 0 0-1.354.117l-.109.977A2.886 2.886 0 0 1 6.525 7.17l-.898-.394a8.293 8.293 0 0 0-1.348 2.317l.798.587a2.881 2.881 0 0 1 0 4.643l-.799.588c.32.842.776 1.626 1.348 2.322l.905-.397a2.882 2.882 0 0 1 4.017 2.318l.11.984c.889.15 1.798.15 2.687 0l.11-.984a2.881 2.881 0 0 1 4.018-2.322l.905.396a8.296 8.296 0 0 0 1.347-2.318l-.798-.588a2.881 2.881 0 0 1 0-4.643l.796-.587a8.293 8.293 0 0 0-1.348-2.317l-.896.393a2.884 2.884 0 0 1-4.023-2.324l-.11-.976a8.988 8.988 0 0 0-1.333-.117ZM12 8.25a3.75 3.75 0 1 1 0 7.5 3.75 3.75 0 0 1 0-7.5Zm0 1.5a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z" fill="currentColor"/></svg>',wifi:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17.745 10.75a8.291 8.291 0 0 1 1.492 2.07.75.75 0 1 1-1.335.683 6.798 6.798 0 0 0-1.218-1.692 6.562 6.562 0 0 0-10.493 1.673.75.75 0 1 1-1.339-.677 8.062 8.062 0 0 1 12.893-2.057Zm-2.102 3.07c.448.447.816.997 1.072 1.582a.75.75 0 1 1-1.373.602 3.72 3.72 0 0 0-.76-1.124 3.592 3.592 0 0 0-5.08 0c-.31.31-.562.689-.746 1.11a.75.75 0 1 1-1.375-.6 5.11 5.11 0 0 1 1.061-1.57 5.092 5.092 0 0 1 7.201 0Zm4.805-5.541c.51.509.99 1.09 1.409 1.697a.75.75 0 0 1-1.235.852 10.822 10.822 0 0 0-1.234-1.489c-4.08-4.08-10.695-4.08-14.776 0-.421.422-.84.934-1.222 1.484a.75.75 0 0 1-1.232-.855c.43-.62.905-1.2 1.394-1.69 4.666-4.665 12.23-4.665 16.896 0Zm-7.387 8.16a1.5 1.5 0 1 1-2.122 2.122 1.5 1.5 0 0 1 2.122-2.122Z" fill="currentColor"/></svg>',speaker:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M15 4.25c0-1.079-1.274-1.65-2.08-.934L8.427 7.309a.75.75 0 0 1-.498.19H4.25A2.25 2.25 0 0 0 2 9.749v4.497a2.25 2.25 0 0 0 2.25 2.25h3.68a.75.75 0 0 1 .498.19l4.491 3.994c.806.716 2.081.144 2.081-.934V4.25ZM9.425 8.43 13.5 4.807v14.382l-4.075-3.624a2.25 2.25 0 0 0-1.495-.569H4.25a.75.75 0 0 1-.75-.75V9.75a.75.75 0 0 1 .75-.75h3.68a2.25 2.25 0 0 0 1.495-.569ZM18.992 5.897a.75.75 0 0 1 1.049.157A9.959 9.959 0 0 1 22 12a9.96 9.96 0 0 1-1.96 5.946.75.75 0 0 1-1.205-.892A8.459 8.459 0 0 0 20.5 12a8.459 8.459 0 0 0-1.665-5.054.75.75 0 0 1 .157-1.049Z" /><path d="M17.143 8.37a.75.75 0 0 1 1.017.302c.536.99.84 2.125.84 3.328a6.973 6.973 0 0 1-.84 3.328.75.75 0 0 1-1.32-.714c.42-.777.66-1.666.66-2.614s-.24-1.837-.66-2.614a.75.75 0 0 1 .303-1.017Z"/></svg>',speaker_off:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M3.28 2.22a.75.75 0 1 0-1.06 1.06L6.438 7.5H4.25A2.25 2.25 0 0 0 2 9.749v4.497a2.25 2.25 0 0 0 2.25 2.25h3.68a.75.75 0 0 1 .498.19l4.491 3.994c.806.716 2.081.144 2.081-.934V16.06l5.72 5.72a.75.75 0 0 0 1.06-1.061L3.28 2.22ZM13.5 14.56v4.629l-4.075-3.624a2.25 2.25 0 0 0-1.495-.569H4.25a.75.75 0 0 1-.75-.75V9.75a.75.75 0 0 1 .75-.75h3.688L13.5 14.56ZM13.5 4.807v5.511l1.5 1.5V4.25c0-1.079-1.274-1.65-2.08-.934l-3.4 3.022 1.063 1.063L13.5 4.807ZM17.141 13.96l1.138 1.137A6.974 6.974 0 0 0 19 12a6.973 6.973 0 0 0-.84-3.328.75.75 0 0 0-1.32.714c.42.777.66 1.666.66 2.614 0 .691-.127 1.351-.359 1.96ZM19.388 16.206l1.093 1.094A9.955 9.955 0 0 0 22 12a9.959 9.959 0 0 0-1.96-5.946.75.75 0 0 0-1.205.892A8.46 8.46 0 0 1 20.5 12a8.458 8.458 0 0 1-1.112 4.206Z"/></svg>',download:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.25 20.5a.75.75 0 1 1 0 1.5l-13 .004a.75.75 0 1 1 0-1.5l13-.004ZM11.648 2.012l.102-.007a.75.75 0 0 1 .743.648l.007.102-.001 13.685 3.722-3.72a.75.75 0 0 1 .976-.073l.085.073a.75.75 0 0 1 .072.976l-.073.084-4.997 4.997a.75.75 0 0 1-.976.073l-.085-.073-5.003-4.996a.75.75 0 0 1 .976-1.134l.084.072 3.719 3.714L11 2.755a.75.75 0 0 1 .648-.743l.102-.007-.102.007Z" fill="currentColor"/></svg>',full_screen_maximize:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4.5 5.75c0-.69.56-1.25 1.25-1.25h2a.75.75 0 0 0 0-1.5h-2A2.75 2.75 0 0 0 3 5.75v2a.75.75 0 0 0 1.5 0v-2ZM4.5 18.25c0 .69.56 1.25 1.25 1.25h2a.75.75 0 0 1 0 1.5h-2A2.75 2.75 0 0 1 3 18.25v-2a.75.75 0 0 1 1.5 0v2ZM18.25 4.5c.69 0 1.25.56 1.25 1.25v2a.75.75 0 0 0 1.5 0v-2A2.75 2.75 0 0 0 18.25 3h-2a.75.75 0 0 0 0 1.5h2ZM19.5 18.25c0 .69-.56 1.25-1.25 1.25h-2a.75.75 0 0 0 0 1.5h2A2.75 2.75 0 0 0 21 18.25v-2a.75.75 0 0 0-1.5 0v2Z" fill="currentColor"/></svg>',full_screen_minimize:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.5 3.75a.75.75 0 0 0-1.5 0v2.5a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 0 0 1.5h2.5A2.25 2.25 0 0 0 8.5 6.25v-2.5ZM8.5 20.25a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 0-.75-.75h-2.5a.75.75 0 0 1 0-1.5h2.5a2.25 2.25 0 0 1 2.25 2.25v2.5ZM16.25 3a.75.75 0 0 0-.75.75v2.5a2.25 2.25 0 0 0 2.25 2.25h2.5a.75.75 0 0 0 0-1.5h-2.5a.75.75 0 0 1-.75-.75v-2.5a.75.75 0 0 0-.75-.75ZM15.5 20.25a.75.75 0 0 0 1.5 0v-2.5a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 0 0-1.5h-2.5a2.25 2.25 0 0 0-2.25 2.25v2.5Z" fill="currentColor"/></svg>',copy:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.503 4.627 5.5 6.75v10.504a3.25 3.25 0 0 0 3.25 3.25h8.616a2.251 2.251 0 0 1-2.122 1.5H8.75A4.75 4.75 0 0 1 4 17.254V6.75c0-.98.627-1.815 1.503-2.123ZM17.75 2A2.25 2.25 0 0 1 20 4.25v13a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-13A2.25 2.25 0 0 1 8.75 2h9Zm0 1.5h-9a.75.75 0 0 0-.75.75v13c0 .414.336.75.75.75h9a.75.75 0 0 0 .75-.75v-13a.75.75 0 0 0-.75-.75Z" fill="currentColor"/></svg>',attach:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11.772 3.743a6 6 0 0 1 8.66 8.302l-.19.197-8.8 8.798-.036.03a3.723 3.723 0 0 1-5.489-4.973.764.764 0 0 1 .085-.13l.054-.06.086-.088.142-.148.002.003 7.436-7.454a.75.75 0 0 1 .977-.074l.084.073a.75.75 0 0 1 .074.976l-.073.084-7.594 7.613a2.23 2.23 0 0 0 3.174 3.106l8.832-8.83A4.502 4.502 0 0 0 13 4.644l-.168.16-.013.014-9.536 9.536a.75.75 0 0 1-1.133-.977l.072-.084 9.549-9.55h.002Z" fill="currentColor"/></svg>',image:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17.75 3A3.25 3.25 0 0 1 21 6.25v11.5A3.25 3.25 0 0 1 17.75 21H6.25A3.25 3.25 0 0 1 3 17.75V6.25A3.25 3.25 0 0 1 6.25 3h11.5Zm.58 16.401-5.805-5.686a.75.75 0 0 0-.966-.071l-.084.07-5.807 5.687c.182.064.378.099.582.099h11.5c.203 0 .399-.035.58-.099l-5.805-5.686L18.33 19.4ZM17.75 4.5H6.25A1.75 1.75 0 0 0 4.5 6.25v11.5c0 .208.036.408.103.594l5.823-5.701a2.25 2.25 0 0 1 3.02-.116l.128.116 5.822 5.702c.067-.186.104-.386.104-.595V6.25a1.75 1.75 0 0 0-1.75-1.75Zm-2.498 2a2.252 2.252 0 1 1 0 4.504 2.252 2.252 0 0 1 0-4.504Zm0 1.5a.752.752 0 1 0 0 1.504.752.752 0 0 0 0-1.504Z" fill="currentColor"/></svg>',emoji_multiple:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.5 2a6.503 6.503 0 0 1 6.312 4.943c-.515.01-1.02.068-1.506.171a5 5 0 1 0-6.191 6.191 8.053 8.053 0 0 0-.172 1.507A6.5 6.5 0 0 1 8.5 2Zm.16 8.006c.355-.451.759-.864 1.202-1.23a3.5 3.5 0 0 0-4.022.95.75.75 0 1 0 1.14.974 2 2 0 0 1 1.68-.694ZM7.5 6.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm1 8a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm5.458 2.042a.75.75 0 0 1 .082 1.058 4 4 0 0 1-6.075.005.75.75 0 0 1 1.138-.977 2.499 2.499 0 0 0 3.797-.003.75.75 0 0 1 1.058-.083ZM17.5 14.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM15 22a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0-1.5a5.5 5.5 0 1 1 0-11 5.5 5.5 0 0 1 0 11Z" fill="currentColor"/></svg>',image_off:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.28 2.22a.75.75 0 1 0-1.06 1.06l1.263 1.264A3.235 3.235 0 0 0 3 6.25v11.5A3.25 3.25 0 0 0 6.25 21h11.5c.626 0 1.21-.177 1.706-.483l1.263 1.264a.75.75 0 0 0 1.061-1.061L3.28 2.22Zm8.788 10.909 6.206 6.206.056.066a1.746 1.746 0 0 1-.58.099H6.25c-.204 0-.4-.035-.582-.099l5.807-5.686.593-.586Zm-.95-.95a2.245 2.245 0 0 0-.692.464l-5.823 5.7a1.747 1.747 0 0 1-.103-.593V6.25c0-.206.036-.404.101-.588l6.518 6.518ZM19.5 16.318V6.25a1.75 1.75 0 0 0-1.75-1.75H7.682L6.182 3H17.75A3.25 3.25 0 0 1 21 6.25v11.568l-1.5-1.5Z" fill="currentColor"/><path d="M15.252 6.5a2.252 2.252 0 1 1 0 4.504 2.252 2.252 0 0 1 0-4.504Zm0 1.5a.752.752 0 1 0 0 1.504.752.752 0 0 0 0-1.504Z" fill="currentColor"/></svg>',disconnected:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.28 2.22a.75.75 0 0 0-1.06 1.06l3.364 3.365a11.99 11.99 0 0 0-2.033 1.634c-.49.489-.964 1.069-1.394 1.689a.75.75 0 1 0 1.233.855c.381-.55.8-1.062 1.222-1.484a10.468 10.468 0 0 1 2.063-1.604l1.591 1.592a8.062 8.062 0 0 0-1.923 1.424c-.61.61-1.109 1.3-1.491 2.056a.75.75 0 1 0 1.338.677 6.51 6.51 0 0 1 1.214-1.673 6.546 6.546 0 0 1 1.984-1.362l1.93 1.93a5.07 5.07 0 0 0-2.876 1.44 5.11 5.11 0 0 0-1.061 1.57.75.75 0 0 0 1.374.602c.185-.422.437-.8.747-1.111a3.59 3.59 0 0 1 3.36-.958l7.858 7.858a.75.75 0 0 0 1.06-1.06L3.28 2.22Zm8.304 6.182 1.584 1.584a6.532 6.532 0 0 1 3.516 1.825 6.798 6.798 0 0 1 1.217 1.692.75.75 0 1 0 1.336-.683 8.292 8.292 0 0 0-1.492-2.07 8.042 8.042 0 0 0-6.16-2.348ZM8.487 5.305 9.713 6.53a10.44 10.44 0 0 1 10.908 4.297.75.75 0 1 0 1.235-.852 11.946 11.946 0 0 0-13.369-4.67Zm4.573 11.134a1.5 1.5 0 1 1-2.121 2.122 1.5 1.5 0 0 1 2.121-2.122Z" fill="currentColor"/></svg>',wand:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m13.314 7.565-.136.126-10.48 10.488a2.27 2.27 0 0 0 3.211 3.208L16.388 10.9a2.251 2.251 0 0 0-.001-3.182l-.157-.146a2.25 2.25 0 0 0-2.916-.007Zm-.848 2.961 1.088 1.088-8.706 8.713a.77.77 0 1 1-1.089-1.088l8.707-8.713Zm4.386 4.48L16.75 15a.75.75 0 0 0-.743.648L16 15.75v.75h-.75a.75.75 0 0 0-.743.648l-.007.102c0 .38.282.694.648.743l.102.007H16v.75c0 .38.282.694.648.743l.102.007a.75.75 0 0 0 .743-.648l.007-.102V18h.75a.75.75 0 0 0 .743-.648L19 17.25a.75.75 0 0 0-.648-.743l-.102-.007h-.75v-.75a.75.75 0 0 0-.648-.743L16.75 15l.102.007Zm-1.553-6.254.027.027a.751.751 0 0 1 0 1.061l-.711.713-1.089-1.089.73-.73a.75.75 0 0 1 1.043.018ZM6.852 5.007 6.75 5a.75.75 0 0 0-.743.648L6 5.75v.75h-.75a.75.75 0 0 0-.743.648L4.5 7.25c0 .38.282.693.648.743L5.25 8H6v.75c0 .38.282.693.648.743l.102.007a.75.75 0 0 0 .743-.648L7.5 8.75V8h.75a.75.75 0 0 0 .743-.648L9 7.25a.75.75 0 0 0-.648-.743L8.25 6.5H7.5v-.75a.75.75 0 0 0-.648-.743L6.75 5l.102.007Zm12-2L18.75 3a.75.75 0 0 0-.743.648L18 3.75v.75h-.75a.75.75 0 0 0-.743.648l-.007.102c0 .38.282.693.648.743L17.25 6H18v.75c0 .38.282.693.648.743l.102.007a.75.75 0 0 0 .743-.648l.007-.102V6h.75a.75.75 0 0 0 .743-.648L21 5.25a.75.75 0 0 0-.648-.743L20.25 4.5h-.75v-.75a.75.75 0 0 0-.648-.743L18.75 3l.102.007Z" fill="currentColor"/></svg>',recording:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24"><path d="M12 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z"/><path d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2ZM3.5 12a8.5 8.5 0 1 1 17 0 8.5 8.5 0 0 1-17 0Z"/></svg>',subtract:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.755 12.5h16.492a.75.75 0 0 0 0-1.5H3.755a.75.75 0 0 0 0 1.5Z" fill="currentColor"/></svg>',stop_recording:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 3.5C9.74566 3.5 7.58365 4.39553 5.98959 5.98959C4.39553 7.58365 3.5 9.74566 3.5 12C3.5 14.2543 4.39553 16.4163 5.98959 18.0104C7.58365 19.6045 9.74566 20.5 12 20.5C14.2543 20.5 16.4163 19.6045 18.0104 18.0104C19.6045 16.4163 20.5 14.2543 20.5 12C20.5 9.74566 19.6045 7.58365 18.0104 5.98959C16.4163 4.39553 14.2543 3.5 12 3.5ZM2 12C2 6.477 6.477 2 12 2C17.523 2 22 6.477 22 12C22 17.523 17.523 22 12 22C6.477 22 2 17.523 2 12ZM8 9.5C8 9.10218 8.15804 8.72064 8.43934 8.43934C8.72064 8.15804 9.10218 8 9.5 8H14.5C14.8978 8 15.2794 8.15804 15.5607 8.43934C15.842 8.72064 16 9.10218 16 9.5V14.5C16 14.8978 15.842 15.2794 15.5607 15.5607C15.2794 15.842 14.8978 16 14.5 16H9.5C9.10218 16 8.72064 15.842 8.43934 15.5607C8.15804 15.2794 8 14.8978 8 14.5V9.5Z" fill="currentColor"/></svg>',warning:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10.91 2.782a2.25 2.25 0 0 1 2.975.74l.083.138 7.759 14.009a2.25 2.25 0 0 1-1.814 3.334l-.154.006H4.243a2.25 2.25 0 0 1-2.041-3.197l.072-.143L10.031 3.66a2.25 2.25 0 0 1 .878-.878Zm9.505 15.613-7.76-14.008a.75.75 0 0 0-1.254-.088l-.057.088-7.757 14.008a.75.75 0 0 0 .561 1.108l.095.006h15.516a.75.75 0 0 0 .696-1.028l-.04-.086-7.76-14.008 7.76 14.008ZM12 16.002a.999.999 0 1 1 0 1.997.999.999 0 0 1 0-1.997ZM11.995 8.5a.75.75 0 0 1 .744.647l.007.102.004 4.502a.75.75 0 0 1-1.494.103l-.006-.102-.004-4.502a.75.75 0 0 1 .75-.75Z" fill="currentColor"/></svg>',pin:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m16.242 2.932 4.826 4.826a2.75 2.75 0 0 1-.715 4.404l-4.87 2.435a.75.75 0 0 0-.374.426l-1.44 4.166a1.25 1.25 0 0 1-2.065.476L8.5 16.561 4.06 21H3v-1.06l4.44-4.44-3.105-3.104a1.25 1.25 0 0 1 .476-2.066l4.166-1.44a.75.75 0 0 0 .426-.373l2.435-4.87a2.75 2.75 0 0 1 4.405-.715Zm3.766 5.886-4.826-4.826a1.25 1.25 0 0 0-2.002.325l-2.435 4.871a2.25 2.25 0 0 1-1.278 1.12l-3.789 1.31 6.705 6.704 1.308-3.789a2.25 2.25 0 0 1 1.12-1.277l4.872-2.436a1.25 1.25 0 0 0 .325-2.002Z" fill="currentColor"/></svg>',pin_off:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.28 2.22a.75.75 0 0 0-1.06 1.06l5.905 5.905L4.81 10.33a1.25 1.25 0 0 0-.476 2.065L7.439 15.5 3 19.94V21h1.06l4.44-4.44 3.105 3.105a1.25 1.25 0 0 0 2.065-.476l1.145-3.313 5.905 5.904a.75.75 0 0 0 1.06-1.06L3.28 2.22Zm10.355 12.476-1.252 3.626-6.705-6.705 3.626-1.252 4.331 4.331Zm6.048-3.876-3.787 1.894 1.118 1.118 3.34-1.67a2.75 2.75 0 0 0 .714-4.404l-4.825-4.826a2.75 2.75 0 0 0-4.405.715l-1.67 3.34 1.118 1.117 1.894-3.787a1.25 1.25 0 0 1 2.002-.325l4.826 4.826a1.25 1.25 0 0 1-.325 2.002Z" fill="currentColor"/></svg>',spinner:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="10" stroke-width="2" stroke="currentColor" stroke-opacity="0.2" vector-effect="non-scaling-stroke"/><path d="M22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7362 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"/></svg>',breakout_rooms:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10.5 3a2.25 2.25 0 0 1 2.25 2.25v6h6A2.25 2.25 0 0 1 21 13.5v5.25A2.25 2.25 0 0 1 18.75 21H5.25A2.25 2.25 0 0 1 3 18.75V5.25A2.25 2.25 0 0 1 5.25 3h5.25Zm.75 9.75H4.5v6c0 .414.336.75.75.75h5.999l.001-6.75Zm7.5 0h-6.001v6.75h6.001a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75ZM10.5 4.5H5.25a.75.75 0 0 0-.75.75v6h6.75v-6a.75.75 0 0 0-.75-.75Zm7.398-2.493L18 2a.75.75 0 0 1 .743.648l.007.102v2.5h2.5a.75.75 0 0 1 .743.648L22 6a.75.75 0 0 1-.648.743l-.102.007h-2.5v2.5a.75.75 0 0 1-.648.743L18 10a.75.75 0 0 1-.743-.648l-.007-.102v-2.5h-2.5a.75.75 0 0 1-.743-.648L14 6a.75.75 0 0 1 .648-.743l.102-.007h2.5v-2.5a.75.75 0 0 1 .648-.743Z" fill="currentColor"/></svg>',add:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M11.75 3a.75.75 0 0 1 .743.648l.007.102.001 7.25h7.253a.75.75 0 0 1 .102 1.493l-.102.007h-7.253l.002 7.25a.75.75 0 0 1-1.493.101l-.007-.102-.002-7.249H3.752a.75.75 0 0 1-.102-1.493L3.752 11h7.25L11 3.75a.75.75 0 0 1 .75-.75Z" fill="currentColor"/></svg>',shuffle:'<svg viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M14.0058 8.11111H18.7947L16.9613 9.94444C16.9095 9.99587 16.8684 10.057 16.8402 10.1243C16.812 10.1917 16.7974 10.2639 16.7971 10.3369C16.7966 10.4843 16.8547 10.6259 16.9586 10.7306C17.01 10.7823 17.0711 10.8235 17.1385 10.8517C17.2058 10.8799 17.278 10.8945 17.351 10.8947C17.4985 10.8953 17.64 10.8372 17.7447 10.7333L20.8891 7.59999L20.4947 7.20555L17.7447 4.46111C17.64 4.35723 17.4985 4.29917 17.351 4.29969C17.2036 4.30021 17.0624 4.35927 16.9586 4.46388C16.8547 4.5685 16.7966 4.71009 16.7971 4.85751C16.7977 5.00494 16.8567 5.14612 16.9613 5.24999L18.728 6.99999H13.6669C13.5699 7.00058 13.4748 7.02653 13.391 7.07526C13.3072 7.12399 13.2376 7.19381 13.1891 7.27777L11.7224 9.82777L12.3669 10.9389L14.0058 8.11111Z" fill="currentColor"/><path d="M8.15022 15.9278H3.66688C3.51954 15.9278 3.37823 15.9863 3.27405 16.0905C3.16986 16.1947 3.11133 16.336 3.11133 16.4833C3.11133 16.6307 3.16986 16.772 3.27405 16.8762C3.37823 16.9804 3.51954 17.0389 3.66688 17.0389H8.47244C8.56939 17.0383 8.6645 17.0124 8.74832 16.9636C8.83214 16.9149 8.90174 16.8451 8.95022 16.7611L10.4335 14.2222L9.77799 13.1111L8.15022 15.9278Z"/><path d="M17.7447 13.2056C17.64 13.1017 17.4985 13.0436 17.351 13.0441C17.2036 13.0447 17.0624 13.1037 16.9586 13.2083C16.8547 13.3129 16.7966 13.4545 16.7971 13.602C16.7977 13.7494 16.8567 13.8906 16.9613 13.9944L18.9058 15.9389H14.0058L8.95022 7.29444C8.90174 7.21047 8.83214 7.14066 8.74832 7.09193C8.6645 7.04319 8.56939 7.01725 8.47244 7.01666H3.66688C3.51954 7.01666 3.37823 7.07519 3.27405 7.17938C3.16986 7.28357 3.11133 7.42487 3.11133 7.57222C3.11133 7.71956 3.16986 7.86087 3.27405 7.96505C3.37823 8.06924 3.51954 8.12777 3.66688 8.12777H8.15022L13.2058 16.7667C13.2542 16.8506 13.3239 16.9204 13.4077 16.9692C13.4915 17.0179 13.5866 17.0439 13.6836 17.0444H18.6113L16.9447 18.7111C16.8929 18.7625 16.8517 18.8237 16.8235 18.891C16.7954 18.9584 16.7807 19.0306 16.7805 19.1036C16.7802 19.1766 16.7943 19.2489 16.822 19.3165C16.8497 19.384 16.8905 19.4454 16.9419 19.4972C16.9933 19.549 17.0545 19.5902 17.1218 19.6184C17.1891 19.6465 17.2614 19.6612 17.3344 19.6614C17.4074 19.6617 17.4797 19.6476 17.5472 19.6199C17.6148 19.5922 17.6762 19.5514 17.728 19.5L20.478 16.7556L20.8724 16.3611L17.7447 13.2056Z"/></svg>',edit:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21.03 2.97a3.578 3.578 0 0 1 0 5.06L9.062 20a2.25 2.25 0 0 1-.999.58l-5.116 1.395a.75.75 0 0 1-.92-.921l1.395-5.116a2.25 2.25 0 0 1 .58-.999L15.97 2.97a3.578 3.578 0 0 1 5.06 0ZM15 6.06 5.062 16a.75.75 0 0 0-.193.333l-1.05 3.85 3.85-1.05A.75.75 0 0 0 8 18.938L17.94 9 15 6.06Zm2.03-2.03-.97.97L19 7.94l.97-.97a2.079 2.079 0 0 0-2.94-2.94Z" fill="currentColor"/></svg>',delete:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 1.75a3.25 3.25 0 0 1 3.245 3.066L15.25 5h5.25a.75.75 0 0 1 .102 1.493L20.5 6.5h-.796l-1.28 13.02a2.75 2.75 0 0 1-2.561 2.474l-.176.006H8.313a2.75 2.75 0 0 1-2.714-2.307l-.023-.174L4.295 6.5H3.5a.75.75 0 0 1-.743-.648L2.75 5.75a.75.75 0 0 1 .648-.743L3.5 5h5.25A3.25 3.25 0 0 1 12 1.75Zm6.197 4.75H5.802l1.267 12.872a1.25 1.25 0 0 0 1.117 1.122l.127.006h7.374c.6 0 1.109-.425 1.225-1.002l.02-.126L18.196 6.5ZM13.75 9.25a.75.75 0 0 1 .743.648L14.5 10v7a.75.75 0 0 1-1.493.102L13 17v-7a.75.75 0 0 1 .75-.75Zm-3.5 0a.75.75 0 0 1 .743.648L11 10v7a.75.75 0 0 1-1.493.102L9.5 17v-7a.75.75 0 0 1 .75-.75Zm1.75-6a1.75 1.75 0 0 0-1.744 1.606L10.25 5h3.5A1.75 1.75 0 0 0 12 3.25Z" fill="currentColor"/></svg>',back:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4.75 2a.75.75 0 0 1 .743.648l.007.102v5.69l4.574-4.56a6.41 6.41 0 0 1 8.879-.179l.186.18a6.41 6.41 0 0 1 0 9.063l-8.846 8.84a.75.75 0 0 1-1.06-1.062l8.845-8.838a4.91 4.91 0 0 0-6.766-7.112l-.178.17L6.562 9.5h5.688a.75.75 0 0 1 .743.648l.007.102a.75.75 0 0 1-.648.743L12.25 11h-7.5a.75.75 0 0 1-.743-.648L4 10.25v-7.5A.75.75 0 0 1 4.75 2Z" fill="currentColor"/></svg>',save:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.75A2.75 2.75 0 0 1 5.75 3h9.964a3.25 3.25 0 0 1 2.299.952l2.035 2.035c.61.61.952 1.437.952 2.299v9.964A2.75 2.75 0 0 1 18.25 21H5.75A2.75 2.75 0 0 1 3 18.25V5.75ZM5.75 4.5c-.69 0-1.25.56-1.25 1.25v12.5c0 .69.56 1.25 1.25 1.25H6v-5.25A2.25 2.25 0 0 1 8.25 12h7.5A2.25 2.25 0 0 1 18 14.25v5.25h.25c.69 0 1.25-.56 1.25-1.25V8.286c0-.465-.184-.91-.513-1.238l-2.035-2.035a1.75 1.75 0 0 0-.952-.49V7.25a2.25 2.25 0 0 1-2.25 2.25h-4.5A2.25 2.25 0 0 1 7 7.25V4.5H5.75Zm10.75 15v-5.25a.75.75 0 0 0-.75-.75h-7.5a.75.75 0 0 0-.75.75v5.25h9Zm-8-15v2.75c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75V4.5h-6Z" fill="currentColor"/></svg>',web:'<svg fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 1.999c5.524 0 10.002 4.478 10.002 10.002 0 5.523-4.478 10.001-10.002 10.001-5.524 0-10.002-4.478-10.002-10.001C1.998 6.477 6.476 1.999 12 1.999ZM14.939 16.5H9.06c.652 2.414 1.786 4.002 2.939 4.002s2.287-1.588 2.939-4.002Zm-7.43 0H4.785a8.532 8.532 0 0 0 4.094 3.411c-.522-.82-.953-1.846-1.27-3.015l-.102-.395Zm11.705 0h-2.722c-.324 1.335-.792 2.5-1.373 3.411a8.528 8.528 0 0 0 3.91-3.127l.185-.283ZM7.094 10H3.735l-.005.017a8.525 8.525 0 0 0-.233 1.984c0 1.056.193 2.067.545 3h3.173a20.847 20.847 0 0 1-.123-5Zm8.303 0H8.603a18.966 18.966 0 0 0 .135 5h6.524a18.974 18.974 0 0 0 .135-5Zm4.868 0h-3.358c.062.647.095 1.317.095 2a20.3 20.3 0 0 1-.218 3h3.173a8.482 8.482 0 0 0 .544-3c0-.689-.082-1.36-.236-2ZM8.88 4.09l-.023.008A8.531 8.531 0 0 0 4.25 8.5h3.048c.314-1.752.86-3.278 1.583-4.41ZM12 3.499l-.116.005C10.62 3.62 9.396 5.622 8.83 8.5h6.342c-.566-2.87-1.783-4.869-3.045-4.995L12 3.5Zm3.12.59.107.175c.669 1.112 1.177 2.572 1.475 4.237h3.048a8.533 8.533 0 0 0-4.339-4.29l-.291-.121Z" fill="currentColor"/></svg>',checkmark:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="m18 6.7-8.48 8.48-3.54-3.54a.996.996 0 1 0-1.41 1.41l4.24 4.24c.39.39 1.02.39 1.41 0l9.18-9.18a.999.999 0 0 0-.01-1.42c-.37-.38-1-.38-1.39.01z"/></svg>',spotlight:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19.745 4C20.3417 4 20.914 4.23705 21.336 4.65901C21.7579 5.08097 21.995 5.65326 21.995 6.25V12.805C21.5485 12.3774 21.0434 12.0154 20.495 11.73V6.25C20.495 6.05109 20.416 5.86032 20.2753 5.71967C20.1347 5.57902 19.9439 5.5 19.745 5.5H4.25C4.05109 5.5 3.86032 5.57902 3.71967 5.71967C3.57902 5.86032 3.5 6.05109 3.5 6.25V17.755C3.5 18.169 3.836 18.505 4.25 18.505L6.999 18.504L7 15.75C7.00002 15.3108 7.16517 14.8877 7.46268 14.5646C7.76019 14.2415 8.1683 14.0421 8.606 14.006L8.75 14H12.022C11.7223 14.4675 11.484 14.9716 11.313 15.5H8.75C8.69368 15.5001 8.63904 15.5192 8.59493 15.5542C8.55083 15.5893 8.51984 15.6382 8.507 15.693L8.5 15.75L8.499 18.504H11.077C11.1569 19.0193 11.2989 19.5229 11.5 20.004H4.25C3.65344 20.004 3.08129 19.7671 2.65936 19.3453C2.23744 18.9236 2.00027 18.3516 2 17.755V6.25C2 5.65326 2.23705 5.08097 2.65901 4.65901C3.08097 4.23705 3.65326 4 4.25 4H19.745Z"/><path d="M12 7C12.7956 7 13.5587 7.31607 14.1213 7.87868C14.6839 8.44129 15 9.20435 15 10C15 10.7956 14.6839 11.5587 14.1213 12.1213C13.5587 12.6839 12.7956 13 12 13C11.2044 13 10.4413 12.6839 9.87868 12.1213C9.31607 11.5587 9 10.7956 9 10C9 9.20435 9.31607 8.44129 9.87868 7.87868C10.4413 7.31607 11.2044 7 12 7ZM12 8.5C11.6022 8.5 11.2206 8.65804 10.9393 8.93934C10.658 9.22064 10.5 9.60218 10.5 10C10.5 10.3978 10.658 10.7794 10.9393 11.0607C11.2206 11.342 11.6022 11.5 12 11.5C12.3978 11.5 12.7794 11.342 13.0607 11.0607C13.342 10.7794 13.5 10.3978 13.5 10C13.5 9.60218 13.342 9.22064 13.0607 8.93934C12.7794 8.65804 12.3978 8.5 12 8.5Z"/><path d="M23 17.5C23 18.9587 22.4205 20.3576 21.3891 21.3891C20.3576 22.4205 18.9587 23 17.5 23C16.0413 23 14.6424 22.4205 13.6109 21.3891C12.5795 20.3576 12 18.9587 12 17.5C12 16.0413 12.5795 14.6424 13.6109 13.6109C14.6424 12.5795 16.0413 12 17.5 12C18.9587 12 20.3576 12.5795 21.3891 13.6109C22.4205 14.6424 23 16.0413 23 17.5ZM18.055 14.42C18.0207 14.2993 17.9479 14.193 17.8478 14.1174C17.7476 14.0417 17.6255 14.0008 17.5 14.0008C17.3745 14.0008 17.2524 14.0417 17.1522 14.1174C17.0521 14.193 16.9793 14.2993 16.945 14.42L16.388 16.208H14.585C14.019 16.208 13.785 16.962 14.242 17.308L15.7 18.413L15.143 20.2C14.968 20.761 15.584 21.228 16.042 20.881L17.5 19.777L18.958 20.881C19.416 21.228 20.032 20.761 19.857 20.201L19.3 18.413L20.758 17.309C21.216 16.962 20.981 16.208 20.415 16.208H18.612L18.055 14.421V14.42Z"/></svg>',join_stage:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M17.5 22C14.4618 22 12 19.5376 12 16.5C12 13.4623 14.4618 11 17.5 11C20.5371 11 23 13.4624 23 16.5C23 19.5376 20.5371 22 17.5 22ZM17.0704 18.992L17.1167 19.0322C17.1868 19.0841 17.2716 19.1125 17.3588 19.1132C17.4461 19.1139 17.5314 19.0869 17.6023 19.036L17.654 18.992L17.6936 18.9458C17.7455 18.8757 17.7739 18.7909 17.7746 18.7037C17.7753 18.6164 17.7483 18.5311 17.6975 18.4602L17.6535 18.4085L16.158 16.9125H19.8375L19.8936 16.9092C19.9829 16.8969 20.0657 16.8558 20.1293 16.792C20.193 16.7282 20.234 16.6454 20.2462 16.5561L20.25 16.5005L20.2462 16.4444C20.2339 16.3553 20.1928 16.2725 20.1292 16.2089C20.0655 16.1452 19.9828 16.1041 19.8936 16.0919L19.8375 16.088H16.158L17.654 14.592L17.6941 14.5453C17.7537 14.4659 17.7827 14.3676 17.7756 14.2686C17.7686 14.1695 17.726 14.0763 17.6558 14.0061C17.5856 13.9359 17.4924 13.8934 17.3934 13.8863C17.2943 13.8793 17.1961 13.9082 17.1167 13.9678L17.071 14.0079L14.8699 16.2079L14.8303 16.2547C14.7784 16.3247 14.75 16.4094 14.7493 16.4965C14.7485 16.5837 14.7753 16.6688 14.8259 16.7398L14.8699 16.7915L17.0704 18.992Z"/><path d="M2.80546 3.80546C2.28973 4.32118 2 5.02065 2 5.75V16.25C2 16.6111 2.07113 16.9687 2.20933 17.3024C2.34753 17.636 2.5501 17.9392 2.80546 18.1945C3.06082 18.4499 3.36398 18.6525 3.69762 18.7907C4.03127 18.9289 4.38886 19 4.75 19H11.498C11.3 18.526 11.157 18.023 11.076 17.5H9.002V14.75C9.002 14.6837 9.02834 14.6201 9.07522 14.5732C9.12211 14.5263 9.1857 14.5 9.252 14.5H11.3135C11.4858 13.9665 11.7253 13.4632 12.0218 13H9.252C8.285 13 7.502 13.784 7.502 14.75V16H7.5V17.5H4.75C4.06 17.5 3.5 16.94 3.5 16.25V5.75C3.5 5.06 4.06 4.5 4.75 4.5H19.25C19.94 4.5 20.5 5.06 20.5 5.75V10.732C20.6457 10.808 20.7884 10.8895 20.9277 10.9762C20.9687 11.0017 21.0093 11.0276 21.0497 11.054C21.3899 11.2762 21.708 11.5294 22 11.8096V5.75C22 5.02065 21.7103 4.32118 21.1945 3.80546C20.6788 3.28973 19.9793 3 19.25 3H4.75C4.02065 3 3.32118 3.28973 2.80546 3.80546Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M14.4181 10.7757C14.7938 10.264 15 9.64262 15 9C15 8.20435 14.6839 7.44129 14.1213 6.87868C13.5587 6.31607 12.7956 6 12 6C11.2044 6 10.4413 6.31607 9.87868 6.87868C9.31607 7.44129 9 8.20435 9 9C9 9.79565 9.31607 10.5587 9.87868 11.1213C10.4413 11.6839 11.2044 12 12 12C12.333 12 12.6602 11.9446 12.9695 11.839C13.3992 11.4213 13.8864 11.0625 14.4181 10.7757ZM10.9393 7.93934C11.2206 7.65804 11.6022 7.5 12 7.5C12.3978 7.5 12.7794 7.65804 13.0607 7.93934C13.342 8.22064 13.5 8.60218 13.5 9C13.5 9.39782 13.342 9.77936 13.0607 10.0607C12.7794 10.342 12.3978 10.5 12 10.5C11.6022 10.5 11.2206 10.342 10.9393 10.0607C10.658 9.77936 10.5 9.39782 10.5 9C10.5 8.60218 10.658 8.22064 10.9393 7.93934Z"></svg>',leave_stage:'<svg viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M2.80546 3.80546C2.28973 4.32118 2 5.02065 2 5.75V16.25C2 16.6111 2.07113 16.9687 2.20933 17.3024C2.34753 17.636 2.5501 17.9392 2.80546 18.1945C3.06082 18.4499 3.36398 18.6525 3.69762 18.7907C4.03127 18.9289 4.38886 19 4.75 19H11.498C11.3 18.526 11.157 18.023 11.076 17.5H9.002V14.75C9.002 14.6837 9.02834 14.6201 9.07522 14.5732C9.12211 14.5263 9.1857 14.5 9.252 14.5H11.3135C11.4858 13.9665 11.7253 13.4632 12.0218 13H9.252C8.285 13 7.502 13.784 7.502 14.75V16H7.5V17.5H4.75C4.06 17.5 3.5 16.94 3.5 16.25V5.75C3.5 5.06 4.06 4.5 4.75 4.5H19.25C19.94 4.5 20.5 5.06 20.5 5.75V10.732C20.6457 10.808 20.7884 10.8895 20.9277 10.9762C20.9687 11.0017 21.0093 11.0276 21.0497 11.054C21.3899 11.2762 21.708 11.5294 22 11.8096V5.75C22 5.02065 21.7103 4.32118 21.1945 3.80546C20.6788 3.28973 19.9793 3 19.25 3H4.75C4.02065 3 3.32118 3.28973 2.80546 3.80546Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M14.4181 10.7757C14.7938 10.264 15 9.64262 15 9C15 8.20435 14.6839 7.44129 14.1213 6.87868C13.5587 6.31607 12.7956 6 12 6C11.2044 6 10.4413 6.31607 9.87868 6.87868C9.31607 7.44129 9 8.20435 9 9C9 9.79565 9.31607 10.5587 9.87868 11.1213C10.4413 11.6839 11.2044 12 12 12C12.333 12 12.6602 11.9446 12.9695 11.839C13.3992 11.4213 13.8864 11.0625 14.4181 10.7757ZM10.9393 7.93934C11.2206 7.65804 11.6022 7.5 12 7.5C12.3978 7.5 12.7794 7.65804 13.0607 7.93934C13.342 8.22064 13.5 8.60218 13.5 9C13.5 9.39782 13.342 9.77936 13.0607 10.0607C12.7794 10.342 12.3978 10.5 12 10.5C11.6022 10.5 11.2206 10.342 10.9393 10.0607C10.658 9.77936 10.5 9.39782 10.5 9C10.5 8.60218 10.658 8.22064 10.9393 7.93934Z"/><path d="M17.5 11C20.5382 11 23 13.4624 23 16.5C23 19.5377 20.5382 22 17.5 22C14.4629 22 12 19.5377 12 16.5C12 13.4624 14.4629 11 17.5 11V11ZM17.9296 14.0079L17.8833 13.9678C17.8132 13.9159 17.7284 13.8875 17.6412 13.8868C17.5539 13.8861 17.4686 13.9131 17.3977 13.964L17.346 14.0079L17.3064 14.0542C17.2545 14.1243 17.2261 14.2091 17.2254 14.2963C17.2247 14.3836 17.2517 14.4689 17.3026 14.5398L17.3465 14.5915L18.842 16.0875H15.1625L15.1064 16.0908C15.0171 16.1031 14.9343 16.1442 14.8707 16.208C14.807 16.2718 14.766 16.3546 14.7539 16.4439L14.75 16.4995L14.7539 16.5556C14.7661 16.6447 14.8072 16.7275 14.8708 16.7911C14.9345 16.8548 15.0172 16.8959 15.1064 16.9081L15.1625 16.912H18.842L17.346 18.408L17.3059 18.4547C17.2463 18.5341 17.2173 18.6324 17.2244 18.7314C17.2314 18.8305 17.274 18.9237 17.3442 18.9939C17.4144 19.0641 17.5076 19.1066 17.6066 19.1137C17.7057 19.1207 17.8039 19.0918 17.8833 19.0322L17.929 18.9921L20.1301 16.7921L20.1697 16.7453C20.2216 16.6753 20.25 16.5906 20.2507 16.5035C20.2515 16.4163 20.2247 16.3312 20.1741 16.2602L20.1301 16.2085L17.9301 14.0079L17.8833 13.9678L17.9296 14.0079V14.0079Z"/></svg>',pip_off:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.8666 12.3058C11.0731 12.3058 11.2404 12.1385 11.2404 11.932V8.56753C11.2404 8.36107 11.0731 8.1937 10.8666 8.1937C10.6601 8.1937 10.4928 8.36107 10.4928 8.56753V11.0295L6.45393 6.99066C6.30794 6.84467 6.07124 6.84467 5.92525 6.99066C5.77926 7.13665 5.77926 7.37335 5.92525 7.51934L9.9641 11.5582L7.50212 11.5582C7.29566 11.5582 7.12829 11.7256 7.12829 11.932C7.12829 12.1385 7.29566 12.3058 7.50212 12.3058L10.8666 12.3058ZM5.73832 19.8879C3.6737 19.8879 2 18.2141 2 16.1495V7.73832C2 5.6737 3.6737 4 5.73832 4H18.2617C20.3263 4 22 5.6737 22 7.73832L22 13.0269C22 12.2687 21.6002 11.6038 21 11.2316C20.8468 11.1366 20.6806 11.0607 20.5047 11.0071V7.73832C20.5047 6.49955 19.5005 5.49533 18.2617 5.49533H5.73832C4.49955 5.49533 3.49533 6.49955 3.49533 7.73832V16.1495C3.49533 17.3883 4.49955 18.3925 5.73832 18.3925H10.7971C10.8506 18.5685 10.9266 18.7347 11.0216 18.8879C11.3938 19.4881 12.0587 19.8879 12.8169 19.8879H5.73832Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19.7265 12.5H13.3911C12.899 12.5 12.5 12.899 12.5 13.3911V17.6462C12.5 18.1384 12.899 18.5374 13.3911 18.5374H19.7265C20.2187 18.5374 20.6176 18.1384 20.6176 17.6462V13.3911C20.6176 12.899 20.2187 12.5 19.7265 12.5ZM13.3911 11.5C12.3467 11.5 11.5 12.3467 11.5 13.3911V17.6462C11.5 18.6907 12.3467 19.5374 13.3911 19.5374H19.7265C20.771 19.5374 21.6176 18.6907 21.6176 17.6462V13.3911C21.6176 12.3467 20.771 11.5 19.7265 11.5H13.3911Z"/></svg>',pip_on:'<svg viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5.73832 19.8879C3.6737 19.8879 2 18.2141 2 16.1495V7.73832C2 5.6737 3.6737 4 5.73832 4H18.2617C20.3263 4 22 5.6737 22 7.73832L22 13.0269C22 12.2687 21.6002 11.6038 21 11.2316C20.8468 11.1366 20.6806 11.0607 20.5047 11.0071V7.73832C20.5047 6.49955 19.5005 5.49533 18.2617 5.49533H5.73832C4.49955 5.49533 3.49533 6.49955 3.49533 7.73832V16.1495C3.49533 17.3883 4.49955 18.3925 5.73832 18.3925H10.7971C10.8506 18.5685 10.9266 18.7347 11.0216 18.8879C11.3938 19.4881 12.0587 19.8879 12.8169 19.8879H5.73832Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19.7265 12.5H13.3911C12.899 12.5 12.5 12.899 12.5 13.3911V17.6462C12.5 18.1384 12.899 18.5374 13.3911 18.5374H19.7265C20.2187 18.5374 20.6176 18.1384 20.6176 17.6462V13.3911C20.6176 12.899 20.2187 12.5 19.7265 12.5ZM13.3911 11.5C12.3467 11.5 11.5 12.3467 11.5 13.3911V17.6462C11.5 18.6907 12.3467 19.5374 13.3911 19.5374H19.7265C20.771 19.5374 21.6176 18.6907 21.6176 17.6462V13.3911C21.6176 12.3467 20.771 11.5 19.7265 11.5H13.3911Z"/><path d="M6.18951 6.88123C5.98304 6.88123 5.81567 7.0486 5.81567 7.25506V10.6195C5.81567 10.826 5.98304 10.9934 6.18951 10.9934C6.39597 10.9934 6.56334 10.826 6.56334 10.6195V8.15757L10.6022 12.1964C10.7482 12.3424 10.9849 12.3424 11.1309 12.1964C11.2769 12.0504 11.2769 11.8137 11.1309 11.6677L7.09202 7.62889L9.55399 7.62889C9.76045 7.62889 9.92782 7.46152 9.92782 7.25506C9.92782 7.0486 9.76045 6.88123 9.55399 6.88123L6.18951 6.88123Z"/></svg>',signal_1:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 16h2v5H3z"></path></svg>',signal_2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 16h2v5H3zm4-3h2v8H7z"></path></svg>',signal_3:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 16h2v5H3zm4-3h2v8H7zm4-3h2v11h-2z"></path></svg>',signal_4:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 16h2v5H3zm4-3h2v8H7zm4-3h2v11h-2zm4-3h2v14h-2z"></path></svg>',signal_5:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 16h2v5H3zm4-3h2v8H7zm4-3h2v11h-2zm4-3h2v14h-2zm4-3h2v17h-2z"></path></svg>',start_livestream:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="M6.343 4.938a1 1 0 0 1 0 1.415a8.003 8.003 0 0 0 0 11.317a1 1 0 1 1-1.415 1.414c-3.906-3.906-3.906-10.24 0-14.146a1 1 0 0 1 1.415 0Zm12.731 0c3.906 3.907 3.906 10.24 0 14.146a1 1 0 0 1-1.414-1.414a8.003 8.003 0 0 0 0-11.317a1 1 0 0 1 1.414-1.415ZM9.31 7.812a1 1 0 0 1 0 1.414a3.92 3.92 0 0 0 0 5.544a1 1 0 1 1-1.414 1.414a5.92 5.92 0 0 1 0-8.372a1 1 0 0 1 1.414 0Zm6.959 0a5.92 5.92 0 0 1 0 8.372a1 1 0 0 1-1.415-1.414a3.92 3.92 0 0 0 0-5.544a1 1 0 0 1 1.415-1.414Zm-4.187 2.77a1.5 1.5 0 1 1 0 3a1.5 1.5 0 0 1 0-3Z"/></svg>',stop_livestream:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill="currentColor" d="M2.854 2.146a.5.5 0 1 0-.708.708l1.811 1.81A8.218 8.218 0 0 0 2 10a8.228 8.228 0 0 0 2.604 6.015a.725.725 0 0 0 1.01-.025c.316-.316.277-.819-.027-1.11A6.73 6.73 0 0 1 3.5 10c0-1.62.57-3.107 1.522-4.27l.712.71A5.726 5.726 0 0 0 4.5 10c0 1.691.73 3.213 1.893 4.264a.713.713 0 0 0 .983-.037c.328-.328.267-.844-.041-1.134A4.238 4.238 0 0 1 6 10c0-.93.298-1.789.804-2.489l1.842 1.842a1.5 1.5 0 0 0 2 2l6.5 6.5a.5.5 0 0 0 .708-.707l-1.811-1.81l-1.065-1.066l-.712-.71l-1.07-1.072l-1.842-1.841l-2-2L7.4 6.693l-.942-.942l-.82-.82l-.944-.944l-1.841-1.842Zm13.794 12.38A8.212 8.212 0 0 0 18 10c0-2.283-.928-4.35-2.426-5.843a.726.726 0 0 0-1.027.01c-.31.31-.28.8.01 1.095A6.727 6.727 0 0 1 16.5 10a6.718 6.718 0 0 1-.94 3.438l1.088 1.089Zm-1.822-1.822A5.73 5.73 0 0 0 15.5 10a5.733 5.733 0 0 0-1.706-4.087a.714.714 0 0 0-1.008.016c-.319.318-.272.816.014 1.111A4.235 4.235 0 0 1 14 10c0 .557-.107 1.09-.302 1.577l1.128 1.127Z"/></svg>',viewers:'<svg fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 9.005a4 4 0 1 1 0 8 4 4 0 0 1 0-8Zm0 1.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5ZM12 5.5c4.613 0 8.596 3.15 9.701 7.564a.75.75 0 1 1-1.455.365 8.503 8.503 0 0 0-16.493.004.75.75 0 0 1-1.455-.363A10.003 10.003 0 0 1 12 5.5Z" fill="currentColor"/></svg>',debug:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m10.05 15.42 6.256-8.476a.694.694 0 0 1 1.235.57l-.03.098-3.87 9.8a2.07 2.07 0 1 1-3.737-1.766l.069-.115.076-.11 6.257-8.477-6.257 8.476Zm2.05-4.549-1.226 1.66a3.32 3.32 0 0 0-2.29 3.024.75.75 0 0 1-1.5-.063A4.819 4.819 0 0 1 9.14 11.74c.9-.631 1.942-.911 2.961-.87Zm4.167 2.752c.28.586.436 1.22.463 1.866a.75.75 0 0 1-1.376.444l.913-2.31Zm-2.233-5.37-.969 1.311a6.22 6.22 0 0 0-4.736 1.02 6.208 6.208 0 0 0-2.419 3.39.75.75 0 0 1-1.442-.412 7.708 7.708 0 0 1 3-4.207 7.724 7.724 0 0 1 6.566-1.102Zm3.51 2.138c.25.267.486.556.702.865a7.727 7.727 0 0 1 1.097 2.288.75.75 0 0 1-1.44.417 6.23 6.23 0 0 0-.885-1.845l-.102-.138.627-1.587ZM15.98 5.852l-.088.054c-.123.082-.236.18-.337.295l-.096.12-.54.732a9.138 9.138 0 0 0-8.261 1.146A9.103 9.103 0 0 0 3.38 12.37a.75.75 0 1 1-1.398-.543A10.603 10.603 0 0 1 5.799 6.97 10.642 10.642 0 0 1 15.98 5.852Zm2.629 1.562a10.646 10.646 0 0 1 2.022 2.171c.49.702.892 1.451 1.199 2.235a.75.75 0 1 1-1.397.547 9.188 9.188 0 0 0-2.327-3.405l.381-.964c.076-.19.115-.388.122-.584Z" fill="currentColor"/></svg>',info:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 1.999c5.524 0 10.002 4.478 10.002 10.002 0 5.523-4.478 10.001-10.002 10.001-5.524 0-10.002-4.478-10.002-10.001C1.998 6.477 6.476 1.999 12 1.999Zm0 1.5a8.502 8.502 0 1 0 0 17.003A8.502 8.502 0 0 0 12 3.5Zm-.004 7a.75.75 0 0 1 .744.648l.007.102.003 5.502a.75.75 0 0 1-1.493.102l-.007-.101-.003-5.502a.75.75 0 0 1 .75-.75ZM12 7.003a.999.999 0 1 1 0 1.997.999.999 0 0 1 0-1.997Z" fill="currentColor"/></svg>',devices:'<svg fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm5.5-8.5V9a5.5 5.5 0 1 0-11 0v1H9a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H6.5v.25a2.25 2.25 0 0 0 2.096 2.245l.154.005h1.128a2.251 2.251 0 1 1 0 1.5H8.75a3.75 3.75 0 0 1-3.745-3.55L5 16.25V9a7 7 0 0 1 14 0v5a2 2 0 0 1-1.85 1.995L17 16h-2a1 1 0 0 1-.993-.883L14 15v-4a1 1 0 0 1 .883-.993L15 10h2.5Zm-9 1.5h-2v3h2v-3Zm9 0h-2v3H17a.5.5 0 0 0 .492-.41L17.5 14v-2.5Z" fill="currentColor"/></svg>',horizontal_dots:'<svg fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM18 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill="currentColor"/></svg>',ai_sparkle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 49 48" fill="none"><path fill="#F13E1B" d="m30.023 15.96.07.016a1.362 1.362 0 0 1 .657 2.068c-.163.23-.392.403-.658.497l-3.444 1.118a7.095 7.095 0 0 0-4.495 4.492l-1.12 3.442a1.357 1.357 0 0 1-1.267.907h-.016a1.361 1.361 0 0 1-1.283-.907l-1.12-3.442a7.091 7.091 0 0 0-4.495-4.509l-3.444-1.119a1.36 1.36 0 0 1 0-2.564l3.444-1.118a7.097 7.097 0 0 0 4.427-4.492l1.119-3.442a1.36 1.36 0 0 1 2.566 0l1.12 3.442a7.09 7.09 0 0 0 4.495 4.492l3.444 1.118Zm9.195 16.007-2.755-.894a5.678 5.678 0 0 1-3.596-3.594l-.896-2.753a1.087 1.087 0 0 0-2.053 0l-.895 2.753a5.672 5.672 0 0 1-3.541 3.594l-2.756.894a1.088 1.088 0 0 0 0 2.052l2.756.895a5.675 5.675 0 0 1 3.596 3.607l.896 2.753a1.088 1.088 0 0 0 2.052 0l.896-2.753a5.672 5.672 0 0 1 3.596-3.594l2.756-.894a1.088 1.088 0 0 0 0-2.052l-.056-.014Z"/><path fill="#2160FD" d="m39.218 31.967-2.755-.894a5.677 5.677 0 0 1-3.596-3.594l-.896-2.753a1.087 1.087 0 0 0-2.053 0l-.895 2.753a5.672 5.672 0 0 1-3.541 3.594l-2.756.894a1.088 1.088 0 0 0 0 2.052l2.756.895a5.675 5.675 0 0 1 3.596 3.607l.896 2.753a1.088 1.088 0 0 0 2.052 0l.896-2.753a5.672 5.672 0 0 1 3.596-3.594l2.756-.894a1.088 1.088 0 0 0 0-2.052l-.056-.014Z"/></svg>',meeting_ai:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" fill="none"><path fill="#F13E1B" d="M9.111 12.888a4.98 4.98 0 0 0-1.075-.8l-.04.048a4.651 4.651 0 0 0-.903-.424l-2.446-.8a.963.963 0 0 1-.467-.356.953.953 0 0 1 0-1.116.955.955 0 0 1 .467-.352l2.446-.8A5.088 5.088 0 0 0 9.04 7.06a5.048 5.048 0 0 0 1.2-1.904l.02-.064.799-2.444A.97.97 0 0 1 11.969 2a.97.97 0 0 1 .91.648l.8 2.444a5.147 5.147 0 0 0 1.219 1.976 5.042 5.042 0 0 0 1.974 1.2l2.45.8h.048c.188.067.351.19.468.352.115.164.176.36.175.56.001.2-.06.396-.175.56a1 1 0 0 1-.468.352l-2.446.8a5.067 5.067 0 0 0-1.978 1.2 5.096 5.096 0 0 0-1.199 1.976l-.8 2.448-.023.06a1.02 1.02 0 0 1-.184.284.967.967 0 0 1-.703.3 1 1 0 0 1-.927-.644l-.8-2.448a5.11 5.11 0 0 0-.799-1.508 5.16 5.16 0 0 0-.4-.472Zm10.434 5.396a.492.492 0 0 1 .176-.236.473.473 0 0 1 .1-.048.466.466 0 0 1 .168-.04c.1 0 .197.031.28.088l.091.072a.456.456 0 0 1 .096.164l.4 1.224c.124.372.332.71.607.988.278.276.616.484.987.608l1.223.4h.028l.084.04a.536.536 0 0 1 .148.136c.056.082.087.18.088.28a.484.484 0 0 1-.32.456l-1.227.4a2.528 2.528 0 0 0-1.595 1.6l-.399 1.224a.46.46 0 0 1-.176.232.464.464 0 0 1-.28.088.475.475 0 0 1-.455-.32l-.4-1.224a2.507 2.507 0 0 0-.611-.992 2.487 2.487 0 0 0-.987-.612l-1.223-.4a.48.48 0 0 1 0-.908l1.223-.4c.367-.128.7-.337.975-.612.137-.142.257-.3.36-.468.1-.162.18-.335.24-.516l.399-1.224Z"/><path fill="currentColor" d="M19.545 18.284a.492.492 0 0 1 .176-.236.469.469 0 0 1 .1-.048.466.466 0 0 1 .168-.04c.1 0 .197.031.28.088l.091.072a.456.456 0 0 1 .096.164l.4 1.224c.124.372.332.71.607.988.279.276.616.484.988.608l1.222.4h.028l.084.04a.534.534 0 0 1 .148.136c.057.082.087.18.088.28a.484.484 0 0 1-.32.456l-1.227.4a2.528 2.528 0 0 0-1.595 1.6l-.399 1.224a.46.46 0 0 1-.175.232.464.464 0 0 1-.28.088.475.475 0 0 1-.456-.32l-.4-1.224a2.509 2.509 0 0 0-.61-.992 2.487 2.487 0 0 0-.988-.612l-1.223-.4a.48.48 0 0 1 0-.908l1.223-.4c.367-.128.7-.337.975-.612a2.7 2.7 0 0 0 .36-.468c.1-.162.18-.335.24-.516l.4-1.224Z"/></svg>',create_channel:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"><path fill="currentColor" d="M2 14.75A3.25 3.25 0 0 0 5.25 18H6v2.75a1.25 1.25 0 0 0 1.999 1l2.125-1.59.396-1.583c.071-.286.177-.56.312-.82L7.5 20.252 7.499 16.5H5.25a1.75 1.75 0 0 1-1.75-1.75v-8.5c0-.966.784-1.75 1.75-1.75h13.5c.966 0 1.75.784 1.75 1.75v3.845a3.27 3.27 0 0 1 1.5.83V6.25A3.25 3.25 0 0 0 18.75 3H5.25A3.25 3.25 0 0 0 2 6.25v8.5Z"/><path fill="currentColor" d="m18.098 11.67-5.902 5.902a2.684 2.684 0 0 0-.707 1.247l-.458 1.831a1.087 1.087 0 0 0 1.319 1.318l1.83-.457a2.685 2.685 0 0 0 1.248-.707l5.902-5.902a2.285 2.285 0 1 0-3.232-3.232Z"/></svg>',create_channel_illustration:'<svg width="503" height="362" viewBox="0 0 503 362" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M93.3477 192.893C93.3477 190.684 95.1385 188.893 97.3477 188.893H476C478.209 188.893 480 190.684 480 192.893V311.824C480 314.033 478.209 315.824 476 315.824H469.354C467.145 315.824 465.354 317.615 465.354 319.824V339.364C465.354 342.928 461.045 344.712 458.525 342.193L433.328 316.996C432.578 316.245 431.561 315.824 430.5 315.824H97.3477C95.1385 315.824 93.3477 314.033 93.3477 311.824V192.893Z" fill="#282828"/> <path d="M306.606 230.9H136.121C134.648 230.9 133.453 232.095 133.453 233.568C133.453 235.041 134.648 236.236 136.121 236.236H306.606C308.079 236.236 309.274 235.041 309.274 233.568C309.274 232.095 308.079 230.9 306.606 230.9Z" fill="#2160FD"/> <path d="M437.226 249.358H136.121C134.648 249.358 133.453 250.553 133.453 252.026C133.453 253.499 134.648 254.694 136.121 254.694H437.226C438.7 254.694 439.894 253.499 439.894 252.026C439.894 250.553 438.7 249.358 437.226 249.358Z" fill="#5C5C5C"/> <path d="M436.926 267.816H136.121C134.648 267.816 133.453 269.011 133.453 270.484C133.453 271.957 134.648 273.152 136.121 273.152H436.926C438.4 273.152 439.594 271.957 439.594 270.484C439.594 269.011 438.399 267.816 436.926 267.816Z" fill="#5C5C5C"/> <path d="M411.652 23C411.652 20.7909 409.861 19 407.652 19H29C26.7909 19 25 20.7909 25 23V141.931C25 144.14 26.7909 145.931 29 145.931H35.646C37.8551 145.931 39.646 147.722 39.646 149.931V169.472C39.646 173.036 43.9546 174.82 46.4745 172.3L71.6714 147.103C72.4216 146.352 73.439 145.931 74.4999 145.931H407.652C409.861 145.931 411.652 144.14 411.652 141.931V23Z" fill="#282828"/> <path d="M241.188 61.9839H70.703C69.2296 61.9839 68.0352 63.1783 68.0352 64.6517C68.0352 66.1252 69.2296 67.3196 70.703 67.3196H241.188C242.662 67.3196 243.856 66.1252 243.856 64.6517C243.856 63.1783 242.662 61.9839 241.188 61.9839Z" fill="#2160FD"/> <path d="M371.808 80.4419H70.703C69.2296 80.4419 68.0352 81.6363 68.0352 83.1098C68.0352 84.5832 69.2296 85.7776 70.703 85.7776H371.808C373.282 85.7776 374.476 84.5832 374.476 83.1098C374.476 81.6363 373.282 80.4419 371.808 80.4419Z" fill="#5C5C5C"/> <path d="M371.508 98.8999H70.703C69.2296 98.8999 68.0352 100.094 68.0352 101.568C68.0352 103.041 69.2296 104.236 70.703 104.236H371.508C372.982 104.236 374.176 103.041 374.176 101.568C374.176 100.094 372.982 98.8999 371.508 98.8999Z" fill="#5C5C5C"/> </svg>',captionsOn:'<svg width="24" height="24" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18.75 4A3.25 3.25 0 0 1 22 7.25v9.505a3.25 3.25 0 0 1-3.25 3.25H5.25A3.25 3.25 0 0 1 2 16.755V7.25a3.25 3.25 0 0 1 3.066-3.245L5.25 4h13.5Zm0 1.5H5.25l-.144.006A1.75 1.75 0 0 0 3.5 7.25v9.505c0 .966.784 1.75 1.75 1.75h13.5a1.75 1.75 0 0 0 1.75-1.75V7.25a1.75 1.75 0 0 0-1.75-1.75ZM5.5 12c0-3.146 2.713-4.775 5.122-3.401A.75.75 0 0 1 9.878 9.9C8.481 9.104 7 9.994 7 12c0 2.005 1.484 2.896 2.88 2.103a.75.75 0 0 1 .74 1.304C8.216 16.775 5.5 15.143 5.5 12Zm7.5 0c0-3.146 2.713-4.775 5.122-3.401a.75.75 0 0 1-.744 1.302C15.981 9.104 14.5 9.994 14.5 12c0 2.005 1.484 2.896 2.88 2.103a.75.75 0 0 1 .74 1.304C15.716 16.775 13 15.143 13 12Z" fill="currentColor"/></svg>',captionsOff:'<svg width="24" height="24" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3.28 2.22a.75.75 0 0 0-1.06 1.06l1.25 1.25A3.247 3.247 0 0 0 2 7.25v9.505a3.25 3.25 0 0 0 3.25 3.25h13.5c.063 0 .126-.002.188-.006l1.781 1.781a.75.75 0 0 0 1.061-1.06L3.28 2.22Zm14.164 16.284H5.25a1.75 1.75 0 0 1-1.75-1.75V7.25c0-.727.443-1.35 1.074-1.615l2.828 2.828C6.292 9.043 5.5 10.3 5.5 12c0 3.143 2.715 4.775 5.12 3.406a.75.75 0 0 0-.74-1.303C8.483 14.896 7 14.005 7 12c0-1.37.69-2.22 1.573-2.366l8.87 8.87Zm2.986-1.256c.045-.157.07-.322.07-.494V7.25a1.75 1.75 0 0 0-1.75-1.75H8.682L7.182 4H18.75A3.25 3.25 0 0 1 22 7.25v9.505c0 .593-.159 1.148-.436 1.627l-1.134-1.134Zm-5.877-5.877-1.197-1.197c.813-1.888 2.882-2.65 4.766-1.575a.75.75 0 0 1-.744 1.302c-1.241-.708-2.549-.085-2.825 1.47Z" fill="currentColor"/></svg>',play:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M8 5v14l11-7z" /></svg>',pause:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M6 4 H9 V20 H6 Z" /><path d="M15 4 H18 V20 H15 Z" /></svg>',fastForward:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 24" fill="currentColor"><path d="M4 5v14l11-7-11-7zm13 0v14l11-7-11-7z"/></svg>',minimize:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21.778 2.223a.75.75 0 0 1 .072.976l-.072.084-6.223 6.224h5.693a.75.75 0 0 1 .743.65l.007.1a.75.75 0 0 1-.649.744l-.101.007-7.55-.002-.016-.002a.727.727 0 0 1-.195-.042l-.098-.046a.747.747 0 0 1-.386-.553l-.007-.105V2.754a.75.75 0 0 1 1.493-.102l.007.102v5.69l6.222-6.221a.749.749 0 0 1 1.06 0ZM11.003 13.755v7.504a.75.75 0 0 1-1.494.102l-.007-.102v-5.695L3.28 21.78a.75.75 0 0 1-1.133-.977l.073-.084 6.22-6.214H2.751a.75.75 0 0 1-.743-.648L2 13.755a.75.75 0 0 1 .75-.75l7.554.002.074.009.097.023.053.019.086.04.089.058a.761.761 0 0 1 .148.148l.066.106.041.094.022.07.01.055.007.058v-.008l.005.076Z" fill="currentColor"/></svg>',maximize:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.748 3.001h7.554l.1.014.099.028.061.026a.72.72 0 0 1 .218.15l.04.044.061.082.037.065.039.09.02.064.013.064.009.093v7.534a.75.75 0 0 1-1.493.102l-.006-.102-.001-5.696-13.94 13.945h5.69a.75.75 0 0 1 .744.65l.007.1a.75.75 0 0 1-.649.744l-.101.007H3.714L3.684 21a.705.705 0 0 1-.187-.04l-.09-.038-.018-.01a.746.746 0 0 1-.384-.553l-.007-.105V12.75a.75.75 0 0 1 1.493-.102l.007.102v5.692L18.438 4.5l-5.69.001a.75.75 0 0 1-.743-.648l-.007-.102a.75.75 0 0 1 .648-.743L12.748 3Z" fill="currentColor"/></svg>'},Wt={get:(e,t,i)=>(...a)=>{try{return Reflect.get(e,t,i).apply(e,a)}catch(s){return null}}};let Yt;try{Yt=new Proxy(localStorage,Wt)}catch(Vk){Yt=new Proxy({},Wt)}const Qt=Yt,Jt="dyte-prefs",Xt=(e,t)=>{const i=JSON.parse(Qt.getItem(Jt)||"{}");i[e]=JSON.stringify(t),Qt.setItem("dyte-prefs",JSON.stringify(i))},ei=e=>JSON.parse(Qt.getItem(Jt)||"{}")[e],ti=()=>{const e=JSON.parse(Qt.getItem(Jt)||"{}");return{mirrorVideo:!e["mirror-video"]||"true"===e["mirror-video"],muteNotificationSounds:!!e["mute-notification-sounds"]&&"true"===e["mute-notification-sounds"]}},ii={},ai=((e,t)=>{const i=((e,t=(e,t)=>e!==t)=>{const i=Vt(e);let a=new Map(Object.entries(i??{}));const s={dispose:[],get:[],set:[],reset:[]},r=()=>{a=new Map(Object.entries(Vt(e)??{})),s.reset.forEach((e=>e()))},n=e=>(s.get.forEach((t=>t(e))),a.get(e)),o=(e,i)=>{const r=a.get(e);t(i,r,e)&&(a.set(e,i),s.set.forEach((t=>t(e,i,r))))},d="undefined"==typeof Proxy?{}:new Proxy(i,{get:(e,t)=>n(t),ownKeys:e=>Array.from(a.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(e,t)=>a.has(t),set:(e,t,i)=>(o(t,i),!0)}),c=(e,t)=>(s[e].push(t),()=>{Gt(s[e],t)});return{state:d,get:n,set:o,on:c,onChange:(t,i)=>{const a=c("set",((e,a)=>{e===t&&i(a)})),s=c("reset",(()=>i(Vt(e)[t])));return()=>{a(),s()}},use:(...e)=>{const t=e.reduce(((e,t)=>(t.set&&e.push(c("set",t.set)),t.get&&e.push(c("get",t.get)),t.reset&&e.push(c("reset",t.reset)),t.dispose&&e.push(c("dispose",t.dispose)),e)),[]);return()=>t.forEach((e=>e()))},dispose:()=>{s.dispose.forEach((e=>e())),r()},reset:r,forceUpdate:e=>{const t=a.get(e);s.set.forEach((i=>i(e,t,t)))}}})(e,t);return i.use((()=>{const e=new Map;return{dispose:()=>e.clear(),get:t=>{const i=De();i&&((e,t,i)=>{const a=e.get(t);a?a.includes(i)||a.push(i):e.set(t,[i])})(e,t,i)},set:t=>{const i=e.get(t);i&&e.set(t,i.filter(Oe)),Ht(e)},reset:()=>{e.forEach((e=>e.forEach(Oe))),Ht(e)}}})()),i})({meeting:void 0,t:Zt(),iconPack:Kt,states:{meeting:"idle",prefs:ti()},config:zt,size:void 0}),si=new Map;ai.use({set:(e,t,i)=>{const a=si.get(e);a&&si.set(e,a.filter((a=>a[e]===i&&(a[e]=t,!0))))}});const ri=ai.state;function ni(){return function(e,t){const{connectedCallback:i,disconnectedCallback:a}=e;e.connectedCallback=function(){const e=Y(this);if(!e[t]){const i=ai.state[t];e[t]=i,function(e,t){const i=si.get(e);i?i.push(t):si.set(e,[t])}(t,e)}return null==i?void 0:i.call(this)},e.disconnectedCallback=function(){return function(e,t){const i=si.get(e);if(i&&i.length>0){const a=i.indexOf(t);-1!==a&&(i.splice(a,1),si.set(e,i))}}(t,Y(this)),null==a?void 0:a.call(this)}}}const oi=(e,t=20)=>null==e?"":e.length>t?`${e.substring(0,t)}...`:e,di=e=>/^\p{Emoji}+$/u.test(e)&&!/^\d+$/.test(e),ci=e=>(null==e?void 0:e.trim().toLowerCase().startsWith("javascript:"))?"https://dyte.io":e,li=e=>""===(e=null==e?void 0:e.trim())?"Participant":e,hi=new RegExp(/[^\u00BF-\u1FFF\u2C00-\uD7FF\w\s]/,"g"),pi=new RegExp(/\s+/);function gi(e,t=2){return e.replace(hi,"").trim().split(pi).slice(0,t).map((e=>e.charAt(0))).join("").toUpperCase()}const ui="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g;var fi="object"==typeof self&&self&&self.Object===Object&&self;const mi=ui||fi||Function("return this")();const vi=mi.Symbol;var yi=Object.prototype,bi=yi.hasOwnProperty,wi=yi.toString,xi=vi?vi.toStringTag:void 0;var ki=Object.prototype.toString;var Si=vi?vi.toStringTag:void 0;function Ci(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Si&&Si in Object(e)?function(e){var t=bi.call(e,xi),i=e[xi];try{e[xi]=void 0;var a=!0}catch(r){}var s=wi.call(e);return a&&(t?e[xi]=i:delete e[xi]),s}(e):function(e){return ki.call(e)}(e)}function _i(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Pi(e){return null!=e&&"object"==typeof e}var Li=/\s/;var Ei=/^\s+/;function Ti(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&Li.test(e.charAt(t)););return t}(e)+1).replace(Ei,""):e}var Ai=/^[-+]0x[0-9a-f]+$/i,Ri=/^0b[01]+$/i,Mi=/^0o[0-7]+$/i,Di=parseInt;function Ii(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||Pi(e)&&"[object Symbol]"==Ci(e)}(e))return NaN;if(_i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=_i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Ti(e);var i=Ri.test(e);return i||Mi.test(e)?Di(e.slice(2),i?2:8):Ai.test(e)?NaN:+e}const Oi=function(){return mi.Date.now()};var $i=Math.max,Ui=Math.min;function ji(e,t,i){var a,s,r,n,o,d,c=0,l=!1,h=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var i=a,r=s;return a=s=void 0,c=t,n=e.apply(r,i)}function u(e){var i=e-d;return void 0===d||i>=t||i<0||h&&e-c>=r}function f(){var e=Oi();if(u(e))return m(e);o=setTimeout(f,function(e){var i=t-(e-d);return h?Ui(i,r-(e-c)):i}(e))}function m(e){return o=void 0,p&&a?g(e):(a=s=void 0,n)}function v(){var e=Oi(),i=u(e);if(a=arguments,s=this,d=e,i){if(void 0===o)return function(e){return c=e,o=setTimeout(f,t),l?g(e):n}(d);if(h)return clearTimeout(o),o=setTimeout(f,t),g(d)}return void 0===o&&(o=setTimeout(f,t)),n}return t=Ii(t)||0,_i(i)&&(l=!!i.leading,r=(h="maxWait"in i)?$i(Ii(i.maxWait)||0,t):r,p="trailing"in i?!!i.trailing:p),v.cancel=function(){void 0!==o&&clearTimeout(o),c=0,a=d=s=o=void 0},v.flush=function(){return void 0===o?n:m(Oi())},v}const Fi=e=>{let t=null;try{const i=JSON.parse(e.message),{target:a,message:s}=i;t=void 0===a||void 0===s?e:Object.assign(Object.assign({},e),{targetUserIds:a,message:s})}catch(i){t=e}return t};function Ni(e,t){return e.localeCompare(t)}function zi(e){return e.sort(((e,t)=>e.localeCompare(t))).join("_")}function Bi(e,t){if(null==e)return!0;for(const i of e)if("file"===i.kind){const e=i.getAsFile();i.type.startsWith("image/")?t("image",e):t("file",e)}}const Hi="dm__";function Vi(e){return e.isDirectMessage}function Gi(e){return[...new Set(e)].sort(Ni).join("<>")}function qi(e){return e.split("").reverse().join("")}const Zi=/^\*([^*\s]+)\*/,Ki=/^_([^_\s]+)_/,Wi=/^~([^~\s]+)~/,Yi=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.,~#?&//=]*)/,Qi=/<blockquote>[.\s\S]*<\/blockquote>\n\n/m;function Ji(e,t=!1){if(!Qi.test(e))return"";let i=0,a=13;return t&&(i=12,a=0),e.substring(e.indexOf("<blockquote>")+i,e.indexOf("</blockquote>")+a)}function Xi(e){return e.replace(Qi,"")}const ea=2e3,ta=["<a>","<b>","<i>","<q>","<s>"];function ia(e){e=(e=e.split(" ").map((e=>{if(Yi.test(e)){const t=Yi.exec(e);e=e.replace(t[0],`<a>${t[0]}</a>`)}else{if(Zi.test(e)){const t=Zi.exec(e);e=e.replace(t[0],`<b>${t[1]}</b>`)}if(Ki.test(e)){const t=Ki.exec(e);e=e.replace(t[0],`<i>${t[1]}</i>`)}if(Wi.test(e)){const t=Wi.exec(e);e=e.replace(t[0],`<s>${t[1]}</s>`)}}return e})).join(" ")).split(" ").map(((e,t)=>">"!==e||0!==t&&">"!==e[t-1]?e:"<q></q>")).join(" ");const[t]=aa(e);return t}function aa(e,t=""){const i=[];if(0===e.length)return[i,0];let a=0;for(;a<e.length;){if(t.length&&t===e.substring(a,a+t.length))return[i,a+t.length];if(ta.includes(e.substring(a,a+3))){const[t,s]=aa(e.substring(a+3),`</${e[a+1]}>`);i.push({type:e[a+1],content:1===t.length&&"plain_text"===t[0].type?t[0].content:t}),a+=s+3}else{let t=i[i.length-1];t&&"plain_text"===t.type||(i.push({type:"plain_text",content:""}),t=i[i.length-1]),t.content+=e[a],a++}}return[i,a]}const sa=(e,t)=>{const i=t.getTime()-e.getTime();return Math.round(Math.abs(i/1e3/60))},ra=(e,t)=>{const i=sa(e,t);if(i<2)return"just now";if(i<60)return`${i}m ago`;const a=Math.round(i/60);if(i<90)return`about ${a}h ago`;if(a<24)return`${a}h ago`;const s=Math.round(a/24);if(s<7)return`${s}d ago`;return`${Math.round(s/7)}w ago`},na=e=>e.toDateString()+" "+e.toLocaleTimeString(),oa=({name:e,time:t,now:i})=>H("div",{class:"head"},H("div",{class:"name"},oi(li(e),20)),H("div",{class:"time",title:na(t)},ra(t,i))),da=(e,t=!0)=>{null!=e&&e.scrollTo({top:e.scrollHeight,behavior:t?"smooth":"auto"})},ca=({element:e,size:t,states:i={},config:a={}})=>{let s=[];const r=null==a?void 0:a.root[e],n=e=>{s.push(e),"string"==typeof t&&s.push(`${e}.${t}`)};if(n(e),"object"==typeof r&&!Array.isArray(r)&&null!==r){const{state:t,states:a}=r;let s=e,o=[];if(Array.isArray(a)){o=a.filter((e=>i[e])),o.sort();for(const e of o)n(`${s}.${e}`);if(o.length>1){n([s,...o].join("."))}}if("string"==typeof t){const a=`${e}[${t}=${i[t]}]`;n(a);for(const e of o)n(`${a}.${e}`);if(o.length>1){n([a,...o].join("."))}}}return s},la=({selectors:e,root:t})=>{if(!t||!Array.isArray(e))return[];let i=[];for(const a of e){const e=t[a];if(Array.isArray(e))i=[...e];else if(e){if(e.children&&(i=[...e.children]),Array.isArray(e.remove))for(const t of e.remove)i=i.filter((e=>"string"==typeof e?e!==t:!Array.isArray(e)||e[0]!==t));if(e.addBefore)for(const[t,a]of Object.entries(e.addBefore)){const e=i.findIndex((e=>"string"==typeof e?e===t:!!Array.isArray(e)&&e[0]===t));e>=0&&i.splice(e,0,...a)}Array.isArray(e.add)&&(i=i.concat(e.add)),Array.isArray(e.prepend)&&(i=e.prepend.concat(i))}}return i},ha=({elements:e,defaults:t,props:i={},deepProps:a=!1,elementProps:s={}})=>Array.isArray(e)&&0!==e.length?e.map((e=>H(pa,{element:e,defaults:t,props:i,childProps:a&&i,elementProps:s}))):null,pa=({element:e,defaults:t,childProps:i={},props:a={},onlyChildren:s=!1,asHost:r=!1,deepProps:n=!1,elementProps:o={}},d)=>{var c;const{config:l,size:h,states:p}=t;let g,u={},f=[];Array.isArray(e)?[g,u,...f]=e:g=e;const m=null===(c=null==l?void 0:l.root)||void 0===c?void 0:c[g];null!=m&&"props"in m&&(a=Object.assign(Object.assign({},m.props),a)),a=Object.assign(Object.assign({},a),u),g in o&&(a=Object.assign(Object.assign({},a),o[g]));const v=ca({element:g,size:h,states:p,config:l}),y=la({selectors:v,root:l.root});if(s)return H(ha,{elements:y,defaults:t,props:i,deepProps:n,elementProps:o});const b=(({selectors:e,styles:t})=>{if(!Array.isArray(e)||null==t)return{};const i={};for(const a of e){const e=t[a];null!=e&&Object.assign(i,e)}return i})({selectors:v,styles:l.styles});if(r)return H(G,Object.assign({},t,{style:b},a),H(ha,{elements:y,defaults:t,props:i,deepProps:n,elementProps:o}),d,f.map((e=>{if(Array.isArray(e)){const[i,a]=e;return H(i,Object.assign({},t,a))}return e})));if(["dyte-header","dyte-controlbar"].includes(g)&&(a.disableRender=!0),g.startsWith("dyte-"))return H(g,Object.assign({},t,{style:b},a),H(ha,{elements:y,defaults:t,props:i,deepProps:n,elementProps:o}),d,f.map((e=>{if(Array.isArray(e)){const[i,a]=e;return H(i,Object.assign({},t,a))}return e})));{const[e,s]=g.split("#");return H(e,Object.assign({id:s,style:b},a),H(ha,{elements:y,defaults:t,props:i,deepProps:n,elementProps:o}),d,f.map((e=>{if(Array.isArray(e)){const[i,a]=e;return H(i,Object.assign({},t,a))}return e})))}};function ga(e,t){return e===t||e!=e&&t!=t}function ua(e,t){for(var i=e.length;i--;)if(ga(e[i][0],t))return i;return-1}var fa=Array.prototype.splice;function ma(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var a=e[t];this.set(a[0],a[1])}}ma.prototype.clear=function(){this.__data__=[],this.size=0},ma.prototype.delete=function(e){var t=this.__data__,i=ua(t,e);return!(i<0)&&(i==t.length-1?t.pop():fa.call(t,i,1),--this.size,!0)},ma.prototype.get=function(e){var t=this.__data__,i=ua(t,e);return i<0?void 0:t[i][1]},ma.prototype.has=function(e){return ua(this.__data__,e)>-1},ma.prototype.set=function(e,t){var i=this.__data__,a=ua(i,e);return a<0?(++this.size,i.push([e,t])):i[a][1]=t,this};function va(e){if(!_i(e))return!1;var t=Ci(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}const ya=mi["__core-js_shared__"];var ba,wa=(ba=/[^.]+$/.exec(ya&&ya.keys&&ya.keys.IE_PROTO||""))?"Symbol(src)_1."+ba:"";var xa=Function.prototype.toString;function ka(e){if(null!=e){try{return xa.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var Sa=/^\[object .+?Constructor\]$/,Ca=Function.prototype,_a=Object.prototype,Pa=Ca.toString,La=_a.hasOwnProperty,Ea=RegExp("^"+Pa.call(La).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ta(e){return!(!_i(e)||(t=e,wa&&wa in t))&&(va(e)?Ea:Sa).test(ka(e));var t}function Aa(e,t){var i=function(e,t){return null==e?void 0:e[t]}(e,t);return Ta(i)?i:void 0}const Ra=Aa(mi,"Map");const Ma=Aa(Object,"create");var Da=Object.prototype.hasOwnProperty;var Ia=Object.prototype.hasOwnProperty;function Oa(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var a=e[t];this.set(a[0],a[1])}}function $a(e,t){var i,a,s=e.__data__;return("string"==(a=typeof(i=t))||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==i:null===i)?s["string"==typeof t?"string":"hash"]:s.map}function Ua(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var a=e[t];this.set(a[0],a[1])}}Oa.prototype.clear=function(){this.__data__=Ma?Ma(null):{},this.size=0},Oa.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Oa.prototype.get=function(e){var t=this.__data__;if(Ma){var i=t[e];return"__lodash_hash_undefined__"===i?void 0:i}return Da.call(t,e)?t[e]:void 0},Oa.prototype.has=function(e){var t=this.__data__;return Ma?void 0!==t[e]:Ia.call(t,e)},Oa.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=Ma&&void 0===t?"__lodash_hash_undefined__":t,this},Ua.prototype.clear=function(){this.size=0,this.__data__={hash:new Oa,map:new(Ra||ma),string:new Oa}},Ua.prototype.delete=function(e){var t=$a(this,e).delete(e);return this.size-=t?1:0,t},Ua.prototype.get=function(e){return $a(this,e).get(e)},Ua.prototype.has=function(e){return $a(this,e).has(e)},Ua.prototype.set=function(e,t){var i=$a(this,e),a=i.size;return i.set(e,t),this.size+=i.size==a?0:1,this};function ja(e){var t=this.__data__=new ma(e);this.size=t.size}ja.prototype.clear=function(){this.__data__=new ma,this.size=0},ja.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},ja.prototype.get=function(e){return this.__data__.get(e)},ja.prototype.has=function(e){return this.__data__.has(e)},ja.prototype.set=function(e,t){var i=this.__data__;if(i instanceof ma){var a=i.__data__;if(!Ra||a.length<199)return a.push([e,t]),this.size=++i.size,this;i=this.__data__=new Ua(a)}return i.set(e,t),this.size=i.size,this};var Fa=function(){try{var e=Aa(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();const Na=Fa;function za(e,t,i){"__proto__"==t&&Na?Na(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}var Ba="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ha=Ba&&e&&!e.nodeType&&e,Va=Ha&&Ha.exports===Ba?mi.Buffer:void 0,Ga=Va?Va.allocUnsafe:void 0;function qa(e,t){if(t)return e.slice();var i=e.length,a=Ga?Ga(i):new e.constructor(i);return e.copy(a),a}const Za=mi.Uint8Array;function Ka(e){var t=new e.constructor(e.byteLength);return new Za(t).set(new Za(e)),t}function Wa(e,t){var i=t?Ka(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}var Ya=Object.create;const Qa=function(){function e(){}return function(t){if(!_i(t))return{};if(Ya)return Ya(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}();function Ja(e,t){return function(i){return e(t(i))}}const Xa=Ja(Object.getPrototypeOf,Object);var es=Object.prototype;function ts(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||es)}function is(e){return"function"!=typeof e.constructor||ts(e)?{}:Qa(Xa(e))}function as(e){return Pi(e)&&"[object Arguments]"==Ci(e)}var ss=Object.prototype,rs=ss.hasOwnProperty,ns=ss.propertyIsEnumerable;const os=as(function(){return arguments}())?as:function(e){return Pi(e)&&rs.call(e,"callee")&&!ns.call(e,"callee")};const ds=Array.isArray;function cs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function ls(e){return null!=e&&cs(e.length)&&!va(e)}var hs="object"==typeof exports&&exports&&!exports.nodeType&&exports,ps=hs&&e&&!e.nodeType&&e,gs=ps&&ps.exports===hs?mi.Buffer:void 0;const us=(gs?gs.isBuffer:void 0)||function(){return!1};var fs={};function ms(e){return function(t){return e(t)}}fs["[object Float32Array]"]=fs["[object Float64Array]"]=fs["[object Int8Array]"]=fs["[object Int16Array]"]=fs["[object Int32Array]"]=fs["[object Uint8Array]"]=fs["[object Uint8ClampedArray]"]=fs["[object Uint16Array]"]=fs["[object Uint32Array]"]=!0,fs["[object Arguments]"]=fs["[object Array]"]=fs["[object ArrayBuffer]"]=fs["[object Boolean]"]=fs["[object DataView]"]=fs["[object Date]"]=fs["[object Error]"]=fs["[object Function]"]=fs["[object Map]"]=fs["[object Number]"]=fs["[object Object]"]=fs["[object RegExp]"]=fs["[object Set]"]=fs["[object String]"]=fs["[object WeakMap]"]=!1;var vs="object"==typeof exports&&exports&&!exports.nodeType&&exports,ys=vs&&e&&!e.nodeType&&e,bs=ys&&ys.exports===vs&&ui.process;const ws=function(){try{var e=ys&&ys.require&&ys.require("util").types;return e||bs&&bs.binding&&bs.binding("util")}catch(t){}}();var xs=ws&&ws.isTypedArray;const ks=xs?ms(xs):function(e){return Pi(e)&&cs(e.length)&&!!fs[Ci(e)]};var Ss=Object.prototype.hasOwnProperty;function Cs(e,t,i){var a=e[t];Ss.call(e,t)&&ga(a,i)&&(void 0!==i||t in e)||za(e,t,i)}var _s=/^(?:0|[1-9]\d*)$/;function Ps(e,t){var i=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==i||"symbol"!=i&&_s.test(e))&&e>-1&&e%1==0&&e<t}var Ls=Object.prototype.hasOwnProperty;function Es(e,t){var i=ds(e),a=!i&&os(e),s=!i&&!a&&us(e),r=!i&&!a&&!s&&ks(e),n=i||a||s||r,o=n?function(e,t){for(var i=-1,a=Array(e);++i<e;)a[i]=t(i);return a}(e.length,String):[],d=o.length;for(var c in e)!t&&!Ls.call(e,c)||n&&("length"==c||s&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ps(c,d))||o.push(c);return o}var Ts=Object.prototype.hasOwnProperty;function As(e){if(!_i(e))return function(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t}(e);var t=ts(e),i=[];for(var a in e)("constructor"!=a||!t&&Ts.call(e,a))&&i.push(a);return i}function Rs(e){return ls(e)?Es(e,!0):As(e)}const Ms=[0,.5,1,1.5,2,3,4,5,6,7,8,9,10,12,14,16,20,24,28,32,36,40,44,48,52,56,60,64,72,80,96],Ds={darkest:{background:{1e3:"#080808",900:"#1A1A1A",800:"#1E1E1E",700:"#2C2C2C",600:"#393939"},text:"#FFFFFF"},dark:{background:{1e3:"#252525",900:"#2F2F2F",800:"#323232",700:"#3E3E3E",600:"#4A4A4A"},text:"#F5F5F5","video-bg":"#1C1C1C"},light:{background:{1e3:"#FFFFFF",900:"#F5F5F5",800:"#EBEBEB",700:"#E0E0E0",600:"#D6D6D6"},text:"#111111","text-on-brand":"#ffffff","video-bg":"#DADADA"}},Is={none:{none:0,sm:0,md:0,lg:0},thin:{none:0,sm:1,md:2,lg:4},fat:{none:0,sm:2,md:4,lg:8}},Os={sharp:{none:0,sm:0,md:0,lg:0},rounded:{none:0,sm:4,md:8,lg:12},"extra-rounded":{none:0,sm:8,md:16,lg:24},circular:{none:9999,sm:9999,md:9999,lg:9999}};function $s(e){let t="0",i="0",a="0";return 4==(e=e.trim()).length?(t="0x"+e[1]+e[1],i="0x"+e[2]+e[2],a="0x"+e[3]+e[3]):e.length>6&&(t="0x"+e[1]+e[2],i="0x"+e[3]+e[4],a="0x"+e[5]+e[6]),[+t,+i,+a]}const Us=e=>"string"==typeof e&&7===e.length&&e.startsWith("#"),js="--dyte-";function Fs(e,t=js){return t+e}const Ns=(e,t,i=js)=>{Object.keys(t).forEach((a=>{const s=t[a];if("string"==typeof s)if("text"===a||"text-on-brand"===a){const t=$s(s).join(" ");e.style.setProperty(Fs(`colors-${a}-1000`,i),`${t}`),e.style.setProperty(Fs(`colors-${a}-900`,i),`${t} / 0.88`),e.style.setProperty(Fs(`colors-${a}-800`,i),`${t} / 0.76`),e.style.setProperty(Fs(`colors-${a}-700`,i),`${t} / 0.64`),e.style.setProperty(Fs(`colors-${a}-600`,i),`${t} / 0.52`)}else{const t=$s(s).join(" ");e.style.setProperty(Fs(`colors-${a}`,i),t)}else"object"==typeof s&&Object.keys(s).forEach((t=>{const r=$s(s[t]).join(" ");e.style.setProperty(Fs(`colors-${a}-${t}`,i),r)}))}))},zs=(e,{spacingBase:t,borderRadius:i,borderWidth:a,colors:s,fontFamily:r,googleFont:n,theme:o,tokenPrefix:d=js})=>{if("object"!=typeof e)throw new Error("[dyte-ui-kit] (provideDyteDesignSystem): Passed element is not a valid HTML Element");if("string"==typeof n&&((e=>{const t=[];if(null==document.querySelector("link[data-dyte-font]")){const e=document.createElement("link");e.rel="preconnect",e.setAttribute("data-dyte-font","true"),e.href="https://fonts.googleapis.com";const i=e.cloneNode(!0);i.href="https://fonts.gstatic.com",i.crossOrigin="",t.push(e,i)}const i=document.createElement("link");i.rel="stylesheet",i.setAttribute("data-dyte-font",e),i.href=encodeURI(`https://fonts.googleapis.com/css2?family=${e}:wght@${[400,500,700].join(";")}&display=swap`),t.push(i),document.head.append(...t)})(n),e.style.setProperty(Fs("font-family",d),n)),"string"==typeof r&&e.style.setProperty(Fs("font-family",d),r),"number"==typeof t&&((e,t,i=js)=>{Ms.forEach((a=>{e.style.setProperty(Fs(`space-${a}`,i),a*t+"px")}))})(e,t,d),"string"==typeof a&&((e,t,i=js)=>{if(t in Is){const a=Is[t];Object.keys(a).forEach((t=>{e.style.setProperty(Fs(`border-width-${t}`,i),`${a[t]}px`)}))}})(e,a,d),"string"==typeof i&&((e,t,i=js)=>{if(t in Os){const a=Os[t];Object.keys(a).forEach((t=>{e.style.setProperty(Fs(`border-radius-${t}`,i),`${a[t]}px`)}))}})(e,i,d),"string"==typeof o){const t=Ds[o];null!=t&&Ns(e,t,d)}"object"==typeof s&&Ns(e,s,d)};function Bs(e,t,i){(void 0!==i&&!ga(e[t],i)||void 0===i&&!(t in e))&&za(e,t,i)}var Hs=function(e,t,i){for(var a=-1,s=Object(e),r=i(e),n=r.length;n--;){var o=r[++a];if(!1===t(s[o],o,s))break}return e};const Vs=Hs;var Gs=Function.prototype,qs=Object.prototype,Zs=Gs.toString,Ks=qs.hasOwnProperty,Ws=Zs.call(Object);function Ys(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function Qs(e){return function(e,t,i){var a=!i;i||(i={});for(var s=-1,r=t.length;++s<r;){var n=t[s],o=void 0;void 0===o&&(o=e[n]),a?za(i,n,o):Cs(i,n,o)}return i}(e,Rs(e))}function Js(e,t,i,a,s,r,n){var o=Ys(e,i),d=Ys(t,i),c=n.get(d);if(c)Bs(e,i,c);else{var l,h=r?r(o,d,i+"",e,t,n):void 0,p=void 0===h;if(p){var g=ds(d),u=!g&&us(d),f=!g&&!u&&ks(d);h=d,g||u||f?ds(o)?h=o:Pi(l=o)&&ls(l)?h=function(e,t){var i=-1,a=e.length;for(t||(t=Array(a));++i<a;)t[i]=e[i];return t}(o):u?(p=!1,h=qa(d,!0)):f?(p=!1,h=Wa(d,!0)):h=[]:function(e){if(!Pi(e)||"[object Object]"!=Ci(e))return!1;var t=Xa(e);if(null===t)return!0;var i=Ks.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&Zs.call(i)==Ws}(d)||os(d)?(h=o,os(o)?h=Qs(o):_i(o)&&!va(o)||(h=is(d))):p=!1}p&&(n.set(d,h),s(h,d,a,r,n),n.delete(d)),Bs(e,i,h)}}function Xs(e,t,i,a,s){e!==t&&Vs(t,(function(r,n){if(s||(s=new ja),_i(r))Js(e,t,n,i,Xs,a,s);else{var o=a?a(Ys(e,n),r,n+"",e,t,s):void 0;void 0===o&&(o=r),Bs(e,n,o)}}),Rs)}function er(e){return e}var tr=Math.max;var ir=Na?function(e,t){return Na(e,"toString",{configurable:!0,enumerable:!1,value:(i=t,function(){return i}),writable:!0});var i}:er;const ar=ir;var sr,rr,nr,or=Date.now;const dr=(sr=ar,rr=0,nr=0,function(){var e=or(),t=16-(e-nr);if(nr=e,t>0){if(++rr>=800)return arguments[0]}else rr=0;return sr.apply(void 0,arguments)});function cr(e,t){return dr(function(e,t,i){return t=tr(void 0===t?e.length-1:t,0),function(){for(var a=arguments,s=-1,r=tr(a.length-t,0),n=Array(r);++s<r;)n[s]=a[t+s];s=-1;for(var o=Array(t+1);++s<t;)o[s]=a[s];return o[t]=i(n),function(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}(e,this,o)}}(e,t,er),e+"")}var lr,hr=(lr=function(e,t,i){Xs(e,t,i)},cr((function(e,t){var i=-1,a=t.length,s=a>1?t[a-1]:void 0,r=a>2?t[2]:void 0;for(s=lr.length>3&&"function"==typeof s?(a--,s):void 0,r&&function(e,t,i){if(!_i(i))return!1;var a=typeof t;return!!("number"==a?ls(i)&&Ps(t,i.length):"string"==a&&t in i)&&ga(i[t],e)}(t[0],t[1],r)&&(s=a<3?void 0:s,a=1),e=Object(e);++i<a;){var n=t[i];n&&lr(e,n,i,s)}return e})));const pr=hr,gr=(e,t,i={},a={grid_pagination:!0,settings_toggle:!0})=>{var s,r,n,o,d,c,l,h,p,g,u,f,m,v,y,b,w,x;const k={showSetupScreen:!0};let S,C=["dyte-stage"],_={},P={};const L=!1!==(null==a?void 0:a.settings_toggle),E=!1!==(null==a?void 0:a.grid_pagination);if(null===(s=e.controlBar)||void 0===s?void 0:s.isEnabled){C.push("dyte-controlbar");const{elements:i}=e.controlBar,a=[...i.fullscreen?["dyte-fullscreen-toggle"]:[],...L?["dyte-settings-toggle"]:[]],s=[],h=[];(null===(r=t.participants.pip)||void 0===r?void 0:r.isSupported())&&(null===(o=null===(n=t.self)||void 0===n?void 0:n.config)||void 0===o?void 0:o.pipMode)&&"LIVESTREAM"!==(null===(d=t.self.config)||void 0===d?void 0:d.viewType)&&h.push("dyte-pip-toggle"),(null==t?void 0:t.self.permissions.canDisableParticipantAudio)&&h.push("dyte-mute-all-button"),h.push("dyte-breakout-rooms-toggle"),(null===(c=t.self)||void 0===c?void 0:c.permissions.canRecord)&&h.push("dyte-recording-toggle"),null!==(l=t.self.permissions.transcriptionEnabled)&&void 0!==l&&l&&h.push("dyte-caption-toggle"),"ReactNative"!==navigator.product&&h.push("dyte-debugger-toggle"),rt(t)&&a.push("dyte-livestream-toggle"),i.screenshare&&a.push("dyte-screen-share-toggle"),i.chat&&s.push("dyte-chat-toggle"),i.polls&&s.push("dyte-polls-toggle"),i.participants&&s.push("dyte-participants-toggle"),i.plugins&&s.push("dyte-plugins-toggle"),s.push("dyte-ai-toggle");const p=["dyte-mic-toggle","dyte-camera-toggle","dyte-stage-toggle","dyte-leave-button"];h.length>0&&p.push("dyte-more-toggle");const g=a.concat(s).concat(h);let u=!1;g.length>0&&(u=!0),P={"dyte-controlbar":{states:["activeMoreMenu"],children:["div#controlbar-left","div#controlbar-center","div#controlbar-right"]},"div#controlbar-left":a,"div#controlbar-center":p,"div#controlbar-right":s,"dyte-more-toggle":{states:["activeMoreMenu"],children:[]},"dyte-more-toggle.activeMoreMenu":h.map((e=>[e,{variant:"horizontal",slot:"more-elements"}])),"dyte-controlbar.sm":["div#controlbar-mobile"],"dyte-controlbar.md":["div#controlbar-mobile"],"dyte-more-toggle.activeMoreMenu.md":g.map((e=>[e,{variant:"horizontal",slot:"more-elements"}])),"dyte-more-toggle.activeMoreMenu.sm":g.map((e=>[e,{variant:"horizontal",slot:"more-elements"}])),"div#controlbar-mobile":["dyte-mic-toggle","dyte-camera-toggle","dyte-stage-toggle",u&&"dyte-more-toggle","dyte-leave-button"]}}if(null===(h=e.header)||void 0===h?void 0:h.isEnabled){C.unshift("dyte-header");const{elements:t}=e.header;let i=["dyte-recording-indicator","dyte-livestream-indicator"],a=[],s=[];E&&s.push("dyte-grid-pagination"),t.title&&a.push("dyte-meeting-title"),"string"==typeof t.logo&&t.logo.length>0&&(S=t.logo,i.unshift("dyte-logo")),t.participantCount&&s.push("dyte-participant-count","dyte-viewer-count"),t.timer&&s.push("dyte-clock"),_={"dyte-header":["div#header-left","div#header-center","div#header-right"],"dyte-header.sm":{remove:["div#header-center"]},"div#header-left":i,"div#header-center":a,"div#header-right":s,"div#header-left.sm":{remove:["dyte-logo"],prepend:["dyte-meeting-title"]}}}C.push("dyte-participants-audio","dyte-dialog-manager");let T={logo:S};T=e.designTokens,Us(null===(g=null===(p=null==e?void 0:e.designTokens)||void 0===p?void 0:p.colors)||void 0===g?void 0:g.textOnBrand)&&(T.colors["text-on-brand"]=null===(f=null===(u=null==e?void 0:e.designTokens)||void 0===u?void 0:u.colors)||void 0===f?void 0:f.textOnBrand),Us(null===(v=null===(m=null==e?void 0:e.designTokens)||void 0===m?void 0:m.colors)||void 0===v?void 0:v.videoBg)&&(T.colors["video-bg"]=null===(b=null===(y=null==e?void 0:e.designTokens)||void 0===y?void 0:y.colors)||void 0===b?void 0:b.videoBg);let A={designTokens:T,styles:{"dyte-header":{display:"grid",height:"48px",gridTemplateColumns:"repeat(3, 1fr)",gridTemplateRows:"1fr",alignItems:"center"},"dyte-header.sm":{display:"grid",gridArea:"header",gridTemplateColumns:"repeat(2, 1fr)",gridTemplateRows:"1fr",alignItems:"center"},"div#header-left":{display:"flex",alignItems:"center",height:"48px",wordBreak:"break-all"},"dyte-logo":{height:"26px"},"div#header-center":{display:"flex",alignItems:"center",justifyContent:"center",wordBreak:"break-all"},"div#header-right":{display:"flex",alignItems:"center",justifyContent:"flex-end"},"dyte-stage":{display:"flex",flex:"1"},"dyte-grid":{flex:"1",height:"auto"},"dyte-controlbar":{display:"grid",gridTemplateColumns:"repeat(3,1fr)",gridTemplateRows:"1fr",alignItems:"center",padding:"8px"},"dyte-controlbar.sm":{display:"flex",position:"relative",backgroundColor:"var(--dyte-colors-background-1000, #000)"},"dyte-controlbar.md":{display:"flex",position:"relative",backgroundColor:"var(--dyte-colors-background-1000, #000)"},"div#controlbar-left":{display:"flex",alignItems:"center",gap:"var(--dyte-space-1, 4px)"},"div#controlbar-center":{display:"flex",alignItems:"center",position:"relative",overflow:"visible",justifyContent:"center",gap:"var(--dyte-space-1, 4px)"},"div#controlbar-mobile":{display:"flex",flex:"1",alignItems:"center",justifyContent:"center",zIndex:"10000",gap:"var(--dyte-space-1, 4px)"},"div#controlbar-right":{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"var(--dyte-space-1, 4px)"},"dyte-settings":{width:"720px",height:"480px"},"dyte-debugger":{width:"720px",height:"480px"},"div#setupcontrols-indicator":{position:"absolute",bottom:"12px",left:"12px",display:"flex",gap:"6px",background:"rgb(var(--dyte-colors-background-800, 0 0 0))",borderRadius:"100%"},"div#setupcontrols-media":{position:"absolute",bottom:"8px",right:"8px",display:"flex",gap:"6px"},"div#setupcontrols-settings":{position:"absolute",top:"8px",right:"8px",display:"flex",flexDirection:"column",gap:"6px"},"dyte-meeting-title.sm":{marginLeft:"0"},"dyte-clock":{marginRight:"0"}},root:Object.assign(Object.assign(Object.assign({"dyte-meeting":{state:"meeting",states:["activeSidebar","activeAI"]},"dyte-meeting[meeting=idle]":["dyte-idle-screen"],"dyte-meeting[meeting=waiting]":["dyte-waiting-screen"],"dyte-meeting[meeting=setup]":["dyte-setup-screen","dyte-dialog-manager"],"dyte-meeting[meeting=joined]":C,"dyte-meeting[meeting=joined].activeSidebar.sm":{add:[["dyte-sidebar",{view:"full-screen"}]]},"dyte-meeting[meeting=joined].activeSidebar.md":{add:[["dyte-sidebar",{view:"full-screen"}]]},"dyte-meeting[meeting=joined].activeAI.sm":{add:[["dyte-ai",{view:"full-screen"}]]},"dyte-meeting[meeting=joined].activeAI.md":{add:[["dyte-ai",{view:"full-screen"}]]},"dyte-meeting[meeting=ended]":["dyte-ended-screen"]},_),P),{"dyte-stage":{states:["activeSidebar","activeAI"],children:["dyte-grid","dyte-notifications","dyte-transcripts"]},"dyte-stage.activeSidebar":{add:[["dyte-sidebar",{view:"sidebar"}]]},"dyte-stage.activeSidebar.sm":{remove:["dyte-sidebar"]},"dyte-stage.activeAI":{add:[["dyte-ai",{view:"sidebar"}]]},"dyte-stage.activeAI.sm":{remove:["dyte-ai"]},"dyte-grid":{states:["activeScreenShare","activePlugin","activeSpotlight"],state:"viewType",children:["dyte-simple-grid"]},"dyte-grid[viewType=AUDIO_ROOM]":["dyte-audio-grid"],"dyte-grid[viewType=AUDIO_ROOM].activePlugin":["dyte-mixed-grid"],"dyte-grid[viewType=AUDIO_ROOM].activeScreenshare":["dyte-mixed-grid"],"dyte-grid[viewType=AUDIO_ROOM].activeScreenShare.activeSpotlight":["dyte-mixed-grid"],"dyte-grid[viewType=AUDIO_ROOM].activePlugin.activeSpotlight":["dyte-mixed-grid"],"dyte-grid[viewType=AUDIO_ROOM].activePlugin.activeScreenShare.activeSpotlight":["dyte-mixed-grid"],"dyte-grid.activeSpotlight":["dyte-spotlight-grid"],"dyte-grid.activeScreenShare":["dyte-mixed-grid"],"dyte-grid.activePlugin":["dyte-mixed-grid"],"dyte-grid.activeScreenShare.activeSpotlight":["dyte-mixed-grid"],"dyte-grid.activePlugin.activeSpotlight":["dyte-mixed-grid"],"dyte-grid.activePlugin.activeScreenShare.activeSpotlight":["dyte-mixed-grid"],"dyte-mixed-grid":{states:["activeSpotlight"],state:"viewType",children:["dyte-simple-grid"]},"dyte-mixed-grid[viewType=AUDIO_ROOM]":["dyte-audio-grid"],"dyte-mixed-grid.activeSpotlight":["dyte-spotlight-grid"],"dyte-participant-tile":{state:"meeting",children:["dyte-name-tag","dyte-avatar","dyte-network-indicator"]},"dyte-participant-setup":["dyte-avatar","div#setupcontrols-media"],"dyte-participant-tile[meeting=setup]":["dyte-avatar","div#setupcontrols-indicator","div#setupcontrols-media",...L?["div#setupcontrols-settings"]:[]],"div#setupcontrols-indicator":[["dyte-audio-visualizer",{slot:"start",hideMuted:!0}]],"div#setupcontrols-media":[["dyte-mic-toggle",{size:"sm"}],["dyte-camera-toggle",{size:"sm"}]],"div#setupcontrols-settings":[["dyte-settings-toggle",{size:"sm"}]],"dyte-screenshare-view":["dyte-name-tag","dyte-network-indicator"],"dyte-name-tag":[["dyte-audio-visualizer",{slot:"start"}]]}),config:{notification_sounds:{participant_left:!1},participant_joined_sound_notification_limit:3,participant_chat_message_sound_notification_limit:10,videoFit:"cover"}};return A=((e,t=zt)=>{let i=Object.assign({},t);return pr(i,e),i})(i,A),k.showSetupScreen=null===(x=null===(w=e.setupScreen)||void 0===w?void 0:w.isEnabled)||void 0===x||x,{config:A,data:k}},ur=768,fr=1080,mr=e=>e>=fr?"lg":e>=ur?"md":"sm";var vr=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var i=-1;return e.some((function(e,a){return e[0]===t&&(i=a,!0)})),i}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var i=e(this.__entries__,t),a=this.__entries__[i];return a&&a[1]},t.prototype.set=function(t,i){var a=e(this.__entries__,t);~a?this.__entries__[a][1]=i:this.__entries__.push([t,i])},t.prototype.delete=function(t){var i=this.__entries__,a=e(i,t);~a&&i.splice(a,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var i=0,a=this.__entries__;i<a.length;i++){var s=a[i];e.call(t,s[1],s[0])}},t}()}(),yr="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,br=void 0!==i.g&&i.g.Math===Math?i.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),wr="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(br):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var xr=["top","right","bottom","left","width","height","size","weight"],kr="undefined"!=typeof MutationObserver,Sr=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var i=!1,a=!1,s=0;function r(){i&&(i=!1,e()),a&&o()}function n(){wr(r)}function o(){var e=Date.now();if(i){if(e-s<2)return;a=!0}else i=!0,a=!1,setTimeout(n,t);s=e}return o}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){yr&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),kr?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){yr&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=void 0===t?"":t;xr.some((function(e){return!!~i.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Cr=function(e,t){for(var i=0,a=Object.keys(t);i<a.length;i++){var s=a[i];Object.defineProperty(e,s,{value:t[s],enumerable:!1,writable:!1,configurable:!0})}return e},_r=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||br},Pr=Mr(0,0,0,0);function Lr(e){return parseFloat(e)||0}function Er(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return t.reduce((function(t,i){return t+Lr(e["border-"+i+"-width"])}),0)}function Tr(e){var t=e.clientWidth,i=e.clientHeight;if(!t&&!i)return Pr;var a=_r(e).getComputedStyle(e),s=function(e){for(var t={},i=0,a=["top","right","bottom","left"];i<a.length;i++){var s=a[i],r=e["padding-"+s];t[s]=Lr(r)}return t}(a),r=s.left+s.right,n=s.top+s.bottom,o=Lr(a.width),d=Lr(a.height);if("border-box"===a.boxSizing&&(Math.round(o+r)!==t&&(o-=Er(a,"left","right")+r),Math.round(d+n)!==i&&(d-=Er(a,"top","bottom")+n)),!function(e){return e===_r(e).document.documentElement}(e)){var c=Math.round(o+r)-t,l=Math.round(d+n)-i;1!==Math.abs(c)&&(o-=c),1!==Math.abs(l)&&(d-=l)}return Mr(s.left,s.top,o,d)}var Ar="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof _r(e).SVGGraphicsElement}:function(e){return e instanceof _r(e).SVGElement&&"function"==typeof e.getBBox};function Rr(e){return yr?Ar(e)?function(e){var t=e.getBBox();return Mr(0,0,t.width,t.height)}(e):Tr(e):Pr}function Mr(e,t,i,a){return{x:e,y:t,width:i,height:a}}var Dr=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Mr(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Rr(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Ir=function(e,t){var i,a,s,r,n,o,d,c=(a=(i=t).x,s=i.y,r=i.width,n=i.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,d=Object.create(o.prototype),Cr(d,{x:a,y:s,width:r,height:n,top:s,right:a+r,bottom:n+s,left:a}),d);Cr(this,{target:e,contentRect:c})},Or=function(){function e(e,t,i){if(this.activeObservations_=[],this.observations_=new vr,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof _r(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Dr(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof _r(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Ir(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),$r="undefined"!=typeof WeakMap?new WeakMap:new vr,Ur=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=Sr.getInstance(),a=new Or(t,i,this);$r.set(this,a)};["observe","unobserve","disconnect"].forEach((function(e){Ur.prototype[e]=function(){var t;return(t=$r.get(this))[e].apply(t,arguments)}}));var jr=void 0!==br.ResizeObserver?br.ResizeObserver:Ur;const Fr=["top","right","bottom","left"],Nr=["start","end"],zr=Fr.reduce(((e,t)=>e.concat(t,t+"-"+Nr[0],t+"-"+Nr[1])),[]),Br=Math.min,Hr=Math.max,Vr=Math.round,Gr=e=>({x:e,y:e}),qr={left:"right",right:"left",bottom:"top",top:"bottom"},Zr={start:"end",end:"start"};function Kr(e,t,i){return Hr(e,Br(t,i))}function Wr(e,t){return"function"==typeof e?e(t):e}function Yr(e){return e.split("-")[0]}function Qr(e){return e.split("-")[1]}function Jr(e){return"x"===e?"y":"x"}function Xr(e){return"y"===e?"height":"width"}function en(e){return["top","bottom"].includes(Yr(e))?"y":"x"}function tn(e){return Jr(en(e))}function an(e,t,i){void 0===i&&(i=!1);const a=Qr(e),s=tn(e),r=Xr(s);let n="x"===s?a===(i?"end":"start")?"right":"left":"start"===a?"bottom":"top";return t.reference[r]>t.floating[r]&&(n=rn(n)),[n,rn(n)]}function sn(e){return e.replace(/start|end/g,(e=>Zr[e]))}function rn(e){return e.replace(/left|right|bottom|top/g,(e=>qr[e]))}function nn(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function on(e){const{x:t,y:i,width:a,height:s}=e;return{width:a,height:s,top:i,left:t,right:t+a,bottom:i+s,x:t,y:i}}function dn(e,t,i){let{reference:a,floating:s}=e;const r=en(t),n=tn(t),o=Xr(n),d=Yr(t),c="y"===r,l=a.x+a.width/2-s.width/2,h=a.y+a.height/2-s.height/2,p=a[o]/2-s[o]/2;let g;switch(d){case"top":g={x:l,y:a.y-s.height};break;case"bottom":g={x:l,y:a.y+a.height};break;case"right":g={x:a.x+a.width,y:h};break;case"left":g={x:a.x-s.width,y:h};break;default:g={x:a.x,y:a.y}}switch(Qr(t)){case"start":g[n]-=p*(i&&c?-1:1);break;case"end":g[n]+=p*(i&&c?-1:1)}return g}async function cn(e,t){var i;void 0===t&&(t={});const{x:a,y:s,platform:r,rects:n,elements:o,strategy:d}=e,{boundary:c="clippingAncestors",rootBoundary:l="viewport",elementContext:h="floating",altBoundary:p=!1,padding:g=0}=Wr(t,e),u=nn(g),f=o[p?"floating"===h?"reference":"floating":h],m=on(await r.getClippingRect({element:null==(i=await(null==r.isElement?void 0:r.isElement(f)))||i?f:f.contextElement||await(null==r.getDocumentElement?void 0:r.getDocumentElement(o.floating)),boundary:c,rootBoundary:l,strategy:d})),v="floating"===h?{x:a,y:s,width:n.floating.width,height:n.floating.height}:n.reference,y=await(null==r.getOffsetParent?void 0:r.getOffsetParent(o.floating)),b=await(null==r.isElement?void 0:r.isElement(y))&&await(null==r.getScale?void 0:r.getScale(y))||{x:1,y:1},w=on(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:v,offsetParent:y,strategy:d}):v);return{top:(m.top-w.top+u.top)/b.y,bottom:(w.bottom-m.bottom+u.bottom)/b.y,left:(m.left-w.left+u.left)/b.x,right:(w.right-m.right+u.right)/b.x}}function ln(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function hn(e){return Fr.some((t=>e[t]>=0))}function pn(){return"undefined"!=typeof window}function gn(e){return mn(e)?(e.nodeName||"").toLowerCase():"#document"}function un(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function fn(e){var t;return null==(t=(mn(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function mn(e){return!!pn()&&(e instanceof Node||e instanceof un(e).Node)}function vn(e){return!!pn()&&(e instanceof Element||e instanceof un(e).Element)}function yn(e){return!!pn()&&(e instanceof HTMLElement||e instanceof un(e).HTMLElement)}function bn(e){return!(!pn()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof un(e).ShadowRoot)}function wn(e){const{overflow:t,overflowX:i,overflowY:a,display:s}=Pn(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+i)&&!["inline","contents"].includes(s)}function xn(e){return["table","td","th"].includes(gn(e))}function kn(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(i){return!1}}))}function Sn(e){const t=Cn(),i=vn(e)?Pn(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!i[e]&&"none"!==i[e]))||!!i.containerType&&"normal"!==i.containerType||!t&&!!i.backdropFilter&&"none"!==i.backdropFilter||!t&&!!i.filter&&"none"!==i.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(i.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(i.contain||"").includes(e)))}function Cn(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function _n(e){return["html","body","#document"].includes(gn(e))}function Pn(e){return un(e).getComputedStyle(e)}function Ln(e){return vn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function En(e){if("html"===gn(e))return e;const t=e.assignedSlot||e.parentNode||bn(e)&&e.host||fn(e);return bn(t)?t.host:t}function Tn(e){const t=En(e);return _n(t)?e.ownerDocument?e.ownerDocument.body:e.body:yn(t)&&wn(t)?t:Tn(t)}function An(e,t,i){var a;void 0===t&&(t=[]);const s=Tn(e),r=s===(null==(a=e.ownerDocument)?void 0:a.body),n=un(s);return r?(Rn(n),t.concat(n,n.visualViewport||[],wn(s)?s:[],[])):t.concat(s,An(s,[]))}function Rn(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Mn(e){const t=Pn(e);let i=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const s=yn(e),r=s?e.offsetWidth:i,n=s?e.offsetHeight:a,o=Vr(i)!==r||Vr(a)!==n;return o&&(i=r,a=n),{width:i,height:a,$:o}}function Dn(e){return vn(e)?e:e.contextElement}function In(e){const t=Dn(e);if(!yn(t))return Gr(1);const i=t.getBoundingClientRect(),{width:a,height:s,$:r}=Mn(t);let n=(r?Vr(i.width):i.width)/a,o=(r?Vr(i.height):i.height)/s;return n&&Number.isFinite(n)||(n=1),o&&Number.isFinite(o)||(o=1),{x:n,y:o}}const On=Gr(0);function $n(e){const t=un(e);return Cn()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:On}function Un(e,t,i,a){void 0===t&&(t=!1),void 0===i&&(i=!1);const s=e.getBoundingClientRect(),r=Dn(e);let n=Gr(1);t&&(a?vn(a)&&(n=In(a)):n=In(e));const o=function(e,t,i){return void 0===t&&(t=!1),!(!i||t&&i!==un(e))&&t}(r,i,a)?$n(r):Gr(0);let d=(s.left+o.x)/n.x,c=(s.top+o.y)/n.y,l=s.width/n.x,h=s.height/n.y;if(r){const e=un(r),t=a&&vn(a)?un(a):a;let i=e,s=Rn(i);for(;s&&a&&t!==i;){const e=In(s),t=s.getBoundingClientRect(),a=Pn(s),r=t.left+(s.clientLeft+parseFloat(a.paddingLeft))*e.x,n=t.top+(s.clientTop+parseFloat(a.paddingTop))*e.y;d*=e.x,c*=e.y,l*=e.x,h*=e.y,d+=r,c+=n,i=un(s),s=Rn(i)}}return on({width:l,height:h,x:d,y:c})}function jn(e,t){const i=Ln(e).scrollLeft;return t?t.left+i:Un(fn(e)).left+i}function Fn(e,t,i){void 0===i&&(i=!1);const a=e.getBoundingClientRect();return{x:a.left+t.scrollLeft-(i?0:jn(e,a)),y:a.top+t.scrollTop}}function Nn(e,t,i){let a;if("viewport"===t)a=function(e,t){const i=un(e),a=fn(e),s=i.visualViewport;let r=a.clientWidth,n=a.clientHeight,o=0,d=0;if(s){r=s.width,n=s.height;const e=Cn();(!e||e&&"fixed"===t)&&(o=s.offsetLeft,d=s.offsetTop)}return{width:r,height:n,x:o,y:d}}(e,i);else if("document"===t)a=function(e){const t=fn(e),i=Ln(e),a=e.ownerDocument.body,s=Hr(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),r=Hr(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let n=-i.scrollLeft+jn(e);const o=-i.scrollTop;return"rtl"===Pn(a).direction&&(n+=Hr(t.clientWidth,a.clientWidth)-s),{width:s,height:r,x:n,y:o}}(fn(e));else if(vn(t))a=function(e,t){const i=Un(e,!0,"fixed"===t),a=i.top+e.clientTop,s=i.left+e.clientLeft,r=yn(e)?In(e):Gr(1);return{width:e.clientWidth*r.x,height:e.clientHeight*r.y,x:s*r.x,y:a*r.y}}(t,i);else{const i=$n(e);a={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return on(a)}function zn(e,t){const i=En(e);return!(i===t||!vn(i)||_n(i))&&("fixed"===Pn(i).position||zn(i,t))}function Bn(e,t,i){const a=yn(t),s=fn(t),r="fixed"===i,n=Un(e,!0,r,t);let o={scrollLeft:0,scrollTop:0};const d=Gr(0);if(a||!a&&!r)if(("body"!==gn(t)||wn(s))&&(o=Ln(t)),a){const e=Un(t,!0,r,t);d.x=e.x+t.clientLeft,d.y=e.y+t.clientTop}else s&&(d.x=jn(s));const c=!s||a||r?Gr(0):Fn(s,o);return{x:n.left+o.scrollLeft-d.x-c.x,y:n.top+o.scrollTop-d.y-c.y,width:n.width,height:n.height}}function Hn(e){return"static"===Pn(e).position}function Vn(e,t){if(!yn(e)||"fixed"===Pn(e).position)return null;if(t)return t(e);let i=e.offsetParent;return fn(e)===i&&(i=i.ownerDocument.body),i}function Gn(e,t){const i=un(e);if(kn(e))return i;if(!yn(e)){let t=En(e);for(;t&&!_n(t);){if(vn(t)&&!Hn(t))return t;t=En(t)}return i}let a=Vn(e,t);for(;a&&xn(a)&&Hn(a);)a=Vn(a,t);return a&&_n(a)&&Hn(a)&&!Sn(a)?i:a||function(e){let t=En(e);for(;yn(t)&&!_n(t);){if(Sn(t))return t;if(kn(t))return null;t=En(t)}return null}(e)||i}const qn={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:i,offsetParent:a,strategy:s}=e;const r="fixed"===s,n=fn(a),o=!!t&&kn(t.floating);if(a===n||o&&r)return i;let d={scrollLeft:0,scrollTop:0},c=Gr(1);const l=Gr(0),h=yn(a);if((h||!h&&!r)&&(("body"!==gn(a)||wn(n))&&(d=Ln(a)),yn(a))){const e=Un(a);c=In(a),l.x=e.x+a.clientLeft,l.y=e.y+a.clientTop}const p=!n||h||r?Gr(0):Fn(n,d,!0);return{width:i.width*c.x,height:i.height*c.y,x:i.x*c.x-d.scrollLeft*c.x+l.x+p.x,y:i.y*c.y-d.scrollTop*c.y+l.y+p.y}},getDocumentElement:fn,getClippingRect:function(e){let{element:t,boundary:i,rootBoundary:a,strategy:s}=e;const r=[..."clippingAncestors"===i?kn(t)?[]:function(e,t){const i=t.get(e);if(i)return i;let a=An(e,[]).filter((e=>vn(e)&&"body"!==gn(e))),s=null;const r="fixed"===Pn(e).position;let n=r?En(e):e;for(;vn(n)&&!_n(n);){const t=Pn(n),i=Sn(n);i||"fixed"!==t.position||(s=null),(r?!i&&!s:!i&&"static"===t.position&&s&&["absolute","fixed"].includes(s.position)||wn(n)&&!i&&zn(e,n))?a=a.filter((e=>e!==n)):s=t,n=En(n)}return t.set(e,a),a}(t,this._c):[].concat(i),a],n=r[0],o=r.reduce(((e,i)=>{const a=Nn(t,i,s);return e.top=Hr(a.top,e.top),e.right=Br(a.right,e.right),e.bottom=Br(a.bottom,e.bottom),e.left=Hr(a.left,e.left),e}),Nn(t,n,s));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:Gn,getElementRects:async function(e){const t=this.getOffsetParent||Gn,i=this.getDimensions,a=await i(e.floating);return{reference:Bn(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:i}=Mn(e);return{width:t,height:i}},getScale:In,isElement:vn,isRTL:function(e){return"rtl"===Pn(e).direction}},Zn=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var i,a;const{x:s,y:r,placement:n,middlewareData:o}=t,d=await async function(e,t){const{placement:i,platform:a,elements:s}=e,r=await(null==a.isRTL?void 0:a.isRTL(s.floating)),n=Yr(i),o=Qr(i),d="y"===en(i),c=["left","top"].includes(n)?-1:1,l=r&&d?-1:1,h=Wr(t,e);let{mainAxis:p,crossAxis:g,alignmentAxis:u}="number"==typeof h?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&"number"==typeof u&&(g="end"===o?-1*u:u),d?{x:g*l,y:p*c}:{x:p*c,y:g*l}}(t,e);return n===(null==(i=o.offset)?void 0:i.placement)&&null!=(a=o.arrow)&&a.alignmentOffset?{}:{x:s+d.x,y:r+d.y,data:{...d,placement:n}}}}},Kn=function(e){return void 0===e&&(e={}),{name:"autoPlacement",options:e,async fn(t){var i,a,s;const{rects:r,middlewareData:n,placement:o,platform:d,elements:c}=t,{crossAxis:l=!1,alignment:h,allowedPlacements:p=zr,autoAlignment:g=!0,...u}=Wr(e,t),f=void 0!==h||p===zr?function(e,t,i){return(e?[...i.filter((t=>Qr(t)===e)),...i.filter((t=>Qr(t)!==e))]:i.filter((e=>Yr(e)===e))).filter((i=>!e||Qr(i)===e||!!t&&sn(i)!==i))}(h||null,g,p):p,m=await cn(t,u),v=(null==(i=n.autoPlacement)?void 0:i.index)||0,y=f[v];if(null==y)return{};const b=an(y,r,await(null==d.isRTL?void 0:d.isRTL(c.floating)));if(o!==y)return{reset:{placement:f[0]}};const w=[m[Yr(y)],m[b[0]],m[b[1]]],x=[...(null==(a=n.autoPlacement)?void 0:a.overflows)||[],{placement:y,overflows:w}],k=f[v+1];if(k)return{data:{index:v+1,overflows:x},reset:{placement:k}};const S=x.map((e=>{const t=Qr(e.placement);return[e.placement,t&&l?e.overflows.slice(0,2).reduce(((e,t)=>e+t),0):e.overflows[0],e.overflows]})).sort(((e,t)=>e[1]-t[1])),C=(null==(s=S.filter((e=>e[2].slice(0,Qr(e[0])?2:3).every((e=>e<=0))))[0])?void 0:s[0])||S[0][0];return C!==o?{data:{index:v+1,overflows:x},reset:{placement:C}}:{}}}},Wn=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:i,y:a,placement:s}=t,{mainAxis:r=!0,crossAxis:n=!1,limiter:o={fn:e=>{let{x:t,y:i}=e;return{x:t,y:i}}},...d}=Wr(e,t),c={x:i,y:a},l=await cn(t,d),h=en(Yr(s)),p=Jr(h);let g=c[p],u=c[h];if(r){const e="y"===p?"bottom":"right";g=Kr(g+l["y"===p?"top":"left"],g,g-l[e])}if(n){const e="y"===h?"bottom":"right";u=Kr(u+l["y"===h?"top":"left"],u,u-l[e])}const f=o.fn({...t,[p]:g,[h]:u});return{...f,data:{x:f.x-i,y:f.y-a,enabled:{[p]:r,[h]:n}}}}}},Yn=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var i,a;const{placement:s,middlewareData:r,rects:n,initialPlacement:o,platform:d,elements:c}=t,{mainAxis:l=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:u="none",flipAlignment:f=!0,...m}=Wr(e,t);if(null!=(i=r.arrow)&&i.alignmentOffset)return{};const v=Yr(s),y=en(o),b=Yr(o)===o,w=await(null==d.isRTL?void 0:d.isRTL(c.floating)),x=p||(b||!f?[rn(o)]:function(e){const t=rn(e);return[sn(e),t,sn(t)]}(o)),k="none"!==u;!p&&k&&x.push(...function(e,t,i,a){const s=Qr(e);let r=function(e,t,i){const a=["left","right"],s=["right","left"],r=["top","bottom"],n=["bottom","top"];switch(e){case"top":case"bottom":return i?t?s:a:t?a:s;case"left":case"right":return t?r:n;default:return[]}}(Yr(e),"start"===i,a);return s&&(r=r.map((e=>e+"-"+s)),t&&(r=r.concat(r.map(sn)))),r}(o,f,u,w));const S=[o,...x],C=await cn(t,m),_=[];let P=(null==(a=r.flip)?void 0:a.overflows)||[];if(l&&_.push(C[v]),h){const e=an(s,n,w);_.push(C[e[0]],C[e[1]])}if(P=[...P,{placement:s,overflows:_}],!_.every((e=>e<=0))){var L,E;const e=((null==(L=r.flip)?void 0:L.index)||0)+1,t=S[e];if(t)return{data:{index:e,overflows:P},reset:{placement:t}};let i=null==(E=P.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:E.placement;if(!i)switch(g){case"bestFit":{var T;const e=null==(T=P.filter((e=>{if(k){const t=en(e.placement);return t===y||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:T[0];e&&(i=e);break}case"initialPlacement":i=o}if(s!==i)return{reset:{placement:i}}}return{}}}},Qn=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:i}=t,{strategy:a="referenceHidden",...s}=Wr(e,t);switch(a){case"referenceHidden":{const e=ln(await cn(t,{...s,elementContext:"reference"}),i.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:hn(e)}}}case"escaped":{const e=ln(await cn(t,{...s,altBoundary:!0}),i.floating);return{data:{escapedOffsets:e,escaped:hn(e)}}}default:return{}}}}},Jn=e=>({name:"arrow",options:e,async fn(t){const{x:i,y:a,placement:s,rects:r,platform:n,elements:o,middlewareData:d}=t,{element:c,padding:l=0}=Wr(e,t)||{};if(null==c)return{};const h=nn(l),p={x:i,y:a},g=tn(s),u=Xr(g),f=await n.getDimensions(c),m="y"===g,v=m?"top":"left",y=m?"bottom":"right",b=m?"clientHeight":"clientWidth",w=r.reference[u]+r.reference[g]-p[g]-r.floating[u],x=p[g]-r.reference[g],k=await(null==n.getOffsetParent?void 0:n.getOffsetParent(c));let S=k?k[b]:0;S&&await(null==n.isElement?void 0:n.isElement(k))||(S=o.floating[b]||r.floating[u]);const C=w/2-x/2,_=S/2-f[u]/2-1,P=Br(h[v],_),L=Br(h[y],_),E=P,T=S-f[u]-L,A=S/2-f[u]/2+C,R=Kr(E,A,T),M=!d.arrow&&null!=Qr(s)&&A!==R&&r.reference[u]/2-(A<E?P:L)-f[u]/2<0,D=M?A<E?A-E:A-T:0;return{[g]:p[g]+D,data:{[g]:R,centerOffset:A-R-D,...M&&{alignmentOffset:D}},reset:M}}}),Xn=(e,t,i)=>{const a=new Map,s={platform:qn,...i},r={...s.platform,_c:a};return(async(e,t,i)=>{const{placement:a="bottom",strategy:s="absolute",middleware:r=[],platform:n}=i,o=r.filter(Boolean),d=await(null==n.isRTL?void 0:n.isRTL(t));let c=await n.getElementRects({reference:e,floating:t,strategy:s}),{x:l,y:h}=dn(c,a,d),p=a,g={},u=0;for(let f=0;f<o.length;f++){const{name:i,fn:r}=o[f],{x:m,y:v,data:y,reset:b}=await r({x:l,y:h,initialPlacement:a,placement:p,strategy:s,middlewareData:g,rects:c,platform:n,elements:{reference:e,floating:t}});l=null!=m?m:l,h=null!=v?v:h,g={...g,[i]:{...g[i],...y}},b&&u<=50&&(u++,"object"==typeof b&&(b.placement&&(p=b.placement),b.rects&&(c=!0===b.rects?await n.getElementRects({reference:e,floating:t,strategy:s}):b.rects),({x:l,y:h}=dn(c,p,d))),f=-1)}return{x:l,y:h,placement:p,strategy:s,middlewareData:g}})(e,t,{...s,platform:r})},eo=e=>e.map((e=>{switch(e.type){case"a":if("string"==typeof e.content)return t=e.content,H("a",{class:"link",href:t,target:"_blank",rel:"noopener noreferrer"},t);case"b":return(e=>H("b",null,"string"==typeof e?e:eo(e)))(e.content);case"i":return(e=>H("i",null,"string"==typeof e?e:eo(e)))(e.content);case"s":return(e=>"string"==typeof e?H("s",null,e):H("b",null,eo(e)))(e.content);case"q":return H("span",{class:"block-quote"});default:return(e=>"string"==typeof e?e:H("p",null,eo(e)))(e.content)}var t})),to=({message:e})=>{const t=e.slice(0,ea),i=Ji(t,!0),a=Xi(t);return H("p",null,0!==i.length&&H("blockquote",null,i.split("\n").map((e=>{const t=ia(e);return H("p",null,eo(t))}))),a.split("\n").map((e=>{const t=ia(e);return H("p",null,eo(t))})))},io=console,ao={joined:"https://dyte-uploads.s3.ap-south-1.amazonaws.com/notification_join.mp3",left:"https://dyte-uploads.s3.ap-south-1.amazonaws.com/notification_join.mp3",message:"https://dyte-uploads.s3.ap-south-1.amazonaws.com/notification_message.mp3"};class so{constructor(e){this.meeting=e,this.audio=document.createElement("audio"),this.audio.volume=.3}play(e,t=3e3){var i;this.playing||(this.playing=!0,this.audio.src=ao[e],this.audio.volume=.3,null===(i=this.audio.play())||void 0===i||i.catch((i=>{io.error("[dyte-notifications] play() failed\n",{sound:e,duration:t},i)})),setTimeout((()=>{this.playing=!1}),t))}async setDevice(e){var t,i,a;mt(this.meeting)||await(null===(a=null===(i=null===(t=this.audio)||void 0===t?void 0:t.setSinkId)||void 0===i?void 0:i.call(t,e))||void 0===a?void 0:a.catch((e=>{io.error("[dyte-notifications] setSinkId() error\n",e)})))}}const ro=(e,t)=>{if(null==e)return;const i=Math.round(1.5),a=[...Array(3)].map(((e,a)=>{let s=a;return s>i-1&&(s=3-s-1),Math.round((s+1)/(i+1)*t)})),{width:s,height:r}=e,n=e.getContext("2d");let o=2;const d=1*s/a.length,c=d-4;n.clearRect(0,0,s,r),n.fillStyle="rgb(0,0,0,0.0)",n.fillRect(0,0,s,r);const l=getComputedStyle(e).getPropertyValue("color");n.fillStyle=l,n.strokeStyle=l,n.lineCap="round",n.lineWidth=4,n.beginPath();for(const h of a){const e=Math.min(-Math.abs(1.2*h/10*r)+r/2,r/2-2.5),t=Math.max(2*(r/2-e),5);n.moveTo(o+c/2,e),n.lineTo(o+c/2,e+t),o+=d}n.stroke()};var no=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const oo=class{constructor(e){c(this,e),this.variant="bars",this.iconPack=Kt,this.t=Zt(),this.hideMuted=!1,this.isScreenShare=!1,this.volume=0}connectedCallback(){this.participantChanged(this.participant)}componentDidLoad(){ro(this.visualizer,0)}disconnectedCallback(){var e,t,i;null===(e=this.hark)||void 0===e||e.stop(),this.audioUpdateListener&&(null===(t=this.participant)||void 0===t||t.removeListener("audioUpdate",this.audioUpdateListener)),this.screenShareUpdateListener&&(null===(i=this.participant)||void 0===i||i.removeListener("screenShareUpdate",this.screenShareUpdateListener))}participantChanged(e){null!=e&&(this.audioUpdateListener=({audioEnabled:e,audioTrack:t})=>{var i;if(null===(i=this.hark)||void 0===i||i.stop(),e&&null!=t){this.audioEnabled=!0;const e=new MediaStream;e.addTrack(t),this.calcVolume(e),ro(this.visualizer,0)}else this.volume=0,this.audioEnabled=!1},this.isScreenShare?(this.screenShareUpdateListener=({screenShareEnabled:e,screenShareTracks:t})=>{this.audioUpdateListener({audioEnabled:e&&null!=t.audio,audioTrack:t.audio})},this.screenShareUpdateListener({screenShareEnabled:e.screenShareEnabled,screenShareTracks:{audio:e.screenShareTracks.audio,video:e.screenShareTracks.video}}),e.addListener("screenShareUpdate",this.screenShareUpdateListener)):(this.audioUpdateListener(e),e.addListener("audioUpdate",this.audioUpdateListener)))}calcVolume(e){this.hark=at(e,{play:!1,interval:100}),this.hark.on("volume_change",(e=>{const t=this.volume;let i=Math.round(10**(e/115)*10);i<3&&(i=0);let a=Math.round((2*t+i)/3);t!==a&&(this.volume=a,ro(this.visualizer,this.volume))}))}render(){return H(G,{key:"544351071e0d4766dcadb3b9a6b5c714b8c8a0c2"},H("div",{key:"d52567ede61844a23d21cbf32a7d185b0790f435",class:{hideMuted:this.hideMuted}},H("canvas",{key:"d9e71f8d75cae5465e661df0381c00d5b75e88a9",width:"24",height:"24",class:{bars:!0,visible:this.audioEnabled},ref:e=>this.visualizer=e,part:"canvas"}),!this.isScreenShare&&!this.audioEnabled&&!0!==this.hideMuted&&H("dyte-icon",{key:"107a86c8b02c044ba5e7a22a1d1dc6f250da9720",icon:this.iconPack.mic_off,part:"mic-off-icon"})))}static get watchers(){return{participant:["participantChanged"]}}};no([ni()],oo.prototype,"size",void 0),no([ni()],oo.prototype,"iconPack",void 0),no([ni()],oo.prototype,"t",void 0),oo.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block;width:-moz-fit-content;width:fit-content}.hideMuted{padding:var(--dyte-space-1, 4px)}canvas,dyte-icon{height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px)}:host([size='sm']){transform:scale(0.9)}canvas{display:none}canvas.visible{display:block}canvas.bars{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-text-opacity))}";var co=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const lo=class{constructor(e){c(this,e),this.variant="circular",this.iconPack=Kt,this.t=Zt(),this.imageState="loading",this.getAvatar=()=>{var e;const t=li((null===(e=this.participant)||void 0===e?void 0:e.name)||"");let i;if(null!=this.participant&&"picture"in this.participant&&(i=this.participant.picture),i&&i.length>0&&"errored"!==this.imageState)return H("div",{class:"image-ctr"},"loading"===this.imageState&&H("dyte-spinner",{iconPack:this.iconPack}),H("img",{src:i,class:{loaded:"loaded"===this.imageState},loading:"lazy",title:t,onLoad:()=>this.imageState="loaded",onError:()=>this.imageState="errored",part:"image"}));const a=gi(t);return H("div",{class:"initials",title:t,part:"initials"},a)}}render(){return H(G,{key:"c57eb98421d28fbc9e6f8ddd9c7c0205c843aa81"},this.getAvatar(),H("slot",{key:"7e1e8618d0b077c1c4633804e06b602a474d3490"}))}};co([ni()],lo.prototype,"size",void 0),co([ni()],lo.prototype,"iconPack",void 0),co([ni()],lo.prototype,"t",void 0),lo.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;height:var(--dyte-space-32, 128px);width:var(--dyte-space-32, 128px);align-items:center;justify-content:center;font-size:28px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));overflow:clip;border-radius:9999px;-webkit-user-select:none;-moz-user-select:none;user-select:none}dyte-icon{height:50%;width:50%}.image-ctr{display:flex;height:100%;width:100%;align-items:center;justify-content:center;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}img{height:var(--dyte-space-0, 0px);width:var(--dyte-space-0, 0px);-o-object-fit:cover;object-fit:cover}img.loaded{height:100%;width:100%}.initials{display:flex;height:100%;width:100%;align-items:center;justify-content:center;text-transform:uppercase}.image{display:flex;height:100%;width:100%;align-items:center;justify-content:center}.image img{display:none;height:100%;width:100%;-o-object-fit:cover;object-fit:cover}.image img.loaded{display:block}:host([variant='hexagon']){border-radius:var(--dyte-border-radius-none, 0);clip-path:polygon(50% 0, 95% 25%, 95% 75%, 50% 100%, 5% 75%, 5% 25%)}:host([variant='square']){border-radius:var(--dyte-border-radius-none, 0);clip-path:polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)}:host([size='sm']){height:var(--dyte-space-14, 56px);width:var(--dyte-space-14, 56px);font-size:12px}:host([size='md']){height:var(--dyte-space-28, 112px);width:var(--dyte-space-28, 112px)}:host([size='lg']){height:var(--dyte-space-32, 128px);width:var(--dyte-space-32, 128px)}";var ho=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const po=class{constructor(e){c(this,e),this.onParticipantsAdd=Q(this,"participantsAdd",7),this.onParticipantDelete=Q(this,"participantDelete",7),this.onRoomJoin=Q(this,"roomJoin",7),this.deleteRoom=Q(this,"delete",7),this.updateRoom=Q(this,"update",7),this.allowDelete=!0,this.iconPack=Kt,this.t=Zt(),this.isDragMode=!1,this.defaultExpanded=!1,this.editingTitleRoomId=null,this.newTitle=null,this.showExpandedCard=!1,this.glowingCard=!1,this.permissionsUpdateListener=()=>{this.permissions=this.meeting.self.permissions.connectedMeetings},this.reset=()=>{this.editingTitleRoomId=null,this.newTitle=null},this.onEditClick=()=>{if(this.editingTitleRoomId){if(this.newTitle.length<3)return;this.roomTitle=this.newTitle,this.updateRoom.emit({title:this.newTitle,id:this.editingTitleRoomId}),this.glowCard(),this.reset()}else this.editingTitleRoomId=this.room.id,L((()=>{this.inputTextEl.focus(),this.inputTextEl.select()}))},this.onDrop=e=>{e.currentTarget instanceof HTMLParagraphElement&&(e.currentTarget.classList.remove("drop-zone-active"),this.onAssign())},this.onDragOver=e=>{e.currentTarget instanceof HTMLParagraphElement&&(e.currentTarget.classList.add("drop-zone-active"),e.preventDefault())}}connectedCallback(){var e;this.allParticipants=xt(this.meeting),this.permissionsUpdateListener(),this.showExpandedCard=this.defaultExpanded,this.roomTitle=this.room.isParent?this.t("breakout_rooms.main_room"):null===(e=this.room)||void 0===e?void 0:e.title,this.canEditMeetingTitle=this.permissions.canAlterConnectedMeetings&&!this.room.isParent&&!this.meeting.connectedMeetings.isActive,this.meeting.self.permissions.on("permissionsUpdate",this.permissionsUpdateListener)}disconnectedCallback(){this.meeting.self.permissions.off("permissionsUpdate",this.permissionsUpdateListener)}onDragLeave(e){e.currentTarget instanceof HTMLParagraphElement&&e.currentTarget.classList.remove("drop-zone-active")}getAssignmentHint(){return this.assigningParticipants&&this.isDragMode?this.t("breakout_rooms.drag_drop_participants"):this.assigningParticipants?this.t("breakout_rooms.click_drop_participants"):0===this.room.participants.length?this.t("breakout_rooms.none_assigned"):void 0}toggleCardDisplay(){this.showExpandedCard=!this.showExpandedCard}glowCard(){this.glowingCard=!0,setTimeout((()=>{this.glowingCard=!1}),2e3)}onAssign(){this.onParticipantsAdd.emit(),this.glowCard()}onJoin(){this.onRoomJoin.emit()}onTitleChanged(e){"Enter"===e.key&&(this.newTitle=e.target.value,this.onEditClick())}renderPeer(e){const{displayPictureUrl:t}=this.allParticipants.find((t=>wt(t)===wt(e))),i=li(e.displayName||"");return H("div",{class:"peer-ui-container"},H("dyte-avatar",{participant:{name:i,picture:t},size:"sm"}),H("p",{class:"name",title:i},oi(i,16),this.meeting.self.userId===e.id&&` (${this.t("you")})`))}renderExpandedCardMaybe(){if(this.showExpandedCard&&!this.room.isParent&&this.getAssignmentHint()&&this.permissions.canAlterConnectedMeetings)return H("div",{class:"message-container"},H("p",{class:{"compact-height":0!==this.room.participants.length},onClick:()=>this.onAssign(),onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop},this.getAssignmentHint()))}renderParticipantsMaybe(){if(this.showExpandedCard&&!this.room.isParent&&0!==this.room.participants.length)return H("div",{class:"participant-list",onClick:()=>{this.onAssign()}},this.room.participants.map((e=>H("div",{class:"participant-item",role:"listitem",key:e.id},this.renderPeer(e),this.permissions.canAlterConnectedMeetings&&H("dyte-icon",{class:"show-on-hover",icon:this.iconPack.dismiss,onClick:()=>{this.onParticipantDelete.emit(e)}})))))}render(){var e,t,i;return H(G,{key:"55d8c00978d9710c5bedd9ab0e34ba18afa50733"},H("div",{key:"a82630203869a94d2ecc4e33103ada61eedb19bc",class:{"assign-mode":this.assigningParticipants,"selector-mode":!this.assigningParticipants,"glowing-card":this.glowingCard}},H("div",{key:"d6286509a9917de384d80648d5171f94851906b9",class:"header"},H("input",{key:"76304ed7452bfac9e03998578c8ffb8ea03b82fb",ref:e=>this.inputTextEl=e,placeholder:this.t("breakout_rooms.room_name"),disabled:!(this.editingTitleRoomId===this.room.id),value:this.roomTitle,minlength:3,onChange:e=>{this.newTitle=e.target.value},onKeyPress:e=>this.onTitleChanged(e),class:{"editing-enabled":this.editingTitleRoomId===this.room.id},style:{width:`${this.roomTitle.length+1}ch`}}),this.editingTitleRoomId!==this.room.id&&H("span",{key:"4f31320550907e0dcb44f31b4b929167795a1850",class:"participant-count"},"(",H("dyte-icon",{key:"697420b64dd947349e736ac381a526a1f340606f",icon:this.iconPack.people}),null!==(i=null===(t=null===(e=this.room)||void 0===e?void 0:e.participants)||void 0===t?void 0:t.length)&&void 0!==i?i:"0",")"),this.canEditMeetingTitle&&H("dyte-tooltip",{key:"3e826e83ac09e69b1c90c4f6e0e7c93638a1eed1",label:this.editingTitleRoomId===this.room.id?this.t("breakout_rooms.save_room_name"):this.t("breakout_rooms.edit_room_name")},H("dyte-icon",{key:"8735226fb881ad3b06d4130e8ec51a85c037949b",icon:this.editingTitleRoomId===this.room.id?this.iconPack.checkmark:this.iconPack.edit,class:"show-on-hover",onClick:this.onEditClick})),H("div",{key:"e06e9e8f30ebdbeb3cb16dfb2c3fc23822f13187",class:"rooms-container"},this.permissions.canAlterConnectedMeetings&&!this.room.isParent&&this.allowDelete&&H("dyte-tooltip",{key:"30b872574e985b00191d277e3e2ed0d75a3291a1",label:this.t("breakout_rooms.delete"),class:"danger"},H("dyte-icon",{key:"2c92407f1589e22a9198594f5c3d7cb2cf345521",icon:this.iconPack.delete,class:"show-on-hover",onClick:()=>{this.deleteRoom.emit()}})),this.assigningParticipants&&this.permissions.canAlterConnectedMeetings&&!this.room.isParent&&H("dyte-button",{key:"2e1bae37a6410fecf22228b16cbbcd744972c41f",kind:"button",variant:"ghost",class:"assign-button",size:"md",onClick:()=>this.onAssign()},this.t("breakout_rooms.assign")),"edit"===this.mode&&!this.assigningParticipants&&this.permissions.canSwitchConnectedMeetings&&H("dyte-button",{key:"ebf98a4e34ece75f1fe8fe41e8884d9d6e1e8292",kind:"button",variant:"ghost",class:"assign-button",size:"md",disabled:this.room.id===this.meeting.meta.meetingId,onClick:()=>this.onJoin()},this.room.id===this.meeting.meta.meetingId?this.t("joined"):this.t("join")),!this.room.isParent&&H("dyte-icon",{key:"fd3ce5aaae760638a9d32ac306be26f248cbd947",icon:this.showExpandedCard?this.iconPack.chevron_up:this.iconPack.chevron_down,onClick:()=>this.toggleCardDisplay()}))),this.renderExpandedCardMaybe(),this.renderParticipantsMaybe()))}};ho([ni()],po.prototype,"meeting",void 0),ho([ni()],po.prototype,"states",void 0),ho([ni()],po.prototype,"iconPack",void 0),ho([ni()],po.prototype,"t",void 0),po.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));border-radius:var(--dyte-border-radius-sm, 4px)}@keyframes bg-glow{25%{background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / 0.2)}50%{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}75%{background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / 0.2)}}.glowing-card{animation:bg-glow 0.8s}.selector-mode,.assign-mode{display:flex;flex-direction:column;align-items:center;padding:var(--dyte-space-2, 8px);cursor:pointer}.selector:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.show-on-hover{display:none}.header{width:100%;display:flex;align-items:center}.header dyte-icon{margin-left:var(--dyte-space-2, 8px);height:var(--dyte-space-5, 20px);cursor:pointer}.header .danger{--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}.header .hide{display:none}.header .rooms-container{display:flex;flex-grow:1;flex-direction:row;align-items:center;justify-content:flex-end}.header input{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));padding:var(--dyte-space-1, 4px);color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));max-width:var(--dyte-space-36, 144px);font-size:14px;font-weight:500;border-radius:var(--dyte-border-radius-sm, 4px);border-width:var(--dyte-border-width-none, 0);border-style:none;outline:2px solid transparent;outline-offset:2px;border-bottom-width:var(--dyte-border-width-sm, 1px);border-style:solid;--tw-border-opacity:1;border-bottom-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-border-opacity))}.header input:disabled{overflow-x:visible;border-radius:var(--dyte-border-radius-none, 0);border-width:var(--dyte-border-width-none, 0);border-style:none;background-color:transparent}.header input:invalid{border-bottom-width:var(--dyte-border-width-sm, 1px);border-style:dashed;--tw-border-opacity:1;border-bottom-color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-border-opacity))}.header input.editing-enabled{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity))}.header .participant-count{display:flex;align-items:center;font-size:14px;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}.header .participant-count dyte-icon{margin:var(--dyte-space-0, 0px);margin-right:var(--dyte-space-0\\.5, 2px);width:var(--dyte-space-3, 12px)}.header .assign-button{height:var(--dyte-space-6, 24px);--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-text-opacity));text-decoration-line:underline}.header .assign-button:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.participant-list{display:grid;flex-grow:1;grid-template-columns:repeat(2, minmax(0, 1fr));gap:var(--dyte-space-2, 8px);margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px);width:100%;border-radius:var(--dyte-border-radius-sm, 4px)}.participant-list::-webkit-scrollbar{width:var(--dyte-space-1\\.5, 6px)}.participant-list::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.participant-list::-webkit-scrollbar-track{border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.participant-item{display:flex;align-items:center;justify-content:space-between;margin-right:var(--dyte-space-2, 8px);height:-moz-fit-content;height:fit-content;padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px)}.participant-item:hover{border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.selector-mode:hover .show-on-hover{display:flex}.message-container{margin:var(--dyte-space-0, 0px);display:flex;width:100%;padding-top:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-2, 8px)}.message-container p{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-0, 0px);height:var(--dyte-space-20, 80px);display:flex;width:100%;align-items:center;justify-content:center;border-radius:var(--dyte-border-radius-sm, 4px);font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));border-style:dashed;--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-border-opacity))}.message-container p:hover{--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-border-opacity));background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / 0.25)}.message-container .drop-zone-active{--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-border-opacity));background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / 0.25)}dyte-icon{height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px)}.show-on-hover{margin-left:var(--dyte-space-4, 16px);height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);display:none}:host(:hover) .show-on-hover{display:flex}.peer-ui-container{position:relative;display:flex;align-items:center;gap:var(--dyte-space-2, 8px);height:var(--dyte-space-10, 40px);cursor:pointer;border-radius:var(--dyte-border-radius-sm, 4px);color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}.peer-ui-container dyte-avatar{height:var(--dyte-space-7, 28px);width:var(--dyte-space-7, 28px);font-size:14px;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.peer-ui-container .name{font-size:14px;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}";var go=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const uo=class{constructor(e){c(this,e),this.onSelectedParticipantsUpdate=Q(this,"selectedParticipantsUpdate",7),this.onAllToggled=Q(this,"allParticipantsToggleUpdate",7),this.onParticipantsDragging=Q(this,"participantsDragging",7),this.participantIds=[],this.iconPack=Kt,this.t=Zt(),this.search="",this.participantsToShow=[],this.selectedParticipantIds=[],this.isDragging=!1,this.onSearchInput=e=>{this.search=e.target.value},this.onDragStart=e=>{this.isDragging=!0,this.onParticipantsDragging.emit(!0),this.updateSelectedParticipants(e,!0)},this.onDragEnd=e=>{this.isDragging=!1,this.onParticipantsDragging.emit(!1),this.updateSelectedParticipants(e,!1)},this.onClick=e=>{const t=this.selectedParticipantIds.includes(wt(e));this.updateSelectedParticipants(e,!t)},this.onToggleAll=e=>{const t=e?this.participantsToShow.map(wt):[];this.onAllToggled.emit(t)}}connectedCallback(){this.meetingChanged(this.meeting),this.searchChanged(this.search)}disconnectedCallback(){this.meeting}updateSelectedParticipants(e,t){const i=wt(e);let a=[];a=t&&!this.selectedParticipantIds.includes(i)?[...this.selectedParticipantIds,i]:[...this.selectedParticipantIds.filter((e=>e!==i))],this.onSelectedParticipantsUpdate.emit(a)}meetingChanged(e){null!=e&&this.getParticipants(this.search)}participantsChanged(){this.getParticipants(this.search)}searchChanged(e){this.getParticipants(e)}getParticipants(e){const t=xt(this.meeting);this.participantsToShow=t.filter((t=>{var i;return this.participantIds.includes(wt(t))&&(null!==(i=t.displayName)&&void 0!==i?i:"").toLowerCase().includes(e.toLowerCase())}))}renderPeer(e){const t=li(e.displayName||"");return H("div",{class:"peer-ui-container"},H("dyte-avatar",{participant:{name:e.displayName,picture:e.displayPictureUrl},size:"sm"}),H("p",{class:"name",title:t},oi(t,16),this.meeting.self.userId===e.id&&` (${this.t("you")})`))}render(){return H(G,{key:"f2d84e849f539e0c6fc709258c280894ed33bf03"},H("div",{key:"7a837d42639e0577ec6a263ad8551b7ad0d26178",class:"search-wrapper"},H("div",{key:"3297c0dd3654ebfc017bac54b0b88f3703894456",class:"search",part:"search"},H("dyte-icon",{key:"3703973e874502d500aa1e814bce881f6731e132",icon:this.iconPack.search,part:"search-icon",class:"search-icon"}),H("input",{key:"3a3ad70f36122385f7da50c018d2e326c0d37e5e",type:"search",autocomplete:"off",placeholder:this.t("search"),onInput:this.onSearchInput,part:"search-input"})),H("slot",{key:"94570b18dbed22c304a86f571e7eb3a58a341d2e",name:"shuffle-button"})),H("div",{key:"1945693901357dbcb608199c9ed460745390ab03",class:"header"},H("div",{key:"3929f5c2d37a6a60f8b21345535420ea5cc30d9e",class:"title-wrapper"},H("span",{key:"fdcda41de05fc7a6cc1ce40af7d6b1a3d891e551"},this.t("breakout_rooms.main_room")),H("span",{key:"67730b14ab4b77e2d5f469ffeb187d631793bddb",class:"participant-count"},"(",H("dyte-icon",{key:"19d758f1f0bee73b1100754a7f4d369592f60bd2",icon:this.iconPack.people}),this.participantsToShow.length,")")),0!==this.selectedParticipantIds.length&&H("dyte-tooltip",{key:"47eff73a22c4471e3f5c44bda4b966f2b3ad5e44",label:this.t("breakout_rooms.select_all")},H("input",{key:"d180c3d5f879b263de54b7d449cf88b00dbfe1d7",type:"checkbox",checked:this.selectedParticipantIds.length===this.participantsToShow.length,onChange:e=>this.onToggleAll(!!e.target.checked)}))),H("div",{key:"33ea623c6378203774429d0964e35af32a4541d0",class:"ctr scrollbar",part:"container"},this.participantsToShow.length>0&&H("ul",{key:"89e4e47c8d67cac9eda4d3f6e4aab9cfa9fbede2",class:"participants",part:"participants"},this.participantsToShow.map((e=>H("li",{class:{"participant-item":!0,dragging:this.isDragging},onClick:()=>this.onClick(e),onDragStart:()=>this.onDragStart(e),onDragEnd:()=>this.onDragEnd(e),draggable:0===this.selectedParticipantIds.length,role:"listitem",key:e.id},this.renderPeer(e),!this.isDragging&&H("input",{type:"checkbox",class:{"hide-checkbox":0===this.selectedParticipantIds.length},checked:this.selectedParticipantIds.includes(wt(e))}))))),0===this.participantsToShow.length&&this.search.length>0&&H("div",{key:"749a308a9fd64ebf4d0a0d92dee2cf1e03f6c3b9",class:"empty-message"},this.t("participants.errors.empty_results")),0===this.participantsToShow.length&&0===this.search.length&&H("div",{key:"0bc4d11ad0d47d5222ed886963888481aa21d1af",class:"empty-room"},H("dyte-icon",{key:"75fb66ad3077eaf45ea103147b7f74620d9bb2a7",icon:this.iconPack.people_checked,part:"search-icon",class:"search-icon"}),H("p",{key:"b94340bb40d335b1f5833c105b22c348c4e13cf6"},this.t("breakout_rooms.all_assigned")),H("span",{key:"807499efca10da51093eec42229356cd5acce1ec"},this.t("breakout_rooms.empty_main_room")))))}static get watchers(){return{meeting:["meetingChanged"],participantIds:["participantsChanged"],search:["searchChanged"]}}};go([ni()],uo.prototype,"meeting",void 0),go([ni()],uo.prototype,"iconPack",void 0),go([ni()],uo.prototype,"t",void 0),uo.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{display:flex;height:100%;flex-direction:column;font-size:14px}:host input[type='checkbox']{margin:var(--dyte-space-0, 0px);cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:var(--dyte-border-radius-sm, 4px);position:relative;height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);border-width:var(--dyte-border-width-sm, 1px);border-style:solid;border-color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}:host input[type='checkbox']:checked{--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-border-opacity));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity))}:host input[type='checkbox']:checked::before{position:absolute;top:1px;left:1px;height:var(--dyte-space-3, 12px);width:var(--dyte-space-3, 12px);background-color:rgb(var(--dyte-colors-text-1000, 255 255 255));content:'';clip-path:polygon(5% 60%, 35% 93%, 100% 19%, 86% 4%, 36% 62%, 19% 44%)}*{box-sizing:border-box}.participants{margin-top:var(--dyte-space-2, 8px);padding:var(--dyte-space-0, 0px)}.ctr{box-sizing:border-box;padding-top:var(--dyte-space-0, 0px);padding-bottom:var(--dyte-space-0, 0px);overflow-y:auto;flex-grow:1;flex-basis:0}.empty-message{margin-top:var(--dyte-space-10, 40px);margin-bottom:var(--dyte-space-10, 40px);text-align:center;font-size:14px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}.empty-room{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:var(--dyte-space-2, 8px);height:100%;text-align:center;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}.empty-room dyte-icon{height:var(--dyte-space-7, 28px);width:var(--dyte-space-7, 28px)}.empty-room p{font-size:16px;font-weight:500;margin:var(--dyte-space-0, 0px)}.empty-room span{font-size:12px;color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}.search-wrapper{margin-bottom:var(--dyte-space-1, 4px);display:flex;align-items:center;gap:var(--dyte-space-2, 8px)}.search{position:sticky;box-sizing:border-box;display:flex;align-items:center;border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-0, 0px);height:var(--dyte-space-8, 32px)}.search .search-icon{margin-left:var(--dyte-space-2, 8px);margin-right:var(--dyte-space-2, 8px);height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px);color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}.search input{box-sizing:border-box;width:100%;padding-right:var(--dyte-space-2, 8px);border-width:var(--dyte-border-width-none, 0);border-style:none;background-color:inherit;color:rgb(var(--dyte-colors-text-1000, 255 255 255));outline:2px solid transparent;outline-offset:2px;border-radius:var(--dyte-border-radius-sm, 4px);font-size:14px}.search input::-moz-placeholder{color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}.search input::placeholder{color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}.header{margin-left:var(--dyte-space-2, 8px);margin-right:var(--dyte-space-1\\.5, 6px);height:var(--dyte-space-9, 36px);padding-top:var(--dyte-space-3, 12px);padding-bottom:var(--dyte-space-3, 12px);padding-right:var(--dyte-space-0\\.5, 2px);border-bottom-width:var(--dyte-border-width-sm, 1px);border-top-width:var(--dyte-border-width-none, 0);border-right-width:var(--dyte-border-width-none, 0);border-left-width:var(--dyte-border-width-none, 0);border-style:solid;--tw-border-opacity:1;border-bottom-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-border-opacity));font-size:12px;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));display:flex;align-items:center;justify-content:space-between}.title-wrapper{display:flex;align-items:center;gap:var(--dyte-space-2, 8px)}.participant-count{display:flex;align-items:center;font-size:14px}.participant-count dyte-icon{margin-right:var(--dyte-space-0\\.5, 2px);width:var(--dyte-space-3, 12px)}.participant-item{display:flex;align-items:center;justify-content:space-between;margin-top:var(--dyte-space-1, 4px);margin-bottom:var(--dyte-space-1, 4px);border-radius:var(--dyte-border-radius-sm, 4px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);cursor:pointer}.participant-item input.hide-checkbox{display:none}.participant-item input:checked{display:inline-block}.dragging input{display:none}.participant-item:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.participant-item:hover input{display:inline-block}.peer-ui-container{position:relative;display:flex;align-items:center;gap:var(--dyte-space-2, 8px);height:var(--dyte-space-10, 40px);cursor:pointer;border-radius:var(--dyte-border-radius-sm, 4px);color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}.peer-ui-container dyte-avatar{height:var(--dyte-space-7, 28px);width:var(--dyte-space-7, 28px);font-size:14px;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.peer-ui-container .name{font-size:14px;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}";var fo=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const mo=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.loading=!1,this.roomConfig={rooms:2,step:"room-config",mode:"create",applyingChanges:!1},this.assigningParticipants=!1,this.selectedParticipants=[],this.ephemeralStatusText="",this.isDragMode=!1,this.iconPack=Kt,this.t=Zt(),this.permissionsUpdateListener=()=>{this.permissions=this.meeting.self.permissions.connectedMeetings},this.updateLocalState=e=>{this.stateManager.updateCurrentState(e),this.draftState=this.stateManager.currentState,this.meeting.connectedMeetings.isActive&&(this.roomConfig=Object.assign(Object.assign({},this.roomConfig),{mode:"edit"})),"create"!==this.roomConfig.mode||this.meeting.connectedMeetings.isActive||(vt=0),["edit","view"].includes(this.roomConfig.mode)&&(this.roomConfig=Object.assign(Object.assign({},this.roomConfig),{rooms:e.meetings.length,step:"participants-config"}),this.selectedParticipants=[])},this.onAddNewRoom=()=>{this.stateManager.addNewMeeting(),this.draftState=this.stateManager.currentState,this.selectorRef.scrollTo({top:this.selectorRef.scrollHeight,behavior:"smooth"})},this.onRoomUpdate=e=>{const{detail:t}=e;this.stateManager.updateMeetingTitle(t.id,t.title),this.draftState=this.stateManager.currentState},this.onRoomDelete=e=>{this.stateManager.allConnectedMeetings.find((t=>t.id===e))&&(this.stateManager.deleteMeeting(e),this.draftState=this.stateManager.currentState)},this.unassignParticipant=e=>{this.stateManager.unassignParticipants([e]),this.draftState=this.stateManager.currentState},this.onUnassignAll=()=>{this.stateManager.unassignAllParticipants(),this.draftState=this.stateManager.currentState},this.assignParticipantsToRoom=e=>{0!==this.selectedParticipants.length&&0!=this.assigningParticipants&&(this.stateManager.assignParticipantsToMeeting(this.selectedParticipants,e),this.draftState=this.stateManager.currentState,this.selectedParticipants=[],this.assigningParticipants=!1,this.setEphemeralStatus(this.t("breakout_rooms.ephemeral_status.participants_assigned")))},this.handleClose=(e,t)=>{e.emit({activeBreakoutRoomsManager:{active:!0}}),t.activeBreakoutRoomsManager={active:!0}},this.enableConfirmationModal=(e="start-breakout")=>{let t={active:!0,header:"breakout_rooms.confirm_modal.start_breakout.header",content:"breakout_rooms.confirm_modal.start_breakout.content",variant:"primary",cancelText:"breakout_rooms.confirm_modal.start_breakout.cancelText",ctaText:"breakout_rooms.confirm_modal.start_breakout.ctaText",onClick:()=>this.applyChanges(),onClose:this.handleClose};"close-breakout"===e&&(t={active:!0,header:"breakout_rooms.confirm_modal.close_breakout.header",content:"breakout_rooms.confirm_modal.close_breakout.content",variant:"danger",cancelText:"cancel",ctaText:"breakout_rooms.confirm_modal.close_breakout.ctaText",onClick:()=>this.closeBreakout(),onClose:this.handleClose}),this.stateUpdate.emit({activeBreakoutRoomsManager:{active:!1},activeConfirmationModal:t})},this.close=()=>{this.stateManager.discardChanges(),this.stateUpdate.emit({activeBreakoutRoomsManager:{active:!1}})},this.applyChanges=async()=>{this.roomConfig=Object.assign(Object.assign({},this.roomConfig),{applyingChanges:!0}),await this.stateManager.applyChanges(this.meeting),this.close(),this.roomConfig=Object.assign(Object.assign({},this.roomConfig),{applyingChanges:!1})}}onSelectedParticipantsChanged(e){e.length>0?this.assigningParticipants=!0:this.assigningParticipants=!1}connectedCallback(){this.permissionsUpdateListener(),this.meeting.connectedMeetings.on("stateUpdate",this.updateLocalState),this.meeting.connectedMeetings.on("changingMeeting",this.close),this.meeting.self.permissions.on("permissionsUpdate",this.permissionsUpdateListener),this.stateManager=new Nt,this.fetchRoomState()}disconnectedCallback(){this.meeting.connectedMeetings.off("stateUpdate",this.updateLocalState),this.meeting.connectedMeetings.off("changingMeeting",this.close),this.meeting.self.permissions.off("permissionsUpdate",this.permissionsUpdateListener)}async fetchRoomState(){this.loading=!0,await this.meeting.connectedMeetings.getConnectedMeetings(),this.loading=!1}setEphemeralStatus(e){this.ephemeralStatusText=e,setTimeout((()=>{this.ephemeralStatusText=""}),3e3)}onCreateRooms(){this.selectedParticipants=[],this.stateManager.addNewMeetings(this.roomConfig.rooms),this.draftState=this.stateManager.currentState,this.roomConfig=Object.assign(Object.assign({},this.roomConfig),{step:"participants-config"})}onParticipantDelete(e){const{detail:t}=e,i=wt(t);null!=i&&this.unassignParticipant(i)}toggleDragMode(e){this.isDragMode=e.detail}assignParticipantsRandomly(){0!==this.stateManager.unassignedParticipants.length&&(this.stateManager.assignParticipantsRandomly(),this.draftState=this.stateManager.currentState,this.setEphemeralStatus(this.t("breakout_rooms.ephemeral_status.participants_assigned_randomly")))}async joinRoom(e){const t=wt(this.meeting.self);this.stateManager.assignParticipantsToMeeting([t],e),await this.applyChanges()}async closeBreakout(){this.stateManager.allConnectedMeetings.forEach((e=>this.stateManager.deleteMeeting(e.id))),await this.applyChanges()}updateSelectedParticipants(e){this.selectedParticipants=e.detail}updateAllParticipants(e){this.selectedParticipants=e.detail}getStatusText(){if(""!==this.ephemeralStatusText)return this.ephemeralStatusText;let e="";return"create"===this.roomConfig.mode&&(e=this.t("breakout_rooms.status.assign_multiple"),0!==this.selectedParticipants.length&&(e=this.t("breakout_rooms.status.select_room"))),e}getApproxDistribution(){const e=this.stateManager.unassignedParticipants.length/(this.roomConfig.rooms||1);return Math.max(1,Math.round(e))}deselectAll(){this.selectedParticipants=[]}async discardChanges(){this.stateManager.discardChanges(),await this.fetchRoomState(),this.setEphemeralStatus(this.t("breakout_rooms.ephemeral_status.changes_discarded"))}shouldShowOnlyRoomSwitcher(){return!1===this.permissions.canAlterConnectedMeetings}getPermittedRooms(){return this.permissions.canAlterConnectedMeetings||this.permissions.canSwitchConnectedMeetings?this.stateManager.allConnectedMeetings:this.stateManager.allConnectedMeetings.filter((e=>e.id===this.meeting.meta.meetingId))}renderMainRoomMaybe(){return this.meeting.connectedMeetings.isActive&&this.permissions.canSwitchToParentMeeting?H("dyte-breakout-room-manager",{key:this.stateManager.currentState.parentMeeting.id,assigningParticipants:this.assigningParticipants,isDragMode:this.isDragMode,meeting:this.meeting,mode:this.roomConfig.mode,onParticipantsAdd:()=>this.assignParticipantsToRoom(this.stateManager.currentState.parentMeeting.id),onRoomJoin:()=>this.joinRoom(this.stateManager.currentState.parentMeeting.id),onUpdate:this.onRoomUpdate,states:this.states,room:Object.assign({},this.stateManager.currentState.parentMeeting),iconPack:this.iconPack,t:this.t}):null}renderRoomSwitcher(){return H(G,null,H("div",{class:"room-switcher-container"},H("header",null,H("dyte-icon",{icon:this.iconPack.breakout_rooms}),H("span",null,this.t("breakout_rooms.join_breakout_header"))),H("div",{class:"rooms",ref:e=>this.selectorRef=e},this.renderMainRoomMaybe(),this.getPermittedRooms().map(((e,t)=>H("dyte-breakout-room-manager",{key:e.id,assigningParticipants:this.assigningParticipants,isDragMode:this.isDragMode,defaultExpanded:0===t,meeting:this.meeting,mode:this.roomConfig.mode,onDelete:()=>this.onRoomDelete(e.id),onParticipantsAdd:()=>this.assignParticipantsToRoom(e.id),onRoomJoin:()=>this.joinRoom(e.id),states:this.states,room:Object.assign({},e),iconPack:this.iconPack,t:this.t,allowDelete:!1}))))))}renderLoading(){return H(G,null,H("div",{class:"loading-content"},H("dyte-spinner",{size:"xl"})))}renderRoomConfig(){return H(G,null,H("div",{class:"room-config"},H("header",null,H("dyte-icon",{icon:this.iconPack.breakout_rooms}),H("span",null,this.t("breakout_rooms.room_config_header"))),H("div",{class:"create-room"},H("p",null,this.t("breakout_rooms.num_of_rooms")),H("dyte-counter",{value:this.roomConfig.rooms,minValue:1,iconPack:this.iconPack,t:this.t,onValueChange:e=>{this.roomConfig=Object.assign(Object.assign({},this.roomConfig),{rooms:Math.max(+e.detail,1)})}})),H("span",{class:"distribution-hint"},`${this.t("breakout_rooms.approx")} `," ",H("em",null,this.getApproxDistribution()," ",this.t("breakout_rooms.participants_per_room"))," ",this.t("breakout_rooms.division_text")),H("footer",null,H("dyte-button",{kind:"button",size:"lg",title:this.t("create"),disabled:0===this.roomConfig.rooms,onClick:()=>this.onCreateRooms()},this.t("create")))))}render(){return this.loading?this.renderLoading():this.shouldShowOnlyRoomSwitcher()?this.renderRoomSwitcher():"room-config"===this.roomConfig.step?this.renderRoomConfig():H(G,null,H("div",{class:"participant-config-wrapper"},H("div",{class:"participant-config"},H("aside",{part:"menu"},H("header",null,this.t("breakout_rooms.assign_participants")),H("dyte-breakout-room-participants",{meeting:this.meeting,iconPack:this.iconPack,t:this.t,participantIds:this.stateManager.unassignedParticipants.map(wt),selectedParticipantIds:this.selectedParticipants},H("dyte-tooltip",{label:this.t("breakout_rooms.shuffle_participants"),slot:"shuffle-button"},H("dyte-button",{disabled:"edit"===this.roomConfig.mode||0===this.stateManager.unassignedParticipants.length,kind:"button",variant:"secondary",size:"md",onClick:()=>this.assignParticipantsRandomly(),class:"shuffle-button br-primary-btn"},H("dyte-icon",{icon:this.iconPack.shuffle})))),0!==this.selectedParticipants.length&&H("div",{class:"participants-assign-actions"},H("span",null,`${this.selectedParticipants.length} ${this.t("breakout_rooms.selected")}`),H("dyte-button",{disabled:"edit"===this.roomConfig.mode,kind:"button",variant:"ghost",size:"md",onClick:()=>this.deselectAll(),class:"deselect-button color-danger"},this.t("breakout_rooms.deselect")))),H("div",{class:"assign-rooms"},H("div",{class:"row"},H("p",{class:"row-header"},this.t("breakout_rooms.rooms")," (",this.stateManager.allConnectedMeetings.length,")"),!this.assigningParticipants&&H("div",{class:"cta-buttons"},H("dyte-button",{kind:"button",variant:"secondary",class:"br-primary-btn"},H("div",{onClick:this.onAddNewRoom},H("dyte-icon",{icon:this.iconPack.add}),this.t("breakout_rooms.add_room"))),0!==this.stateManager.allConnectedMeetings.flatMap((e=>e.participants)).length&&H("dyte-button",{kind:"button",variant:"ghost",onClick:this.onUnassignAll},this.t("breakout_rooms.unassign_all")))),H("div",{class:"rooms",ref:e=>this.selectorRef=e},this.renderMainRoomMaybe(),this.getPermittedRooms().map(((e,t)=>H("dyte-breakout-room-manager",{key:e.id,assigningParticipants:this.assigningParticipants,isDragMode:this.isDragMode,defaultExpanded:0===t,meeting:this.meeting,mode:this.roomConfig.mode,onDelete:()=>this.onRoomDelete(e.id),onParticipantsAdd:()=>this.assignParticipantsToRoom(e.id),onRoomJoin:()=>this.joinRoom(e.id),onUpdate:this.onRoomUpdate,states:this.states,room:Object.assign({},e),iconPack:this.iconPack,t:this.t,allowDelete:this.stateManager.allConnectedMeetings.length>1}))),H("dyte-button",{kind:"button",variant:"secondary",onClick:this.onAddNewRoom,class:"add-room-jumbo-btn br-secondary-btn"},H("div",null,H("dyte-icon",{icon:this.iconPack.add}),H("span",null,this.t("breakout_rooms.add_room_brief"))))))),H("div",{class:"participant-config-actions"},H("div",{class:{"status-bar":!0,"ephemeral-status":""!==this.ephemeralStatusText}},""!==this.ephemeralStatusText&&H("dyte-icon",{icon:this.iconPack.checkmark}),this.getStatusText()),H("div",{class:"breakout-actions"},"create"===this.roomConfig.mode&&this.permissions.canAlterConnectedMeetings&&H("dyte-button",{size:"md",class:"start-breakout-button",onClick:()=>this.enableConfirmationModal("start-breakout")},this.t("breakout_rooms.start_breakout")),"edit"===this.roomConfig.mode&&this.stateManager.hasLocalChanges&&this.permissions.canAlterConnectedMeetings&&H("dyte-button",{size:"md",class:"color-danger",variant:"ghost",onClick:()=>this.discardChanges()},this.t("breakout_rooms.discard_changes")),"edit"===this.roomConfig.mode&&this.stateManager.hasLocalChanges&&this.permissions.canAlterConnectedMeetings&&H("dyte-button",{size:"md",class:"update-breakout-button",onClick:this.applyChanges},this.t("breakout_rooms.update_breakout")),"edit"===this.roomConfig.mode&&!this.stateManager.hasLocalChanges&&this.permissions.canAlterConnectedMeetings&&H("dyte-button",{size:"md",class:"close-breakout-button",onClick:()=>this.enableConfirmationModal("close-breakout")},this.t("breakout_rooms.close_breakout"))))))}static get watchers(){return{selectedParticipants:["onSelectedParticipantsChanged"]}}};fo([ni()],mo.prototype,"meeting",void 0),fo([ni()],mo.prototype,"states",void 0),fo([ni()],mo.prototype,"iconPack",void 0),fo([ni()],mo.prototype,"t",void 0),mo.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.color-brand{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity))}.color-danger{--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}.loading-content{height:var(--dyte-space-60, 240px);width:var(--dyte-space-96, 384px);padding:var(--dyte-space-9, 36px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));display:flex;align-items:center;justify-content:center}.room-config{overflow:hidden;border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));display:flex;flex-direction:column;width:var(--dyte-space-96, 384px);padding-left:var(--dyte-space-9, 36px);padding-right:var(--dyte-space-9, 36px);padding-top:var(--dyte-space-10, 40px);padding-bottom:var(--dyte-space-10, 40px)}header{margin-bottom:var(--dyte-space-8, 32px);display:flex;align-items:center;gap:var(--dyte-space-2, 8px);font-size:24px;font-weight:600}header dyte-icon{height:var(--dyte-space-7, 28px);width:var(--dyte-space-7, 28px)}.create-room{margin-bottom:var(--dyte-space-4, 16px);display:flex;align-items:center;gap:var(--dyte-space-3, 12px);width:100%}.create-room p{margin:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-1, 4px);font-size:16px}.distribution-hint{margin-bottom:var(--dyte-space-8, 32px);font-size:14px;font-weight:400;color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}.distribution-hint em{font-style:normal;color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}footer{display:flex;flex-direction:row;vertical-align:middle;justify-content:center}footer dyte-button{width:100%;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}label{margin-bottom:var(--dyte-space-3, 12px);font-weight:400;color:rgb(var(--dyte-colors-text-1000, 255 255 255));opacity:0.4}.participant-config-wrapper{width:850px;height:595px;max-width:100%;max-height:100%;border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));display:flex;flex-direction:column}.participant-config-actions{display:flex;justify-content:space-between;padding-left:var(--dyte-space-8, 32px);padding-right:var(--dyte-space-8, 32px);padding-top:var(--dyte-space-5, 20px);padding-bottom:var(--dyte-space-5, 20px);border-bottom-right-radius:var(--dyte-border-radius-md, 8px);border-bottom-left-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.participant-config{display:flex;flex-grow:1;flex-direction:row;overflow:hidden}aside{box-sizing:border-box;display:flex;width:var(--dyte-space-96, 384px);flex-grow:1;flex-direction:column;padding-left:var(--dyte-space-8, 32px);padding-right:var(--dyte-space-4, 16px);border-right-width:var(--dyte-border-width-sm, 1px);border-top-width:var(--dyte-border-width-none, 0);border-bottom-width:var(--dyte-border-width-none, 0);border-left-width:var(--dyte-border-width-none, 0);border-style:solid;--tw-border-opacity:1;border-right-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-border-opacity))}aside header{margin-bottom:var(--dyte-space-4, 16px);width:100%;padding-left:var(--dyte-space-0, 0px);padding-right:var(--dyte-space-0, 0px);padding-top:var(--dyte-space-8, 32px);font-size:20px;font-weight:500;line-height:2rem}.shuffle-button{display:flex;flex-direction:row;align-items:center}.shuffle-button dyte-icon{height:var(--dyte-space-8, 32px)}.participants-assign-actions{display:flex;flex-direction:row;align-items:center;justify-content:space-between;font-size:14px;padding-left:var(--dyte-space-8, 32px);padding-right:var(--dyte-space-2, 8px);margin-left:calc(var(--dyte-space-8, 32px) * -1);margin-right:calc(var(--dyte-space-4, 16px) * -1);padding-top:var(--dyte-space-0\\.5, 2px);padding-bottom:var(--dyte-space-0\\.5, 2px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}.participants-assign-actions .deselect-button{height:var(--dyte-space-6, 24px)}.participants-assign-actions .deselect-button:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}.assign-rooms{padding:var(--dyte-space-8, 32px);display:flex;width:100%;flex-direction:column}.assign-rooms .disabled{opacity:0.2}.assign-rooms .back{display:flex;cursor:pointer;flex-direction:row;align-items:center;justify-content:flex-start;padding:var(--dyte-space-4, 16px);padding-bottom:var(--dyte-space-0, 0px);font-size:14px;color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}.assign-rooms .back dyte-icon{height:var(--dyte-space-5, 20px)}.assign-rooms .row{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;gap:var(--dyte-space-3, 12px);margin-bottom:var(--dyte-space-4, 16px);font-size:14px}.assign-rooms .row-header{margin:var(--dyte-space-0, 0px);font-size:16px;line-height:2rem}.assign-rooms .cta-buttons{display:flex;align-items:center;justify-content:flex-start;gap:var(--dyte-space-2, 8px)}.assign-rooms .cta-buttons dyte-button div{display:flex;flex-direction:row;align-items:center}.assign-rooms .cta-buttons dyte-button div dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px)}.rooms{margin-bottom:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-1, 4px);display:flex;flex-grow:1;flex-direction:column;gap:var(--dyte-space-2, 8px);overflow-y:auto;max-height:500px}.rooms::-webkit-scrollbar{width:var(--dyte-space-1\\.5, 6px);border-radius:var(--dyte-border-radius-sm, 4px)}.rooms::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.rooms::-webkit-scrollbar-track{border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.breakout-actions{display:flex;flex-direction:row;align-items:center;justify-content:flex-end;gap:var(--dyte-space-2, 8px)}.breakout-actions .start-breakout-button{color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.breakout-actions .close-breakout-button{color:rgb(var(--dyte-colors-text-1000, 255 255 255));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-bg-opacity))}.breakout-actions .update-breakout-button{background-color:transparent;--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-text-opacity));border-width:var(--dyte-border-width-sm, 1px);border-style:solid;--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-border-opacity))}.status-bar{display:flex;align-items:center;font-size:14px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));width:var(--dyte-space-80, 320px)}.ephemeral-status{--tw-text-opacity:1;color:rgba(var(--dyte-colors-success, 98 165 4) / var(--tw-text-opacity))}.ephemeral-status dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px)}.room-switcher-container{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));width:468px;padding:var(--dyte-space-8, 32px)}.add-room-jumbo-btn div{display:flex;align-items:center;gap:var(--dyte-space-1, 4px);font-size:14px;--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity))}.add-room-jumbo-btn div dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px)}.br-primary-btn:not([disabled]){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.br-primary-btn:not([disabled]):hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-600, 13 81 253) / var(--tw-bg-opacity))}.br-secondary-btn:not([disabled]){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.br-secondary-btn:not([disabled]):hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}";var vo=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const yo=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.iconPack=Kt,this.t=Zt(),this.messagePayload={to:"Everyone",message:""},this.successMessage=!1}close(){var e;null===(e=this.stateUpdate)||void 0===e||e.emit({activeBroadcastMessageModal:!1})}sendMessage(){this.successMessage=!0,setTimeout((()=>{this.close()}),2e3)}render(){return H(G,{key:"942c56592847886706d37d042922de10bc1d9ba2"},H("div",{key:"870f1187ffaad036b5bf08d85a2a90c947fe3475",class:"content-col"},H("h2",{key:"18764e77a37c5d4f2a8f6fdf7dd877e75d7e6cc1"},"Broadcast message to"),H("select",{key:"4ee081d8cc2c06a43b0f3b19d4a65b99ec8a35e4",onChange:e=>{this.messagePayload=Object.assign(Object.assign({},this.messagePayload),{to:e.target.value})}},H("option",{key:"37165f1fe83d97ca45a1c52393331601dab36f20"},"Everyone"),H("option",{key:"5fb75c26d28b155bd6b410ece1e55552c9a14444"},"List of rooms")),H("textarea",{key:"4173fc0b3f7811b99c15cdf4549ba18af8bf0f71",placeholder:"Type message here...",onInput:e=>{this.messagePayload=Object.assign(Object.assign({},this.messagePayload),{message:e.target.value})}}),this.successMessage?H("p",null,"Message sent to ",this.messagePayload.to,H("dyte-icon",{icon:this.iconPack.checkmark})):H("div",{class:"content-row"},H("dyte-button",{onClick:()=>this.close(),variant:"secondary"},"Cancel"),"\u2002",H("dyte-button",{variant:"primary",onClick:()=>this.sendMessage()},"Send"))))}};vo([ni()],yo.prototype,"meeting",void 0),vo([ni()],yo.prototype,"states",void 0),vo([ni()],yo.prototype,"iconPack",void 0),vo([ni()],yo.prototype,"t",void 0),yo.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;border-radius:var(--dyte-border-radius-md, 8px);padding:var(--dyte-space-4, 16px);width:100%;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));width:400px;max-width:80%}.content-col{display:flex;width:100%;flex-direction:column}h2{margin:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-2, 8px)}.content-row{display:flex;width:100%;flex-direction:row}.content-row dyte-button{margin-top:var(--dyte-space-4, 16px);width:100%}textarea{margin-top:var(--dyte-space-3, 12px);resize:none;border-radius:var(--dyte-border-radius-sm, 4px);border-width:var(--dyte-border-width-none, 0);border-style:none;font-family:var(--dyte-font-family, sans-serif);outline:2px solid transparent;outline-offset:2px;height:var(--dyte-space-16, 64px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));padding:var(--dyte-space-2, 8px);color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}textarea::-moz-placeholder{color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}textarea::placeholder{color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}select{border-radius:var(--dyte-border-radius-sm, 4px);border-width:var(--dyte-border-width-none, 0);border-style:none;padding-top:var(--dyte-space-3, 12px);padding-bottom:var(--dyte-space-3, 12px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);outline:2px solid transparent;outline-offset:2px;border-right-width:var(--dyte-border-width-md, 2px);border-style:solid;border-color:transparent;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}p{margin:var(--dyte-space-0, 0px);margin-top:var(--dyte-space-2, 8px);width:100%;text-align:center;font-size:14px;--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity));display:flex;flex-direction:row;align-items:center;justify-content:center}p dyte-icon{margin-left:var(--dyte-space-1, 4px);height:var(--dyte-space-5, 20px)}";const bo=class{constructor(e){c(this,e),this.variant="primary",this.kind="button",this.reverse=!1,this.disabled=!1,this.type="button"}render(){return H(G,{key:"b6b2dd78e9e260a8009f6936800e94cee2146826"},H("button",{key:"d607bc0d6e12ba1dcd050691ef7a23636b72ea17",part:"button",type:this.type,disabled:this.disabled},H("span",{key:"26166623d5ce0d9f9f23a57ff3793fab736bc90b",class:"start"},H("slot",{key:"2c3ee6d68ac313347e4acf8b05af72c492d56d85",name:"start"})),H("span",{key:"db86595c8d5763d45301c4a883e9ba3d013ed982",class:"content",part:"content"},H("slot",{key:"3b3b5541f807f71779195e9b0e559add82805e6b"})),H("span",{key:"689b910116fd34150302a05f97d54a02df05431f",class:"end"},H("slot",{key:"296ea6a1eec98b235f8ebaaf096acfcac88ffc20",name:"end"}))))}};!function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);r>3&&n&&Object.defineProperty(t,i,n)}([ni()],bo.prototype,"size",void 0),bo.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{--icon-size:var(--dyte-button-icon-size, var(--dyte-space-5, 20px));--transition-property:var(--dyte-transition-property, all);--transition-duration:100ms;display:inline-flex;height:var(--dyte-space-8, 32px);cursor:pointer;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));font-size:14px;-webkit-user-select:none;-moz-user-select:none;user-select:none;border-radius:var(--dyte-border-radius-sm, 4px);transition-property:var(--transition-property);transition-duration:var(--transition-duration)}button{box-sizing:border-box;background-color:transparent;color:inherit;border:var(--dyte-border-width-sm, 1px) solid transparent;padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);display:inline-flex;flex-grow:1;justify-content:center;vertical-align:baseline;gap:var(--dyte-space-1, 4px);transition-property:var(--transition-property);transition-duration:var(--transition-duration);outline:none;height:inherit;border-radius:inherit;fill:inherit;cursor:inherit;font-weight:inherit;font-family:inherit;font-size:inherit;line-height:inherit}.start,.content,.end{align-self:center}::slotted(dyte-icon),::slotted(dyte-spinner){height:var(--icon-size);width:var(--icon-size)}:host([variant='primary']){color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}:host(:hover){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-600, 13 81 253) / var(--tw-bg-opacity))}button:focus-visible{border-color:rgb(var(--dyte-colors-text-1000, 255 255 255))}:host(:active){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-700, 2 70 253) / var(--tw-bg-opacity))}:host([disabled]:not([disabled='false'])){cursor:not-allowed;opacity:0.6}:host([variant='secondary']){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}:host([variant='secondary']:hover){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}:host([variant='secondary']:active){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity))}:host([variant='danger']){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-bg-opacity))}:host([variant='danger']:hover){background-color:rgba(var(--dyte-colors-danger, 255 45 45) / 0.7)}:host([variant='danger']:active){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-bg-opacity))}:host([variant='ghost']){background-color:transparent;color:inherit}:host([variant='ghost'].active){--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity))}:host([variant='ghost']:hover){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}:host([variant='ghost']:active){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}:host([kind='icon']){--icon-size:var(--dyte-space-5, 20px);width:var(--dyte-space-8, 32px)}:host([kind='icon']) button{padding-left:var(--dyte-space-0, 0px);padding-right:var(--dyte-space-0, 0px)}:host([kind='wide']){width:100%}:host([size='lg']){--icon-size:var(--dyte-space-5, 20px);height:var(--dyte-space-10, 40px);font-size:16px}:host([size='lg'][kind='icon']){--icon-size:var(--dyte-space-6, 24px);height:var(--dyte-space-10, 40px);width:var(--dyte-space-10, 40px)}:host([size='sm']){--icon-size:var(--dyte-space-4, 16px);height:var(--dyte-space-6, 24px);font-size:12px}:host([size='sm'][kind='icon']){height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px)}";var wo=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const xo=class{constructor(e){c(this,e),this.iconPack=Kt,this.variant="full",this.t=Zt(),this.videoDevices=[],this.canProduceVideo=!0,this.stageStateListener=()=>{this.canProduceVideo="ALLOWED"===this.meeting.self.permissions.canProduceVideo},this.deviceListUpdateListener=({devices:e})=>{this.videoDevices=e.filter((e=>"videoinput"===e.kind))},this.deviceUpdateListener=({device:e})=>{"videoinput"===e.kind&&(this.currentDevice=e)},this.mediaPermissionUpdateListener=async({kind:e,message:t})=>{this.meeting&&"video"===e&&"ACCEPTED"===t&&(this.videoDevices=await this.meeting.self.getVideoDevices())}}meetingChanged(e){var t,i,a;null!=e&&(null===(t=e.self)||void 0===t||t.addListener("deviceListUpdate",this.deviceListUpdateListener),null===(i=e.self)||void 0===i||i.addListener("deviceUpdate",this.deviceUpdateListener),null===(a=e.self)||void 0===a||a.addListener("mediaPermissionUpdate",this.mediaPermissionUpdateListener),L((async()=>{var t,i;const a=await e.self.getVideoDevices(),s=null===(t=e.self.getCurrentDevices())||void 0===t?void 0:t.video;this.videoDevices=null!=s?[null!==(i=a.find((e=>e.deviceId===s.deviceId)))&&void 0!==i?i:s,...a.filter((e=>e.deviceId!==s.deviceId))]:a})))}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){var e,t,i,a,s;null===(t=null===(e=this.meeting)||void 0===e?void 0:e.stage)||void 0===t||t.removeListener("stageStatusUpdate",this.stageStateListener),null===(i=this.meeting)||void 0===i||i.self.removeListener("deviceListUpdate",this.deviceListUpdateListener),null===(a=this.meeting)||void 0===a||a.self.removeListener("deviceUpdate",this.deviceUpdateListener),null===(s=this.meeting)||void 0===s||s.self.removeListener("mediaPermissionUpdate",this.mediaPermissionUpdateListener)}async setDevice(e){var t;const i=this.videoDevices.find((t=>t.deviceId===e));this.currentDevice=i,null!=i&&await(null===(t=this.meeting)||void 0===t?void 0:t.self.setDevice(i))}render(){if(null==this.meeting)return null;let e=0;return H(G,null,this.canProduceVideo&&H("div",{class:"group container "+this.variant,part:"camera-selection"},H("label",null,"inline"!==this.variant&&this.t("camera"),H("dyte-icon",{icon:this.iconPack.video_on,size:"sm"})),H("div",{class:"row"},H("select",{class:"dyte-select",onChange:e=>this.setDevice(e.target.value)},this.videoDevices.map((({deviceId:t,label:i})=>{var a;return H("option",{selected:(null===(a=this.currentDevice)||void 0===a?void 0:a.deviceId)===t,value:t},i||"Camera "+ ++e)}))))))}static get watchers(){return{meeting:["meetingChanged"]}}};wo([ni()],xo.prototype,"meeting",void 0),wo([ni()],xo.prototype,"size",void 0),wo([ni()],xo.prototype,"iconPack",void 0),wo([ni()],xo.prototype,"t",void 0),xo.style=".dyte-select{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.dyte-select:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.dyte-select{display:block;border-radius:var(--dyte-border-radius-sm, 4px);border-width:var(--dyte-border-width-none, 0);border-style:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:var(--dyte-space-3, 12px);font-size:16px;--icon-size:var(--dyte-select-chevron-size, var(--dyte-space-6, 24px));--icon-right-position:var(--dyte-select-chevron-right-position, var(--dyte-space-2, 8px));background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e\");background-position:right var(--icon-right-position) center;background-repeat:no-repeat;background-size:var(--icon-size) var(--icon-size);padding-right:calc(var(--icon-right-position) * 5);width:100%;max-width:100%;text-overflow:ellipsis}.inline .dyte-select{margin-top:var(--dyte-space-1, 4px);width:100%;padding-top:var(--dyte-space-1, 4px);padding-bottom:var(--dyte-space-1, 4px);padding-left:var(--dyte-space-1\\.5, 6px);padding-right:var(--dyte-space-1\\.5, 6px);padding-right:var(--dyte-space-8, 32px);font-size:14px}.row{margin-bottom:var(--dyte-space-2, 8px);display:flex;width:100%;align-items:center;justify-content:space-between;gap:var(--dyte-space-3, 12px)}.group{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px)}.group>*{margin-bottom:var(--dyte-space-2, 8px)}.group>*:last-child{margin-bottom:var(--dyte-space-0, 0px)}.group select{flex:1 1 0%}.group{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-0, 0px)}.group>*{margin-bottom:var(--dyte-space-0, 0px)}label{display:flex;-webkit-user-select:none;-moz-user-select:none;user-select:none;align-items:center;gap:var(--dyte-space-1, 4px);font-size:14px}.inline.container{display:flex;align-items:center;justify-content:flex-start;gap:var(--dyte-space-2, 8px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px)}";var ko=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const So=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.switchChannel=Q(this,"switchChannel",7),this.t=Zt(),this.iconPack=Kt,this.channelName="",this.searchQuery="",this.step=1,this.loading=!1,this.selectedMemberIds=new Set,this.focusedMemberIndex=-1,this.showAllMembersList=!1,this.allMembers=new Map,this.inputTextRef=null,this.searchInputTextRef=null,this.focusOnSearch=(e=!1)=>{this.focusedMemberIndex=-1,L((()=>{var t,i;null===(t=this.searchInputTextRef)||void 0===t||t.focus(),e&&(null===(i=this.searchInputTextRef)||void 0===i||i.select())}))},this.onClickHandler=async()=>{if(0!==this.channelName.length){if(1===this.step){const e=this.meeting.participants.all.toArray(),t=this.meeting.self.userId;return e.filter((e=>e.userId!==t)).forEach((e=>this.allMembers.set(e.userId,e))),this.step=2,void this.focusOnSearch()}await this.createChannel()}},this.createChannel=async()=>{const e=Array.from(this.selectedMemberIds),t=await this.meeting.chat.createChannel(this.channelName,e,{displayPictureUrl:"",visibility:"public",isDirectMessage:!1});this.switchChannel.emit(t.id),this.stateUpdate.emit({activeChannelCreator:!1})},this.onMemberAdd=e=>{this.showAllMembersList=!1,this.selectedMemberIds.add(e),this.searchQuery="",this.focusOnSearch()},this.keyDownHandler=(e,t)=>{if("ArrowDown"===e.key)this.focusedMemberIndex=Math.min(this.focusedMemberIndex+1,t.length-1);else if("ArrowUp"===e.key){if(-1===this.focusedMemberIndex)return;if(0===this.focusedMemberIndex)return void this.focusOnSearch(!0);this.focusedMemberIndex=Math.max(this.focusedMemberIndex-1,0)}else if("Enter"===e.key)this.onMemberAdd(t[this.focusedMemberIndex].userId);else if("Backspace"===e.key){if(0!==this.searchQuery.length)return;if(0===this.selectedMemberIds.size)return;const e=Array.from(this.selectedMemberIds.values()).at(-1);this.selectedMemberIds.delete(e),Oe(this.$el)}},this.renderMemberSelector=()=>{const e=Array.from(this.allMembers.values()).filter((e=>!this.selectedMemberIds.has(e.userId)&&e.name.toLowerCase().includes(this.searchQuery.toLowerCase()))),t=Array.from(this.selectedMemberIds.values()).map((e=>this.allMembers.get(e))),i=this.selectedMemberIds.size===this.allMembers.size;return H("div",{class:"input-container"},H("ul",{class:"members scrollbar",onClick:()=>{var e;null===(e=this.searchInputTextRef)||void 0===e||e.focus()}},t.map((e=>H("li",{class:"pill"},H("dyte-avatar",{participant:{name:e.name,picture:e.picture},size:"sm"}),H("span",null,e.name),H("dyte-icon",{icon:this.iconPack.dismiss,onClick:()=>{this.selectedMemberIds.delete(e.userId),Oe(this.$el),this.focusOnSearch()}})))),!i&&H("input",{type:"text",ref:e=>this.searchInputTextRef=e,value:this.searchQuery,placeholder:0===this.selectedMemberIds.size?this.t("chat.member_name"):"",class:{"wide-input":0===this.selectedMemberIds.size},onInput:e=>{this.searchQuery=e.target.value.trim()},onClick:()=>{this.showAllMembersList=!this.showAllMembersList},onKeyDown:t=>this.keyDownHandler(t,e)})),(0!==this.searchQuery.length||this.showAllMembersList)&&H("ul",{class:"search-results"},e.map(((e,t)=>H("li",{class:{member:!0,selected:t===this.focusedMemberIndex},onClick:()=>this.onMemberAdd(e.userId),ref:e=>{t===this.focusedMemberIndex&&L((()=>{e&&e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}))}},H("dyte-avatar",{participant:{name:e.name,picture:e.picture},size:"sm"}),H("span",null,e.name)))),0===e.length&&H("li",{class:"member"},H("span",null,this.t("chat.error.empty_results")))))}}componentDidLoad(){var e;null===(e=this.inputTextRef)||void 0===e||e.focus()}render(){return H(G,{key:"4c1ae6e4b774e23f4a594a8471975bc67978c5ed"},H("header",{key:"fc502cce45ea3d03814aadbf683b934866e2f1f0"},1===this.step?this.t("chat.new_channel"):this.t("chat.add_members")),1===this.step&&H("input",{key:"5ed3f19504ea6d2393a0ad9edb51d930a1a53c98",class:"channel-name-input",type:"text",placeholder:this.t("chat.channel_name"),ref:e=>this.inputTextRef=e,onInput:e=>{this.channelName=e.target.value.trim()}}),2===this.step&&this.renderMemberSelector(),H("footer",{key:"5d671033919ef077b067098abffb93ca41cc9736"},H("dyte-button",{key:"c9016f42e4ca922ca6dbd2f35ab10be972bdd0b5",kind:"button",size:"lg",disabled:0===this.channelName.length,onClick:this.onClickHandler},1===this.step?this.t("chat.add_members"):this.t("create"))))}get $el(){return Y(this)}};ko([ni()],So.prototype,"meeting",void 0),ko([ni()],So.prototype,"t",void 0),ko([ni()],So.prototype,"iconPack",void 0),So.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));display:flex;flex-direction:column;width:var(--dyte-space-96, 384px);padding-left:var(--dyte-space-9, 36px);padding-right:var(--dyte-space-9, 36px);padding-top:var(--dyte-space-10, 40px);padding-bottom:var(--dyte-space-10, 40px)}header{margin-bottom:var(--dyte-space-8, 32px);display:flex;align-items:center;gap:var(--dyte-space-2, 8px);font-size:24px;font-weight:600}.channel-name-input{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));border-radius:var(--dyte-border-radius-sm, 4px);border-width:var(--dyte-border-width-none, 0);border-style:none;padding:var(--dyte-space-3, 12px);font-size:16px;-webkit-appearance:none;-moz-appearance:none;appearance:none;line-height:1.25;outline:2px solid transparent;outline-offset:2px}.channel-name-input:focus{outline-width:2px;outline-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / 0.5)}footer{margin-top:var(--dyte-space-5, 20px);display:flex;justify-content:flex-end}.member{display:flex;align-items:center;gap:var(--dyte-space-1, 4px);padding:var(--dyte-space-2, 8px)}.member dyte-avatar{height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px);font-size:14px;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.input-container{position:relative;-webkit-appearance:none;-moz-appearance:none;appearance:none;line-height:1.25;outline:2px solid transparent;outline-offset:2px;outline-width:2px;outline-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / 0.5);border-radius:var(--dyte-border-radius-sm, 4px)}.input-container .members{margin:var(--dyte-space-0, 0px);max-height:var(--dyte-space-28, 112px);border-radius:var(--dyte-border-radius-sm, 4px);padding:var(--dyte-space-2, 8px);list-style-type:none;display:flex;flex-wrap:wrap;gap:var(--dyte-space-1, 4px);cursor:text;font-size:16px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));overflow-y:auto;min-height:var(--dyte-space-7, 28px)}.input-container .pill{display:flex;align-items:center;gap:var(--dyte-space-1, 4px);border-radius:var(--dyte-border-radius-sm, 4px);padding:var(--dyte-space-2, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.input-container .pill dyte-avatar{height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px);font-size:14px;color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}.input-container .pill span{max-width:var(--dyte-space-32, 128px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.input-container .pill dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);cursor:pointer}.input-container input{width:var(--dyte-space-24, 96px);border-radius:var(--dyte-border-radius-sm, 4px);border-width:var(--dyte-border-width-none, 0);border-style:none;padding:var(--dyte-space-1, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));outline:2px solid transparent;outline-offset:2px;font-size:16px;line-height:1.25rem}.input-container input.wide-input{width:100%}.search-results{margin:var(--dyte-space-0, 0px);margin-top:var(--dyte-space-1, 4px);max-height:var(--dyte-space-28, 112px);width:100%;padding:var(--dyte-space-0, 0px);position:absolute;list-style-type:none;overflow-y:auto;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));border-radius:var(--dyte-border-radius-md, 8px);--tw-border-spacing-x:var(--dyte-space-2, 8px);--tw-border-spacing-y:var(--dyte-space-2, 8px);border-spacing:var(--tw-border-spacing-x) var(--tw-border-spacing-y);border-style:solid;border-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / 0.5)}.search-results .member{cursor:pointer}.search-results .member dyte-avatar{color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}.search-results .member:hover,.search-results .member.selected{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-700, 2 70 253) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}";var Co=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const _o=class{constructor(e){c(this,e),this.t=Zt(),this.iconPack=Kt,this.members=[]}renderMembers(){return H("ul",{class:"scrollbar"},this.members.map((e=>H("li",null,H("dyte-avatar",{participant:{name:e.name,picture:e.picture},size:"sm"}),H("span",null,e.name)))))}render(){return H(G,{key:"7dc9ef6f5d052016ccb53bf943ef1ca26dd36e62"},H("header",{key:"c113e7cd4271301e032d364954938e3f73f999dd"},this.t("chat.channel_members")),this.renderMembers())}};Co([ni()],_o.prototype,"t",void 0),Co([ni()],_o.prototype,"iconPack",void 0),_o.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));display:flex;flex-direction:column;width:var(--dyte-space-72, 288px);padding-top:var(--dyte-space-5, 20px);padding-bottom:var(--dyte-space-5, 20px);padding-left:var(--dyte-space-8, 32px);padding-right:var(--dyte-space-8, 32px)}header{font-size:20px}dyte-spinner{margin-top:var(--dyte-space-10, 40px);margin-bottom:var(--dyte-space-10, 40px);margin-left:auto;margin-right:auto}ul{margin-left:var(--dyte-space-0, 0px);margin-right:var(--dyte-space-0, 0px);margin-top:var(--dyte-space-6, 24px);margin-bottom:var(--dyte-space-4, 16px);height:var(--dyte-space-48, 192px);padding:var(--dyte-space-0, 0px);overflow-y:auto;list-style-type:none;display:flex;flex-direction:column;gap:var(--dyte-space-2, 8px)}ul li{margin-right:var(--dyte-space-2, 8px);display:flex;align-items:center;gap:var(--dyte-space-2, 8px);padding:var(--dyte-space-2, 8px);cursor:pointer;border-radius:var(--dyte-border-radius-sm, 4px)}ul li:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}ul li dyte-avatar{height:var(--dyte-space-7, 28px);width:var(--dyte-space-7, 28px);font-size:14px;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}";var Po=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Lo=class{constructor(e){c(this,e),this.search=Q(this,"search",7),this.searchDismissed=Q(this,"searchDismissed",7),this.back=Q(this,"back",7),this.iconPack=Kt,this.t=Zt(),this.showChannelDetailsDialog=!1,this.showSearchBar=!1,this.members=[],this.showBackButton=!1}onChannelChanged(){this.$searchInput&&(this.$searchInput.value=""),this.showSearchBar=!1,this.channel.isDirectMessage||this.meeting.chat.getChannelMembers(this.channel.id).then((e=>{this.members=e}))}connectedCallback(){this.onChannelChanged()}renderChannelDetails(){return H("dyte-dialog",{open:!0,onDyteDialogClose:()=>{this.showChannelDetailsDialog=!1},iconPack:this.iconPack,t:this.t},H("dyte-channel-details",{members:this.members,channel:this.channel}))}render(){return this.channel?H(G,null,this.showChannelDetailsDialog&&this.renderChannelDetails(),H("header",{class:{searching:this.showSearchBar}},this.showBackButton&&H("dyte-button",{kind:"icon",variant:"secondary",class:"back-btn",onClick:()=>{this.back.emit()}},H("dyte-icon",{icon:this.iconPack.chevron_left})),H("div",{class:"channel-details"},H("span",{class:"name"},this.channel.displayName),!this.channel.isDirectMessage&&H("span",{class:"members"},this.members.map((e=>e.name)).join(", "))),H("div",{class:"channel-tools"},!this.channel.isDirectMessage&&H("dyte-tooltip",{label:this.t("chat.channel_members"),variant:"primary"},H("dyte-button",{kind:"button",variant:"secondary",size:"md",onClick:()=>{this.showChannelDetailsDialog=!this.showChannelDetailsDialog},class:"br-primary-btn"},H("dyte-icon",{icon:this.iconPack.people})))))):null}static get watchers(){return{channel:["onChannelChanged"]}}};Po([ni()],Lo.prototype,"meeting",void 0),Po([ni()],Lo.prototype,"iconPack",void 0),Po([ni()],Lo.prototype,"t",void 0),Lo.style="header{box-sizing:border-box;height:var(--dyte-space-16, 64px);width:100%;padding:var(--dyte-space-4, 16px);display:flex;justify-content:space-between;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));border-left-width:var(--dyte-border-width-none, 0);border-right-width:var(--dyte-border-width-none, 0);border-bottom-width:var(--dyte-border-width-sm, 1px);border-top-width:var(--dyte-border-width-none, 0);border-style:solid;--tw-border-opacity:1;border-bottom-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-border-opacity))}header.searching{justify-content:flex-end}header.searching .channel-details{display:none}header .channel-details{display:flex;flex-grow:1;flex-direction:column;justify-content:center;height:var(--dyte-space-9, 36px);width:var(--dyte-space-1, 4px)}header .channel-details .name{font-weight:500}header .channel-details .members{margin-top:var(--dyte-space-0\\.5, 2px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:12px;color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}header .channel-tools{display:flex;flex-shrink:0;justify-content:flex-end;gap:var(--dyte-space-1, 4px);min-width:var(--dyte-space-24, 96px)}header .channel-tools dyte-tooltip{height:var(--dyte-space-8, 32px);width:var(--dyte-space-10, 40px);display:flex}header .search-input{height:var(--dyte-space-8, 32px);width:var(--dyte-space-48, 192px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);border-width:var(--dyte-border-width-none, 0);border-style:none;outline:2px solid transparent;outline-offset:2px;border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}header .name{font-size:16px}header .br-primary-btn{background-color:transparent}header .br-primary-btn:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}@media (orientation: landscape) and (min-width: 400px){header.searching .channel-details{display:flex}}.back-btn{margin-right:var(--dyte-space-3, 12px)}";var Eo=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const To=class{constructor(e){c(this,e),this.channelChange=Q(this,"channelChange",7),this.disableSearch=!1,this.hideAvatar=!1,this.iconPack=Kt,this.t=Zt(),this.viewAs="list",this.searchQuery="",this.showDropdown=!1,this.calculateListHeight=ji((()=>{if("list"===this.viewAs&&this.$listEl){let e=0;const t=this.$el.shadowRoot.querySelector('slot[name="header"]');t&&t.assignedElements().forEach((t=>e+=t.offsetHeight)),this.$searchEl&&(e+=this.$searchEl.offsetHeight),this.$listEl.style.height=window.innerHeight-e-16+"px"}}),60),this.getFilteredChannels=()=>""===this.searchQuery.trim()?this.channels:this.channels.filter((e=>e.name.toLowerCase().includes(this.searchQuery.toLowerCase()))),this.toggleDropdown=()=>{this.showDropdown=!this.showDropdown},this.getChannelById=e=>this.channels.find((t=>t.id===e)),this.getTotalUnreads=()=>this.channels.reduce(((e,t)=>e+t.unreadCount),0),this.onChannelClickHandler=e=>{this.channelChange.emit(e),"dropdown"===this.viewAs&&(this.showDropdown=!1)}}connectedCallback(){this.resizeObserver=new ResizeObserver(this.calculateListHeight)}componentDidLoad(){this.resizeObserver.observe(this.$el),this.calculateListHeight()}disconnectedCallback(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect(),this.calculateListHeight.cancel()}getTimeLabel(e){const t=new Date,i=new Date(t);i.setDate(t.getDate()-1);const a=new Date(t);if(a.setDate(t.getDate()-t.getDay()-1),e.toDateString()===t.toDateString())return e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(e.toDateString()===i.toDateString())return this.t("date.yesteday");if(e>a){const t=["date.sunday","date.monday","date.tuesday","date.wednesday","date.thursday","date.friday","date.saturday"];return this.t(t[e.getDay()])}return Intl.DateTimeFormat([],{day:"2-digit",month:"2-digit",year:"2-digit"}).format(e)}render(){const e=this.getFilteredChannels(),t="list"===this.viewAs||"dropdown"===this.viewAs&&this.showDropdown;return H(G,{key:"ade72de18b78275705bb0b39f9923977b8ef479e"},"list"===this.viewAs&&H("slot",{key:"879f77f7f57896e2ef37ba1abfede94bbdd66b8c",name:"header"}),t&&H("div",{key:"a0d9818c26533cf1a65ec70cb385d6ac33ad6c6f",class:{dropdown:"dropdown"===this.viewAs,scrollbar:"dropdown"===this.viewAs,list:"list"===this.viewAs}},!this.disableSearch&&H("div",{key:"428ca579360c29a390084c8f1969091c6b904a5a",class:"search-container",ref:e=>this.$searchEl=e},H("input",{key:"255cbcd3cda43fd2fd8bd3a65cda1f6271476fb9",type:"text",placeholder:this.t("chat.search_conversations"),value:this.searchQuery,onInput:e=>this.searchQuery=e.target.value}),H("dyte-icon",{key:"e85c4413dcd97df62fc96cf23aab4c0ef7276d79",icon:this.iconPack.search})),H("div",{key:"a09eb0f58d6341be68cfc52832e84048f11946be",class:"channels-container scrollbar",ref:e=>this.$listEl=e},e.map((e=>H("button",{class:{channel:!0,active:this.selectedChannelId===e.id},onClick:()=>this.onChannelClickHandler(e)},!this.hideAvatar&&H("div",null,e.icon?H("dyte-icon",{class:"avatar-icon",icon:this.iconPack[e.icon]}):H("dyte-avatar",{participant:{name:e.name,picture:e.avatarUrl}})),H("div",{class:"channel-data"},H("div",{class:"col"},H("div",{class:"name"},e.name),e.latestMessage&&H("div",{class:{"last-message":!0,"no-message":!e.latestMessage}},H("dyte-text-message-view",{isMarkdown:!0,text:e.latestMessage}))),H("div",{class:"col channel-meta"},e.latestMessageTime&&H("time",{class:"time"},this.getTimeLabel(e.latestMessageTime)),e.unreadCount>0&&H("div",{class:"unread-count"},e.unreadCount)))))))),"dropdown"===this.viewAs&&H("button",{key:"af78d56510b62beeee9e17162a0fbe5a75b0b1af",class:"dropdown-trigger",onClick:this.toggleDropdown},H("span",{key:"10c170707e3c084d4a0a1a322128f6e685c075ed"},this.selectedChannelId&&`${this.t("to")} ${this.getChannelById(this.selectedChannelId).name}`,this.getTotalUnreads()>0&&H("div",{key:"b45263bedbb36f6b25cb595067a2418a110e9e45",class:"unread-count"},this.getTotalUnreads())),H("dyte-icon",{key:"ca61473ab2f859378fea75468dbf194a137ceba0",icon:this.showDropdown?this.iconPack.chevron_up:this.iconPack.chevron_down})))}get $el(){return Y(this)}};Eo([ni()],To.prototype,"iconPack",void 0),Eo([ni()],To.prototype,"t",void 0),To.style=".scrollbar {\n  /* For Firefox */\n  scrollbar-width: thin;\n  scrollbar-color: var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent);\n}\n\n/* For WebKit */\n.scrollbar::-webkit-scrollbar {\n  height: var(--dyte-space-1\\.5, 6px);\n  width: var(--dyte-space-1\\.5, 6px);\n  border-radius: 9999px;\n  background-color: var(--dyte-scrollbar-background, transparent);\n}\n\n.scrollbar::-webkit-scrollbar-thumb {\n  border-radius: 9999px;\n  background-color: var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)));\n}\n\n\n:host {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));\n  position: relative;\n  z-index: 10;\n  height: var(--dyte-space-12, 48px);\n  min-height: 48px;\n}\n\n.dropdown-trigger {\n  height: 100%;\n  width: 100%;\n  border-width: var(--dyte-border-width-none, 0);\n  border-style: none;\n  padding: var(--dyte-space-4, 16px);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));\n  font-size: 14px;\n  color: rgb(var(--dyte-colors-text-1000, 255 255 255));\n  cursor: pointer;\n  position: absolute;\n  z-index: 20;\n}\n\n.dropdown-trigger span {\n  display: flex;\n  flex: 1 1 0%;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.dropdown-trigger dyte-icon {\n  margin-left: var(--dyte-space-1, 4px);\n  height: var(--dyte-space-5, 20px);\n  width: var(--dyte-space-5, 20px);\n  flex-shrink: 0;\n}\n\n@container chatcontainer (height < 360px) {\n  .dropdown-trigger {\n    padding: var(--dyte-space-2, 8px);\n  }\n  .dropdown {\n    top: var(--dyte-space-8, 32px) !important;\n  }\n  .search-container {\n    padding-left: var(--dyte-space-0, 0px) !important;\n    padding-right: var(--dyte-space-0, 0px) !important;\n    padding-top: var(--dyte-space-0, 0px) !important;\n    padding-bottom: var(--dyte-space-0, 0px) !important;\n  }\n  input {\n    height: var(--dyte-space-8, 32px) !important;\n    border-radius: var(--dyte-border-radius-none, 0) !important;\n  }\n  .channel {\n    height: var(--dyte-space-8, 32px) !important;\n    border-radius: var(--dyte-border-radius-sm, 4px) !important;\n  }\n  .avatar-icon {\n    height: var(--dyte-space-3, 12px) !important;\n    width: var(--dyte-space-3, 12px) !important;\n    padding: var(--dyte-space-1, 4px) !important;\n  }\n\n  dyte-avatar {\n    height: var(--dyte-space-5, 20px) !important;\n    width: var(--dyte-space-5, 20px) !important;\n  }\n}\n\n.dropdown {\n  position: absolute;\n  width: 100%;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));\n  top: var(--dyte-space-12, 48px);\n  z-index: 10;\n  animation: 0.3s slide-down ease;\n}\n\n.dropdown .channels-container {\n  max-height: var(--dyte-space-80, 320px);\n}\n\n.list {\n  display: flex;\n  flex-direction: column;\n}\n\n.list .channel .channel-data {\n  align-items: flex-start;\n}\n\n.unread-count {\n  display: flex;\n  justify-content: center;\n  height: var(--dyte-space-5, 20px);\n  min-width: var(--dyte-space-3, 12px);\n  border-radius: 9999px;\n  padding-left: var(--dyte-space-1, 4px);\n  padding-right: var(--dyte-space-1, 4px);\n  font-size: 12px;\n  line-height: 1.25rem;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));\n  color: rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));\n}\n\ninput {\n  height: var(--dyte-space-9, 36px);\n  width: 100%;\n  padding-left: var(--dyte-space-3, 12px);\n  padding-right: var(--dyte-space-3, 12px);\n  box-sizing: border-box;\n  border-width: var(--dyte-border-width-none, 0);\n  border-style: none;\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  border-radius: var(--dyte-border-radius-sm, 4px);\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));\n  color: rgb(var(--dyte-colors-text-1000, 255 255 255));\n}\n\n.search-container {\n  display: flex;\n  flex-shrink: 0;\n  flex-grow: 0;\n  flex-basis: auto;\n  align-items: center;\n  padding-top: var(--dyte-space-3, 12px);\n  padding-bottom: var(--dyte-space-3, 12px);\n  padding-left: var(--dyte-space-2, 8px);\n  padding-right: var(--dyte-space-2, 8px);\n  border-bottom: var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-700, 44 44 44));\n}\n\n.search-container dyte-icon {\n  margin-left: calc(var(--dyte-space-8, 32px) * -1);\n  height: var(--dyte-space-5, 20px);\n  width: var(--dyte-space-5, 20px);\n  color: rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76));\n}\n\n.channels-container {\n  display: flex;\n  flex-direction: column;\n  gap: var(--dyte-space-1, 4px);\n  padding: var(--dyte-space-2, 8px);\n  flex: 1 1 auto;\n  overflow-y: auto;\n}\n\n.channel {\n  flex-shrink: 0;\n  box-sizing: border-box;\n  border-width: var(--dyte-border-width-none, 0);\n  border-style: none;\n  background-color: transparent;\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  cursor: pointer;\n  border-radius: var(--dyte-border-radius-md, 8px);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: var(--dyte-space-2, 8px);\n  height: var(--dyte-space-16, 64px);\n  width: 100%;\n  padding-left: var(--dyte-space-2, 8px);\n  padding-right: var(--dyte-space-3, 12px);\n  color: rgb(var(--dyte-colors-text-1000, 255 255 255));\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n\n.channel:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));\n}\n\n.channel .channel-data {\n  flex: 1 1 0%;\n  align-items: center;\n  justify-content: space-between;\n  display: flex;\n  gap: var(--dyte-space-2, 8px);\n}\n\n.channel .name {\n  font-size: 16px;\n}\n\n.channel .name, \n  .channel .last-message {\n  max-width: var(--dyte-space-40, 160px);\n  text-align: left;\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 1;\n}\n\n.channel .no-message {\n  font-style: italic;\n}\n\n.channel dyte-avatar {\n  height: var(--dyte-space-12, 48px);\n  width: var(--dyte-space-12, 48px);\n  overflow: clip;\n  border-radius: 9999px;\n  font-size: 14px;\n}\n\n.channel .avatar-icon {\n  height: var(--dyte-space-6, 24px);\n  width: var(--dyte-space-6, 24px);\n  padding: var(--dyte-space-3, 12px);\n  color: rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));\n  overflow: clip;\n  border-radius: 9999px;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));\n}\n\n.channel time, \n  .channel .last-message {\n  font-size: 12px;\n  color: rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76));\n}\n\n.channel.active {\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-bg-opacity));\n  color: rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));\n}\n\n.channel.active .unread-count {\n  background-color: rgb(var(--dyte-colors-text-on-brand-800, var(--dyte-colors-text-800, 255 255 255 / 0.76)));\n  --tw-text-opacity: 1;\n  color: rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-text-opacity));\n}\n\n.channel.active time {\n  color: rgb(var(--dyte-colors-text-on-brand-800, var(--dyte-colors-text-800, 255 255 255 / 0.76)));\n}\n\n.channel.active .last-message {\n  color: rgb(var(--dyte-colors-text-on-brand-700, var(--dyte-colors-text-700, 255 255 255 / 0.64)));\n}\n\n.channel.active dyte-avatar {\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));\n  color: rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));\n}\n\n.col {\n  gap: var(--dyte-space-1, 4px);\n  display: flex;\n  flex-direction: column;\n}\n\n.channel-meta {\n  flex-shrink: 0;\n  align-items: flex-end;\n}\n\n@keyframes slide-down {\n  from {\n    transform: translateY(-50px);\n  }\n  to {\n    transform: translateY(0%);\n  }\n}\n";var Ao=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Ro=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.chatUpdateListener=({message:e})=>{e.channelId||this.displayFilter&&!this.displayFilter(e)||(this.addToChatGroup(e),this.chatGroups=Object.assign({},this.chatGroups))},this.chatPermissionUpdateListener=()=>{this.canSend=this.meeting.self.permissions.chatPublic.canSend,this.canSendTextMessage=this.meeting.self.permissions.chatPublic.text,this.canSendFiles=this.meeting.self.permissions.chatPublic.files},this.config=zt,this.iconPack=Kt,this.t=Zt(),this.disablePrivateChat=!1,this.canPinMessages=!1,this.privatePresetFilter=[],this.displayFilter=void 0,this.unreadCountGroups={},this.chatGroups={everyone:[]},this.selectedGroup="everyone",this.now=new Date,this.dropzoneActivated=!1,this.showLatestMessageButton=!1,this.canSend=!1,this.canSendTextMessage=!1,this.canSendFiles=!1,this.canPrivateMessage=!1,this.canSendPrivateTexts=!1,this.canSendPrivateFiles=!1,this.emojiPickerEnabled=!1,this.chatRecipientId="everyone",this.participants=[],this.channels=[],this.editingMessage=null,this.replyMessage=null,this.searchQuery="",this.selectorState="hide",this.creatingChannel=!1,this.showPinnedMessages=!1,this.channelMap=new Map,this.onDragOver=e=>{e.preventDefault(),this.dropzoneActivated=!0},this.onDragLeave=()=>{this.dropzoneActivated=!1},this.onDrop=e=>{e.preventDefault(),this.dropzoneActivated=!1,Bi(e.dataTransfer.items,((e,t)=>{var i,a,s,r;switch(e){case"image":this.isFileMessagingAllowed()&&(null===(a=null===(i=this.meeting)||void 0===i?void 0:i.chat)||void 0===a||a.sendImageMessage(t,this.getRecipientPeerIds()));break;case"file":this.isFileMessagingAllowed()&&(null===(r=null===(s=this.meeting)||void 0===s?void 0:s.chat)||void 0===r||r.sendFileMessage(t,this.getRecipientPeerIds()))}}))},this.disconnectMeeting=e=>{var t,i,a,s,r,n;this.isPrivateChatSupported()&&(null==e||e.participants.joined.removeListener("participantJoined",this.onParticipantUpdate),null==e||e.participants.joined.removeListener("participantLeft",this.onParticipantUpdate)),null===(t=null==e?void 0:e.chat)||void 0===t||t.removeListener("chatUpdate",this.chatUpdateListener),null===(i=null==e?void 0:e.chat)||void 0===i||i.removeListener("channelCreate",this.onChannelCreateOrUpdate),null===(a=null==e?void 0:e.chat)||void 0===a||a.removeListener("channelUpdate",this.onChannelCreateOrUpdate),null===(s=null==e?void 0:e.chat)||void 0===s||s.removeListener("channelMessageUpdate",this.onChannelCreateOrUpdate),null===(n=null===(r=null==e?void 0:e.participants)||void 0===r?void 0:r.all)||void 0===n||n.removeListener("participantsUpdate",this.onChannelCreateOrUpdate),e.self.permissions.removeListener("*",this.chatPermissionUpdateListener)},this.getFilteredParticipants=()=>0===this.privatePresetFilter.length?this.participants:this.participants.filter((e=>this.privatePresetFilter.includes(e.presetName))),this.onParticipantUpdate=()=>{this.participants=this.meeting.participants.joined.toArray().filter((e=>0===this.privatePresetFilter.length||this.privatePresetFilter.includes(e.presetName))),this.selectedParticipant&&!this.participants.includes(this.selectedParticipant)&&(this.selectedParticipant=null,this.chatRecipientId=this.selectedGroup="everyone")},this.usePaginatedChat=()=>(!this.isGroupCall||!this.showPinnedMessages)&&("everyone"===this.selectedGroup&&ft(this.meeting)),this.updateUnreadCountGroups=e=>{this.unreadCountGroups=Object.assign(Object.assign({},this.unreadCountGroups),e)},this.isPrivateChatSupported=()=>this.canPrivateMessage&&!this.disablePrivateChat,this.updateRecipients=e=>{const{id:t}=e.detail;if(this.chatRecipientId=t,this.selectedParticipant=this.participants.find((e=>e.userId===t)),"everyone"!==this.chatRecipientId){const e=zi([this.chatRecipientId,this.meeting.self.userId]);this.selectedGroup=e}else this.selectedGroup="everyone";this.updateUnreadCountGroups({[this.selectedGroup]:0})},this.isTextMessagingAllowed=()=>"everyone"===this.chatRecipientId?this.canSend&&this.canSendTextMessage:this.canPrivateMessage&&this.canSendPrivateTexts,this.isFileMessagingAllowed=()=>"everyone"===this.chatRecipientId?this.canSend&&this.canSendFiles:this.canPrivateMessage&&this.canSendPrivateFiles,this.onChannelChanged=e=>{const t=e.detail;t.id.includes(Hi)?this.createDMChannel(t.id.replace(Hi,"")):this.selectedChannelId=t.id,this.cleanup(),"desktop"!==this.selectorState&&(this.selectorState="hide")},this.createDMChannel=async e=>{this.creatingChannel=!0;const t=await this.meeting.chat.createChannel("Direct Message",[e],{visibility:"private",isDirectMessage:!0});this.creatingChannel=!1,this.selectedChannelId=t.id},this.cleanup=()=>{this.editingMessage=null,this.replyMessage=null,this.searchQuery=""},this.onQuotedMessageDismiss=()=>{this.replyMessage=null},this.onChannelCreateOrUpdate=e=>{e?this.channelMap.set(e.id,e):this.meeting.chat.channels.forEach((e=>this.channelMap.set(e.id,e)));const t=Array.from(this.channelMap.values()),i=t.filter((e=>!Vi(e))).sort(((e,t)=>Ni(e.displayName,t.displayName))),a=t.filter(Vi).map((e=>Object.assign(Object.assign({},e),{displayName:this.getMemberDisplayName(e)}))),s=this.meeting.participants.all.toArray().filter((e=>{if(e.userId===this.meeting.self.userId)return!1;const t=Gi([this.meeting.self.userId,e.userId]);return a.every((e=>Gi(e.memberIds)!==t))})).map((e=>({id:`${Hi}${e.userId}`,displayName:e.name,displayPictureUrl:e.picture,isDirectMessage:!0,unreadCount:0}))),r=[...a,...s].sort(((e,t)=>Ni(e.displayName,t.displayName)));this.channels=[...i,...r];const n=[...i,...a];this.selectedChannelId||0===n.length||(this.selectedChannelId=n[0].id)},this.getMemberDisplayName=e=>{var t;let i;i=1===e.memberIds.length?e.memberIds[0]:e.memberIds[0]===this.meeting.self.userId?e.memberIds[1]:e.memberIds[0];const a=this.meeting.participants.all.toArray().find((e=>e.userId===i));return null!==(t=null==a?void 0:a.name)&&void 0!==t?t:i},this.onNewMessageHandler=async e=>{const t=e.detail;this.isChatViewType?(await this.meeting.chat.sendMessageToChannel(t,this.selectedChannelId,this.replyMessage?{replyTo:this.replyMessage}:{}),this.replyMessage=null):this.meeting.chat.sendMessage(t,this.getRecipientPeerIds())},this.onEditMessageHandler=async e=>{var t,i;await(null===(i=null===(t=this.meeting)||void 0===t?void 0:t.chat)||void 0===i?void 0:i.editTextMessage(this.editingMessage.id,e.detail,this.editingMessage.channelId)),this.editingMessage=null},this.onEditCancel=()=>{this.editingMessage=null},this.onSearchHandler=async e=>{this.searchQuery=e.detail},this.onSearchDismissed=()=>{this.searchQuery=""},this.onChannelCreateClicked=()=>{this.stateUpdate.emit({activeChannelCreator:!0})},this.onPinMessage=e=>{const t=e.detail;t.pinned?this.meeting.chat.unpin(t.id):this.meeting.chat.pin(t.id)},this.onDeleteMessage=e=>{const t=e.detail;this.meeting.chat.deleteMessage(t.id)},this.getChannelItems=()=>this.channels.map((e=>{const t={id:e.id,name:e.displayName,avatarUrl:e.displayPictureUrl};return e.latestMessage&&(t.latestMessage="text"===e.latestMessage.type?Xi(e.latestMessage.message):"",t.latestMessageTime=e.latestMessage.time),t})),this.getPrivateChatRecipients=()=>{const e=this.getFilteredParticipants().map((e=>{const t=zi([e.userId,this.meeting.self.userId]);return{id:e.userId,name:e.name,avatarUrl:e.picture,unreadCount:this.unreadCountGroups[t]}}));return[{id:"everyone",name:this.t("chat.everyone"),icon:"participants",unreadCount:this.unreadCountGroups.everyone},...e]},this.onTogglePinnedMessages=()=>{this.showPinnedMessages=!this.showPinnedMessages},this.renderPinnedMessagesHeader=()=>0===this.meeting.chat.pinned.length?null:H("dyte-tooltip",{label:this.t("chat.toggle_pinned_msgs")},H("div",{class:{"pinned-messages-header":!0,active:this.showPinnedMessages},onClick:this.onTogglePinnedMessages},H("dyte-icon",{icon:this.iconPack.pin}),this.t("chat.pinned_msgs"),` (${this.meeting.chat.pinned.length})`))}connectedCallback(){this.meeting&&(this.meetingChanged(this.meeting),this.meeting&&!this.meeting.chat||this.isFileMessagingAllowed()&&(this.host.addEventListener("dragover",this.onDragOver),this.host.addEventListener("dragleave",this.onDragLeave),this.host.addEventListener("drop",this.onDrop)))}onEditMessageInit(e){e.detail.flags.isReply?this.replyMessage=e.detail.payload:e.detail.flags.isEdit&&(this.editingMessage=e.detail.payload)}disconnectedCallback(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect(),this.disconnectMeeting(this.meeting),this.host.removeEventListener("dragover",this.onDragOver),this.host.removeEventListener("dragleave",this.onDragLeave),this.host.removeEventListener("drop",this.onDrop)}meetingChanged(e,t){var i,a,s,r,n,o;if(null!=t&&this.disconnectMeeting(t),(!e||e.chat)&&null!=e){if(this.canSend=e.self.permissions.chatPublic.canSend,this.canSendTextMessage=e.self.permissions.chatPublic.text,this.canSendFiles=e.self.permissions.chatPublic.files,this.canPrivateMessage=!(!(null===(i=e.self.permissions.chatPrivate)||void 0===i?void 0:i.canSend)&&!(null===(a=e.self.permissions.chatPrivate)||void 0===a?void 0:a.canReceive)),this.canSendPrivateTexts=!!(null===(s=e.self.permissions.chatPrivate)||void 0===s?void 0:s.text),this.canSendPrivateFiles=!!(null===(r=e.self.permissions.chatPrivate)||void 0===r?void 0:r.files),this.canPinMessages=(null===(n=null==e?void 0:e.__internals__)||void 0===n?void 0:n.features.hasFeature(ut))&&e.self.permissions.pinParticipant,this.isGroupCall="GROUP_CALL"===e.meta.viewType,this.isChatViewType="CHAT"===e.meta.viewType,this.isChatViewType){this.onChannelCreateOrUpdate();this.channels.filter((e=>!e.id.includes(Hi))).length&&(this.selectedChannelId=this.channels[0].id),this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=new ResizeObserver((e=>{for(const t of e)t.contentBoxSize[0].inlineSize<758?this.selectorState="hide":this.selectorState="desktop"})),this.isChatViewType&&this.resizeObserver.observe(this.host)}this.initializeChatGroups(),this.chatGroups=Object.assign({},this.chatGroups),e.self.permissions.on("*",this.chatPermissionUpdateListener),this.onParticipantUpdate(),null===(o=e.chat)||void 0===o||o.addListener("chatUpdate",this.chatUpdateListener),this.isPrivateChatSupported()&&(e.participants.joined.addListener("participantJoined",this.onParticipantUpdate),e.participants.joined.addListener("participantLeft",this.onParticipantUpdate)),this.isChatViewType&&(e.chat.addListener("channelCreate",this.onChannelCreateOrUpdate),e.chat.addListener("channelUpdate",this.onChannelCreateOrUpdate),e.chat.addListener("channelMessageUpdate",this.onChannelCreateOrUpdate),e.participants.all.addListener("participantsUpdate",this.onChannelCreateOrUpdate))}}chatGroupsChanged(e){var t,i;if(!this.isPrivateChatSupported())return;const a={};for(const s in e){const r=null!==(t=ii[s])&&void 0!==t?t:0;a[s]=e[s].filter((e=>"chat"==e.type&&e.message.time>r&&e.message.userId!==this.meeting.self.userId)).length,(s===zi([this.meeting.self.userId,null===(i=this.selectedParticipant)||void 0===i?void 0:i.userId])||"everyone"===s&&null===this.selectedParticipant)&&(a[s]=0,ii[s]=new Date)}this.updateUnreadCountGroups(a)}initializeChatGroups(){var e;null===(e=this.meeting.chat)||void 0===e||e.messages.forEach((e=>{this.displayFilter&&!this.displayFilter(e)||this.addToChatGroup(e)}))}onDisplayFilterChanged(e,t){e!==t&&(this.chatGroups={},this.initializeChatGroups())}addToChatGroup(e){var t;const i=Fi(e);let a="everyone";if((null===(t=i.targetUserIds)||void 0===t?void 0:t.length)>0){const e=new Set([i.userId,...i.targetUserIds]);a=zi(Array.from(e))}void 0===this.chatGroups[a]&&(this.chatGroups[a]=[]);let s=!1,r=[];this.chatGroups[a].forEach((t=>{"chat"===t.type&&t.message.id===e.id?(s=!0,r.push({type:"chat",message:i})):r.push(t)})),s||r.push({type:"chat",message:i}),this.chatGroups[a]=r}getRecipientPeerIds(){let e=[];return"everyone"!==this.chatRecipientId&&(e=[this.selectedParticipant.id]),e}channelSwitchListener(e){this.onChannelChanged(e)}renderHeadlessComponents(){return H(qe,null,H("dyte-dialog-manager",{meeting:this.meeting}),H("dyte-notifications",{meeting:this.meeting}))}renderComposerUI(){var e,t,i;if(this.isChatViewType&&0===this.channels.length)return null;if(this.isChatViewType&&""!==this.searchQuery)return null;if(this.isChatViewType&&!this.selectedChannelId)return null;if("everyone"===this.chatRecipientId){if(!this.canSendTextMessage&&!this.canSendFiles)return null}else if(!this.canSendPrivateTexts&&!this.canSendPrivateFiles)return null;const a={iconPack:this.iconPack,t:this.t,size:this.size},s=this.editingMessage?this.editingMessage.message:"",r=this.replyMessage?this.replyMessage.message:"";return H("dyte-chat-composer-view",Object.assign({message:s,storageKey:null!==(e=this.selectedChannelId)&&void 0!==e?e:`draft-${this.selectedChannelId}`,quotedMessage:r,isEditing:!!this.editingMessage,canSendTextMessage:this.isTextMessagingAllowed(),canSendFiles:this.isFileMessagingAllowed(),disableEmojiPicker:!!(null===(i=null===(t=this.meeting)||void 0===t?void 0:t.__internals__)||void 0===i?void 0:i.features.hasFeature(lt)),maxLength:this.meeting.chat.maxTextLimit,rateLimits:this.meeting.chat.rateLimits,inputTextPlaceholder:this.t("chat.message_placeholder"),onNewMessage:this.onNewMessageHandler,onEditMessage:this.onEditMessageHandler,onEditCancel:this.onEditCancel,onQuotedMessageDismiss:this.onQuotedMessageDismiss},a),H("slot",{name:"chat-addon",slot:"chat-addon"}))}renderFullChat(){if(this.creatingChannel)return H("div",{class:"banner"},H("dyte-spinner",{size:"lg"}));if(0===this.channels.length||!this.selectedChannelId)return H("div",{class:"banner"},H("dyte-icon",{icon:this.iconPack.create_channel_illustration,slot:"start",class:"create-channel-illustration"}),H("dyte-button",{kind:"wide",variant:"primary",size:"md",onClick:this.onChannelCreateClicked,class:"welcome-new-channel"},H("dyte-icon",{icon:this.iconPack.add,slot:"start"}),H("span",null,this.t("chat.new_channel"))),("mobile"===this.selectorState||"hide"===this.selectorState)&&H("dyte-button",{kind:"button",variant:"secondary",size:"md",class:"view-chats-btn",onClick:()=>{this.selectorState="mobile"}},H("dyte-icon",{icon:this.iconPack.chat,slot:"start"}),H("span",null,this.t("chat.view_chats"))));const e=this.channels.find((e=>e.id===this.selectedChannelId));return H("div",{class:"chat"},H("dyte-channel-header",{slot:"header",meeting:this.meeting,channel:e,onSearch:this.onSearchHandler,onSearchDismissed:this.onSearchDismissed,showBackButton:"mobile"===this.selectorState||"hide"===this.selectorState,onBack:()=>{this.selectorState="mobile"}}),""!==this.searchQuery&&H("dyte-chat-search-results",{meeting:this.meeting,query:this.searchQuery,channelId:this.selectedChannelId}),""===this.searchQuery&&H("dyte-chat-messages-ui-paginated",{meeting:this.meeting,size:this.size,iconPack:this.iconPack,t:this.t,selectedChannelId:this.selectedChannelId,selectedChannel:e}))}render(){var e,t;if(!this.meeting)return null;const i={iconPack:this.iconPack,t:this.t,size:this.size},a=null===(e=this.meeting)||void 0===e?void 0:e.self.userId;let s=this.chatGroups[this.selectedGroup]||[];return this.showPinnedMessages&&0!==this.meeting.chat.pinned.length&&(s=s.filter((e=>"chat"===e.type&&e.message.pinned))),H(G,null,this.isChatViewType&&this.renderHeadlessComponents(),H("div",{class:"chat-container"},this.isChatViewType&&H("div",{class:{"selector-container":!0,[this.selectorState]:!0}},H("dyte-channel-selector-view",{channels:this.getChannelItems(),selectedChannelId:this.selectedChannelId,onChannelChange:this.onChannelChanged,t:this.t},H("div",{class:"channel-selector-header",slot:"header"},H("dyte-logo",{meeting:this.meeting,config:this.config,t:this.t}),H("dyte-tooltip",{label:this.t("chat.new_channel")},H("dyte-button",{kind:"button",variant:"ghost",size:"md",onClick:this.onChannelCreateClicked,class:"channel-create-btn"},H("dyte-icon",{icon:this.iconPack.add}))))),H("dyte-button",{kind:"icon",variant:"ghost",class:"mobile-close-btn",onClick:()=>this.selectorState="hide"},H("dyte-icon",{icon:this.iconPack.dismiss}))),H("div",{class:"chat"},this.isFileMessagingAllowed()&&H("div",{id:"dropzone",class:{active:this.dropzoneActivated},part:"dropzone"},H("dyte-icon",{icon:this.iconPack.attach}),H("p",null,this.t("chat.send_attachment"))),this.renderPinnedMessagesHeader(),this.isPrivateChatSupported()&&H("dyte-channel-selector-view",{channels:this.getPrivateChatRecipients(),selectedChannelId:(null===(t=this.selectedParticipant)||void 0===t?void 0:t.userId)||"everyone",onChannelChange:this.updateRecipients,t:this.t,viewAs:"dropdown"}),this.isChatViewType?this.renderFullChat():this.usePaginatedChat()?H("dyte-chat-messages-ui-paginated",{meeting:this.meeting,onPinMessage:this.onPinMessage,onDeleteMessage:this.onDeleteMessage,size:this.size,iconPack:this.iconPack,t:this.t}):H("dyte-chat-messages-ui",Object.assign({messages:s,selfUserId:a,selectedGroup:this.selectedGroup,onPinMessage:this.onPinMessage,canPinMessages:this.canPinMessages},i)),this.renderComposerUI())))}get host(){return Y(this)}static get watchers(){return{meeting:["meetingChanged"],chatGroups:["chatGroupsChanged"],displayFilter:["onDisplayFilterChanged"]}}};Ao([ni()],Ro.prototype,"meeting",void 0),Ao([ni()],Ro.prototype,"size",void 0),Ao([ni()],Ro.prototype,"iconPack",void 0),Ao([ni()],Ro.prototype,"t",void 0),Ro.style=":host {\n  line-height: initial;\n  font-family: var(--dyte-font-family, sans-serif);\n\n  font-feature-settings: normal;\n  font-variation-settings: normal;\n}\n\np {\n  margin: var(--dyte-space-0, 0px);\n  padding: var(--dyte-space-0, 0px);\n}\n\n.scrollbar {\n  /* For Firefox */\n  scrollbar-width: thin;\n  scrollbar-color: var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent);\n}\n\n/* For WebKit */\n.scrollbar::-webkit-scrollbar {\n  height: var(--dyte-space-1\\.5, 6px);\n  width: var(--dyte-space-1\\.5, 6px);\n  border-radius: 9999px;\n  background-color: var(--dyte-scrollbar-background, transparent);\n}\n\n.scrollbar::-webkit-scrollbar-thumb {\n  border-radius: 9999px;\n  background-color: var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)));\n}\n\n\n:host {\n  display: flex;\n  height: 100%;\n  width: 100%;\n  flex-direction: column;\n  font-size: 14px;\n  position: relative;\n  color: rgb(var(--dyte-colors-text-1000, 255 255 255));\n}\n\nh3 {\n  margin: var(--dyte-space-0, 0px);\n  display: flex;\n  height: var(--dyte-space-12, 48px);\n  align-items: center;\n  justify-content: center;\n  font-size: 16px;\n  font-weight: 400;\n  color: rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));\n  text-align: center;\n}\n\n#dropzone {\n  position: absolute;\n  top: var(--dyte-space-0, 0px);\n  right: var(--dyte-space-0, 0px);\n  bottom: var(--dyte-space-0, 0px);\n  left: var(--dyte-space-0, 0px);\n  z-index: 10;\n  display: none;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));\n  color: rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));\n}\n\n#dropzone.active {\n  display: flex;\n  animation: 0.2s slide-up ease-in;\n}\n\ndyte-chat-messages-ui,\ndyte-chat-messages-ui-paginated {\n  flex: 1 0 0;\n}\n\ndyte-chat-composer-view {\n  margin: var(--dyte-space-2, 8px);\n}\n\n.chat-container {\n  display: flex;\n  height: 100%;\n  width: 100%;\n  flex-direction: row;\n  container-type: size;\n  container-name: chatcontainer;\n}\n\n@container chatcontainer (height < 360px) {\n  dyte-channel-selector-view {\n    height: var(--dyte-space-8, 32px);\n    min-height: 24px;\n  }\n}\n\n.chat {\n  display: flex;\n  flex: 1 1 0%;\n  flex-direction: column;\n}\n\n.banner {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.banner .welcome-new-channel {\n  width: var(--dyte-space-48, 192px);\n}\n\n.banner .create-channel-illustration {\n  height: var(--dyte-space-40, 160px);\n  width: var(--dyte-space-40, 160px);\n}\n\n.channel-selector-header {\n  box-sizing: border-box;\n  height: var(--dyte-space-16, 64px);\n  padding: var(--dyte-space-4, 16px);\n  display: flex;\n  justify-content: space-between;\n  border-bottom: var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-700, 44 44 44));\n}\n\n.channel-selector-header .channel-create-btn {\n  width: var(--dyte-space-8, 32px);\n  justify-content: center;\n}\n\n.channel-selector-header .channel-create-btn:hover {\n  --tw-text-opacity: 1;\n  color: rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity));\n}\n\n.view-chats-btn {\n  margin-top: var(--dyte-space-4, 16px);\n}\n\n.selector-container {\n  z-index: 50;\n  width: 100%;\n  max-width: var(--dyte-space-80, 320px);\n  border-right: var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));\n}\n\n.selector-container.hide {\n  display: none;\n}\n\n.mobile-close-btn {\n  display: none;\n}\n\n.selector-container.mobile {\n  height: 100%;\n  width: 100%;\n  max-width: 100%;\n  position: absolute;\n  top: var(--dyte-space-0, 0px);\n  right: var(--dyte-space-0, 0px);\n  bottom: var(--dyte-space-0, 0px);\n  left: var(--dyte-space-0, 0px);\n  background-color: rgba(var(--dyte-colors-background-1000, 8 8 8) / 0.6);\n  display: flex;\n}\n\n.selector-container.mobile dyte-channel-selector-view {\n  max-width: var(--dyte-space-96, 384px);\n    animation: 0.3s swipe-in;\n}\n\n.selector-container.mobile .mobile-close-btn {\n  margin-top: var(--dyte-space-4, 16px);\n  margin-bottom: var(--dyte-space-4, 16px);\n  margin-left: var(--dyte-space-6, 24px);\n  margin-right: var(--dyte-space-6, 24px);\n  display: block;\n}\n\n.pinned-messages-header {\n  display: flex;\n  align-items: center;\n  gap: var(--dyte-space-2, 8px);\n  padding: var(--dyte-space-2, 8px);\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.pinned-messages-header dyte-icon {\n  height: var(--dyte-space-3, 12px);\n  width: var(--dyte-space-3, 12px);\n}\n\n.pinned-messages-header:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));\n}\n\n.pinned-messages-header.active {\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));\n}\n\n@keyframes swipe-in {\n  from {\n    transform: translateX(-100%);\n  }\n  to {\n    transform: translateX(0);\n  }\n}\n";var Mo=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Do={messagesSent:0,startTime:0},Io=class{constructor(e){c(this,e),this.onNewMessage=Q(this,"newMessage",7),this.onEditMessage=Q(this,"editMessage",7),this.onEditCancel=Q(this,"editCancel",7),this.onQuotedMessageDismiss=Q(this,"quotedMessageDismiss",7),this.canSendTextMessage=!0,this.canSendFiles=!0,this.message="",this.quotedMessage="",this.storageKey="dyte-text-message",this.inputTextPlaceholder="Enter your message",this.isEditing=!1,this.iconPack=Kt,this.t=Zt(),this.disableEmojiPicker=!1,this.rateLimits={period:60,maxInvocations:60},this.fileToUpload=null,this.isEmojiPickerOpen=!1,this.disableSendButton=!1,this.rateLimitsBreached=!1,this.textMessage="",this.sendFile=()=>{this.canSendFiles&&("image"===this.fileToUpload.type?this.onNewMessage.emit({type:"image",image:this.fileToUpload.file}):this.onNewMessage.emit({type:"file",file:this.fileToUpload.file}),this.fileToUpload=null)},this.handleSendMessage=()=>{if(!this.canSendTextMessage||this.rateLimitsBreached)return;if(null!==this.fileToUpload)return void this.sendFile();const e=this.textMessage,t=Date.now();t-Do.startTime>1e3*this.rateLimits.period&&(Do.startTime=t,Do.messagesSent=0),Do.messagesSent+=1,this.checkRateLimitBreached(t),e.length>0&&(this.quotedMessage.length,this.onNewMessage.emit({type:"text",message:e}),this.cleanup())},this.handleEditMessage=()=>{this.onEditMessage.emit(this.textMessage),this.cleanup()},this.handleEditCancel=()=>{this.onEditCancel.emit(),this.cleanup()},this.onTextChangeHandler=e=>{var t;this.textMessage=e.detail,this.textMessage.length>=(null!==(t=this.maxLength)&&void 0!==t?t:ea)?this.disableSendButton=!0:this.disableSendButton&&(this.disableSendButton=!1),Qt.setItem(this.storageKey,e.detail)},this.onKeyDownHandler=e=>{"Enter"===e.key&&e.shiftKey||this.disableSendButton||"Enter"===e.key&&(e.preventDefault(),this.isEditing?this.handleEditMessage():this.handleSendMessage())},this.onFileUploadHandler=(e,t)=>{this.fileToUpload={type:e,file:t}},this.onQuotedMessageDismissHandler=()=>{this.onQuotedMessageDismiss.emit()},this.cleanup=()=>{this.textMessage="",this.fileToUpload=null,Qt.setItem(this.storageKey,""),this.$textComposer.setText("",!0),this.isEmojiPickerOpen=!1},this.onKeyDownHandler=this.onKeyDownHandler.bind(this)}connectedCallback(){this.textMessage=this.message||Qt.getItem(this.storageKey)||"",this.checkRateLimitBreached(Date.now())}componentWillUpdate(){this.textMessage=this.message||Qt.getItem(this.storageKey)||""}componentDidLoad(){this.message&&L((()=>this.$textComposer.setText(this.message,!0)))}checkRateLimitBreached(e){if(Do.messagesSent>=this.rateLimits.maxInvocations){this.disableSendButton=!0,this.rateLimitsBreached=!0;const t=e-Do.startTime+1e3*this.rateLimits.period;setTimeout((()=>{Do.messagesSent=0,Do.startTime=Date.now(),this.disableSendButton=!1,this.rateLimitsBreached=!1}),t)}}render(){var e;const t={iconPack:this.iconPack,t:this.t};return H(G,{key:"d0cb57c1d3b74db36e3ddfa5453a960de7968a1b"},this.canSendTextMessage&&this.isEmojiPickerOpen&&H("dyte-emoji-picker",Object.assign({key:"d26c303b8d1e460eabe0fdbadb4f1ab3381b16cc",part:"emoji-picker",onPickerClose:()=>{this.isEmojiPickerOpen=!1},onDyteEmojiClicked:e=>{this.textMessage+=e.detail,this.$textComposer.setText(this.textMessage,!0)}},t)),H("slot",{key:"93a6e0c49183a080be84172ce0a69b0d0a9b274a",name:"chat-addon"}),this.quotedMessage&&0!==this.quotedMessage.length&&H("div",{key:"9b235c2f65766cc80f40091b6d4e01f614f910f3",class:"quoted-message-container",part:"quoted-message-container"},H("div",{key:"3e2582d7ccc9747be95f140ea0f3c9151b5fc365",class:"quoted-message scrollbar"},H("dyte-text-message-view",{key:"d5ef25a57bf0f2a026c5fd92b202e0d337a3e52a",text:this.quotedMessage,isMarkdown:!0})),H("div",{key:"c0d69d22711c6dd7e9a84f18f3bdb2f4e0b60a20"},H("dyte-icon",{key:"9a9b6cd5df08157b411cbcbfb628a714f04cd291","aria-label":this.t("dismiss"),class:"dismiss",icon:this.iconPack.dismiss,onClick:this.onQuotedMessageDismissHandler}))),H("div",{key:"9dc15207103dceeded2a03c69a75bfa7919b98eb",class:"composer-container"},H("div",{key:"f456c8bd28ee60155b3735458aa172aa55b574f8",class:"composers"},this.fileToUpload&&H("dyte-draft-attachment-view",Object.assign({key:"0417d1e33ac0e4fc0df52bdc0a04661701c4efcf"},t,{attachment:this.fileToUpload,onDeleteAttachment:()=>this.fileToUpload=null})),!this.fileToUpload&&H("dyte-text-composer-view",{key:"83b68d635390774b5f931f5e00e0caa8f8b739d9",value:this.textMessage,placeholder:this.inputTextPlaceholder,onTextChange:this.onTextChangeHandler,keyDownHandler:this.onKeyDownHandler,maxLength:null!==(e=this.maxLength)&&void 0!==e?e:ea,rateLimitBreached:this.rateLimitsBreached,t:this.t,iconPack:this.iconPack,ref:e=>this.$textComposer=e})),H("div",{key:"033cfe3365464c83af8d0ef0b590c0ffa900c146",class:"chat-buttons",part:"chat-buttons"},H("div",{key:"fcc9ae557a0f31c15611694a6073486fa6b22986",class:"left",part:"chat-buttons-left"},!this.fileToUpload&&!this.isEditing&&H("div",{key:"d9b9f602c036d8dec831daec2065097a987fa213"},this.canSendFiles&&[H("dyte-file-picker-button",Object.assign({key:"31270adc1fb72d8817e3218d596823cbffd0b032"},t,{onFileChange:e=>this.onFileUploadHandler("file",e.detail)})),H("dyte-file-picker-button",Object.assign({key:"1168afc0827bc2b63463c1eaf1e805abea7388d7",filter:"image/*",label:this.t("chat.send_img"),icon:"image",onFileChange:e=>this.onFileUploadHandler("image",e.detail)},t))],this.canSendTextMessage&&!this.disableEmojiPicker&&H("dyte-emoji-picker-button",Object.assign({key:"ef781c8e02daadede1ddc1eab5ef52598484b6d0",isActive:this.isEmojiPickerOpen,onClick:()=>{this.isEmojiPickerOpen=!this.isEmojiPickerOpen}},t)),H("slot",{key:"e80c453df4dcd546e804ea68ad9e5a783048662d",name:"chat-buttons"}))),H("div",{key:"e76f5c295316bc20e52d150f3a005cd91c90e210",class:"right",part:"chat-buttons-right"},!this.isEditing&&H("dyte-tooltip",{key:"d26dee018b74152225a19258165534ed7f793066",variant:"primary",label:this.t("chat.send_msg"),delay:2e3},H("dyte-button",{key:"5ad58b3709f82d11006bbc05a80c9c74134fe598",kind:"icon",disabled:this.disableSendButton,onClick:()=>this.handleSendMessage(),title:this.t("chat.send_msg")},H("dyte-icon",{key:"785be312a087790413e75151d352085585f8be31",icon:this.iconPack.send}))),this.isEditing&&H("div",{key:"5ee9a079da42dd6ef58d39dd611a170d324d1783",class:"edit-buttons"},H("dyte-tooltip",{key:"35ed375683386ff3a411e84b0bff663fd2d9cdfd",variant:"secondary",label:this.t("cancel"),delay:2e3},H("dyte-button",{key:"80b21a18537664018306abf9b8b099d2b1ec354f",kind:"icon",variant:"secondary",onClick:()=>this.handleEditCancel(),title:this.t("cancel")},H("dyte-icon",{key:"d65f2a1c97cd5c36effcfa78fcd7ebe42b095be8",icon:this.iconPack.dismiss}))),H("dyte-tooltip",{key:"56ff8d5fd854720ec93f65d5bdcb88b4e2621e12",variant:"primary",label:this.t("chat.update_msg"),delay:2e3},H("dyte-button",{key:"81eb4a8f97baa957bfe718720fedbb8504010dae",kind:"icon",onClick:()=>this.handleEditMessage(),title:this.t("chat.send_msg")},H("dyte-icon",{key:"3fc29bac3ee52f825de73e81b19c49d92981dd4a",icon:this.iconPack.checkmark}))))))))}};Mo([ni()],Io.prototype,"iconPack",void 0),Mo([ni()],Io.prototype,"t",void 0),Io.style=":host {\n  display: flex;\n  flex-direction: column;\n  font-family: var(--dyte-font-family, sans-serif);\n  font-size: 14px;\n  position: relative;\n}\n\n.quoted-message-container {\n  margin-bottom: var(--dyte-space-2, 8px);\n  display: flex;\n  justify-content: space-between;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));\n  color: rgb(var(--dyte-colors-text-1000, 255 255 255));\n  border-radius: var(--dyte-border-radius-md, 8px);\n  border: var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));\n}\n\n.quoted-message-container .quoted-message {\n  flex: 1 1 0%;\n  padding: var(--dyte-space-2, 8px);\n  border-radius: var(--dyte-border-radius-md, 8px);\n  max-height: var(--dyte-space-24, 96px);\n  overflow-y: auto;\n  word-break: break-all;\n}\n\n.quoted-message-container .quoted-message blockquote {\n  display: none;\n}\n\n.quoted-message-container dyte-icon.dismiss {\n  margin-left: auto;\n  height: var(--dyte-space-5, 20px);\n  width: var(--dyte-space-5, 20px);\n  padding: var(--dyte-space-2, 8px);\n  border-radius: var(--dyte-border-radius-md, 8px);\n  color: rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52));\n}\n\n.quoted-message-container dyte-icon.dismiss:hover {\n  cursor: pointer;\n  color: rgb(var(--dyte-colors-text-1000, 255 255 255));\n}\n\n.quoted-message-container dyte-icon.dismiss {\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n\n.composer-container {\n  position: relative;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));\n  border-radius: var(--dyte-border-radius-md, 8px);\n  overflow: hidden;\n  border: var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));\n}\n\n.composer-container > .composers {\n    min-height: 60px;\n  }\n\n@container chatcontainer (height < 360px) {\n    .composer-container > .composers {\n      min-height: 30px;\n    }\n}\n\n.chat-buttons {\n  padding: var(--dyte-space-3, 12px);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));\n  color: rgb(var(--dyte-colors-text-1000, 255 255 255));\n}\n\n.chat-buttons .right {\n  z-index: 10;\n}\n\n.chat-buttons .right .edit-buttons {\n  display: flex;\n  gap: var(--dyte-space-2, 8px);\n}\n\n.chat-buttons > div {\n  display: flex;\n  align-items: center;\n}\n\ndyte-emoji-picker {\n  z-index: 20;\n  position: absolute;\n  top: calc(var(--dyte-space-72, 288px) * -1);\n  border-top: var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));\n  animation: 0.3s slide-up ease;\n}\n\n@keyframes slide-up {\n  from {\n    transform: translateY(100%);\n  }\n  to {\n    transform: translateY(0%);\n  }\n}\n";var Oo=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const $o=class{constructor(e){c(this,e),this.edit=Q(this,"edit",7),this.reply=Q(this,"reply",7),this.pin=Q(this,"pin",7),this.delete=Q(this,"delete",7),this.iconPack=Kt,this.t=Zt(),this.isSelf=!1,this.canEdit=!1,this.canDelete=!1,this.canReply=!1,this.canPin=!1,this.disableControls=!1,this.alignRight=!1,this.hideAvatar=!1,this.now=new Date,this.leftAlign=!1,this.renderMessage=()=>{switch(this.message.type){case"text":return H("div",{"is-continued":this.isContinued,key:this.message.id},this.isUnread&&H("div",{class:"new-chat-marker",part:"new-chat-marker"},this.t("chat.new")),H("dyte-text-message",{message:this.message,now:this.now,isContinued:this.isContinued,"data-timestamp":this.message.time.getTime(),iconPack:this.iconPack,t:this.t,showBubble:!0}));case"image":return H("div",{"is-continued":this.isContinued,key:this.message.id},this.isUnread&&H("div",{class:"new-chat-marker",part:"new-chat-marker"},this.t("chat.new")),H("dyte-image-message",{message:this.message,now:this.now,isContinued:this.isContinued,iconPack:this.iconPack,"data-timestamp":this.message.time.getTime(),t:this.t,showBubble:!0}));case"file":return H("div",{"is-continued":this.isContinued,key:this.message.id},this.isUnread&&H("div",{class:"new-chat-marker",part:"new-chat-marker"},this.t("chat.new")),H("dyte-file-message",{message:this.message,now:this.now,isContinued:this.isContinued,iconPack:this.iconPack,t:this.t,"data-timestamp":this.message.time.getTime(),showBubble:!0}));case"custom":this.child.setAttribute("message",JSON.stringify(this.message));const e=this.child.cloneNode(!0);return H("div",{"is-continued":this.isContinued,key:this.message.id,ref:t=>t.appendChild(e)})}},this.onReply=()=>{this.reply.emit(this.message)},this.onPinned=()=>{this.pin.emit(this.message)},this.onDelete=()=>{this.delete.emit(this.message)},this.onEdit=async()=>{this.edit.emit(this.message)},this.isTouchDevice=()=>"ontouchstart"in window||navigator.maxTouchPoints>0}renderControls(){if(!this.disableControls)return H("dyte-menu",{placement:this.alignRight?"bottom-end":"bottom-start"},H("button",{slot:"trigger",class:"actions"},H("dyte-icon",{icon:this.iconPack.chevron_down})),H("dyte-menu-list",null,this.canReply&&H("dyte-menu-item",{onClick:this.onReply},H("dyte-icon",{icon:this.iconPack.back,slot:"start"}),this.t("chat.reply")),this.canPin&&H("dyte-menu-item",{onClick:this.onPinned},H("dyte-icon",{icon:this.iconPack.pin,slot:"start"}),this.t("pin")),this.canEdit&&H("dyte-menu-item",{onClick:this.onEdit},H("dyte-icon",{icon:this.iconPack.edit,slot:"start"}),this.t("chat.edit_msg")),this.canDelete&&H("dyte-menu-item",{onClick:this.onDelete},H("dyte-icon",{icon:this.iconPack.delete,slot:"start"}),this.t("chat.delete_msg"))))}renderAvatar(){if(!this.hideAvatar)return this.isContinued?H("div",{class:"avatar"}):H("div",{class:"avatar"},H("dyte-avatar",{size:"sm",participant:{name:this.message.displayName,picture:this.senderDisplayPicture}}))}render(){return H(G,{key:"e9019b771308fb2ccbd6b42066db30ff9afac88f"},H("div",{key:"2b7364203c9f2f20db564fe2d98e787b2e7879d0",class:{"message-wrapper":!0,"align-right":this.alignRight,"left-align":this.leftAlign},"is-continued":this.isContinued},this.renderAvatar(),H("div",{key:"b98ffba657e3699b3011682dff7b87724b044ade",class:{message:!0,"show-on-hover":!this.isTouchDevice()},"is-continued":this.isContinued},this.renderMessage(),this.renderControls())))}get $el(){return Y(this)}};Oo([ni()],$o.prototype,"size",void 0),Oo([ni()],$o.prototype,"iconPack",void 0),Oo([ni()],$o.prototype,"t",void 0),$o.style=".message-wrapper{display:flex;gap:var(--dyte-space-2, 8px);margin-left:var(--dyte-space-4, 16px);margin-right:var(--dyte-space-4, 16px);margin-top:var(--dyte-space-4, 16px)}[is-continued] .message-wrapper{margin-top:var(--dyte-space-0, 0px)}.message-wrapper.align-right{flex-direction:row-reverse}.file-picker{display:none}.message{position:relative;display:flex}.show-on-hover dyte-menu{visibility:hidden}.show-on-hover:hover dyte-menu{visibility:visible}.align-right .message{justify-content:flex-end;margin-left:auto}.align-right .message .head{margin-right:var(--dyte-space-1, 4px);margin-left:var(--dyte-space-0, 0px);flex-direction:row-reverse;gap:var(--dyte-space-4, 16px)}.align-right .message dyte-text-message .bubble,.align-right .message dyte-image-message .bubble,.align-right .message dyte-file-message .bubble{padding-right:var(--dyte-space-5, 20px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}.align-right .message .actions dyte-icon{color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}.align-right dyte-menu{left:auto;right:var(--dyte-space-0, 0px)}.head{margin-bottom:var(--dyte-space-2, 8px);margin-left:var(--dyte-space-1, 4px);display:flex;align-items:center;gap:var(--dyte-space-2, 8px)}.head .name{font-size:14px;font-weight:600}.head .time{font-size:12px;color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}dyte-menu{position:absolute;left:var(--dyte-space-0, 0px);top:var(--dyte-space-6, 24px);border-radius:var(--dyte-border-radius-lg, 12px)}dyte-menu dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);cursor:pointer}[is-continued] dyte-menu{top:var(--dyte-space-2, 8px)}.actions{display:flex;align-items:center;justify-content:center;padding:var(--dyte-space-0\\.5, 2px);border-width:var(--dyte-border-width-none, 0);border-style:none;background-color:transparent}.actions dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.body{margin-top:var(--dyte-space-1, 4px);margin-bottom:var(--dyte-space-1, 4px);overflow-wrap:break-word;font-size:14px;line-height:1.375}.body .emoji{font-size:24px}.body.bubble{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-1, 4px);max-width:var(--dyte-space-96, 384px);padding-top:var(--dyte-space-3, 12px);padding-bottom:var(--dyte-space-3, 12px);padding-left:var(--dyte-space-5, 20px);padding-right:var(--dyte-space-5, 20px);overflow-wrap:break-word;font-size:14px;line-height:1.375;border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.body.bubble p{margin:var(--dyte-space-0, 0px);word-break:break-word}p{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-3, 12px)}dyte-text-message,dyte-image-message,dyte-file-message{display:block;font-family:var(--dyte-font-family, sans-serif);color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));box-sizing:border-box}*[is-continued]{margin-top:var(--dyte-space-0, 0px)}.image{position:relative;height:var(--dyte-space-40, 160px);max-width:var(--dyte-space-64, 256px);cursor:pointer}.image img{display:none;height:100%;width:100%;border-radius:var(--dyte-border-radius-sm, 4px);-o-object-fit:cover;object-fit:cover}.image .image-spinner{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.image .image-spinner dyte-spinner{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-text-opacity))}.image .image-errored{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;border-radius:var(--dyte-border-radius-sm, 4px);background-color:rgba(var(--dyte-colors-danger, 255 45 45) / 0.1);--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}.image .actions{display:none;height:var(--dyte-space-8, 32px);align-items:center;position:absolute;top:var(--dyte-space-2, 8px);right:var(--dyte-space-2, 8px);border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));overflow:hidden;--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.image .actions .action{height:var(--dyte-space-8, 32px);width:var(--dyte-space-8, 32px);border-radius:var(--dyte-border-radius-none, 0);border-width:var(--dyte-border-width-none, 0);border-style:none;background-color:transparent;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.image .actions .action:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.image.loaded img{display:block}.image.loaded .image-spinner{display:none}.image:hover .actions,.image:focus .actions{display:flex}.file{display:flex;align-items:center;gap:var(--dyte-space-1, 4px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);padding-top:var(--dyte-space-1\\.5, 6px);padding-bottom:var(--dyte-space-1\\.5, 6px);border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}.file .file-data{flex:1 1 0%}.file .file-data .name{word-break:break-all;color:rgb(var(--dyte-colors-text-1000, 255 255 255));overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.file .file-data .file-data-split{margin-top:var(--dyte-space-0\\.5, 2px);display:flex;align-items:center;font-size:12px}.file .file-data .file-data-split .ext{margin-right:var(--dyte-space-2, 8px);text-transform:uppercase;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.file .file-data .file-data-split .divider{height:var(--dyte-space-4, 16px);width:var(--dyte-space-0\\.5, 2px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.file .file-data .file-data-split .size{margin-left:var(--dyte-space-2, 8px)}a{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity));text-decoration-line:none}a:hover{text-decoration-line:underline}.new-chat-marker{display:flex;width:100%;align-items:center;gap:var(--dyte-space-2, 8px);--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity))}.new-chat-marker::before{content:'';height:1px;flex:1 1 0%;background-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / 0.5)}.show-new-messages-ctr{pointer-events:none;display:flex;justify-content:flex-end;padding:var(--dyte-space-3, 12px);z-index:0;margin-top:calc(var(--dyte-space-14, 56px) * -1)}.show-new-messages{pointer-events:auto;--tw-translate-y:calc(var(--dyte-space-6, 24px) * -1);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:0;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.show-new-messages.active{--tw-translate-y:var(--dyte-space-0, 0px);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:1}blockquote{margin:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-3, 12px);background-color:transparent}.block-quote,blockquote{--tw-border-spacing-x:1px;--tw-border-spacing-y:1px;border-spacing:var(--tw-border-spacing-x) var(--tw-border-spacing-y);border-top-width:var(--dyte-border-width-none, 0);border-bottom-width:var(--dyte-border-width-none, 0);border-left-width:var(--dyte-border-width-md, 2px);border-right-width:var(--dyte-border-width-none, 0);border-style:solid;border-left-color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));padding:var(--dyte-space-0\\.5, 2px);padding-left:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px) !important;border-radius:var(--dyte-border-radius-sm, 4px);border-top-left-radius:var(--dyte-border-radius-none, 0);border-bottom-left-radius:var(--dyte-border-radius-none, 0)}.link{color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}.align-right .block-quote{border-color:rgb(var(--dyte-colors-text-on-brand-600, var(--dyte-colors-text-600, 255 255 255 / 0.52)));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-bg-opacity))}.align-right .link{color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}.align-right .image .actions dyte-icon{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity))}.avatar{display:flex;width:var(--dyte-space-6, 24px)}.avatar dyte-avatar{height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px);font-size:10px}.message{width:75%}.left-align .body{margin-top:var(--dyte-space-4, 16px)}.left-align [is-continued] .body{margin-top:var(--dyte-space-0, 0px)}.left-align .body{--tw-translate-x:calc(var(--dyte-space-8, 32px) * -1);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}";var Uo=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const jo=class{constructor(e){c(this,e),this.onPinMessage=Q(this,"pinMessage",7),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.observingEl=[],this.autoScrollEnabled=!0,this.messages=[],this.canPinMessages=!1,this.iconPack=Kt,this.t=Zt(),this.now=new Date,this.showLatestMessageButton=!1,this.onScroll=e=>{const t=e.target;L((()=>{const{scrollTop:e,clientHeight:i,scrollHeight:a}=t;e+i+10>=a?(this.autoScrollEnabled=!0,this.showLatestMessageButton=!1):this.autoScrollEnabled=!1}))},this.scrollToBottom=()=>{da(this.$chat)},this.observeMessage=e=>{e&&this.observingEl.push(e);try{this.intersectionObserver.observe(e)}catch(Vk){}},this.getMessageActions=e=>{const t=[];return!e.pinned&&this.canPinMessages&&t.push({id:"pin_message",label:this.t("pin"),icon:this.iconPack.pin}),t},this.onMessageActionHandler=(e,t)=>{if("pin_message"===e)this.onPinMessage.emit(t)}}connectedCallback(){var e;this.lastReadTimestamp=null!==(e=ii.everyone)&&void 0!==e?e:new Date("0001-01-01T00:00:00Z"),this.intersectionObserver=new IntersectionObserver((e=>{document.hasFocus()&&L((()=>{for(const t of e)if(t.isIntersecting){parseInt(t.target.getAttribute("data-timestamp"))>this.lastReadTimestamp.getTime()&&(ii[this.selectedGroup]=new Date)}}))}));const t=()=>{this.now=new Date,this.timeout=setTimeout((()=>{null!=this.request&&(this.request=requestAnimationFrame(t))}),6e4)};this.request=requestAnimationFrame(t),this.chatChanged(this.messages)}componentDidLoad(){this.$chat.addEventListener("scroll",this.onScroll),this.$chat.scrollTop=this.$chat.scrollHeight}componentDidRender(){this.autoScrollEnabled?da(this.$chat):null==this.autoScrollEnabled&&da(this.$chat,!1)}chatChanged(e){if(null!=this.$chat&&!this.autoScrollEnabled&&this.$chat.clientHeight!==this.$chat.scrollHeight)for(let t=e.length-1;t>=0;t--)if(e[t].message.time>this.lastReadTimestamp&&e[t].message.userId!==this.selfUserId){this.showLatestMessageButton=!0;break}}selectedBucketChanged(){this.autoScrollEnabled=void 0,this.observingEl.forEach((e=>{this.intersectionObserver.unobserve(e)})),this.observingEl=[]}disconnectedCallback(){this.$chat.removeEventListener("scroll",this.onScroll),this.intersectionObserver.disconnect(),clearTimeout(this.timeout),cancelAnimationFrame(this.request)}render(){var e;let t=null,i=!1;return H(G,{key:"01c61fd2a60ca11df413406967eb80af92d07de0"},H("div",{key:"b1a6ad7904236a7fdb50034f33de979faa080ef6",class:"chat-container scrollbar",ref:e=>this.$chat=e,part:"container"},H("div",{key:"95664e4f9b8faae0c31c128abc6f54cf5bcd6acf",class:"spacer",part:"spacer"}),H("div",{key:"e0c40200e05026bb748e608ba6abb6f02b5a701c",class:"chat",part:"chat"},null===(e=this.messages)||void 0===e?void 0:e.map((e=>{if("chat"===e.type){const{message:a}=e,s=!(a.userId===this.selfUserId)&&!this.autoScrollEnabled&&!i&&a.time>this.lastReadTimestamp;s&&(i=s);const r=!s&&a.userId===(null==t?void 0:t.userId)&&sa(a.time,null==t?void 0:t.time)<2;return t=a,H("div",{"is-continued":r,key:e.message.id,ref:this.observeMessage,"data-timestamp":a.time.getTime(),class:a.pinned?"pinned":""},s&&H("div",{class:"new-chat-marker",part:"new-chat-marker"},this.t("chat.new")),H("div",{class:"message-wrapper"},H("dyte-message-view",{time:a.time,actions:this.getMessageActions(a),authorName:a.displayName,hideAuthorName:!0,hideAvatar:!0,hideMetadata:!0,viewType:"incoming",variant:"bubble",onAction:e=>this.onMessageActionHandler(e.detail,a)},H("div",null,!r&&H("div",{class:"head"},H("div",{class:"name"},a.displayName),!!a.time&&H("div",{class:"time",title:na(a.time)},ra(a.time,new Date(Date.now())))),H("div",{class:"body"},"text"===a.type&&H("dyte-text-message-view",{text:a.message,isMarkdown:!0}),"file"===a.type&&H("dyte-file-message-view",{name:a.name,url:a.link,size:a.size}),"image"===a.type&&H("dyte-image-message-view",{url:a.link,onPreview:()=>{this.stateUpdate.emit({image:a})}})))),a.pinned&&H("div",{class:"pin-button",part:"pin-button"},H("dyte-tooltip",{label:this.t("unpin")},H("dyte-button",{kind:"icon",variant:"ghost",onClick:()=>this.onMessageActionHandler("pin_message",a),disabled:!this.canPinMessages},H("dyte-icon",{icon:this.iconPack.pin,size:"sm"}))))))}return null})))),H("div",{key:"518df977aebf5ecfc26a3f93904e24f92f607fc4",class:"show-new-messages-ctr"},H("dyte-button",{key:"7b6f0a1461957ec5947e4976d6457125e1096f16",class:{"show-new-messages":!0,active:this.showLatestMessageButton},kind:"icon",part:"show-new-messages",onClick:this.scrollToBottom},H("dyte-icon",{key:"0af3acc46412913b7555d8e2256ad2840c6f6226",icon:this.iconPack.chevron_down}))))}static get watchers(){return{messages:["chatChanged"],selectedGroup:["selectedBucketChanged"]}}};Uo([ni()],jo.prototype,"size",void 0),Uo([ni()],jo.prototype,"iconPack",void 0),Uo([ni()],jo.prototype,"t",void 0),jo.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));word-break:break-word}.chat-container{box-sizing:border-box;display:flex;flex-direction:column;padding-top:var(--dyte-space-4, 16px);padding-bottom:var(--dyte-space-4, 16px);flex:1 0 0px;overflow-y:scroll}.chat-container .spacer{flex:1 1 auto}.chat-container .chat{flex:0 0 auto}.file-picker{display:none}.chat .head{display:flex;align-items:center}.chat .head .name{margin-right:var(--dyte-space-4, 16px);font-size:12px;font-weight:700}.chat .head .time{font-size:12px;color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}.chat .body{margin-top:var(--dyte-space-2, 8px);overflow-wrap:break-word;line-height:1.375}.chat .body .emoji{font-size:24px}p{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-3, 12px)}dyte-message-view{margin-top:var(--dyte-space-4, 16px);display:block;padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));box-sizing:border-box}dyte-message-view::part(message){flex-grow:1}*[is-continued] dyte-message-view{margin-top:var(--dyte-space-1, 4px)}.pinned .message-wrapper{position:relative}.pinned .pin-button{position:absolute;right:var(--dyte-space-4, 16px);top:calc(var(--dyte-space-4, 16px) * -1);display:flex;border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.pinned .pin-button:hover dyte-button{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-600, 13 81 253) / var(--tw-bg-opacity))}.pinned dyte-message-view{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));padding-top:var(--dyte-space-1, 4px);padding-bottom:var(--dyte-space-1, 4px)}a{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity));text-decoration-line:none}a:hover{text-decoration-line:underline}.new-chat-marker{display:flex;width:100%;align-items:center;gap:var(--dyte-space-2, 8px);--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity))}.new-chat-marker::before{content:'';height:1px;flex:1 1 0%;background-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / 0.5)}.show-new-messages-ctr{pointer-events:none;display:flex;justify-content:flex-end;padding:var(--dyte-space-3, 12px);z-index:0;margin-top:calc(var(--dyte-space-14, 56px) * -1)}.show-new-messages{pointer-events:auto;--tw-translate-y:var(--dyte-space-16, 64px);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:0;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.show-new-messages.active{--tw-translate-y:var(--dyte-space-0, 0px);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:1}";var Fo=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const No=class{constructor(e){c(this,e),this.editMessageInit=Q(this,"editMessageInit",7),this.onPinMessage=Q(this,"pinMessage",7),this.onDeleteMessage=Q(this,"deleteMessage",7),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.iconPack=Kt,this.t=Zt(),this.leftAlign=!1,this.permissionsChanged=!1,this.pageSize=25,this.lastReadMessageIndex=-1,this.permissionsUpdateListener=()=>{this.permissionsChanged=!this.permissionsChanged},this.maybeMarkChannelAsRead=e=>{if(!this.selectedChannelId)return;if(0===e.length)return;if(-1!==this.lastReadMessageIndex)return;const t=e.at(0).time>e.at(-1).time?e.at(0):e.at(-1);t.channelIndex&&(this.lastReadMessageIndex=parseInt(t.channelIndex,10),this.meeting.chat.markLastReadMessage(this.selectedChannelId,t))},this.getChatMessages=async(e,t,i)=>{const{messages:a}=await this.meeting.chat.getMessages(e,t,i,void 0,this.selectedChannelId);return this.maybeMarkChannelAsRead(a),a},this.createChatNodes=e=>e.map(((t,i)=>{var a;const s=t.userId===(null===(a=e[i-1])||void 0===a?void 0:a.userId);return this.createChatNode(t,s)})),this.disconnectMeeting=e=>{var t,i;null===(t=null==e?void 0:e.chat)||void 0===t||t.removeListener("chatUpdate",this.chatUpdateListener),null===(i=this.meeting)||void 0===i||i.self.permissions.removeListener("permissionsUpdate",this.permissionsUpdateListener)},this.getMessageActions=e=>{const t=[];return this.meeting.self.permissions.pinParticipant&&t.push({id:"pin_message",label:e.pinned?this.t("unpin"):this.t("pin"),icon:this.iconPack.pin}),t},this.onMessageActionHandler=(e,t)=>{switch(e){case"pin_message":this.onPinMessage.emit(t);break;case"delete_message":this.onDeleteMessage.emit(t)}},this.createChatNode=(e,t)=>{var i,a,s,r;if(0!==e.targetUserIds.length)return null;let n;return n="CHAT"===this.meeting.meta.viewType?null===(i=this.meeting.participants.all.toArray().find((t=>t.userId===e.userId)))||void 0===i?void 0:i.picture:this.meeting.self.userId===e.userId?this.meeting.self.picture:null!==(s=null===(a=this.meeting.participants.joined.toArray().find((t=>t.userId===e.userId)))||void 0===a?void 0:a.picture)&&void 0!==s?s:null===(r=this.meeting.participants.waitlisted.toArray().find((t=>t.userId===e.userId)))||void 0===r?void 0:r.picture,H("div",{class:{pinned:e.pinned}},H("div",{class:"message-wrapper"},H("dyte-message-view",{time:e.time,actions:this.getMessageActions(e),authorName:e.displayName,avatarUrl:n,hideAuthorName:t,viewType:"incoming",variant:"bubble",onAction:t=>this.onMessageActionHandler(t.detail,e)},H("div",null,H("div",{class:"body"},"text"===e.type&&H("dyte-text-message-view",{text:e.message,isMarkdown:!0}),"file"===e.type&&H("dyte-file-message-view",{name:e.name,url:e.link,size:e.size}),"image"===e.type&&H("dyte-image-message-view",{url:e.link,onPreview:()=>{this.stateUpdate.emit({image:e})}})),e.pinned&&H("div",{class:"pin-icon",part:"pin-icon"},H("dyte-icon",{icon:this.iconPack.pin,size:"sm"}))))))},this.chatUpdateListener=e=>{this.selectedChannelId&&e.message.channelId!==this.selectedChannelId||("add"===e.action?(this.$paginatedListRef.onNewNode(e.message),this.lastReadMessageIndex=-1,this.maybeMarkChannelAsRead([e.message])):"delete"===e.action?this.$paginatedListRef.onNodeDelete(e.message.id):"edit"===e.action&&this.$paginatedListRef.onNodeUpdate(e.message.id,e.message))}}componentDidLoad(){const e=this.host.shadowRoot.querySelector("slot");e&&(this.children=e.assignedElements()[0])}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.disconnectMeeting(this.meeting)}meetingChanged(e,t){var i;null!=t&&this.disconnectMeeting(t),e&&!e.chat||(null!=e&&(null===(i=e.chat)||void 0===i||i.addListener("chatUpdate",this.chatUpdateListener),e.self.permissions.addListener("permissionsUpdate",this.permissionsUpdateListener)),this.permissionsUpdateListener())}channelChanged(){this.lastReadMessageIndex=-1}render(){return H(G,{key:"0f87ae87443f5ebcb771924591c9b9d30af425f6"},H("dyte-paginated-list",{key:"f3a82fc12cf42265eb838da5d3bd36e2e3402fae",ref:e=>this.$paginatedListRef=e,pageSize:this.pageSize,pagesAllowed:3,fetchData:this.getChatMessages,createNodes:this.createChatNodes,selectedItemId:this.selectedChannelId,emptyListLabel:this.t("chat.empty_channel")},H("slot",{key:"89d54672424cfff5fe73d8ece157cdcf5534fa30"})))}get host(){return Y(this)}static get watchers(){return{meeting:["meetingChanged"],selectedChannelId:["channelChanged"]}}};Fo([ni()],No.prototype,"meeting",void 0),Fo([ni()],No.prototype,"size",void 0),Fo([ni()],No.prototype,"iconPack",void 0),Fo([ni()],No.prototype,"t",void 0),No.style=":host{display:flex;flex-direction:column;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));flex:1 0 0px}";var zo=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Bo=class{constructor(e){c(this,e),this.iconPack=Kt,this.t=Zt(),this.pageSize=50,this.searchMessages=async(e,t,i)=>this.meeting.chat.searchMessages(this.query,{channelId:this.channelId,timestamp:e,size:t,reversed:i}),this.nodeRenderer=e=>e.map((e=>H("dyte-chat-message",{key:e.id,message:e,disableControls:!0})))}render(){return H(G,{key:"984a388e6c194e27c5cb7918806bd9f156220ec7"},H("dyte-paginated-list",{key:"444fa000de6428b4c0c6e0c829eb4ef944d2a211",pageSize:this.pageSize,pagesAllowed:3,fetchData:this.searchMessages,createNodes:this.nodeRenderer,selectedItemId:this.query}))}};zo([ni()],Bo.prototype,"meeting",void 0),zo([ni()],Bo.prototype,"iconPack",void 0),zo([ni()],Bo.prototype,"t",void 0),Bo.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;height:100%;flex-direction:column;position:relative;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity))}";var Ho=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Vo=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.keyPressListener=e=>{"Escape"===e.key&&this.close()},this.iconPack=Kt,this.t=Zt(),this.close=()=>{this.states.activeConfirmationModal.onClose(this.stateUpdate,this.states,this.meeting),this.stateUpdate.emit({activeConfirmationModal:{active:!1}}),this.states.activeConfirmationModal={active:!1}},this.onConfirmation=async()=>{this.states.activeConfirmationModal.onClick(this.stateUpdate,this.states,this.meeting),this.stateUpdate.emit({activeConfirmationModal:{active:!1}}),this.states.activeConfirmationModal={active:!1}}}connectedCallback(){document.addEventListener("keydown",this.keyPressListener)}componentDidLoad(){}disconnectedCallback(){document.removeEventListener("keydown",this.keyPressListener)}render(){var e,t;const i=this.states.activeConfirmationModal;return H(G,{key:"bfb08e8cf23236412b9aa1a03ef0ea59e57fcc8f"},H("div",{key:"19031e843eeae492331dc2b70cb53ed7e34b7e1c",class:"leave-modal"},H("div",{key:"b06ee1276a63a09327f91ee94923b58e5e13dff7",class:"header"},H("h2",{key:"fe549a012577be074c4aeae7daf5f2b1d6431090",class:"title"},i.header?this.t(i.header):this.t("cta.confirmation"))),H("p",{key:"142ba47a0723cd6f8e3826ba0ea50a343eb3c4c0",class:"message"},i.content?this.t(i.content):""),H("div",{key:"695140e0148911b611c4e9ca85961059e78e5279",class:"content"},H("div",{key:"a5cfbf4dcf926dad8bbba83a0af1843605641a59",class:"leave-meeting"},H("dyte-button",{key:"42e5022b094fe7f8a7138975b7a987e3ba8357cb",variant:"secondary",title:i.cancelText?this.t(i.cancelText):this.t("cancel"),onClick:this.close,class:"br-secondary-btn"},i.cancelText?this.t(i.cancelText):this.t("cancel")),H("dyte-button",{key:"1e53176e5e5bfb774cd7169784823340b383c740",onClick:()=>this.onConfirmation(),variant:null!==(t=null===(e=this.states.activeConfirmationModal)||void 0===e?void 0:e.variant)&&void 0!==t?t:"danger",title:i.ctaText?this.t(i.ctaText):this.t("yes")},i.ctaText?this.t(i.ctaText):this.t("yes"))))))}};Ho([ni()],Vo.prototype,"meeting",void 0),Ho([ni()],Vo.prototype,"states",void 0),Ho([ni()],Vo.prototype,"iconPack",void 0),Ho([ni()],Vo.prototype,"t",void 0),Vo.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;border-radius:var(--dyte-border-radius-md, 8px);padding:var(--dyte-space-8, 32px);width:100%;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));width:400px;max-width:80%}.leave-modal{width:100%;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.leave-modal .header h2{margin:var(--dyte-space-0, 0px)}.leave-modal .content{font-size:14px}.leave-message p{margin-top:var(--dyte-space-3, 12px);margin-bottom:var(--dyte-space-3, 12px)}.leave-meeting{display:flex;flex-direction:row;justify-content:space-between;gap:var(--dyte-space-4, 16px)}.leave-meeting dyte-button{color:rgb(var(--dyte-colors-text-1000, 255 255 255));flex:1 1 0%}.end-meeting{margin-top:var(--dyte-space-2, 8px)}.br-secondary-btn{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.br-secondary-btn:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}";var Go=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const qo=class{constructor(e){c(this,e),this.onChange=Q(this,"valueChange",7),this.input="1",this.minValue=0,this.iconPack=Kt,this.t=Zt()}connectedCallback(){this.watchStateHandler(this.input),this.input=this.value.toString()}watchStateHandler(e){this.onChange.emit(e)}increment(){this.input=Math.max(parseInt(this.input)+1,this.minValue).toString()}decrement(){this.input=Math.max(this.minValue,parseInt(this.input)-1).toString()}render(){return H(G,{key:"001a8ab33d9ce321c040396bdb8de97399c72644"},H("dyte-button",{key:"90bc0534d63d549d34da72bdc98a260922905dd4",kind:"icon",variant:"ghost",onClick:()=>this.decrement()},H("dyte-icon",{key:"08efdbb92413cc53c280c24aa4c0b0267326f423",icon:this.iconPack.subtract})),H("input",{key:"71fb967f4f8896ec0f6435dd4011f7735bf53dd1",type:"number",value:this.input,min:this.minValue,onInput:e=>{const t=parseInt(e.target.value,10);isNaN(t)||t<this.minValue?this.input=this.minValue.toString():this.input=t.toString()}}),H("dyte-button",{key:"bb5df90fb048044238c7427903f455d870446539",kind:"icon",variant:"ghost",onClick:()=>this.increment()},H("dyte-icon",{key:"5ae0a6e2f3acec1e13cab00d1ec15c9b2f66363a",icon:this.iconPack.add})))}static get watchers(){return{input:["watchStateHandler"]}}};Go([ni()],qo.prototype,"size",void 0),Go([ni()],qo.prototype,"iconPack",void 0),Go([ni()],qo.prototype,"t",void 0),qo.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;flex-direction:row;align-items:center;justify-content:center;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));width:-moz-fit-content;width:fit-content;border-radius:var(--dyte-border-radius-sm, 4px);padding:var(--dyte-space-1, 4px)}p{margin:var(--dyte-space-0, 0px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px)}input{margin:var(--dyte-space-0, 0px);width:var(--dyte-space-6, 24px);padding:var(--dyte-space-2, 8px);border-width:var(--dyte-border-width-sm, 1px);border-style:solid;border-color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));text-align:center;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));border-radius:var(--dyte-border-radius-sm, 4px);font-size:16px;outline:2px solid transparent;outline-offset:2px;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}input::-webkit-outer-spin-button,input::-webkit-inner-spin-button{margin:var(--dyte-space-0, 0px);appearance:none;-webkit-appearance:none}input[type='number']{-moz-appearance:textfield}";var Zo=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Ko=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.keyPressListener=e=>{"Escape"===e.key&&this.close()},this.iconPack=Kt,this.t=Zt(),this.activeTab="audio",this.isMobileMainVisible=!1,this.progress=0}connectedCallback(){document.addEventListener("keydown",this.keyPressListener)}disconnectedCallback(){this.keyPressListener&&document.removeEventListener("keydown",this.keyPressListener)}progressUpdate(e){this.progress=e.detail}changeTab(e){this.activeTab=e,"sm"===this.size&&(this.isMobileMainVisible||(this.isMobileMainVisible=!0))}close(){this.stateUpdate.emit({activeDebugger:!1})}getActiveTab(){switch(this.activeTab){case"audio":return this.t("debugger.audio.troubleshooting.label");case"screenshare":return this.t("debugger.screenshare.troubleshooting.label");case"video":return this.t("debugger.video.troubleshooting.label");case"system":return this.t("debugger.system.troubleshooting.label");default:return this.t("debugger.troubleshooting.label")}}render(){if(null==this.meeting)return null;const e={meeting:this.meeting,states:this.states,iconPack:this.iconPack,t:this.t,size:this.size},t=this.getActiveTab(),i=void 0!==navigator.getBattery;return H(G,null,H("aside",{class:{hide:this.isMobileMainVisible},part:"menu"},H("header",null,H("h3",null,this.t("debugger.troubleshooting.label"))),H("button",{type:"button",class:{active:"audio"===this.activeTab},onClick:()=>this.changeTab("audio")},this.t("debugger.audio.label"),H("div",{class:"right"},H("dyte-icon",{icon:this.iconPack.mic_on}),"sm"===this.size&&H("dyte-icon",{icon:this.iconPack.chevron_right}))),H("button",{type:"button",class:{active:"video"===this.activeTab},onClick:()=>this.changeTab("video")},this.t("debugger.video.label"),H("div",{class:"right"},H("dyte-icon",{icon:this.iconPack.video_on}),"sm"===this.size&&H("dyte-icon",{icon:this.iconPack.chevron_right}))),H("button",{type:"button",class:{active:"screenshare"===this.activeTab},onClick:()=>this.changeTab("screenshare")},this.t("debugger.screenshare.label"),H("div",{class:"right"},H("dyte-icon",{icon:this.iconPack.share_screen_start}),"sm"===this.size&&H("dyte-icon",{icon:this.iconPack.chevron_right}))),H("button",{type:"button",class:{active:"system"===this.activeTab,hidden:!i},onClick:()=>this.changeTab("system")},this.t("debugger.system.label"),H("div",{class:"right"},H("dyte-icon",{icon:this.iconPack.settings}),"sm"===this.size&&H("dyte-icon",{icon:this.iconPack.chevron_right})))),H("main",{class:{active:this.isMobileMainVisible},part:"main-content"},"sm"===this.size&&H("header",null,H("dyte-button",{kind:"icon",class:"back-btn",onClick:()=>this.isMobileMainVisible=!1},H("dyte-icon",{icon:this.iconPack.chevron_left})),H("h4",null,t)),"audio"===this.activeTab&&H("dyte-debugger-audio",Object.assign({},e)),"video"===this.activeTab&&H("dyte-debugger-video",Object.assign({},e)),"screenshare"===this.activeTab&&H("dyte-debugger-screenshare",Object.assign({},e)),"system"===this.activeTab&&i&&H("dyte-debugger-system",Object.assign({},e))))}};function Wo({stats:e}){if(!e||!e.length)return null;let t="Good";const i=e.map((e=>e.verdict));return i.includes("Poor")?t="Poor":i.includes("Average")&&(t="Average"),t}function Yo({packetLossPercentage:e}){let t="Good";return e>4?t="Poor":e>=1&&e<=4&&(t="Average"),t}function Qo({jitterInMS:e}){let t="Good";return e>100?t="Poor":e>=50&&e<=100&&(t="Average"),t}function Jo({bitrate:e}){let t="Good";return 0===Math.round(e/1024)&&(t="Poor"),t}function Xo({batteryLevelPercentage:e}){let t="Good";return e<20?t="Poor":e<50&&(t="Average"),t}function ed({charging:e,dischargingTimeInSeconds:t,batteryLevelPercentage:i}){return i<20?"Poor":e?"Good":t<1800?"Poor":"Average"}Zo([ni()],Ko.prototype,"meeting",void 0),Zo([ni()],Ko.prototype,"states",void 0),Zo([ni()],Ko.prototype,"size",void 0),Zo([ni()],Ko.prototype,"iconPack",void 0),Zo([ni()],Ko.prototype,"t",void 0),Ko.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;overflow:hidden;border-radius:var(--dyte-border-radius-md, 8px);width:100%;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}header{margin-right:var(--dyte-space-2, 8px);display:flex;align-items:center;justify-content:space-between;padding-top:var(--dyte-space-0, 0px);padding-bottom:var(--dyte-space-0, 0px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px)}header h3{margin-top:var(--dyte-space-4, 16px);margin-bottom:var(--dyte-space-4, 16px)}.back-btn{border-radius:var(--dyte-border-radius-sm, 4px);background-color:transparent;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.back-btn:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}aside{box-sizing:border-box;display:flex;max-width:var(--dyte-space-56, 224px) !important;flex-direction:column;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));padding-left:var(--dyte-space-2, 8px)}aside button{margin-top:var(--dyte-space-4, 16px);box-sizing:border-box;display:flex;width:100%;align-items:center;justify-content:space-between;border-top-left-radius:var(--dyte-border-radius-sm, 4px);border-bottom-left-radius:var(--dyte-border-radius-sm, 4px);padding-left:var(--dyte-space-4, 16px);padding-right:var(--dyte-space-4, 16px);padding-top:var(--dyte-space-3, 12px);padding-bottom:var(--dyte-space-3, 12px);background-color:transparent;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));cursor:default;font-size:14px;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);border-width:var(--dyte-border-width-none, 0);border-style:none;outline:2px solid transparent;outline-offset:2px}aside button .right{display:flex;align-items:center}aside button .right dyte-icon{height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px)}aside button .right dyte-icon:last-child{margin-left:var(--dyte-space-4, 16px)}aside button[type='button']{cursor:pointer;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}aside button[type='button']:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}aside button[type='button']{border-right:var(--dyte-border-width-md, 2px) solid transparent}aside button.active{--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-border-opacity));background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / 0.2)}aside button.active:hover{background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / 0.2)}aside button.hidden{display:none}main{position:relative;box-sizing:border-box;display:flex;height:100%;width:100%;flex-direction:column}:host([size='sm']) aside{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));width:100% !important;max-width:100% !important;padding-left:var(--dyte-space-0, 0px)}:host([size='sm']) aside button{border-radius:var(--dyte-border-radius-none, 0)}:host([size='sm']) aside button.active{border-width:var(--dyte-border-width-none, 0);border-style:none;background-color:transparent}:host([size='sm']) aside button.active:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}:host([size='sm']) aside button.hidden{display:none}:host([size='sm']) aside.hide{display:none}aside button:host([size='sm']) aside.hide{display:none}:host([size='sm']) aside button:host([size='sm']) aside.hide{display:none}:host([size='sm']) main{display:none;height:100%;width:100%;padding:var(--dyte-space-0, 0px)}aside button:host([size='sm']) main{display:none}:host([size='sm']) aside button:host([size='sm']) main{display:none}:host([size='sm']) main.active{display:block}:host([size='sm']) header{margin:var(--dyte-space-0, 0px);justify-content:center}:host([size='sm']) header dyte-button{position:absolute;left:var(--dyte-space-4, 16px)}::-webkit-scrollbar{width:8px}::-webkit-scrollbar-track{border-radius:var(--dyte-border-radius-lg, 12px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-lg, 12px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}::-webkit-scrollbar-thumb:hover{border-radius:var(--dyte-border-radius-lg, 12px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.progress-bar{height:var(--dyte-space-1, 4px);width:100%;overflow:hidden;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.progress-indicator{height:100%;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity))}";var td=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const id=class{constructor(e){c(this,e),this.iconPack=Kt,this.t=Zt(),this.isNetworkOpen=!0,this.isDevicesOpen=!1,this.audioProducerFormattedStats=[],this.audioProducerScoreStats=null,this.networkBasedMediaHealth=null,this.devicesHealth=null,this.mediaScoreUpdateListener=({kind:e,isScreenshare:t,scoreStats:i})=>{"audio"!==e||t||(this.audioProducerScoreStats=i)},this.deviceListUpdateListener=async()=>{const e=await this.meeting.self.getAudioDevices();this.devicesHealth=(null==e?void 0:e.length)>0?"Good":"Poor"},this.audioUpdateListener=()=>{this.meeting.self.audioEnabled||(this.audioProducerScoreStats=null)}}async audioProducerScoreStatsChanged(e){if(!e)return void(this.audioProducerFormattedStats=[]);const t=e,i=[];i.push({name:this.t("debugger.stats.bitrate.label"),value:`${Math.round(t.bitrate/1024)} kbps`,description:this.t("debugger.stats.bitrate.description"),verdict:Jo({bitrate:t.bitrate})}),i.push({name:this.t("debugger.stats.packet_loss.label"),value:`${t.packetsLostPercentage}%`,description:this.t("debugger.stats.packet_loss.description"),verdict:Yo({packetLossPercentage:t.packetsLostPercentage})}),i.push({name:this.t("debugger.stats.jitter.label"),value:`${Math.round(1e3*t.jitter)} ms`,description:this.t("debugger.stats.jitter.description"),verdict:Qo({jitterInMS:1e3*t.jitter})}),this.audioProducerFormattedStats=i,this.networkBasedMediaHealth=Wo({stats:i})}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.meeting&&(this.meeting.self.off("mediaScoreUpdate",this.mediaScoreUpdateListener),this.meeting.self.off("audioUpdate",this.audioUpdateListener),this.meeting.self.off("deviceListUpdate",this.deviceListUpdateListener))}async meetingChanged(e){e&&(e.self.on("mediaScoreUpdate",this.mediaScoreUpdateListener),e.self.on("audioUpdate",this.audioUpdateListener),e.self.on("deviceListUpdate",this.deviceListUpdateListener),await this.deviceListUpdateListener())}render(){var e,t;if(this.meeting)return H(G,null,H("div",{id:"header"}),H("div",{class:"tab-body"},H("div",{class:"status-container"},H("div",{class:"status-section"},H("div",{class:"section-header "+(this.networkBasedMediaHealth?"":"only-child")},H("span",null,this.t("debugger.audio.sections.network_media")),this.networkBasedMediaHealth&&H("span",{class:`status ${null===(e=this.networkBasedMediaHealth)||void 0===e?void 0:e.toLowerCase()}`},this.t(`debugger.quality.${null===(t=this.networkBasedMediaHealth)||void 0===t?void 0:t.toLowerCase()}`))),this.isNetworkOpen&&!this.audioProducerFormattedStats.length&&H("div",{class:"section-body missing-stats"},this.meeting.self.audioEnabled?H("span",null,this.t("debugger.audio.messages.generating_report")):H("span",null,this.t("debugger.audio.messages.enable_media"))),this.isNetworkOpen&&!!this.audioProducerFormattedStats.length&&H("div",{class:"section-body network-table"},this.audioProducerFormattedStats.map((e=>{var t,i;return H("div",{class:"network-row"},H("div",{class:"network-cell label"},H("strong",null,e.name),H("span",{class:"description"},e.description)),H("div",{class:"network-cell value"},H("span",{class:`status ${null===(t=e.verdict)||void 0===t?void 0:t.toLowerCase()}`},this.t(`debugger.quality.${null===(i=e.verdict)||void 0===i?void 0:i.toLowerCase()}`)),H("span",{class:"value"},e.value)))})))))))}static get watchers(){return{audioProducerScoreStats:["audioProducerScoreStatsChanged"],meeting:["meetingChanged"]}}};td([ni()],id.prototype,"meeting",void 0),td([ni()],id.prototype,"states",void 0),td([ni()],id.prototype,"size",void 0),td([ni()],id.prototype,"iconPack",void 0),td([ni()],id.prototype,"t",void 0),id.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;height:100%;width:100%;color:rgb(var(--dyte-colors-text-1000, 255 255 255));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar{width:var(--dyte-space-1\\.5, 6px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}h3{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:600}#header{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-5, 20px);display:flex;align-items:center;justify-content:space-evenly}.tab-body{margin:var(--dyte-space-4, 16px);display:flex;height:100%;flex-direction:column;justify-content:space-between;overflow-y:auto}.status-container{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;padding:16px}.status-section{margin-bottom:12px}.section-header{display:flex;justify-content:space-between;align-items:center;font-weight:bold;padding:8px 0}.section-header.only-child{justify-content:center}.section-body.missing-stats{display:flex;text-align:center;justify-content:center}.section-header .status{color:rgba(var(--dyte-colors-success));font-weight:bold}.section-header .arrow{font-size:14px}.network-table{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;margin-top:8px;overflow:hidden}.network-row{display:flex;justify-content:space-between;padding:12px;border-bottom:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60))}.network-row:last-child{border-bottom:none}.network-cell{display:flex;flex-direction:column}.network-cell.label strong{font-size:14px}.network-cell.label .description{font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}.network-cell.value{text-align:right}.status.good{color:rgba(var(--dyte-colors-success))}.status.average{color:rgba(var(--dyte-colors-warning))}.status.poor{color:rgba(var(--dyte-colors-danger))}.value{font-size:14px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}dyte-settings-audio{display:flex;flex-direction:column}";var ad=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const sd=class{constructor(e){c(this,e),this.iconPack=Kt,this.t=Zt(),this.isNetworkOpen=!0,this.isDevicesOpen=!1,this.videoProducerFormattedStats=[],this.videoProducerScoreStats=null,this.audioProducerFormattedStats=[],this.audioProducerScoreStats=null,this.networkBasedMediaHealth=null,this.mediaScoreUpdateListener=({kind:e,isScreenshare:t,scoreStats:i})=>{"video"===e&&t&&(this.videoProducerScoreStats=i),"audio"===e&&t&&(this.audioProducerScoreStats=i)},this.screenShareUpdateListener=()=>{this.meeting.self.screenShareEnabled||(this.videoProducerScoreStats=null,this.audioProducerScoreStats=null)}}async videoProducerScoreStatsChanged(e){if(!e)return void(this.videoProducerFormattedStats=[]);const t=e,i=[];i.push({name:this.t("debugger.stats.cpu_limitations.label"),value:t.cpuLimitations?"Yes":"No",description:this.t("debugger.stats.cpu_limitations.description"),verdict:t.cpuLimitations?"Poor":"Good"}),i.push({name:this.t("debugger.stats.bandwidth_limitations.label"),value:t.bandwidthLimitations?"Yes":"No",description:this.t("debugger.stats.bandwidth_limitations.description"),verdict:t.bandwidthLimitations?"Poor":"Good"}),i.push({name:this.t("debugger.stats.bitrate.label"),value:`${Math.round(t.bitrate/1024)} kbps`,description:this.t("debugger.stats.bitrate.description"),verdict:Jo({bitrate:t.bitrate})}),i.push({name:this.t("debugger.stats.packet_loss.label"),value:`${t.packetsLostPercentage}%`,description:this.t("debugger.stats.packet_loss.description"),verdict:Yo({packetLossPercentage:t.packetsLostPercentage})}),i.push({name:this.t("debugger.stats.jitter.label"),value:`${Math.round(1e3*t.jitter)} ms`,description:this.t("debugger.stats.jitter.description"),verdict:Qo({jitterInMS:1e3*t.jitter})}),this.videoProducerFormattedStats=i,this.networkBasedMediaHealth=Wo({stats:i})}async audioProducerScoreStatsChanged(e){if(!e)return void(this.audioProducerFormattedStats=[]);const t=e,i=[];i.push({name:this.t("debugger.stats.bitrate.label"),value:`${Math.round(t.bitrate/1024)} kbps`,description:this.t("debugger.stats.bitrate.description"),verdict:Jo({bitrate:t.bitrate})}),i.push({name:this.t("debugger.stats.packet_loss.label"),value:`${t.packetsLostPercentage}%`,description:this.t("debugger.stats.packet_loss.description"),verdict:Yo({packetLossPercentage:t.packetsLostPercentage})}),i.push({name:this.t("debugger.stats.jitter.label"),value:`${Math.round(1e3*t.jitter)} ms`,description:this.t("debugger.stats.jitter.description"),verdict:Qo({jitterInMS:1e3*t.jitter})}),this.audioProducerFormattedStats=i}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.meeting&&(this.meeting.self.off("mediaScoreUpdate",this.mediaScoreUpdateListener),this.meeting.self.off("screenShareUpdate",this.screenShareUpdateListener))}async meetingChanged(e){e&&(e.self.on("mediaScoreUpdate",this.mediaScoreUpdateListener),e.self.on("screenShareUpdate",this.screenShareUpdateListener))}render(){var e,t;if(this.meeting)return H(G,null,H("div",{id:"header"}),H("div",{class:"tab-body"},H("div",{class:"status-container"},H("div",{class:"status-section"},H("div",{class:"section-header "+(this.networkBasedMediaHealth?"":"only-child")},H("span",null,this.t("debugger.screenshare.sections.network_media")),this.networkBasedMediaHealth&&H("span",{class:`status ${null===(e=this.networkBasedMediaHealth)||void 0===e?void 0:e.toLowerCase()}`},this.t(`debugger.quality.${null===(t=this.networkBasedMediaHealth)||void 0===t?void 0:t.toLowerCase()}`))),this.isNetworkOpen&&!this.videoProducerFormattedStats.length&&H("div",{class:"section-body missing-stats"},this.meeting.self.screenShareEnabled?H("span",null,this.t("debugger.screenshare.messages.generating_report")):H("span",null,this.t("debugger.screenshare.messages.enable_media"))),this.isNetworkOpen&&!!this.videoProducerFormattedStats.length&&H("div",{class:"section-body network-table"},this.videoProducerFormattedStats.map((e=>{var t,i;return H("div",{class:"network-row"},H("div",{class:"network-cell label"},H("strong",null,e.name),H("span",{class:"description"},e.description)),H("div",{class:"network-cell value"},H("span",{class:`status ${null===(t=e.verdict)||void 0===t?void 0:t.toLowerCase()}`},this.t(`debugger.quality.${null===(i=e.verdict)||void 0===i?void 0:i.toLowerCase()}`)),H("span",{class:"value"},e.value)))})))))))}static get watchers(){return{videoProducerScoreStats:["videoProducerScoreStatsChanged"],audioProducerScoreStats:["audioProducerScoreStatsChanged"],meeting:["meetingChanged"]}}};ad([ni()],sd.prototype,"meeting",void 0),ad([ni()],sd.prototype,"states",void 0),ad([ni()],sd.prototype,"size",void 0),ad([ni()],sd.prototype,"iconPack",void 0),ad([ni()],sd.prototype,"t",void 0),sd.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;height:100%;width:100%;color:rgb(var(--dyte-colors-text-1000, 255 255 255));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar{width:var(--dyte-space-1\\.5, 6px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}h3{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:600}#header{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-5, 20px);display:flex;align-items:center;justify-content:space-evenly}.tab-body{margin:var(--dyte-space-4, 16px);display:flex;height:100%;flex-direction:column;justify-content:space-between;overflow-y:auto}.status-container{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;padding:16px}.status-section{margin-bottom:12px}.section-header{display:flex;justify-content:space-between;align-items:center;font-weight:bold;padding:8px 0}.section-header.only-child{justify-content:center}.section-body.missing-stats{display:flex;text-align:center;justify-content:center}.section-header .status{color:rgba(var(--dyte-colors-success));font-weight:bold}.section-header .arrow{font-size:14px}.network-table{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;margin-top:8px;overflow:hidden}.network-row{display:flex;justify-content:space-between;padding:12px;border-bottom:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60))}.network-row:last-child{border-bottom:none}.network-cell{display:flex;flex-direction:column}.network-cell.label strong{font-size:14px}.network-cell.label .description{font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}.network-cell.value{text-align:right}.status.good{color:rgba(var(--dyte-colors-success))}.status.average{color:rgba(var(--dyte-colors-warning))}.status.poor{color:rgba(var(--dyte-colors-danger))}.value{font-size:14px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}";var rd=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const nd=class{constructor(e){c(this,e),this.iconPack=Kt,this.t=Zt(),this.isBatterySectionOpen=!0,this.batterySectionHealth=null,this.battery=null,this.batteryFormattedStats=[],this.batteryUpdateListener=()=>{const e=Math.round(100*this.battery.level),t=[];t.push({name:this.t("debugger.system.battery.level.label"),value:`${e}%`,description:this.t("debugger.system.battery.level.description"),verdict:Xo({batteryLevelPercentage:e})}),t.push({name:this.t("debugger.system.battery.charging.label"),value:`${this.battery.charging?this.t("debugger.system.battery.charging.is_charging"):this.t("debugger.system.battery.charging.is_not_charging")}`,description:this.t("debugger.system.battery.charging.description"),verdict:ed({batteryLevelPercentage:e,chargingTimeInSeconds:this.battery.chargingTime,dischargingTimeInSeconds:this.battery.dischargingTime,charging:this.battery.charging})}),this.batterySectionHealth=function({stats:e}){if(!e||!e.length)return null;let t="Good";const i=e.map((e=>e.verdict));return i.includes("Poor")?t="Poor":i.includes("Average")&&(t="Average"),t}({stats:t}),this.batteryFormattedStats=t}}toggleSection(e){"battery"===e&&(this.isBatterySectionOpen=!this.isBatterySectionOpen)}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.meeting&&this.battery&&(this.battery.removeEventListener("levelchange",this.batteryUpdateListener),this.battery.removeEventListener("chargingchange",this.batteryUpdateListener))}async meetingChanged(e){e&&void 0!==navigator.getBattery&&(this.battery=await navigator.getBattery(),this.battery.addEventListener("levelchange",this.batteryUpdateListener),this.battery.addEventListener("chargingchange",this.batteryUpdateListener),this.batteryUpdateListener())}render(){var e,t;if(this.meeting)return H(G,null,H("div",{id:"header"}),H("div",{class:"tab-body"},H("div",{class:"status-container"},H("div",{class:"status-section"},H("div",{class:"section-header",onClick:()=>this.toggleSection("battery")},H("span",null,this.t("debugger.system.sections.battery")),this.batterySectionHealth&&H("span",{class:`status ${null===(e=this.batterySectionHealth)||void 0===e?void 0:e.toLowerCase()}`},this.t(`debugger.quality.${null===(t=this.batterySectionHealth)||void 0===t?void 0:t.toLowerCase()}`))),this.isBatterySectionOpen&&!!this.batteryFormattedStats.length&&H("div",{class:"section-body battery-table"},this.batteryFormattedStats.map((e=>{var t,i;return H("div",{class:"battery-row"},H("div",{class:"battery-cell label"},H("strong",null,e.name),H("span",{class:"description"},e.description)),H("div",{class:"battery-cell value"},H("span",{class:`status ${null===(t=e.verdict)||void 0===t?void 0:t.toLowerCase()}`},this.t(`debugger.quality.${null===(i=e.verdict)||void 0===i?void 0:i.toLowerCase()}`)),H("span",{class:"value"},e.value)))})))))))}static get watchers(){return{meeting:["meetingChanged"]}}};rd([ni()],nd.prototype,"meeting",void 0),rd([ni()],nd.prototype,"states",void 0),rd([ni()],nd.prototype,"size",void 0),rd([ni()],nd.prototype,"iconPack",void 0),rd([ni()],nd.prototype,"t",void 0),nd.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;height:100%;width:100%;color:rgb(var(--dyte-colors-text-1000, 255 255 255));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar{width:var(--dyte-space-1\\.5, 6px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}h3{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:600}#header{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-5, 20px);display:flex;align-items:center;justify-content:space-evenly}.tab-body{margin:var(--dyte-space-4, 16px);display:flex;height:100%;flex-direction:column;justify-content:space-between;overflow-y:auto}.status-container{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;padding:16px}.status-section{margin-bottom:12px}.section-header{display:flex;justify-content:space-between;align-items:center;font-weight:bold;padding:8px 0}.section-body.missing-stats{display:flex;text-align:center;justify-content:center}.section-header .status{color:rgba(var(--dyte-colors-success));font-weight:bold}.section-header .arrow{font-size:14px}.battery-table{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;margin-top:8px;overflow:hidden}.battery-row{display:flex;justify-content:space-between;padding:12px;border-bottom:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60))}.battery-row:last-child{border-bottom:none}.battery-cell{display:flex;flex-direction:column}.battery-cell.label strong{font-size:14px}.battery-cell.label .description{font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}.battery-cell.value{text-align:right}.status.good{color:rgba(var(--dyte-colors-success))}.status.average{color:rgba(var(--dyte-colors-warning))}.status.poor{color:rgba(var(--dyte-colors-danger))}.value{font-size:14px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}dyte-settings-video{display:flex;flex-direction:column}";var od=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const dd=class{constructor(e){c(this,e),this.iconPack=Kt,this.t=Zt(),this.isNetworkOpen=!0,this.isDevicesOpen=!1,this.videoProducerFormattedStats=[],this.videoProducerScoreStats=null,this.networkBasedMediaHealth=null,this.devicesHealth=null,this.mediaScoreUpdateListener=({kind:e,isScreenshare:t,scoreStats:i})=>{"video"!==e||t||(this.videoProducerScoreStats=i)},this.deviceListUpdateListener=async()=>{const e=await this.meeting.self.getVideoDevices();this.devicesHealth=(null==e?void 0:e.length)>0?"Good":"Poor"},this.videoUpdateListener=()=>{this.meeting.self.videoEnabled||(this.videoProducerScoreStats=null)}}async videoProducerScoreStatsChanged(e){if(!e)return void(this.videoProducerFormattedStats=[]);const t=e,i=[];i.push({name:this.t("debugger.stats.cpu_limitations.label"),value:t.cpuLimitations?"Yes":"No",description:this.t("debugger.stats.cpu_limitations.description"),verdict:t.cpuLimitations?"Poor":"Good"}),i.push({name:this.t("debugger.stats.bandwidth_limitations.label"),value:t.bandwidthLimitations?"Yes":"No",description:this.t("debugger.stats.bandwidth_limitations.description"),verdict:t.bandwidthLimitations?"Poor":"Good"}),i.push({name:this.t("debugger.stats.bitrate.label"),value:`${Math.round(t.bitrate/1024)} kbps`,description:this.t("debugger.stats.bitrate.description"),verdict:Jo({bitrate:t.bitrate})}),i.push({name:this.t("debugger.stats.packet_loss.label"),value:`${t.packetsLostPercentage}%`,description:this.t("debugger.stats.packet_loss.description"),verdict:Yo({packetLossPercentage:t.packetsLostPercentage})}),i.push({name:this.t("debugger.stats.jitter.label"),value:`${Math.round(1e3*t.jitter)} ms`,description:this.t("debugger.stats.jitter.description"),verdict:Qo({jitterInMS:1e3*t.jitter})}),this.videoProducerFormattedStats=i,this.networkBasedMediaHealth=Wo({stats:i})}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.meeting&&(this.meeting.self.off("mediaScoreUpdate",this.mediaScoreUpdateListener),this.meeting.self.off("videoUpdate",this.videoUpdateListener),this.meeting.self.off("deviceListUpdate",this.deviceListUpdateListener))}async meetingChanged(e){e&&(e.self.on("mediaScoreUpdate",this.mediaScoreUpdateListener),e.self.on("videoUpdate",this.videoUpdateListener),e.self.on("deviceListUpdate",this.deviceListUpdateListener),await this.deviceListUpdateListener())}render(){var e,t;if(this.meeting)return H(G,null,H("div",{id:"header"}),H("div",{class:"tab-body"},H("div",{class:"status-container"},H("div",{class:"status-section"},H("div",{class:"section-header "+(this.networkBasedMediaHealth?"":"only-child")},H("span",null,this.t("debugger.video.sections.network_media")),this.networkBasedMediaHealth&&H("span",{class:`status ${null===(e=this.networkBasedMediaHealth)||void 0===e?void 0:e.toLowerCase()}`},this.t(`debugger.quality.${null===(t=this.networkBasedMediaHealth)||void 0===t?void 0:t.toLowerCase()}`))),this.isNetworkOpen&&!this.videoProducerFormattedStats.length&&H("div",{class:"section-body missing-stats"},this.meeting.self.videoEnabled?H("span",null,this.t("debugger.video.messages.generating_report")):H("span",null,this.t("debugger.video.messages.enable_media"))),this.isNetworkOpen&&!!this.videoProducerFormattedStats.length&&H("div",{class:"section-body network-table"},this.videoProducerFormattedStats.map((e=>{var t,i;return H("div",{class:"network-row"},H("div",{class:"network-cell label"},H("strong",null,e.name),H("span",{class:"description"},e.description)),H("div",{class:"network-cell value"},H("span",{class:`status ${null===(t=e.verdict)||void 0===t?void 0:t.toLowerCase()}`},this.t(`debugger.quality.${null===(i=e.verdict)||void 0===i?void 0:i.toLowerCase()}`)),H("span",{class:"value"},e.value)))})))))))}static get watchers(){return{videoProducerScoreStats:["videoProducerScoreStatsChanged"],meeting:["meetingChanged"]}}};od([ni()],dd.prototype,"meeting",void 0),od([ni()],dd.prototype,"states",void 0),od([ni()],dd.prototype,"size",void 0),od([ni()],dd.prototype,"iconPack",void 0),od([ni()],dd.prototype,"t",void 0),dd.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;height:100%;width:100%;color:rgb(var(--dyte-colors-text-1000, 255 255 255));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar{width:var(--dyte-space-1\\.5, 6px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}h3{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:600}#header{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-5, 20px);display:flex;align-items:center;justify-content:space-evenly}.tab-body{margin:var(--dyte-space-4, 16px);display:flex;height:100%;flex-direction:column;justify-content:space-between;overflow-y:auto}.status-container{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;padding:16px}.status-section{margin-bottom:12px}.section-header{display:flex;justify-content:space-between;align-items:center;font-weight:bold;padding:8px 0}.section-header.only-child{justify-content:center}.section-body.missing-stats{display:flex;text-align:center;justify-content:center}.section-header .status{color:rgba(var(--dyte-colors-success));font-weight:bold}.section-header .arrow{font-size:14px}.network-table{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));border-radius:8px;margin-top:8px;overflow:hidden}.network-row{display:flex;justify-content:space-between;padding:12px;border-bottom:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60))}.network-row:last-child{border-bottom:none}.network-cell{display:flex;flex-direction:column}.network-cell.label strong{font-size:14px}.network-cell.label .description{font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}.network-cell.value{text-align:right}.status.good{color:rgba(var(--dyte-colors-success))}.status.average{color:rgba(var(--dyte-colors-warning))}.status.poor{color:rgba(var(--dyte-colors-danger))}.value{font-size:14px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));margin-top:4px}dyte-settings-video{display:flex;flex-direction:column}";var cd=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const ld=class{constructor(e){c(this,e),this.onClose=Q(this,"dyteDialogClose",7),this.hideCloseButton=!1,this.disableEscapeKey=!1,this.config=zt,this.iconPack=Kt,this.t=Zt(),this.open=!0,this.close=()=>{this.open=!1,this.onClose.emit()},this.keydownListener=e=>{!this.disableEscapeKey&&"Escape"===e.key&&this.open&&this.close()}}connectedCallback(){document.addEventListener("keydown",this.keydownListener)}disconnectedCallback(){document.removeEventListener("keydown",this.keydownListener)}render(){return this.open?H(G,null,H("div",{id:"dialog",part:"container",role:"dialog","aria-modal":"true"},H("slot",null),!this.hideCloseButton&&H("dyte-button",{part:"close-button",id:"dismiss-btn",kind:"icon",variant:"ghost",onClick:()=>this.close(),type:"button","aria-label":this.t("dialog.close"),role:"button"},H("dyte-icon",{icon:this.iconPack.dismiss})))):null}};cd([ni()],ld.prototype,"meeting",void 0),cd([ni()],ld.prototype,"states",void 0),cd([ni()],ld.prototype,"size",void 0),cd([ni()],ld.prototype,"iconPack",void 0),cd([ni()],ld.prototype,"t",void 0),ld.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{position:fixed;top:var(--dyte-space-0, 0px);right:var(--dyte-space-0, 0px);bottom:var(--dyte-space-0, 0px);left:var(--dyte-space-0, 0px);box-sizing:border-box;padding:var(--dyte-space-4, 16px);flex-direction:column;align-items:center;justify-content:center;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / 0.5);color:rgb(var(--dyte-colors-text-1000, 255 255 255));visibility:hidden;display:none;overflow-wrap:break-word;word-wrap:break-word;z-index:60;-webkit-backdrop-filter:blur(12px) saturate(180%);backdrop-filter:blur(12px) saturate(180%)}#dialog{position:relative;max-height:100%;max-width:100%}#dismiss-btn{position:absolute;top:var(--dyte-space-3, 12px);right:var(--dyte-space-3, 12px);z-index:50}::slotted(*){max-height:100%;max-width:100%}:host([open]){visibility:visible;display:flex}:host([open='false']){visibility:hidden;display:none}";var hd=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const pd=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.config=zt,this.iconPack=Kt,this.t=Zt(),this.updateStoreState=(e,t)=>{this.stateUpdate.emit({[e]:t})},this.cancelJoinStage=async()=>{var e,t,i;"ACCEPTED_TO_JOIN_STAGE"===(null===(e=this.meeting.stage)||void 0===e?void 0:e.status)&&await(null===(i=null===(t=this.meeting)||void 0===t?void 0:t.stage)||void 0===i?void 0:i.leave()),this.updateStoreState("activeJoinStage",!1)},this.joinStage=async()=>{await this.meeting.stage.join()},this.stageStatusUpdateListener=e=>{var t;(null===(t=this.states)||void 0===t?void 0:t.activeJoinStage)&&"ON_STAGE"===e&&this.updateStoreState("activeJoinStage",!1)}}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){var e;null===(e=this.meeting.stage)||void 0===e||e.removeListener("stageStatusUpdate",this.stageStatusUpdateListener)}meetingChanged(e){if(null==e)return;const{stage:t}=e;null==t||t.addListener("stageStatusUpdate",this.stageStatusUpdateListener)}render(){var e,t,i,a;const s={meeting:this.meeting,states:this.states,config:this.config,size:this.size,iconPack:this.iconPack,t:this.t},r=this.states;if(null!=(null==r?void 0:r.image)){const e=r.image,t=()=>{this.stateUpdate.emit({image:null})};return H(G,null,H("dyte-dialog",{open:!0,onDyteDialogClose:t,hideCloseButton:!0,iconPack:this.iconPack,t:this.t},H("dyte-image-viewer",Object.assign({},s,{image:e,onClose:t}))))}if(!0===(null==r?void 0:r.activeSettings))return H(G,null,H("dyte-dialog",{open:!0,onDyteDialogClose:()=>this.updateStoreState("activeSettings",!1),iconPack:this.iconPack,t:this.t},H("dyte-settings",Object.assign({},s))));if(!0===(null==r?void 0:r.activeDebugger))return H(G,null,H("dyte-dialog",{open:!0,onDyteDialogClose:()=>this.updateStoreState("activeDebugger",!1),iconPack:this.iconPack,t:this.t},H("dyte-debugger",Object.assign({},s))));if(!0===(null==r?void 0:r.activeLeaveConfirmation))return H(G,null,H("dyte-dialog",{open:!0,onDyteDialogClose:()=>this.updateStoreState("activeLeaveConfirmation",!1),iconPack:this.iconPack,t:this.t},H("dyte-leave-meeting",Object.assign({},s))));if(!0===(null===(e=null==r?void 0:r.activePermissionsMessage)||void 0===e?void 0:e.enabled))return H(G,null,H("dyte-dialog",{open:!0,hideCloseButton:!0,iconPack:this.iconPack,t:this.t},H("dyte-permissions-message",Object.assign({},s))));if(!0===(null===(t=null==r?void 0:r.activeBreakoutRoomsManager)||void 0===t?void 0:t.active))return H(G,null,H("dyte-dialog",{open:!0,onDyteDialogClose:()=>this.updateStoreState("activeBreakoutRoomsManager",{active:!1,data:void 0}),iconPack:this.iconPack,t:this.t},H("dyte-breakout-rooms-manager",Object.assign({},s))));if(!0===(null===(i=null==r?void 0:r.activeConfirmationModal)||void 0===i?void 0:i.active))return H(G,null,H("dyte-dialog",{open:!0,onDyteDialogClose:()=>this.updateStoreState("activeConfirmationModal",!1),iconPack:this.iconPack,t:this.t},H("dyte-confirmation-modal",Object.assign({},s))));if(!0===(null===(a=null==r?void 0:r.activeOverlayModal)||void 0===a?void 0:a.active))return H(G,null,H("dyte-overlay-modal",{meeting:this.meeting,states:this.states,iconPack:this.iconPack,t:this.t}));if(null==r?void 0:r.activeBroadcastMessageModal)return H(G,null,H("dyte-dialog",{open:!0,onDyteDialogClose:()=>this.updateStoreState("activeBroadcastMessageModal",!1),iconPack:this.iconPack,t:this.t},H("dyte-broadcast-message-modal",Object.assign({},s))));if(!0===(null==r?void 0:r.activeJoinStage)){const e={title:this.t("stage.join_title"),label:{accept:this.t("stage.join_confirm"),reject:this.t("stage.join_cancel")},description:this.t("stage.join_summary")};return H(G,null,H("dyte-dialog",{open:!0,onDyteDialogClose:this.cancelJoinStage,iconPack:this.iconPack,t:this.t},H("dyte-join-stage",Object.assign({dataConfig:e,onDyteJoinStage:this.joinStage,onDyteLeaveStage:this.cancelJoinStage},s))))}return!0===(null==r?void 0:r.activeMuteAllConfirmation)?H(G,null,H("dyte-dialog",{open:!0,onDyteDialogClose:()=>{this.updateStoreState("activeMuteAllConfirmation",!1)},iconPack:this.iconPack,t:this.t},H("dyte-mute-all-confirmation",Object.assign({},s)))):(null==r?void 0:r.activeChannelCreator)?H(G,null,H("dyte-dialog",{open:!0,onDyteDialogClose:()=>{this.updateStoreState("activeChannelCreator",!1)},iconPack:this.iconPack,t:this.t},H("dyte-channel-creator",Object.assign({},s)))):null}static get watchers(){return{meeting:["meetingChanged"]}}};hd([ni()],pd.prototype,"meeting",void 0),hd([ni()],pd.prototype,"states",void 0),hd([ni()],pd.prototype,"size",void 0),hd([ni()],pd.prototype,"iconPack",void 0),hd([ni()],pd.prototype,"t",void 0),pd.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block}";var gd=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const ud=class{constructor(e){c(this,e),this.onDeleteAttachment=Q(this,"deleteAttachment",7),this.iconPack=Kt,this.t=Zt(),this.attachment=null,this.filePreview=null,this.fileReader=new FileReader,this.generatePreview=()=>{"image"===this.attachment.type?this.fileReader.readAsDataURL(this.attachment.file):"file"===this.attachment.type&&(this.filePreview=this.attachment.file.name)},this.onDeleteClickHandler=()=>{this.filePreview=null,this.onDeleteAttachment.emit()}}onAttachmentChange(){this.generatePreview()}connectedCallback(){this.fileReader.onload=e=>{"string"==typeof e.target.result&&(this.filePreview=e.target.result)}}componentWillLoad(){this.onAttachmentChange()}render(){return H(G,{key:"9ac12b9992619fe12ab30d07dfcd3113562e6d12"},H("div",{key:"3540e19bd3d7b5185c55359e128bdee18a31d32d",class:"preview-overlay"},H("div",{key:"2792a2f153702696ce4bb3803b6a401cb2075238",class:"preview"},H("dyte-tooltip",{key:"f1ae3139d0199a03a9e85a7366c766c8cb9f84b2",label:this.t("chat.cancel_upload")},H("dyte-button",{key:"99d6e020c4b7042a7f91861c799ff251193bd16c",variant:"secondary",kind:"icon",onClick:this.onDeleteClickHandler},H("dyte-icon",{key:"e8809cbd2ee916275de659a4eed986ab71351235",icon:this.iconPack.dismiss}))),"image"===this.attachment.type?H("img",{class:"preview-image",src:this.filePreview}):H("div",{class:"preview-file"},H("span",null,this.filePreview)))))}static get watchers(){return{attachment:["onAttachmentChange"]}}};gd([ni()],ud.prototype,"iconPack",void 0),gd([ni()],ud.prototype,"t",void 0),ud.style=":host{display:flex;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));border-top-left-radius:var(--dyte-border-radius-md, 8px);border-top-right-radius:var(--dyte-border-radius-md, 8px)}.preview-overlay{position:absolute;top:var(--dyte-space-0, 0px);right:var(--dyte-space-0, 0px);bottom:var(--dyte-space-0, 0px);left:var(--dyte-space-0, 0px);background-color:inherit}.preview{position:absolute;top:var(--dyte-space-4, 16px);left:var(--dyte-space-4, 16px);max-width:-moz-fit-content;max-width:fit-content;max-height:var(--dyte-space-20, 80px)}.preview:hover dyte-tooltip{display:block}.preview dyte-tooltip{position:absolute;top:calc(var(--dyte-space-1, 4px) * -1);left:calc(var(--dyte-space-1, 4px) * -1);display:none;margin-left:calc(var(--dyte-space-1, 4px) * -1);margin-top:calc(var(--dyte-space-1, 4px) * -1)}.preview dyte-button{display:flex;height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);align-items:center;justify-content:center;border-radius:9999px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));border:1px solid rgb(var(--dyte-colors-text-1000, 255 255 255))}.preview dyte-icon{height:var(--dyte-space-3, 12px);width:var(--dyte-space-3, 12px);color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.preview-image{height:var(--dyte-space-16, 64px);width:var(--dyte-space-16, 64px);-o-object-fit:cover;object-fit:cover;max-height:100%;max-width:100%;overflow:clip;border-radius:var(--dyte-border-radius-md, 8px)}.preview-file{padding-left:var(--dyte-space-3, 12px);padding-right:var(--dyte-space-3, 12px);padding-top:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-2, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-radius:var(--dyte-border-radius-md, 8px);max-width:200px}";let fd;var md=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const vd=class{constructor(e){c(this,e),this.pickerClose=Q(this,"pickerClose",7),this.emojiClicked=Q(this,"dyteEmojiClicked",7),this.iconPack=Kt,this.t=Zt(),this.focusWhenOpened=!0,this.filterVal="",this.filteredEmojis=[]}componentWillLoad(){(async()=>{if(!fd){const e=await fetch("https://cdn.dyte.in/assets/emojis-data.json");fd=e.json()}return fd})().then((e=>{this.emojiList=e,this.handleInputChange(this.inputElement)}))}componentDidLoad(){this.focusWhenOpened&&this.inputElement.focus()}handleInputChange(e){this.filterVal=e.value;const t=new RegExp(`([^,]*?${this.filterVal}[^,]*):(\\d+)`,"g");this.filteredEmojis=Array.from(this.emojiList.search.matchAll(t)).map((e=>({name:e[1],emoji:this.emojiList.emojis[e[2]]})))}handleEmojiClick(e){this.emojiClicked.emit(e)}mapEmojiList(){var e;return(null===(e=this.emojiList)||void 0===e?void 0:e.length)>0?H("div",{id:"loader"},H("dyte-spinner",{iconPack:this.iconPack})):H("div",{id:"emoji-grid",class:"scrollbar max-w-40"},this.filteredEmojis.map((e=>H("dyte-button",{key:`emoji-button-${e.name}`,class:"emoji",variant:"ghost",kind:"icon",title:e.name,onClick:()=>this.handleEmojiClick(e.emoji)},e.emoji))))}render(){return H(G,{key:"332fe557a1fd6c4813a20dc67218583ed52f8080"},H("div",{key:"c33a2a916b8bb69a6890de686837f26a2a52ca66",class:"close-parent"},H("dyte-button",{key:"68957f915e70a98008dfe083e4cc1b5b01fcffb1",variant:"ghost",kind:"icon",class:"close",onClick:()=>{var e;return null===(e=this.pickerClose)||void 0===e?void 0:e.emit()},"aria-label":this.t("close")},H("dyte-icon",{key:"95d651fdde6aa3c3ae93bfcce89449ef85adf278",icon:this.iconPack.dismiss}))),H("div",{key:"71eb89294bd37df1d38e8f890fc96eee692c751f",class:"emoji-parent"},H("input",{key:"6650cd87c893fbed52aac4a1017b81fa2c7a920b",value:this.filterVal,onInput:e=>this.handleInputChange(e.target),placeholder:this.t("search"),ref:e=>this.inputElement=e}),this.mapEmojiList()))}};md([ni()],vd.prototype,"iconPack",void 0),md([ni()],vd.prototype,"t",void 0),vd.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{width:100%}.emoji-parent{box-sizing:border-box;display:inline-flex;height:var(--dyte-space-64, 256px);width:100%;max-width:640px;flex-direction:column;padding:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-0, 0px);-webkit-user-select:none;-moz-user-select:none;user-select:none;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.close-parent{display:flex;flex:1 1 0%;justify-content:flex-end;padding:var(--dyte-space-0, 0px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}#emoji-grid{margin-top:var(--dyte-space-2, 8px);box-sizing:border-box;display:flex;flex-direction:row;flex-wrap:wrap;align-content:flex-start;overflow-x:hidden;overflow-y:scroll;height:100%;grid-auto-rows:minmax(min-content, max-content)}#loader{display:flex;height:100%;width:100%;align-items:center;justify-content:center}input{display:block;height:var(--dyte-space-8, 32px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);font-size:14px;border-width:var(--dyte-border-width-none, 0);border-style:solid;border-style:none;border-color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}input::-moz-placeholder{color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}input::placeholder{color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}input{border-radius:var(--dyte-border-radius-sm, 4px);outline:2px solid transparent;outline-offset:2px;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms;border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60))}input:focus{--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-border-opacity));--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);--tw-ring-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-ring-opacity));--tw-ring-opacity:0.3}.emoji{height:var(--dyte-space-10, 40px);width:var(--dyte-space-10, 40px);font-size:20px;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}";var yd=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const bd=class{constructor(e){c(this,e),this.iconPack=Kt,this.t=Zt()}render(){return H("dyte-tooltip",{key:"ed7771da8c8790052743bc9fe8da64c352b99826",label:this.t("chat.send_emoji")},H("dyte-button",{key:"16c59bbb9a708844c96569b89bbc246653c9d601",variant:"ghost",kind:"icon",class:{active:this.isActive},title:this.t("chat.send_emoji")},H("dyte-icon",{key:"27baf076cb231a538a31fd3759154a62d02c28b9",icon:this.iconPack.emoji_multiple})))}};yd([ni()],bd.prototype,"iconPack",void 0),yd([ni()],bd.prototype,"t",void 0),bd.style=":host{}";const wd=e=>e.split(/[#?]/)[0].split(".").pop().trim(),xd=e=>{if(!e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return`${(e/1024**t).toFixed(2)} ${["B","kB","MB","GB","TB"][t]}`},kd=async(e,t)=>{e=ci(e);let i=null==t?void 0:t.name;const a=await fetch(e);if(!a.ok)return void window.open(e,"_blank");const s=URL.createObjectURL(await a.blob()),r=document.createElement("a");r.href=s,r.download=null!=i?i:((e,t="file")=>{try{const i=new URL(e).pathname.split("/").pop();return"/"!==i?i:t}catch(i){return t}})(e,null==t?void 0:t.fallbackName),r.click()};var Sd=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Cd=class{constructor(e){c(this,e),this.now=new Date,this.isContinued=!1,this.iconPack=Kt,this.t=Zt(),this.showBubble=!1}render(){const e=ci(this.message.link);return H(G,{key:"f5befc2c8ec9cb19a0bdf188a3313be725601841"},!this.isContinued&&H(oa,{key:"127c8691596fe2b2ea236ecf754d6ceca18dee08",name:this.message.displayName,time:this.message.time,now:this.now}),H("div",{key:"209f10f73b231b9d7ccd5de677ff812dfc235950",class:{body:!0,bubble:this.showBubble},part:"body"},H("div",{key:"47834225c4d6b625db6823f979ae0b592f897ff8",class:"file"},H("div",{key:"14516331f804e78977f0b718758cf71b6e57ff33",class:"file-data"},H("div",{key:"fa03e638f47d8af6b66eca2b9155c3683d51eb8a",class:"name"},this.message.name),H("div",{key:"e9060694813e9d9d90692c70a52ff782a156268d",class:"file-data-split"},H("div",{key:"7955b2e62e52a2d23cb026badbb1b8960b8ac6e1",class:"ext"},wd(this.message.name)),H("span",{key:"84d6ba7a76be685a3f1509c59d24844d29fd6fee",class:"divider"}),H("div",{key:"9070a6bac59bd947f0b73d4508bc1ff26a493f5d",class:"size"},xd(this.message.size)))),H("dyte-button",{key:"8ff6e3be0173975f1ab73220317f7171a9923383",variant:"secondary",kind:"icon",onClick:()=>kd(e,{name:this.message.name,fallbackName:"file"}),part:"button"},H("dyte-icon",{key:"da690564e3361a9f1ff1e4a933b21020636bd23e",icon:this.iconPack.download})))))}};Sd([ni()],Cd.prototype,"iconPack",void 0),Sd([ni()],Cd.prototype,"t",void 0);const _d=class{constructor(e){c(this,e),this.iconPack=Kt}render(){return H("div",{key:"27ef49cd85552610eb2aa9cfb2046f13e98f0b87",class:"file"},H("dyte-button",{key:"5553484477a3363eaa1a786f66a3e6a86036b7e3",variant:"secondary",kind:"icon",onClick:()=>kd(ci(this.url),{name:this.name,fallbackName:"file"}),part:"button"},H("dyte-icon",{key:"f929d033d0a67ea654cb306bb5c175860f935af3",icon:this.iconPack.download})),H("div",{key:"238b4f2a4b47ef5d7f58d1e767cb409476073950",class:"file-data"},H("div",{key:"a7497d08623ef878d05c91d02114dbe3b1e5ac9d",class:"name"},this.name),H("div",{key:"3d361ca77f97b4f5d55ffa14173fb6be5e961140",class:"file-data-split"},H("div",{key:"d793ed396da5455431ca9a8937683a559531b575",class:"ext"},wd(this.name)),H("span",{key:"098df4e883f1dfb51e6d4274ca6761f6ad5467a7",class:"divider"}),H("div",{key:"f11132ba5caa159139a94edb1213904b51886a7d",class:"size"},xd(this.size)))))}};!function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);r>3&&n&&Object.defineProperty(t,i,n)}([ni()],_d.prototype,"iconPack",void 0),_d.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.file{display:flex;align-items:center;gap:var(--dyte-space-1, 4px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);padding-top:var(--dyte-space-1, 4px);padding-bottom:var(--dyte-space-1, 4px);min-width:var(--dyte-space-40, 160px);max-width:var(--dyte-space-64, 256px);border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}.file .file-data{margin-left:var(--dyte-space-1, 4px);flex:1 1 0%}.file .file-data .name{word-break:break-all;color:rgb(var(--dyte-colors-text-1000, 255 255 255));overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.file .file-data .file-data-split{margin-top:var(--dyte-space-0\\.5, 2px);display:flex;align-items:center;font-size:12px}.file .file-data .file-data-split .ext{margin-right:var(--dyte-space-2, 8px);text-transform:uppercase;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.file .file-data .file-data-split .divider{height:var(--dyte-space-4, 16px);width:var(--dyte-space-0\\.5, 2px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.file .file-data .file-data-split .size{margin-left:var(--dyte-space-2, 8px)}";var Pd=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Ld=class{constructor(e){c(this,e),this.onFileChange=Q(this,"fileChange",7),this.icon="attach",this.iconPack=Kt,this.t=Zt(),this.uploadFile=()=>{const e=this.fileInputField;e.type="file",this.filter&&(e.accept=this.filter),e.onchange=e=>{const{validity:t,files:[i]}=e.target;t.valid&&this.onFileChange.emit(i)},e.click()}}connectedCallback(){this.fileInputField=document.createElement("input")}disconnectedCallback(){this.fileInputField=void 0}render(){const e=this.label||this.t("chat.send_file"),t=this.iconPack[this.icon];return H("dyte-tooltip",{key:"334c14777babe9de198038dd3b37926176d1a08a",label:e},H("dyte-button",{key:"0bc4d797c62074d3ffe9531d04c9087b21b16e0f",variant:"ghost",kind:"icon",onClick:()=>this.uploadFile(),title:e},H("dyte-icon",{key:"99066f2ba8c7eb773b1e9d5d9895d340af1d11fe",icon:t})))}};Pd([ni()],Ld.prototype,"iconPack",void 0),Pd([ni()],Ld.prototype,"t",void 0),Ld.style=":host{}";const Ed=e=>{try{return JSON.parse(e)}catch(t){return e}},Td=class{constructor(e){c(this,e),this.variant="primary",this.size="lg"}render(){return H(G,{key:"7c30027e6133e5ec64063771c08d37a75b5435bd"},H("div",{key:"74cf660575c383f53e38ba4688612bc69dbe9b34",class:"icon-wrapper",innerHTML:Ed(this.icon),part:"wrapper"}))}};!function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);r>3&&n&&Object.defineProperty(t,i,n)}([ni()],Td.prototype,"size",void 0),Td.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block;height:var(--dyte-space-10, 40px);outline:2px solid transparent;outline-offset:2px}:host .icon-wrapper{display:flex;height:100%;width:100%;flex-direction:column;align-items:center}:host svg{height:100%;width:100%;outline:2px solid transparent;outline-offset:2px}:host([size='xl']){box-sizing:border-box;display:block;height:var(--dyte-space-16, 64px) !important;width:var(--dyte-space-16, 64px) !important;--dyte-spinner-color:currentColor}:host([size='md']){box-sizing:border-box;display:block;height:var(--dyte-space-6, 24px) !important;width:var(--dyte-space-6, 24px) !important;--dyte-spinner-color:currentColor}:host([size='sm']){box-sizing:border-box;display:block;height:var(--dyte-space-4, 16px) !important;width:var(--dyte-space-4, 16px) !important;--dyte-spinner-color:currentColor}:host([variant='secondary']) .icon-wrapper{--tw-text-opacity:1;color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-text-opacity))}:host([variant='danger']) .icon-wrapper{--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}";var Ad=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Rd=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.now=new Date,this.isContinued=!1,this.iconPack=Kt,this.t=Zt(),this.showBubble=!1,this.status="loading"}render(){return H(G,{key:"fa9c168429dd5f92a542b7ca092dd4cc805743bd"},!this.isContinued&&H(oa,{key:"dfd15b9192fc7198fef6c4b5f2964a83d912e53d",name:this.message.displayName,time:this.message.time,now:this.now}),H("div",{key:"cefee5d9928f506c9ff758c858cc53c12827ff35",class:{body:!0,bubble:this.showBubble},part:"body"},H("div",{key:"643e1d4703eac657c73467d0791307fba8aedcd8",class:{image:!0,loaded:"loaded"===this.status}},H("img",{key:"4453724021e1f2c83221cde8aebff82aceaf2e16",src:ci(this.message.link),onLoad:()=>{this.status="loaded"},onError:()=>{this.status="errored"},onClick:()=>{"loaded"===this.status&&this.stateUpdate.emit({image:this.message})}}),"loading"===this.status&&H("div",{key:"ee3cf0052083e8468c9aed66fb8716e541424c5a",class:"image-spinner",title:this.t("chat.img.loading"),"aria-label":this.t("chat.img.loading")},H("dyte-spinner",{key:"a1e1563ab6269ce75dc319c6896d609b45fbd76e",iconPack:this.iconPack})),"errored"===this.status&&H("div",{key:"9a17301d149d6aa957408592ba5ea004f204c638",class:"image-errored",title:this.t("chat.error.img_not_found"),"aria-label":this.t("chat.error.img_not_found")},H("dyte-icon",{key:"ee5672f1c3708329f9d6a299c8186d9383b6c963",icon:this.iconPack.image_off})),"loaded"===this.status&&H("div",{key:"6b15f2e58846b2d3bbdb706c939d6c0e174ef45b",class:"actions"},H("dyte-button",{key:"b4c0904c8b31f2e8e0fed72d8147e106827ca8b8",class:"action",variant:"secondary",kind:"icon",onClick:()=>{this.stateUpdate.emit({image:this.message})}},H("dyte-icon",{key:"4745d25ee35fe6ce31f7cf037a6e6b6da07c7047",icon:this.iconPack.full_screen_maximize})),H("dyte-button",{key:"51d687441df970faf55c745bdbb39186188e2da0",class:"action",variant:"secondary",kind:"icon",onClick:()=>kd(this.message.link,{fallbackName:"image"})},H("dyte-icon",{key:"cd488683796615bc0dd3c622338bf5949c0af89e",icon:this.iconPack.download}))))))}};Ad([ni()],Rd.prototype,"iconPack",void 0),Ad([ni()],Rd.prototype,"t",void 0),Rd.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.image-spinner{cursor:wait}.image-errored{cursor:not-allowed}";var Md=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Dd=class{constructor(e){c(this,e),this.onPreview=Q(this,"preview",7),this.iconPack=Kt,this.t=Zt(),this.status="loading"}render(){return H("div",{key:"4ab60c036ede1e5ff46471a978c68e5eafa615d3",class:{image:!0,loaded:"loaded"===this.status}},H("img",{key:"2eed0ef93098727817592425da81ff2357c60f72",src:ci(this.url),onLoad:()=>{this.status="loaded"},onError:()=>{this.status="errored"},onClick:()=>{"loaded"===this.status&&this.onPreview.emit(this.url)}}),"loading"===this.status&&H("div",{key:"13efea611d39c5eb679d7cf5603dec9f95edc775",class:"image-spinner",title:this.t("chat.img.loading"),"aria-label":this.t("chat.img.loading")},H("dyte-spinner",{key:"afc0eb62f76007c1a15da942fb53fe79ee4aa37f",iconPack:this.iconPack})),"errored"===this.status&&H("div",{key:"c7aa254df37a2eaacb29f94ef22c2f7c056114ad",class:"image-errored",title:this.t("chat.error.img_not_found"),"aria-label":this.t("chat.error.img_not_found")},H("dyte-icon",{key:"873385f922410dd9c86192326c0470e2d310e08d",icon:this.iconPack.image_off})),"loaded"===this.status&&H("div",{key:"70a59be0b7b21af1a440ba8165cc2e55c249323d",class:"actions"},H("dyte-button",{key:"62801cc02ea09562a895e983f62e5e3271e89039",class:"action",variant:"secondary",kind:"icon",onClick:()=>{this.onPreview.emit(this.url)}},H("dyte-icon",{key:"60d0fdacecec31d24af48016dc2f58d95aaa71f2",icon:this.iconPack.full_screen_maximize})),H("dyte-button",{key:"adacc2b4023f5acc00e4b39304312593d7e74d62",class:"action",variant:"secondary",kind:"icon",onClick:()=>kd(this.url,{fallbackName:"image"})},H("dyte-icon",{key:"5a455e504d1db35dcf8564458425dafd200129a3",icon:this.iconPack.download}))))}};Md([ni()],Dd.prototype,"iconPack",void 0),Md([ni()],Dd.prototype,"t",void 0),Dd.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.image-spinner{cursor:wait}.image-errored{cursor:not-allowed}.image{display:block;font-family:var(--dyte-font-family, sans-serif);color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));position:relative;height:var(--dyte-space-40, 160px);max-width:var(--dyte-space-64, 256px);cursor:pointer}.image img{display:none;height:100%;width:100%;border-radius:var(--dyte-border-radius-sm, 4px);-o-object-fit:cover;object-fit:cover}.image .image-spinner{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.image .image-spinner dyte-spinner{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-text-opacity))}.image .image-errored{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;border-radius:var(--dyte-border-radius-sm, 4px);background-color:rgba(var(--dyte-colors-danger, 255 45 45) / 0.1);--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}.image .actions{display:none;height:var(--dyte-space-8, 32px);align-items:center;position:absolute;top:var(--dyte-space-2, 8px);right:var(--dyte-space-2, 8px);border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));overflow:hidden;--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.image .actions .action{height:var(--dyte-space-8, 32px);width:var(--dyte-space-8, 32px);border-radius:var(--dyte-border-radius-none, 0);border-width:var(--dyte-border-width-none, 0);border-style:none;background-color:transparent;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.image .actions .action:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.image.loaded img{display:block}.image.loaded .image-spinner{display:none}.image:hover .actions,.image:focus .actions{display:flex}";var Id=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Od=class{constructor(e){c(this,e),this.close=Q(this,"close",7),this.t=Zt(),this.iconPack=Kt,this.keypressListener=e=>{"Escape"===e.key&&this.close.emit()},this.handleOutsideClick=()=>this.close.emit()}connectedCallback(){document.addEventListener("keydown",this.keypressListener),document.addEventListener("click",this.handleOutsideClick)}disconnectedCallback(){document.removeEventListener("keydown",this.keypressListener),document.removeEventListener("click",this.handleOutsideClick)}render(){return H(G,{key:"2491b39127e06ed796c380216cab38773f36209a",class:"scrollbar",onClick:e=>e.stopPropagation()},H("div",{key:"27dac52e6465f3e9dbfd415bcc1f34c6c1596635",class:"header"},H("div",{key:"7e9dab9f453cbc1bb7cd6cb2bab297bf671ca7d1",class:"shared-by-user"},this.t("chat.img.shared_by")," ",H("span",{key:"3ef88112f23a713d229b55d3bbc07cde28f5c461",class:"displayName"},li(oi(this.image.displayName)))),H("div",{key:"15a34a4d4b095ff64acd4682e7b5c8b8c85e8ca3",class:"actions"},H("dyte-button",{key:"88195fbcf9286c332d460e787ec378944779db1b",onClick:()=>kd(this.image.link,{fallbackName:"image"})},H("dyte-icon",{key:"867a85747399a09446c0fde37738a898b999782d",icon:this.iconPack.download,slot:"start"}),"Download"),H("dyte-button",{key:"21a3c92ac5c52cd64911a3bbe115c5d7b0cf3397",kind:"icon",variant:"secondary",onClick:()=>this.close.emit()},H("dyte-icon",{key:"84d6450e7669cf9155c4cd2bb3be3d5f726033dc",icon:this.iconPack.dismiss})))),H("div",{key:"8db9e6e84b7836f089a6a98068c26dbfafd73529",class:"image-ctr"},H("img",{key:"200e0b6906bed300a4514b3b1baac10645803202",src:this.image.link})))}};Id([ni()],Od.prototype,"size",void 0),Id([ni()],Od.prototype,"t",void 0),Id([ni()],Od.prototype,"iconPack",void 0),Od.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{width:1140px;max-width:100%;box-sizing:border-box;display:flex;flex-direction:column;padding:var(--dyte-space-6, 24px);padding-top:var(--dyte-space-5, 20px);overflow-y:auto;color:rgb(var(--dyte-colors-text-1000, 255 255 255));z-index:40;border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity))}.displayName{font-weight:700}.image-ctr{margin-top:var(--dyte-space-2, 8px);box-sizing:border-box;display:flex;justify-content:center;overflow:hidden}.actions{display:flex;align-items:center;justify-content:flex-end;gap:var(--dyte-space-2, 8px)}img{box-sizing:border-box;display:block;max-height:100%;max-width:100%;-o-object-fit:contain;object-fit:contain}.header{display:flex;align-items:center;justify-content:space-between;padding-bottom:var(--dyte-space-4, 16px)}.shared-by-user{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}:host([size='sm']) .header{flex-direction:column}:host([size='sm']) .header .actions{margin-top:var(--dyte-space-4, 16px)}";var $d=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Ud=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.joinStage=Q(this,"dyteJoinStage",7),this.leaveStage=Q(this,"dyteLeaveStage",7),this.config=zt,this.iconPack=Kt,this.t=Zt(),this.dataConfig={title:this.t("stage.join_title"),label:{accept:this.t("stage.join_confirm"),reject:this.t("stage.join_cancel")},description:this.t("stage.join_summary")},this.isLoading=!1}render(){var e,t;const i={meeting:this.meeting,size:this.size,states:this.states,config:this.config,iconPack:this.iconPack,t:this.t};return H(G,{key:"4fc08232560ec90d3cc13efaf69d7be2b7083c84",class:{stage:!0}},H("header",{key:"670578993c90490fb5184d710bbdee77218f0ae4"},H("h2",{key:"ea7574fa697829772e2840cf730536e6a2974e86"},this.dataConfig.title)),H(pa,{key:"25136ca653e3bf08f45628c18ec4885fc5bca31f",element:"dyte-participant-setup",defaults:i,props:{participant:null===(e=this.meeting)||void 0===e?void 0:e.self,size:"md"},childProps:{participant:null===(t=this.meeting)||void 0===t?void 0:t.self,size:"md"},deepProps:!0}),H("div",{key:"06fdd1149e50508c662781aae6e5a7a6e5c786bd",class:"summary"},this.dataConfig.description),H("div",{key:"fbd5720696f7c415be96410b1d948c909c41ae36",class:"container"},H("dyte-button",{key:"f81130f39cca1c774d0bf2bfb0b2b30d88758cbd",variant:"secondary",onClick:()=>this.leaveStage.emit(),title:this.dataConfig.label.reject},this.dataConfig.label.reject),H("dyte-button",{key:"53dd411070bcde6b0c933855a7530e129d0c6b1c",onClick:()=>{this.isLoading||(this.isLoading=!0,this.joinStage.emit())},title:this.dataConfig.label.accept},this.isLoading?H("dyte-icon",{icon:this.iconPack.spinner}):this.dataConfig.label.accept)))}};$d([ni()],Ud.prototype,"meeting",void 0),$d([ni()],Ud.prototype,"states",void 0),$d([ni()],Ud.prototype,"size",void 0),$d([ni()],Ud.prototype,"iconPack",void 0),$d([ni()],Ud.prototype,"t",void 0),Ud.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host::-webkit-scrollbar{width:var(--dyte-space-1\\.5, 6px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}:host::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}:host(.stage){box-sizing:border-box;display:block;width:512px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));padding:var(--dyte-space-6, 24px);-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:auto;border-radius:var(--dyte-border-radius-md, 8px);line-height:1.25}:host(.stage) dyte-participant-setup{display:flex;flex:1 1 0%;align-items:center;justify-content:space-around;margin-left:auto;margin-right:auto}:host(.stage) .container dyte-button{flex-grow:1;padding:var(--dyte-space-1, 4px);width:50%}:host(.stage) .container dyte-button:nth-child(1){margin-right:var(--dyte-space-1\\.5, 6px)}:host(.stage) .container dyte-button:nth-child(2){margin-left:var(--dyte-space-1\\.5, 6px)}:host(.stage) h2{font-size:24px;font-weight:500;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}:host(.stage) header{padding-left:var(--dyte-space-4, 16px);padding-right:var(--dyte-space-4, 16px)}:host(.stage) .summary{padding:var(--dyte-space-4, 16px)}.deny-access{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}.container{width:100%;max-width:1080px;display:flex;flex:1 1 0%;align-items:center;justify-content:space-around}header{display:flex;align-items:center;justify-content:space-between}";var jd=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Fd=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.keyPressListener=e=>{"Escape"===e.key&&this.close()},this.iconPack=Kt,this.t=Zt(),this.canEndMeeting=!1,this.isBreakoutRoomsActive=!1,this.isChildMeeting=!1,this.canJoinMainRoom=!1,this.permissionsUpdateListener=()=>{this.canEndMeeting=this.meeting.self.permissions.kickParticipant,this.canJoinMainRoom=this.meeting.self.permissions.connectedMeetings.canSwitchToParentMeeting},this.close=()=>{this.stateUpdate.emit({activeLeaveConfirmation:!1})},this.handleLeave=()=>{var e;null===(e=this.meeting)||void 0===e||e.leaveRoom(),this.close()},this.handleJoinMainRoom=()=>{this.meeting.connectedMeetings.moveParticipants(this.meeting.meta.meetingId,this.meeting.connectedMeetings.parentMeeting.id,[this.meeting.self.userId]),this.close()},this.handleEndMeeting=()=>{var e;null===(e=this.meeting)||void 0===e||e.participants.kickAll(),this.close()}}connectedCallback(){this.meetingChanged(this.meeting),document.addEventListener("keydown",this.keyPressListener)}disconnectedCallback(){var e;document.removeEventListener("keydown",this.keyPressListener),null===(e=this.meeting)||void 0===e||e.self.permissions.removeListener("permissionsUpdate",this.permissionsUpdateListener)}meetingChanged(e){null!=e&&(this.isBreakoutRoomsActive=this.meeting.connectedMeetings.supportsConnectedMeetings&&this.meeting.connectedMeetings.isActive,this.isChildMeeting=this.meeting.connectedMeetings.supportsConnectedMeetings&&this.meeting.connectedMeetings.meetings.some((t=>t.id===e.meta.meetingId)),this.meeting.self.permissions.addListener("permissionsUpdate",this.permissionsUpdateListener),this.permissionsUpdateListener())}render(){return H(G,{key:"c5753a8ebb2736da351d10529f002fc53f71cf6e"},H("div",{key:"1d08a38e0f9036a77981a6d48154e795b456c1fe",class:"leave-modal"},H("div",{key:"be3b122e0d37cab7898ce22c77885084fdc71a37",class:"header"},H("h2",{key:"57f69bc17c5d9ab5a246eb5e35651cd191993a2f",class:"title"},this.t("leave"))),H("p",{key:"be794688b2d9ab0039e0b34673ba2cfd384195a8",class:"message"},this.isBreakoutRoomsActive&&this.isChildMeeting?this.t("breakout_rooms.leave_confirmation"):this.t("leave_confirmation")),H("div",{key:"757a3aa9203f57b24fa9c1176a2d34b3106695e0",class:"content"},H("dyte-button",{key:"b5b39f76686aea039ff7cb3225e4948104386210",variant:"secondary",onClick:this.close,class:"secondary-btn"},this.t("cancel")),this.isBreakoutRoomsActive&&this.isChildMeeting&&this.canJoinMainRoom&&H("dyte-button",{key:"6a816c70fd6846a5da006e244074d7e72d9ce05c",variant:"secondary",onClick:this.handleJoinMainRoom,class:"secondary-btn"},this.t("breakout_rooms.leave_confirmation.main_room_btn")),H("dyte-button",{key:"7a978e721f7f1630fd21fff21210705fb4cbd37c",variant:this.canEndMeeting?"secondary":"danger",title:this.t("leave"),onClick:this.handleLeave,class:{"secondary-btn":this.canEndMeeting,"secondary-danger-btn":this.canEndMeeting}},this.t("leave")),this.canEndMeeting&&H("dyte-button",{key:"d204e9b3f2019e2352b0f5b5689ca37727d08f94",variant:"danger",onClick:this.handleEndMeeting},this.t("end.all")))))}static get watchers(){return{meeting:["meetingChanged"]}}};jd([ni()],Fd.prototype,"meeting",void 0),jd([ni()],Fd.prototype,"states",void 0),jd([ni()],Fd.prototype,"iconPack",void 0),jd([ni()],Fd.prototype,"t",void 0),Fd.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.leave-modal{width:var(--dyte-space-72, 288px)}@media (min-width: 768px){.leave-modal{width:var(--dyte-space-96, 384px)}}.leave-modal{position:relative;display:flex;flex-direction:column;border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));padding:var(--dyte-space-8, 32px);color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.leave-modal .header h2{margin:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-3, 12px)}.leave-modal .message{color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}.leave-modal .content{margin-top:var(--dyte-space-4, 16px);font-size:14px;display:flex;flex-wrap:wrap;gap:var(--dyte-space-4, 16px)}.leave-modal .content dyte-button{height:var(--dyte-space-9, 36px);min-width:var(--dyte-space-44, 176px);flex-grow:1}.leave-modal .content .secondary-btn{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.leave-modal .content .secondary-btn:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.leave-modal .content .secondary-danger-btn{--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}";var Nd=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const zd=class{constructor(e){c(this,e),this.config=zt,this.t=Zt()}connectedCallback(){this.configChanged(this.config),this.meetingChanged(this.meeting)}configChanged(e){var t;if(null!=e){const i=null===(t=null==e?void 0:e.designTokens)||void 0===t?void 0:t.logo;null!=i&&null==this.logoUrl&&(this.logoUrl=i)}}meetingChanged(e){var t,i,a,s;if(null!=e){const r=null===(s=null===(a=null===(i=null===(t=e.self)||void 0===t?void 0:t.config)||void 0===i?void 0:i.header)||void 0===a?void 0:a.elements)||void 0===s?void 0:s.logo;null!=r&&null==this.logoUrl&&(this.logoUrl=r)}}render(){if(!this.logoUrl||""===this.logoUrl)return null;const e=this.logoUrl,t=this.t("logo");return H(G,{class:"loaded"},H("img",{src:e,alt:t}))}static get watchers(){return{config:["configChanged"],meeting:["meetingChanged"]}}};Nd([ni()],zd.prototype,"meeting",void 0),Nd([ni()],zd.prototype,"t",void 0),zd.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;flex-direction:column;align-items:center;justify-content:center;color:rgb(var(--dyte-colors-text-1000, 255 255 255));height:100%;width:auto}svg,img{height:100%;width:auto}.brand-color{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-text-opacity))}";const Bd=class{constructor(e){c(this,e),this.maxLength=ea,this.restoreEmpty=(e,t,i)=>0===e.trim().length?`${t}${e}${t}`:i(e),this.renderLink=e=>H("a",{class:"link",href:e,target:"_blank",rel:"noopener noreferrer"},e),this.renderBold=e=>"string"==typeof e?this.restoreEmpty(e,"*",(e=>H("b",null,e))):H("b",null,this.renderTokens(e)),this.renderItalic=e=>"string"==typeof e?this.restoreEmpty(e,"_",(e=>H("i",null,e))):H("i",null,this.renderTokens(e)),this.renderStrikethrough=e=>"string"==typeof e?this.restoreEmpty(e,"~",(e=>H("s",null,e))):H("b",null,this.renderTokens(e)),this.renderPlainText=e=>"string"==typeof e?e:H("p",null,this.renderTokens(e)),this.renderTokens=e=>e.map((e=>{switch(e.type){case"a":if("string"==typeof e.content)return this.renderLink(e.content);case"b":return this.renderBold(e.content);case"i":return this.renderItalic(e.content);case"s":return this.renderStrikethrough(e.content);case"q":return H("span",{class:"block-quote"});default:return this.renderPlainText(e.content)}}))}renderMessage(e){let t=e.split("\n"),i=!1;"```"===t[0]&&"```"===t[t.length-1]&&(i=!0,t=t.slice(1,-1));const a=t.map((e=>{const t=ia(e);return H("p",null,this.renderTokens(t))}));return i?H("pre",{style:{whiteSpace:"pre",overflow:"scroll"}},t.join("\n")):a}render(){const e=this.text.slice(0,this.maxLength),t=Ji(e,!0),i=Xi(e);return H("p",{key:"b3115390fc6d21369673cb6c92ba90b7a710173a"},0!==t.length&&H("blockquote",{key:"5aa48ffc60bb71da150b161582b9ab1b1ee59ff7"},this.renderMessage(t)),0!==i.length&&this.renderMessage(i))}};Bd.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{overflow-wrap:break-word}a{color:currentColor}.block-quote,blockquote{margin:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-3, 12px);--tw-border-spacing-x:1px;--tw-border-spacing-y:1px;border-spacing:var(--tw-border-spacing-x) var(--tw-border-spacing-y);border-top-width:var(--dyte-border-width-none, 0);border-bottom-width:var(--dyte-border-width-none, 0);border-left-width:var(--dyte-border-width-md, 2px);border-right-width:var(--dyte-border-width-none, 0);border-style:solid;padding:var(--dyte-space-0\\.5, 2px);padding-left:var(--dyte-space-2, 8px);border-radius:var(--dyte-border-radius-sm, 4px);border-top-left-radius:var(--dyte-border-radius-none, 0);border-bottom-left-radius:var(--dyte-border-radius-none, 0)}pre{white-space:pre-wrap}";var Hd=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Vd=class{constructor(e){c(this,e),this.statesUpdate=Q(this,"dyteStatesUpdate",7),this.roomJoinedListener=()=>{this.updateStates({meeting:"joined"})},this.waitlistedListener=()=>{this.updateStates({meeting:"waiting"})},this.roomLeftListener=({state:e})=>{"disconnected"!==e&&"failed"!==e&&this.updateStates({meeting:"ended",roomLeftState:e})},this.mediaPermissionUpdateListener=({kind:e,message:t})=>{if(["audio","video"].includes(e)&&("DENIED"===t||"SYSTEM_DENIED"===t)&&!0!==ri.states.activeDebugger){const t={enabled:!0,kind:e};this.updateStates({activePermissionsMessage:t})}},this.socketConnectionUpdateListener=({state:e})=>{"failed"===e&&setTimeout((()=>{this.meeting.leave("disconnected")}),this.leaveRoomTimer)},this.loadConfigFromPreset=!1,this.applyDesignSystem=!1,this.mode="fixed",this.leaveOnUnmount=!1,this.t=Zt(),this.config=zt,this.gridLayout="row",this.iconPack=Kt}connectedCallback(){var e;"undefined"!=typeof window&&(this.authErrorListener=e=>{e.detail.message.includes("401")&&this.updateStates({meeting:"ended",roomLeftState:"unauthorized"})},window.addEventListener("dyteError",this.authErrorListener)),this.leaveRoomTimer=1e4,this.loadConfigFromPreset=!0,this.applyDesignSystem=!0,this.resizeObserver=new jr((()=>this.handleResize())),this.resizeObserver.observe(this.host),this.applyDesignSystem&&null!=(null===(e=this.config)||void 0===e?void 0:e.designTokens)&&"undefined"!=typeof document&&zs(document.documentElement,this.config.designTokens),this.meetingChanged(this.meeting)}clearListeners(e){e&&(e.self.removeListener("roomLeft",this.roomLeftListener),e.self.removeListener("roomJoined",this.roomJoinedListener),e.self.removeListener("waitlisted",this.waitlistedListener),e.self.removeListener("mediaPermissionUpdate",this.mediaPermissionUpdateListener),e.meta.removeListener("socketConnectionUpdate",this.socketConnectionUpdateListener))}disconnectedCallback(){var e;this.leaveOnUnmount&&(null===(e=this.meeting)||void 0===e||e.leaveRoom()),this.resizeObserver.disconnect(),this.clearListeners(this.meeting),window.removeEventListener("dyteError",this.authErrorListener)}meetingChanged(e){var t,i;if(e){if(this.updateStates({viewType:e.meta.viewType}),this.loadConfigFromPreset&&null!=e.self.config){const i=e.self.config,{config:a,data:s}=gr(i,e);this.config===zt&&(this.config=a),null==this.showSetupScreen&&(this.showSetupScreen=s.showSetupScreen),e.connectedMeetings.supportsConnectedMeetings&&(null===(t=ri.states.activeBreakoutRoomsManager)||void 0===t?void 0:t.destinationMeetingId)&&(this.showSetupScreen=!1)}this.applyDesignSystem&&null!=(null===(i=this.config)||void 0===i?void 0:i.designTokens)&&"undefined"!=typeof document&&zs(document.documentElement,this.config.designTokens),e.self.addListener("roomJoined",this.roomJoinedListener),e.self.addListener("waitlisted",this.waitlistedListener),e.self.addListener("roomLeft",this.roomLeftListener),e.self.addListener("mediaPermissionUpdate",this.mediaPermissionUpdateListener),e.meta.addListener("socketConnectionUpdate",this.socketConnectionUpdateListener),e.connectedMeetings.supportsConnectedMeetings&&e.connectedMeetings.once("changingMeeting",this.handleChangingMeeting),e.self.roomJoined?this.updateStates({meeting:"joined"}):this.showSetupScreen?this.updateStates({meeting:"setup"}):e.joinRoom(),window.removeEventListener("dyteError",this.authErrorListener)}}listenState(e){this.updateStates(e.detail)}handleChangingMeeting(e){this.updateStates({activeBreakoutRoomsManager:Object.assign(Object.assign({},ri.states.activeBreakoutRoomsManager),{destinationMeetingId:e})})}handleResize(){this.size=mr(this.host.clientWidth)}updateStates(e){const t=Object.assign({},ri.states);ri.states=pr(t,e),this.statesUpdate.emit(ri.states)}render(){const e={meeting:this.meeting,size:this.size,states:ri.states,config:this.config,iconPack:this.iconPack,t:this.t};if("CHAT"===ri.states.viewType)return H("dyte-chat",Object.assign({},e));const t={"dyte-grid":{layout:this.gridLayout}};return H(pa,{element:"dyte-meeting",defaults:e,asHost:!0,elementProps:t})}get host(){return Y(this)}static get watchers(){return{meeting:["meetingChanged"]}}};Hd([ni()],Vd.prototype,"meeting",void 0),Hd([ni()],Vd.prototype,"t",void 0),Hd([ni()],Vd.prototype,"iconPack",void 0),Vd.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{box-sizing:border-box;display:flex;flex-direction:column;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));overflow:hidden;position:fixed;top:var(--dyte-space-0, 0px);right:var(--dyte-space-0, 0px);bottom:var(--dyte-space-0, 0px);left:var(--dyte-space-0, 0px);height:100%;width:100%}:host([mode='fill']){position:relative}";var Gd=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const qd=class{constructor(e){c(this,e),this.clickedThis=!1,this.placement="bottom-end",this.offset=10,this.iconPack=Kt,this.t=Zt(),this.handleOutsideClick=()=>{this.clickedThis||(this.menuListEl.style.display="none"),this.clickedThis=!1}}componentDidLoad(){document.addEventListener("click",this.handleOutsideClick),this.update()}disconnectedCallback(){document.removeEventListener("click",this.handleOutsideClick)}update(){Xn(this.triggerEl,this.menuListEl,{placement:this.placement,middleware:[Zn(this.offset),Yn(),Wn({padding:5})]}).then((({x:e,y:t})=>{Object.assign(this.menuListEl.style,{left:`${e}px`,top:`${t}px`})}))}render(){return H(G,{key:"8fce9cdf74c107e0438f30cd2c1ed33b5eb0570e"},H("span",{key:"bfe2fcfcac4f87a60cc2762d758c34e42c1ab653",id:"trigger",ref:e=>this.triggerEl=e,onClick:()=>{this.clickedThis=!0,"block"!==this.menuListEl.style.display?(this.menuListEl.style.display="block",this.update()):this.menuListEl.style.display="none"}},H("slot",{key:"09c4699c881002da8ffaab3cfef27e06d8ceae60",name:"trigger"})),H("span",{key:"1feae9bc99d7379471552ea2ea8a39c795259826",part:"menu-list",id:"menu-list",ref:e=>this.menuListEl=e},H("slot",{key:"01cc566916d96fb30a0845b975431c9202a20ebb"})))}};Gd([ni()],qd.prototype,"size",void 0),Gd([ni()],qd.prototype,"iconPack",void 0),Gd([ni()],qd.prototype,"t",void 0),qd.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{position:relative;display:inline-block;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}#menu-list{position:absolute;z-index:20;display:none}";var Zd=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Kd=class{constructor(e){c(this,e),this.iconPack=Kt,this.t=Zt()}render(){return H(G,{key:"2e3a7e78987d9544820b74e2c83e8cd2c1b38e0b"},H("slot",{key:"be5768e5d7ec85f4d9e5c7fc43d3edd612f518c7",name:"start"}),H("slot",{key:"ce236f02c727fb4e42ee8cae25bc7bf00479be01"}),H("slot",{key:"92a2fb4f3a5fa3f03c396a1483b1eabfa83235e7",name:"end"}))}};Zd([ni()],Kd.prototype,"size",void 0),Zd([ni()],Kd.prototype,"iconPack",void 0),Zd([ni()],Kd.prototype,"t",void 0),Kd.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;align-items:center;padding-left:var(--dyte-space-3, 12px);padding-right:var(--dyte-space-3, 12px);padding-top:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-2, 8px);cursor:pointer;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms;color:rgb(var(--dyte-colors-text-1000, 255 255 255));font-size:14px}::slotted([slot='start']){margin-right:var(--dyte-space-2, 8px)}::slotted([slot='end']){margin-left:var(--dyte-space-2, 8px)}:host(:hover){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}:host(.red){--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}";var Wd=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Yd=class{constructor(e){c(this,e),this.iconPack=Kt,this.t=Zt()}render(){return H(G,{key:"9aecbc06a89da8a7ea5ac9f5f8f47ad21ec389e8"},H("slot",{key:"3dfd067eec2d74e5e3751942b73f72fc2c6272cb"}))}};Wd([ni()],Yd.prototype,"iconPack",void 0),Wd([ni()],Yd.prototype,"t",void 0),Yd.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;width:-moz-max-content;width:max-content;flex-direction:column;padding-top:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-2, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));overflow:hidden;border-radius:var(--dyte-border-radius-sm, 4px);--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}";const Qd=class{constructor(e){c(this,e),this.onAction=Q(this,"action",7),this.actions=[],this.variant="bubble",this.viewType="outgoing",this.hideAvatar=!1,this.hideAuthorName=!1,this.hideMetadata=!1,this.iconPack=Kt}renderActions(){return H("dyte-menu",{placement:"top-end",offset:1},H("button",{slot:"trigger",class:"actions"},H("dyte-icon",{icon:this.iconPack.chevron_down})),H("dyte-menu-list",null,this.actions.map((e=>H("dyte-menu-item",{onClick:()=>this.onAction.emit(e.id)},e.icon&&H("dyte-icon",{icon:e.icon,slot:"start"}),e.label)))))}render(){return H(G,{key:"2a443309dfcb77b650bf1378ec13f77f2bf01593"},H("div",{key:"989baadfe7e60a3888be667fa0984c97c5a0f597",class:{"message-wrapper":!0,[this.viewType]:!0}},!this.hideAvatar&&H("aside",{key:"2513cf0da43268c39efd3a84c74aab3ec5adc85d",class:"avatar",part:"avatar"},H("dyte-avatar",{key:"18b94987038b10c30393a97f30025f31fe25c411",participant:{name:this.authorName,picture:this.avatarUrl},size:"sm"})),H("div",{key:"f88598f9114ef02ce5f8daa62a09220f0752ba79",class:"message",part:"message"},!this.hideAuthorName&&H("div",{key:"aaa59e19099a9c7d239e3f53b9017f257fe23165",class:"header"},this.authorName),H("div",{key:"4fe21121b123a49f30500ff488f12caa8a376c17",class:{body:!0,bubble:"bubble"===this.variant}},H("slot",{key:"4e8c4c9fa533cd920890648535fdb4203d320027"}),!this.hideMetadata&&!!this.time&&H("div",{key:"2612946059903647ac4172157cef2626e45c5dc7",class:"metadata",title:na(this.time)},ra(this.time,new Date(Date.now()))),0!==this.actions.length&&this.renderActions()))))}};!function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);r>3&&n&&Object.defineProperty(t,i,n)}([ni()],Qd.prototype,"iconPack",void 0),Qd.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}.message-wrapper{display:flex;flex-direction:row-reverse;gap:var(--dyte-space-2, 8px)}.message-wrapper.incoming{flex-direction:row}.message{display:flex;flex-direction:column}.header{margin-bottom:var(--dyte-space-1, 4px);align-self:flex-end;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));font-size:14px;font-weight:600}.incoming .header{align-self:flex-start}.body{display:flex;flex-direction:column;min-width:var(--dyte-space-24, 96px);font-family:var(--dyte-font-family, sans-serif);color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));font-size:14px;line-height:1.375;position:relative}.body .metadata{margin-top:var(--dyte-space-2, 8px);align-self:flex-end;font-size:10px}.bubble{max-width:var(--dyte-space-96, 384px);padding:var(--dyte-space-2, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));border-radius:var(--dyte-border-radius-md, 8px)}.incoming .bubble{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}.avatar{display:none}dyte-menu{position:absolute;right:var(--dyte-space-0, 0px);top:var(--dyte-space-0, 0px);border-radius:var(--dyte-border-radius-lg, 12px)}dyte-menu dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);cursor:pointer}.actions{display:flex;align-items:center;justify-content:center;padding-left:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-2, 8px);padding-top:var(--dyte-space-1, 4px);padding-right:var(--dyte-space-1, 4px);border-radius:var(--dyte-border-radius-md, 8px);border-width:var(--dyte-border-width-none, 0);border-style:none;background:radial-gradient(\n    at top right,\n    rgb(var(--dyte-colors-brand-300, 73 124 253)) 60%,\n    rgba(255, 255, 255, 0) 80%\n  )}.actions dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}.incoming .actions{background:radial-gradient(\n      at top right,\n      rgb(var(--dyte-colors-background-800, 30 30 30)) 60%,\n      rgba(255, 255, 255, 0) 80%\n    )}.incoming .actions dyte-icon{color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}.incoming dyte-avatar{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}@media (min-width: 400px){.avatar{display:flex;width:var(--dyte-space-6, 24px)}.avatar dyte-avatar{height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px);font-size:10px;overflow:clip;border-radius:9999px}}@media (hover: hover){dyte-menu{visibility:hidden}.body:hover dyte-menu{visibility:visible}}";var Jd=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Xd=class{constructor(e){c(this,e),this.iconPack=Kt,this.variant="full",this.t=Zt(),this.audioinputDevices=[],this.canProduceAudio=!0,this.currentDevices={audio:void 0},this.stageStateListener=()=>{this.canProduceAudio="ALLOWED"===this.meeting.self.permissions.canProduceAudio},this.deviceListUpdateListener=async()=>{const e=await this.meeting.self.getAudioDevices();this.audioinputDevices=e},this.deviceUpdateListener=({device:e})=>{"audioinput"===e.kind&&(this.currentDevices={audio:e})},this.mediaPermissionUpdateListener=async({kind:e,message:t})=>{this.meeting&&"audio"===e&&"ACCEPTED"===t&&(this.audioinputDevices=await this.meeting.self.getAudioDevices())}}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){var e,t,i,a,s;null===(t=null===(e=this.meeting)||void 0===e?void 0:e.stage)||void 0===t||t.removeListener("stageStatusUpdate",this.stageStateListener),null===(i=this.meeting)||void 0===i||i.self.removeListener("deviceListUpdate",this.deviceListUpdateListener),null===(a=this.meeting)||void 0===a||a.self.removeListener("deviceUpdate",this.deviceUpdateListener),null===(s=this.meeting)||void 0===s||s.self.removeListener("mediaPermissionUpdate",this.mediaPermissionUpdateListener)}meetingChanged(e){null!=e&&L((async()=>{var t,i;const{self:a,stage:s}=e,r=await e.self.getAudioDevices(),n=null===(t=e.self.getCurrentDevices())||void 0===t?void 0:t.audio;this.currentDevices={audio:n},this.canProduceAudio="ALLOWED"===this.meeting.self.permissions.canProduceAudio,null==s||s.addListener("stageStatusUpdate",this.stageStateListener),a.addListener("deviceListUpdate",this.deviceListUpdateListener),a.addListener("deviceUpdate",this.deviceUpdateListener),a.addListener("mediaPermissionUpdate",this.mediaPermissionUpdateListener),this.audioinputDevices=null!=n?[null!==(i=r.find((e=>e.deviceId===n.deviceId)))&&void 0!==i?i:n,...r.filter((e=>e.deviceId!==n.deviceId))]:r}))}setDevice(e){var t;if(mt(this.meeting))return;const i=this.audioinputDevices.find((t=>t.deviceId===e));null!=i&&(this.currentDevices={audio:i},null===(t=this.meeting)||void 0===t||t.self.setDevice(i))}render(){if(null==this.meeting)return null;let e=0;return H(G,null,this.canProduceAudio&&H("div",{part:"microphone-selection",class:"group container "+this.variant},H("label",{slot:"label"},"inline"!==this.variant&&this.t("settings.microphone_input"),H("dyte-icon",{icon:this.iconPack.mic_on,size:"sm"})),H("div",{class:"row"},H("select",{class:"dyte-select",onChange:e=>this.setDevice(e.target.value)},this.audioinputDevices.map((({deviceId:t,label:i})=>{var a;return H("option",{value:t,selected:(null===(a=this.currentDevices.audio)||void 0===a?void 0:a.deviceId)===t},i||"Microphone "+ ++e)}))),H("slot",{name:"indicator"}))))}static get watchers(){return{meeting:["meetingChanged"]}}};Jd([ni()],Xd.prototype,"meeting",void 0),Jd([ni()],Xd.prototype,"size",void 0),Jd([ni()],Xd.prototype,"iconPack",void 0),Jd([ni()],Xd.prototype,"t",void 0),Xd.style=".dyte-select{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.dyte-select:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.dyte-select{display:block;border-radius:var(--dyte-border-radius-sm, 4px);border-width:var(--dyte-border-width-none, 0);border-style:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:var(--dyte-space-3, 12px);font-size:16px;--icon-size:var(--dyte-select-chevron-size, var(--dyte-space-6, 24px));--icon-right-position:var(--dyte-select-chevron-right-position, var(--dyte-space-2, 8px));background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e\");background-position:right var(--icon-right-position) center;background-repeat:no-repeat;background-size:var(--icon-size) var(--icon-size);padding-right:calc(var(--icon-right-position) * 5);width:100%;max-width:100%;text-overflow:ellipsis}.inline .dyte-select{margin-top:var(--dyte-space-1, 4px);width:100%;padding-top:var(--dyte-space-1, 4px);padding-bottom:var(--dyte-space-1, 4px);padding-left:var(--dyte-space-1\\.5, 6px);padding-right:var(--dyte-space-1\\.5, 6px);padding-right:var(--dyte-space-8, 32px);font-size:14px}.row{margin-bottom:var(--dyte-space-2, 8px);display:flex;width:100%;align-items:center;justify-content:space-between;gap:var(--dyte-space-3, 12px)}.group{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px)}.group>*{margin-bottom:var(--dyte-space-2, 8px)}.group>*:last-child{margin-bottom:var(--dyte-space-0, 0px)}.group select{flex:1 1 0%}.inline.group{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-0\\.5, 2px)}.inline.group>*{margin-bottom:var(--dyte-space-0, 0px)}label{display:flex;-webkit-user-select:none;-moz-user-select:none;user-select:none;align-items:center;gap:var(--dyte-space-1, 4px);font-size:14px}.inline.container{display:flex;align-items:center;justify-content:flex-start;gap:var(--dyte-space-2, 8px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px)}";var ec=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const tc=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.iconPack=Kt,this.t=Zt(),this.allowUnmute=!0,this.onClose=()=>{this.stateUpdate.emit({activeMuteAllConfirmation:!1})},this.onMuteAll=()=>{var e;null===(e=this.meeting)||void 0===e||e.participants.disableAllAudio(this.allowUnmute),this.onClose()}}render(){return H(G,{key:"8d447912a33466ac84c7104e3731e67e5d574201"},H("div",{key:"f36495740298c71957ecb4038ea11baa96150427",class:"leave-modal"},H("div",{key:"5c7d23277e2fb5300b4d34800eb62e7a93e431dc",class:"header"},H("h2",{key:"bb08708a5d462763d51228e5368389c848f770b1",class:"title"},this.t("mute_all.header"))),H("p",{key:"34273d1a512336de748ce1de4b498baebd2c7cfb",class:"message"},this.t("mute_all.description")),H("div",{key:"2fae2f55acb20556e3478c5a57c9d3f5d0dae5ab",class:"content"},H("div",{key:"67308bf61bfa8891e0193033779ab4952a95a8e1",class:"leave-meeting"},H("dyte-button",{key:"03835bed6fe212b2d893ebd6c1d1061b6ef548e4",variant:"secondary",title:this.t("close"),onClick:this.onClose},this.t("cancel")),H("dyte-button",{key:"e9f5a1ef27c92446d6955e4898757070d39629ce",variant:"danger",title:this.t("mute_all"),onClick:this.onMuteAll},this.t("mute_all"))))))}};ec([ni()],tc.prototype,"meeting",void 0),ec([ni()],tc.prototype,"states",void 0),ec([ni()],tc.prototype,"iconPack",void 0),ec([ni()],tc.prototype,"t",void 0),tc.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block;-webkit-user-select:none;-moz-user-select:none;user-select:none}.leave-modal{position:relative;display:flex;flex-direction:column;border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));padding:var(--dyte-space-4, 16px);color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.leave-modal .header h2{margin:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-3, 12px)}.leave-modal .content{font-size:14px}.leave-message p{margin-top:var(--dyte-space-3, 12px);margin-bottom:var(--dyte-space-3, 12px)}.leave-meeting{display:flex;flex-direction:row;justify-content:space-between;gap:var(--dyte-space-2, 8px)}.leave-meeting dyte-button{flex:1 1 0%}.end-meeting{margin-top:var(--dyte-space-2, 8px)}.message{margin-bottom:var(--dyte-space-4, 16px)}label{display:flex;align-items:center}input[type='checkbox']{margin-right:var(--dyte-space-2, 8px);accent-color:rgb(var(--dyte-colors-brand-500, 33 96 253))}";var ic=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const ac=class{constructor(e){c(this,e),this.dismiss=Q(this,"dyteNotificationDismiss",7),this.iconPack=Kt,this.t=Zt(),this.imageState="loading"}connectedCallback(){this.notificationChanged(this.notification)}notificationChanged(e){null!=e&&"number"==typeof e.duration&&setTimeout((()=>{this.dismiss.emit(e.id)}),e.duration)}render(){var e;return H(G,{key:"d1b50e98469e3a31478ffb37eaf0d16b06a97f11"},H("div",{key:"ccbba0abd0b8b2126ed435aa22fad0ce4c09bbc3",class:"ctr"},null!=this.notification.icon&&H("dyte-icon",{key:"2977f801f26dc7bab7484ca3344375b59e912789",class:"icon",icon:this.notification.icon,variant:null!==(e=this.notification.iconVariant)&&void 0!==e?e:"primary"}),null!=this.notification.image&&null==this.notification.icon&&"errored"!==this.imageState&&H("img",{key:"bb74bf766c92d366ff57a64109e9321a755173d3",src:this.notification.image,class:{loaded:"loaded"===this.imageState},onLoad:()=>this.imageState="loaded",onError:()=>this.imageState="errored"}),H("p",{key:"9882e460b11e649d6ea72ac5d366f968092bfdce",class:"message"},H(to,{key:"913d03c9028353d8b2b3d4a097a6cf588ac3ae9b",message:this.notification.message})),H("div",{key:"2c1458dc02e345bb3c1e3fc8285e6a561c4609eb",class:"right"},null!=this.notification.button&&H("dyte-button",{key:"2b5b9774b6f289ca2f533e5473080007b1390ec1",size:"sm",variant:this.notification.button.variant,onClick:()=>this.notification.button.onClick()},this.notification.button.text),H("dyte-icon",{key:"51b648dbc0c1411633a6e1e741080b82a7e95c5b","aria-label":this.t("dismiss"),class:"dismiss",icon:this.iconPack.dismiss,onClick:()=>this.dismiss.emit(this.notification.id)}))))}static get watchers(){return{notification:["notificationChanged"]}}};ic([ni()],ac.prototype,"size",void 0),ic([ni()],ac.prototype,"iconPack",void 0),ic([ni()],ac.prototype,"t",void 0),ac.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{pointer-events:none;display:block;height:var(--dyte-space-10, 40px);color:rgb(var(--dyte-colors-text-1000, 255 255 255));animation:show 0.4s ease;transition:0.4s;z-index:100}.ctr{box-sizing:border-box;display:inline-flex;height:100%;min-width:var(--dyte-space-40, 160px);align-items:center;padding-left:var(--dyte-space-3, 12px);padding-right:var(--dyte-space-3, 12px);-webkit-user-select:none;-moz-user-select:none;user-select:none;border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));--tw-shadow:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);--tw-shadow-color:rgb(var(--dyte-colors-background-1000, 8 8 8));--tw-shadow:var(--tw-shadow-colored);pointer-events:auto}img{margin-right:var(--dyte-space-2, 8px);height:var(--dyte-space-0, 0px);width:var(--dyte-space-0, 0px);border-radius:9999px}img.loaded{height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px)}.message{margin-right:var(--dyte-space-3, 12px);max-width:var(--dyte-space-72, 288px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.message p{margin:var(--dyte-space-0, 0px);margin-right:var(--dyte-space-1, 4px);display:inline-block}.message blockquote{display:none}dyte-icon.icon{margin-right:var(--dyte-space-2, 8px);height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px);color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}dyte-icon.dismiss{margin-left:auto;height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px);border-radius:var(--dyte-border-radius-md, 8px);color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}dyte-icon.dismiss:hover{cursor:pointer;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}dyte-icon.dismiss{transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}dyte-button{margin-left:var(--dyte-space-4, 16px);margin-right:var(--dyte-space-2, 8px);border-radius:var(--dyte-border-radius-sm, 4px)}.right{margin-left:auto;display:flex;align-items:center}.right>*{margin-left:var(--dyte-space-2, 8px)}.right>*:first-child{margin-left:var(--dyte-space-0, 0px)}:host(.exit){animation:exit 0.4s ease}@keyframes show{0%{opacity:0;transform:translateX(-120px)}100%{opacity:1;transform:translateX(0px)}}@keyframes exit{0%{opacity:1;transform:translateX(0)}100%{opacity:0;transform:translateX(-120px)}}:host([size='sm']){font-size:14px}";const sc=2e3,rc=Object.freeze({notifications:{participant_joined:!0,participant_left:!0,participant_joined_waitlist:!0,chat:!0,polls:!0,webinar:!0,tab_sync:!0,recording_started:!0,recording_stopped:!0},notification_sounds:{participant_joined:!0,participant_left:!0,chat:!0,polls:!0,webinar:!0,participant_joined_waitlist:!0},notification_duration:{participant_joined:2100,participant_left:2100,participant_joined_waitlist:4e3,chat:sc,polls:sc,webinar:sc,tab_sync:sc,recording_started:sc,recording_stopped:sc},participant_joined_sound_notification_limit:10,participant_chat_message_sound_notification_limit:10});var nc=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};function oc(e){return Object.keys(e).filter((t=>e[t]))}const dc=class{constructor(e){c(this,e),this.permissions=rc,this.enabledSounds=oc(rc.notification_sounds),this.config=zt,this.t=Zt(),this.iconPack=Kt,this.notifications=[],this.addStagePeersListeners=e=>{e.participants.joined.addListener("participantJoined",this.participantJoinedListener),e.participants.joined.addListener("participantLeft",this.participantLeftListener)},this.removeStagePeersListeners=e=>{e.participants.joined.removeListener("participantJoined",this.participantJoinedListener),e.participants.joined.removeListener("participantLeft",this.participantLeftListener)},this.onDyteNotification=e=>{this.add(e.detail);const t=e.detail.playSound;null!=t&&this.audio.play(t)},this.onRecordingUpdate=e=>{var t,i;"RECORDING"===e&&!1!==this.permissions.notifications.recording_started?this.add({id:"recording-started",icon:this.iconPack.recording,message:this.t("recording.started"),duration:null!==(t=this.permissions.notification_duration.recording_started)&&void 0!==t?t:sc}):"STOPPING"===e&&!1!==this.permissions.notifications.recording_stopped&&this.add({id:"recording-stopped",icon:this.iconPack.stop_recording,message:this.t("recording.stopped"),duration:null!==(i=this.permissions.notification_duration.recording_stopped)&&void 0!==i?i:sc})}}connectedCallback(){"undefined"!=typeof document&&(null===document||void 0===document||document.addEventListener("dyteNotification",this.onDyteNotification)),this.meetingChanged(this.meeting),this.configChanged(this.config),this.statesChanged(this.states)}clearListeners(e){var t,i,a,s,r,n,o,d;const c="LIVESTREAM"===e.meta.viewType;(c&&"ON_STAGE"===(null===(t=e.stage)||void 0===t?void 0:t.status)||!c)&&this.removeStagePeersListeners(e),this.chatUpdateListener&&(null===(i=e.chat)||void 0===i||i.removeListener("chatUpdate",this.chatUpdateListener)),this.pollUpdateListener&&(null===(a=e.polls)||void 0===a||a.removeListener("pollsUpdate",this.pollUpdateListener)),e.meta.removeListener("socketConnectionUpdate",this.socketConnectionUpdateListener),this.stageRequestAccepted&&(null===(s=e.stage)||void 0===s||s.removeListener("stageRequestApproved",this.stageRequestAccepted)),this.stageRequestRejected&&(null===(r=e.stage)||void 0===r||r.removeListener("stageRequestRejected",this.stageRequestRejected)),this.newStageRequests&&(null===(n=e.stage)||void 0===n||n.removeListener("newStageRequest",this.newStageRequests)),this.stageStatusUpdateListener&&(null===(o=e.stage)||void 0===o||o.removeListener("stageStatusUpdate",this.stageStatusUpdateListener)),null===(d=e.recording)||void 0===d||d.removeListener("recordingUpdate",this.onRecordingUpdate),clearTimeout(this.disconnectTimeout),e.self.removeListener("deviceUpdate",this.deviceUpdateListener)}disconnectedCallback(){var e;"undefined"!=typeof document&&(null===document||void 0===document||document.removeEventListener("dyteNotification",this.onDyteNotification)),null!=this.meeting&&(this.clearListeners(this.meeting),this.waitlistedParticipantJoinedListener&&this.meeting.participants.waitlisted.removeListener("participantJoined",this.waitlistedParticipantJoinedListener),this.waitlistedParticipantLeftListener&&this.meeting.participants.waitlisted.removeListener("participantLeft",this.waitlistedParticipantLeftListener),this.activeTabUpdateListener&&(null===(e=this.meeting.meta)||void 0===e||e.removeListener("activeTabUpdate",this.activeTabUpdateListener)),this.peerStageStatusListener&&this.meeting.participants.joined.removeListener("stageStatusUpdate",this.peerStageStatusListener))}meetingChanged(e,t){var i,a,s,r,n,o,d,c,l;if(clearTimeout(this.disconnectTimeout),void 0!==t&&this.clearListeners(t),null==e)return;const h="LIVESTREAM"===e.meta.viewType;this.audio=new so(e);const{notifications:p,notification_duration:g,notification_sounds:u}=this.permissions;if(this.participantJoinedListener=e=>{p.participant_joined&&this.add({id:`${e.id}-joined`,message:`${li(e.name)} ${this.t("notifications.joined")}`,image:e.picture,duration:g.participant_joined}),u.participant_joined&&this.canPlayParticipantJoinedSound()&&this.audio.play("joined")},this.participantLeftListener=e=>{const{socketState:{state:t}}=this.meeting.meta;p.participant_left&&"connected"!==t&&this.add({id:`${e.id}-left`,message:`${li(e.name)} ${this.t("notifications.left")}`,image:e.picture,duration:g.participant_left}),u.participant_left&&this.canPlayParticipantJoinedSound()&&this.audio.play("left")},this.waitlistedParticipantJoinedListener=e=>{if(!this.canAcceptWaitingRequests())return;const t=`${e.id}-joined-waitlist`;this.add({id:t,message:`${li(e.name)} ${this.t("notifications.requesting_to_join_meeting")}`,image:e.picture,duration:g.participant_joined_waitlist,button:{text:this.t("notifications.accept"),variant:"primary",onClick:async()=>{await this.meeting.participants.acceptWaitingRoomRequest(e.id),this.remove(t)}}}),u.participant_joined_waitlist&&this.canPlayParticipantJoinedSound()&&this.audio.play("message")},this.waitlistedParticipantLeftListener=e=>{this.remove(`${e.id}-joined-waitlist`)},this.chatUpdateListener=({message:t})=>{const i=Fi(t);if(null!=i){if(i.userId===e.self.userId)return;"text"===i.type&&(p.chat&&this.add({id:`message-${Math.random().toString(36)}`,icon:this.iconPack.chat,message:`${i.displayName}: ${i.message}`,duration:g.chat}),u.chat&&this.canPlayChatSound()&&this.audio.play("message"))}},this.pollUpdateListener=({polls:e,newPoll:t})=>{!1!==t&&(p.polls&&this.meeting.self.userId!==e[e.length-1].createdByUserId&&this.add({id:`poll-${Math.random().toString(36)}`,icon:this.iconPack.poll,message:`${this.t("notifications.new_poll_created_by")} ${e[e.length-1].createdBy}`,duration:g.polls}),u.polls&&this.meeting.self.userId!==e[e.length-1].createdByUserId&&this.canPlayChatSound()&&this.audio.play("message"))},this.deviceUpdateListener=({device:e,preview:t})=>{t||("audiooutput"===e.kind&&(this.audio.setDevice(e.deviceId),this.remove("speaker-switched"),this.add({id:"speaker-switched",message:`${this.t("notifications.connected_to")} ${e.label}`,icon:this.iconPack.speaker,duration:5e3})),"videoinput"===e.kind&&(this.remove("camera-switched"),this.add({id:"camera-switched",message:`${this.t("notifications.connected_to")} ${e.label}`,icon:this.meeting.self.videoEnabled?this.iconPack.video_on:this.iconPack.video_off,iconVariant:this.meeting.self.videoEnabled?"primary":"danger",duration:5e3})),"audioinput"===e.kind&&(this.remove("mic-switched"),this.add({id:"mic-switched",message:`${this.t("notifications.connected_to")} ${e.label}`,icon:this.meeting.self.audioEnabled?this.iconPack.mic_on:this.iconPack.mic_off,iconVariant:this.meeting.self.audioEnabled?"primary":"danger",duration:5e3})))},this.socketConnectionUpdateListener=({state:e,reconnectionAttempt:t,reconnected:i})=>{switch(e){case"connected":this.remove("socket"),i&&this.add({id:"socket",icon:this.iconPack.wifi,message:this.t("network.restored"),duration:3e3});break;case"disconnected":this.remove("socket"),this.add({id:"socket",icon:this.iconPack.disconnected,message:this.t("network.reconnecting")});break;case"reconnecting":t>=6?(this.remove("socket"),this.add({id:"socket",icon:this.iconPack.disconnected,message:this.t("network.disconnected"),button:{text:this.t("end"),variant:"danger",onClick:()=>{var e;return null===(e=this.meeting)||void 0===e?void 0:e.leaveRoom()}}})):t>=4&&(this.remove("socket"),this.add({id:"socket",icon:this.iconPack.disconnected,message:this.t("network.delay_extended")}));break;case"failed":this.remove("socket"),this.add({id:"socket",icon:this.iconPack.disconnected,message:this.t("network.leaving"),button:{text:this.t("end"),variant:"danger",onClick:()=>{var e;return null===(e=this.meeting)||void 0===e?void 0:e.leaveRoom()}}})}},this.activeTabUpdateListener=t=>{if(p.tab_sync)switch(t.type){case"plugin":const i=e.plugins.active.toArray().find((e=>e.id==t.id));null!=i&&this.add({id:"activeTab",message:`${this.t("notifications.plugin_switched_to")} ${i.name}`,duration:g.participant_joined});break;case"screenshare":const a=e.participants.joined.toArray().filter((e=>e.screenShareEnabled)).find((e=>e.id==t.id));null!=a&&this.add({id:"spotlight",message:`Now watching ${a.name}'s screen`,duration:g.webinar})}},this.peerStageStatusListener=e=>{"REQUESTED_TO_JOIN_STAGE"===e.stageStatus&&(this.add({id:`stage-request-${e.id}`,message:`${e.name} ${this.t("notifications.requested_to_join_stage")}`,duration:g.webinar,button:{text:this.t("notifications.accept"),variant:"primary",onClick:async()=>{await this.meeting.stage.grantAccess([e.userId]),this.remove(`stage-request-${e.id}`)}}}),u.webinar&&this.audio.play("joined")),"ON_STAGE"===e.stageStatus&&(this.add({id:`stage-joined-${e.id}`,message:`${e.name} ${this.t("notifications.joined_stage")}`,duration:g.webinar}),u.webinar&&this.audio.play("joined"))},this.stageRequestAccepted=()=>{this.add({id:"stage-request-accepted",message:this.t("notifications.request_to_join_accepted"),duration:3e3})},this.stageRequestRejected=()=>{this.add({id:"stage-request-rejected",message:this.t("notifications.request_to_join_rejected"),duration:3e3})},this.newStageRequests=({count:e})=>{this.add({id:"new-stage-request",message:`You have ${e<0?"new stage":`${e} pending`} request${1===e?"":"s"}`,duration:3e3})},this.stageStatusUpdateListener=t=>{"ON_STAGE"===t?this.addStagePeersListeners(e):this.removeStagePeersListeners(e)},!nt(e)&&(null===(i=e.chat)||void 0===i||i.addListener("chatUpdate",this.chatUpdateListener)),"CHAT"===(null===(a=e.self.config.viewType)||void 0===a?void 0:a.toString()))return;const f=e.self.getCurrentDevices();null!=f.speaker&&this.audio.setDevice(f.speaker.deviceId),h?null===(s=e.stage)||void 0===s||s.on("stageStatusUpdate",this.stageStatusUpdateListener):this.addStagePeersListeners(e),this.canAcceptWaitingRequests()&&(e.participants.waitlisted.addListener("participantJoined",this.waitlistedParticipantJoinedListener),e.participants.waitlisted.addListener("participantLeft",this.waitlistedParticipantLeftListener)),null===(r=e.polls)||void 0===r||r.addListener("pollsUpdate",this.pollUpdateListener),e.self.addListener("deviceUpdate",this.deviceUpdateListener),e.meta.addListener("socketConnectionUpdate",this.socketConnectionUpdateListener),null===(n=e.meta)||void 0===n||n.addListener("activeTabUpdate",this.activeTabUpdateListener),null===(o=e.recording)||void 0===o||o.addListener("recordingUpdate",this.onRecordingUpdate),null===(d=e.stage)||void 0===d||d.addListener("stageRequestApproved",this.stageRequestAccepted),null===(c=e.stage)||void 0===c||c.addListener("stageRequestRejected",this.stageRequestRejected),e.self.permissions.stageEnabled&&e.self.permissions.acceptStageRequests&&(null===(l=e.stage)||void 0===l||l.addListener("newStageRequest",this.newStageRequests))}configChanged(e){null!=e&&null!=(null==e?void 0:e.config)&&(this.permissions=function(e){const t=Object.assign({},rc);return null==e||(Object.assign(t.notification_sounds,e.notification_sounds),Object.assign(t.notifications,e.notifications),Object.assign(t.notification_duration,e.notification_duration),t.participant_chat_message_sound_notification_limit=e.participant_chat_message_sound_notification_limit,t.participant_joined_sound_notification_limit=e.participant_joined_sound_notification_limit),t}(e.config),this.enabledSounds=oc(this.permissions.notification_sounds))}statesChanged(e){var t;if(null!=e){const i=!(null===(t=null==e?void 0:e.prefs)||void 0===t?void 0:t.muteNotificationSounds);for(const e of this.enabledSounds)e in this.permissions.notification_sounds&&(this.permissions.notification_sounds[e]=i)}}apiErrorListener({detail:e}){const{trace:t,message:i}=e;this.add({id:t,message:i,duration:sc,icon:this.iconPack.warning})}sendNotificationListener({detail:e}){const{trace:t,message:i}=e;this.add({id:t,message:i,duration:sc})}add(e){"visible"===document.visibilityState&&this.notifications.length<5&&(this.notifications=[...this.notifications,e])}remove(e){this.notifications=this.notifications.filter((t=>t.id!==e))}handleDismiss(e){e.stopPropagation();const t=e.detail,i=this.host.shadowRoot.querySelector(`[data-id="${t}"]`);null==i||i.classList.add("exit"),setTimeout((()=>{L((()=>{this.remove(t)}))}),400)}canPlayParticipantJoinedSound(){return null==this.permissions.participant_joined_sound_notification_limit||this.permissions.participant_joined_sound_notification_limit<=0||this.meeting.participants.count<=this.permissions.participant_joined_sound_notification_limit}canPlayChatSound(){return null==this.permissions.participant_chat_message_sound_notification_limit||this.permissions.participant_chat_message_sound_notification_limit<=0||this.meeting.participants.count<=this.permissions.participant_chat_message_sound_notification_limit}canAcceptWaitingRequests(){return this.permissions.notifications.participant_joined_waitlist&&this.meeting.self.permissions.acceptWaitingRequests}render(){return H(G,{key:"1e122b16897a90f7c7900057849e89d5152f477f"},this.notifications.map((e=>H("dyte-notification",{size:this.size,key:e.id,"data-id":e.id,notification:e,onDyteNotificationDismiss:e=>this.handleDismiss(e),iconPack:this.iconPack,t:this.t}))))}get host(){return Y(this)}static get watchers(){return{meeting:["meetingChanged"],config:["configChanged"],states:["statesChanged"]}}};nc([ni()],dc.prototype,"meeting",void 0),nc([ni()],dc.prototype,"states",void 0),nc([ni()],dc.prototype,"t",void 0),nc([ni()],dc.prototype,"size",void 0),nc([ni()],dc.prototype,"iconPack",void 0),dc.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{position:absolute;top:var(--dyte-space-4, 16px);right:var(--dyte-space-4, 16px);bottom:var(--dyte-space-4, 16px);left:var(--dyte-space-4, 16px);top:auto;display:flex;flex-direction:column;pointer-events:none;z-index:100}dyte-notification{margin-top:var(--dyte-space-2, 8px)}";var cc=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const lc=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.iconPack=Kt,this.t=Zt()}connectedCallback(){this.states.activeOverlayModal.timeout&&setTimeout((()=>{this.stateUpdate.emit({activeOverlayModal:{active:!1}})}),this.states.activeOverlayModal.timeout)}render(){return H(G,{key:"b4fa570e714d3297c1f7f5b25038d877f6001319"},H("dyte-icon",{key:"df183bada8963c6fbb22f27768e96922232201b7",icon:this.states.activeOverlayModal.icon}),H("h2",{key:"c028667f07d9db82e27e9e25f6e1d8712edccf20"},this.states.activeOverlayModal.title),H("p",{key:"74e847ad00e26147494acfb74481025e5c62f27c"},this.states.activeOverlayModal.description))}};cc([ni()],lc.prototype,"meeting",void 0),cc([ni()],lc.prototype,"states",void 0),cc([ni()],lc.prototype,"iconPack",void 0),cc([ni()],lc.prototype,"t",void 0),lc.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / 0.6);position:fixed;top:var(--dyte-space-0, 0px);right:var(--dyte-space-0, 0px);z-index:50}dyte-icon{height:var(--dyte-space-20, 80px)}h2{margin:var(--dyte-space-2, 8px);font-weight:500}p{margin:var(--dyte-space-0, 0px);font-size:16px}";var hc=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const pc=class{constructor(e){c(this,e),this.autoScroll=!0,this.iconPack=Kt,this.t=Zt(),this.emptyListLabel=null,this.isLoading=!1,this.rerenderBoolean=!1,this.shouldRenderNewNodes=!0,this.hasNewNodesToRender=!1,this.showEmptyListLabel=!1,this.pagesToRender=[[]],this.currentTime=()=>(new Date).getTime(),this.observe=e=>{e&&this.intersectionObserver.observe(e)}}async onNewNode(e){this.shouldRenderNewNodes?(this.addNodeToRender(e,!1),this.rerender()):this.hasNewNodesToRender=!0}async onNodeDelete(e){const t=this.pagesToRender.flat().length;this.pagesToRender=this.pagesToRender.map((t=>t.filter((t=>t.id!==e)))),t!==this.pagesToRender.flat().length&&this.rerender()}async onNodeUpdate(e,t){let i=!1;this.pagesToRender=this.pagesToRender.map((a=>a.map((a=>a.id===e?(i=!0,t):a)))),i&&this.rerender()}onItemChanged(e,t){e!==t&&(this.pagesToRender=[[]],this.loadFirstPage().then((()=>this.rerender())))}connectedCallback(){this.rerender=ji(this.rerender.bind(this),50,{maxWait:200}),this.intersectionObserver=new IntersectionObserver((e=>{L((()=>{for(const t of e)"bottom-scroll"===t.target.id&&(t.isIntersecting?this.loadBottom():this.shouldRenderNewNodes=!1),"top-scroll"===t.target.id&&t.isIntersecting&&this.loadTop()}))}))}disconnectedCallback(){this.intersectionObserver.disconnect()}componentDidLoad(){this.loadFirstPage(),this.observe(this.$topRef),this.observe(this.$bottomRef)}componentDidRender(){this.shouldRenderNewNodes&&this.autoScroll&&da(this.$paginatedList)}loadFirstPage(){return this.loadPage(this.currentTime(),this.pageSize,!0,(e=>{0===e.length&&(this.showEmptyListLabel=!0)}))}loadTop(){if(0===this.pagesToRender.length)return;if(1===this.pagesToRender.length&&this.pagesToRender[0].length<this.pageSize)return;const e=this.pagesToRender[0][0].timeMs;this.loadPage(e-1,this.pageSize,!0,(()=>{}))}loadBottom(){if(0===this.pagesToRender.length)return void(this.shouldRenderNewNodes=!0);if(1===this.pagesToRender.length&&this.pagesToRender[0].length<this.pageSize)return void(this.shouldRenderNewNodes=!0);const e=this.pagesToRender.at(-1).at(-1).timeMs;this.loadPage(e+1,this.pageSize,!1,(()=>da(this.$paginatedList)))}addNodeToRender(e,t){if(t){const t=this.pagesToRender[0];if(t&&(null==t?void 0:t.length)<this.pageSize)t.unshift(e);else{const t=[e];this.pagesToRender.unshift(t),this.removeLastPageIfNeeded(!1)}}else{const[t]=this.pagesToRender.slice(-1);if(t&&(null==t?void 0:t.length)<this.pageSize)t.push(e);else{const t=[e];this.pagesToRender.push(t),this.removeLastPageIfNeeded(!0)}}}async loadPage(e,t,i,a=()=>{}){this.isLoading=!0;const s=await this.fetchData(e,t,i);if(this.isLoading=!1,!(null==s?void 0:s.length))return i||(this.hasNewNodesToRender=!1,this.shouldRenderNewNodes=!0),void a([]);s.forEach((e=>this.addNodeToRender(e,i))),this.rerender(),a(s)}rerender(){this.rerenderBoolean=!this.rerenderBoolean}removeLastPageIfNeeded(e){this.pagesToRender.length>this.pagesAllowed&&(e?this.pagesToRender.shift():this.pagesToRender.pop())}onDownArrowClicked(){this.loadBottom()}render(){var e;return H(G,{key:"704a4d2f1669f83d2b609276c4e43b7d242dc204"},H("div",{key:"a73818c8a9db30909b021e5409a05e54b917172c",class:"scrollbar container",part:"container",ref:e=>this.$paginatedList=e},H("div",{key:"4f3c5bbde0e1e3d868b9f188c1de0aea83c57ef7",class:{"show-new-messages-ctr":!0,active:!this.shouldRenderNewNodes}},H("dyte-button",{key:"8bee70e062ccefaedf15495bb4be713b75c72c98",class:"show-new-messages",kind:"icon",variant:"secondary",part:"show-new-messages",onClick:()=>this.onDownArrowClicked()},H("dyte-icon",{key:"d8872dd2b18a05d9969ce4c0e79925e05ca511fe",icon:this.iconPack.chevron_down}))),H("div",{key:"fbd24ab1cc8352807661d6b78c771df69fa26d12",class:"smallest-dom-element",id:"bottom-scroll",ref:e=>this.$bottomRef=e}),this.isLoading&&0===this.pagesToRender.flat().length&&H("dyte-spinner",{key:"df59bc4e2d777d1ce98088930f5dd4e5bfead2dc",size:"lg"}),0===this.pagesToRender.flat().length&&this.showEmptyListLabel?H("div",{class:"empty-list"},null!==(e=this.emptyListLabel)&&void 0!==e?e:this.t("list.empty")):H("div",{class:"page-wrapper"},this.pagesToRender.map((e=>this.createNodes(e)))),H("div",{key:"7b54f683c79b5df12e101fcbb5fb645ddaeca082",class:"smallest-dom-element",id:"top-scroll",ref:e=>this.$topRef=e})))}static get watchers(){return{selectedItemId:["onItemChanged"]}}};hc([ni()],pc.prototype,"iconPack",void 0),hc([ni()],pc.prototype,"t",void 0),pc.style=".scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;flex:1}.container{box-sizing:border-box;display:flex;flex-direction:column-reverse;padding-top:var(--dyte-space-4, 16px);padding-bottom:var(--dyte-space-4, 16px);flex:1 0 0px;overflow-y:scroll;}.file-picker{display:none}.chat *:first-child{margin-top:var(--dyte-space-0, 0px)}.chat .head{display:flex;align-items:center}.chat .head .name{margin-right:var(--dyte-space-4, 16px);font-size:12px;font-weight:700}.chat .head .time{font-size:12px;color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}.chat .body{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px);overflow-wrap:break-word;font-size:14px;line-height:1.375}.chat .body .emoji{font-size:24px}p{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-3, 12px)}dyte-text-message,dyte-image-message,dyte-file-message{margin-top:var(--dyte-space-4, 16px);display:block;padding-left:var(--dyte-space-3, 12px);padding-right:var(--dyte-space-3, 12px);font-family:var(--dyte-font-family, sans-serif);color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));box-sizing:border-box}*[is-continued]{margin-top:var(--dyte-space-3, 12px)}dyte-text-message[is-continued]{margin-top:var(--dyte-space-2, 8px)}.chat .image{position:relative;height:var(--dyte-space-40, 160px);max-width:var(--dyte-space-64, 256px);cursor:pointer}.chat .image img{display:none;height:100%;width:100%;border-radius:var(--dyte-border-radius-sm, 4px);-o-object-fit:cover;object-fit:cover}.chat .image .image-spinner{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.chat .image .image-spinner dyte-spinner{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-text-opacity))}.chat .image .image-errored{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;border-radius:var(--dyte-border-radius-sm, 4px);background-color:rgba(var(--dyte-colors-danger, 255 45 45) / 0.1);--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}.chat .image .actions{display:none;height:var(--dyte-space-8, 32px);align-items:center;position:absolute;top:var(--dyte-space-2, 8px);right:var(--dyte-space-2, 8px);border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));overflow:hidden;--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.chat .image .actions .action{height:var(--dyte-space-8, 32px);width:var(--dyte-space-8, 32px);border-radius:var(--dyte-border-radius-none, 0);border-width:var(--dyte-border-width-none, 0);border-style:none;background-color:transparent;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.chat .image .actions .action:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.image.loaded img{display:block}.image.loaded .image-spinner{display:none}.image:hover .actions,.image:focus .actions{display:flex}.chat .file{display:flex;align-items:center;gap:var(--dyte-space-1, 4px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);padding-top:var(--dyte-space-1\\.5, 6px);padding-bottom:var(--dyte-space-1\\.5, 6px);border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}.chat .file .file-data{flex:1 1 0%}.chat .file .file-data .name{word-break:break-all;color:rgb(var(--dyte-colors-text-1000, 255 255 255));overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.chat .file .file-data .file-data-split{margin-top:var(--dyte-space-0\\.5, 2px);display:flex;align-items:center;font-size:12px}.chat .file .file-data .file-data-split .ext{margin-right:var(--dyte-space-2, 8px);text-transform:uppercase;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.chat .file .file-data .file-data-split .divider{height:var(--dyte-space-4, 16px);width:var(--dyte-space-0\\.5, 2px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.chat .file .file-data .file-data-split .size{margin-left:var(--dyte-space-2, 8px)}.smallest-dom-element{width:1px}#top-scroll{transform:translateY(20vh)}#bottom-scroll{transform:translateY(-20vh)}a{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity));text-decoration-line:none}a:hover{text-decoration-line:underline}.show-new-messages-ctr{pointer-events:none;position:absolute;bottom:var(--dyte-space-2, 8px);right:var(--dyte-space-4, 16px);z-index:10;margin-top:calc(var(--dyte-space-14, 56px) * -1);--tw-translate-y:var(--dyte-space-28, 112px);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:0;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.show-new-messages-ctr.active{--tw-translate-y:var(--dyte-space-0, 0px);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:1}.show-new-messages{pointer-events:auto;border-radius:9999px}.show-new-messages:hover{border-radius:9999px;--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);--tw-ring-opacity:1;--tw-ring-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-ring-opacity));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}dyte-spinner,.empty-list{margin:auto}.page-wrapper{margin-left:var(--dyte-space-1, 4px);margin-right:var(--dyte-space-1, 4px)}.message-wrapper{margin-bottom:var(--dyte-space-2, 8px)}.pinned .message-wrapper{position:relative}.pinned .pin-icon{position:absolute;right:calc(var(--dyte-space-1, 4px) * -1);top:calc(var(--dyte-space-1, 4px) * -1);display:flex;border-radius:var(--dyte-border-radius-sm, 4px)}.pinned dyte-message-view{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));padding-top:var(--dyte-space-1, 4px);padding-bottom:var(--dyte-space-1, 4px)}";var gc=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const uc=class{constructor(e){c(this,e),this.tileLoad=Q(this,"tileLoad",7),this.tileUnload=Q(this,"tileUnload",7),this.isPinned=!1,this.mediaConnectionError=!1,this.nameTagPosition="bottom-left",this.isPreview=!1,this.config=zt,this.variant="solid",this.iconPack=Kt,this.t=Zt(),this.onPinned=({isPinned:e})=>{this.isPinned=e},this.isSelf=()=>{var e;return this.isPreview||this.participant.id===(null===(e=this.meeting)||void 0===e?void 0:e.self.id)},this.onPause=e=>{var t,i;this.isSelf()&&(null===(t=this.meeting)||void 0===t?void 0:t.__internals__.features.hasFeature(ct))&&(this.meeting.__internals__.logger.warn(`Video player paused for ${this.participant.id} isSelf: ${this.isSelf()}`),null===(i=null==e?void 0:e.target)||void 0===i||i.play())},this.onPlaying=()=>{this.playTimeout&&clearTimeout(this.playTimeout)}}onVideoRef(e){this.participant&&this.meeting&&e!==this.videoEl&&(this.videoEl=e,this.participant.registerVideoElement(this.videoEl,this.isPreview),this.tileLoad.emit({participant:this.participant,videoElement:this.videoEl}))}connectedCallback(){this.meeting?this.meetingChanged(this.meeting):this.participantsChanged(this.participant)}disconnectedCallback(){this.playTimeout&&clearTimeout(this.playTimeout),null!=this.participant&&(this.participant.deregisterVideoElement(this.videoEl,this.isPreview),this.participant.removeListener("pinned",this.onPinned),this.participant.removeListener("unpinned",this.onPinned),this.meeting.meta.off("mediaConnectionUpdate",this.mediaConnectionUpdateListener),this.tileUnload.emit(this.participant))}meetingChanged(e){null!=e&&this.participantsChanged(this.participant)}participantsChanged(e){null!=e&&(void 0!==this.meeting?(this.isPinned=e.isPinned,this.videoEl&&this.participant.registerVideoElement(this.videoEl,this.isPreview),e.addListener("pinned",this.onPinned),e.addListener("unpinned",this.onPinned),this.meeting.meta.on("mediaConnectionUpdate",this.mediaConnectionUpdateListener.bind(this))):this.isPreview&&this.videoEl&&this.participant.registerVideoElement(this.videoEl,this.isPreview))}mediaConnectionUpdateListener(){var e,t,i;const{recv:a,send:s}=null!==(i=null===(t=null===(e=this.meeting)||void 0===e?void 0:e.meta)||void 0===t?void 0:t.mediaState)&&void 0!==i?i:{};"connected"===(null==a?void 0:a.state)||this.isSelf()?"connected"!==(null==s?void 0:s.state)&&this.isSelf()?this.mediaConnectionError=!0:this.mediaConnectionError=!1:this.mediaConnectionError=!0}isMirrored(){var e;if(null!=this.participant&&this.isSelf()){const t=this.states,i=null===(e=null==t?void 0:t.prefs)||void 0===e?void 0:e.mirrorVideo;if("boolean"==typeof i)return i}return!1}render(){var e,t,i;const a={meeting:this.meeting,size:this.size,states:this.states,config:this.config,iconPack:this.iconPack,t:this.t};return H(G,{key:"ae0d125a5d4b2bd7cab5c4c286be3fd31d9b6b80"},H("video",{key:"46c326caaf26377c1a7e6ba2989eabbc89a3d4aa",ref:e=>this.onVideoRef(e),class:{mirror:this.isMirrored(),[null!==(i=null===(t=null===(e=this.config)||void 0===e?void 0:e.config)||void 0===t?void 0:t.videoFit)&&void 0!==i?i:"cover"]:!0},onPlaying:this.onPlaying,onPause:this.onPause,autoPlay:!0,playsInline:!0,muted:!0,part:"video"}),this.isPinned&&H("dyte-icon",{key:"8a3e9d03d2c69b9a281d6633a87f519cd36f8caf",class:"pinned-icon",icon:this.iconPack.pin,"aria-label":this.t("pinned"),part:"pinned-icon"}),this.mediaConnectionError&&H("div",{key:"b501ff04fcbe6c283b71c5bfa226cdc2b0127c6e",class:"network-container",part:"network-indicator"},H("dyte-icon",{key:"a200fd6ee5973cacd387ea38af916ac8d71355b5",class:"network-icon",icon:this.iconPack.disconnected,"aria-label":this.t("pinned"),part:"pinned-icon"})),H("slot",{key:"03c182c48452d89f381eecea6895a98f865a1b2f"},H(pa,{key:"459ff30c21c410a4cd7eea256d203fca6bf9d4bd",element:"dyte-participant-tile",defaults:a,childProps:{participant:this.participant},deepProps:!0,onlyChildren:!0})))}static get watchers(){return{meeting:["meetingChanged"],participant:["participantsChanged"]}}};gc([ni()],uc.prototype,"meeting",void 0),gc([ni()],uc.prototype,"states",void 0),gc([ni()],uc.prototype,"size",void 0),gc([ni()],uc.prototype,"iconPack",void 0),gc([ni()],uc.prototype,"t",void 0),uc.style=":host {\n  line-height: initial;\n  font-family: var(--dyte-font-family, sans-serif);\n\n  font-feature-settings: normal;\n  font-variation-settings: normal;\n}\n\np {\n  margin: var(--dyte-space-0, 0px);\n  padding: var(--dyte-space-0, 0px);\n}\n\n\n:host {\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  aspect-ratio: 16 / 9;\n  height: var(--dyte-space-56, 224px);\n  overflow: hidden;\n  border-radius: var(--dyte-border-radius-lg, 12px);\n  -webkit-user-select: none;\n     -moz-user-select: none;\n          user-select: none;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-video-bg, 24 24 24) / var(--tw-bg-opacity));\n\n  transition-property: var(--dyte-transition-property, all);\n  transition-duration: 150ms;\n  container-type: inline-size;\n  container-name: participanttile;\n}\n\n@media (prefers-reduced-motion) {\n  /* No transitions when disabled */\n  :host {\n    --dyte-transition-property: none;\n  }\n}\n\ndyte-avatar {\n  z-index: -1;\n}\n\n/**\n  NOTE: provided :slotted(dyte-name-tag) & dyte-name-tag separately\n  because ::slotted isn't applied on default slots.\n*/\n\n::slotted(dyte-name-tag), \ndyte-name-tag {\n  position: absolute;\n  left: var(--dyte-space-3, 12px);\n  bottom: var(--dyte-space-3, 12px);\n}\n\n:host([size='sm'][variant='solid']) ::slotted(dyte-name-tag), \n  :host([size='sm'][variant='solid']) dyte-name-tag {\n  left: var(--dyte-space-2, 8px);\n  bottom: var(--dyte-space-2, 8px);\n  height: var(--dyte-space-4, 16px);\n}\n\n::slotted(dyte-network-indicator), \ndyte-network-indicator {\n  position: absolute;\n  right: var(--dyte-space-3, 12px);\n  bottom: var(--dyte-space-3, 12px);\n}\n\n:host([size='sm']) ::slotted(dyte-network-indicator), \n  :host([size='sm']) dyte-network-indicator {\n  right: var(--dyte-space-2, 8px);\n  bottom: var(--dyte-space-2, 8px);\n}\n\nvideo {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  border-radius: var(--dyte-border-radius-lg, 12px);\n}\n\nvideo.contain {\n  -o-object-fit: contain;\n     object-fit: contain;\n}\n\nvideo.cover {\n  -o-object-fit: cover;\n     object-fit: cover;\n}\n\nvideo::-webkit-media-controls {\n  display: none !important;\n}\n\n.pinned-icon {\n  position: absolute;\n  left: var(--dyte-space-3, 12px);\n  top: var(--dyte-space-3, 12px);\n  height: var(--dyte-space-5, 20px);\n  width: var(--dyte-space-5, 20px);\n  padding: var(--dyte-space-1, 4px);\n  border-radius: var(--dyte-border-radius-md, 8px);\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));\n}\n\n.network-container {\n  position: absolute;\n  right: var(--dyte-space-3, 12px);\n  bottom: var(--dyte-space-3, 12px);\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: var(--dyte-space-2, 8px);\n  font-size: 12px;\n  border-radius: var(--dyte-border-radius-md, 8px);\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));\n}\n.network-icon {\n  height: var(--dyte-space-5, 20px);\n  width: var(--dyte-space-5, 20px);\n  --tw-text-opacity: 1;\n  color: rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity));\n}\n\n:host([size='sm']) .pinned-icon {\n  top: var(--dyte-space-2, 8px);\n  left: var(--dyte-space-2, 8px);\n}\n\n:host([variant='gradient']) ::slotted(dyte-audio-visualizer), \n  :host([variant='gradient']) dyte-audio-visualizer {\n  position: absolute;\n  top: var(--dyte-space-2, 8px);\n  right: var(--dyte-space-2, 8px);\n  border-radius: 9999px;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));\n  padding: var(--dyte-space-2, 8px);\n}\n\n:host([variant='gradient']) ::slotted(dyte-name-tag), \n  :host([variant='gradient']) dyte-name-tag {\n  bottom: var(--dyte-space-0, 0px);\n  left: var(--dyte-space-0, 0px);\n  display: flex;\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  background-color: transparent;\n  background-image: linear-gradient(to top, var(--tw-gradient-stops));\n  --tw-gradient-from: rgb(var(--dyte-colors-background-1000, 8 8 8));\n  --tw-gradient-to: rgba(var(--dyte-colors-background-1000, 8 8 8) / 0);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n  --tw-gradient-to: transparent;\n}\n\nvideo.mirror {\n  transform: scaleX(-1);\n}\n\n/** Name tag positions */\n\n:host([name-tag-position='bottom-right']) ::slotted(dyte-name-tag), \n  :host([name-tag-position='bottom-right']) dyte-name-tag {\n  left: auto;\n  right: var(--dyte-space-3, 12px);\n}\n\n:host([name-tag-position='bottom-center']) ::slotted(dyte-name-tag), \n  :host([name-tag-position='bottom-center']) dyte-name-tag {\n  left: auto;\n  right: auto;\n}\n\n:host([name-tag-position='top-left']) ::slotted(dyte-name-tag), \n  :host([name-tag-position='top-left']) dyte-name-tag {\n  top: var(--dyte-space-3, 12px);\n  bottom: auto;\n}\n\n:host([name-tag-position='top-right']) ::slotted(dyte-name-tag), \n  :host([name-tag-position='top-right']) dyte-name-tag {\n  top: var(--dyte-space-3, 12px);\n  right: var(--dyte-space-3, 12px);\n  left: auto;\n  bottom: auto;\n}\n\n:host([name-tag-position='top-center']) ::slotted(dyte-name-tag), \n  :host([name-tag-position='top-center']) dyte-name-tag {\n  left: auto;\n  right: auto;\n  bottom: auto;\n  top: var(--dyte-space-3, 12px);\n}\n\n@media only screen and (max-height: 480px) and (orientation: landscape) {\n  :host([size='sm']) {\n    border-radius: var(--dyte-border-radius-sm, 4px);\n  }\n\n  :host([size='sm']) > video {\n    border-radius: var(--dyte-border-radius-sm, 4px);\n  }\n\n  ::slotted(dyte-avatar), \n  dyte-avatar {\n    height: var(--dyte-space-12, 48px);\n    width: var(--dyte-space-12, 48px);\n  }\n    :host([size='sm'][variant='solid']) ::slotted(dyte-name-tag),\n    :host([size='sm'][variant='solid']) dyte-name-tag {\n      transform-origin: -2% 100%;\n      transform: scale(0.6);\n      z-index: 10;\n      left: var(--dyte-space-0, 0px);\n      bottom: var(--dyte-space-0, 0px);\n      border-radius: var(--dyte-border-radius-none, 0);\n    }\n}\n\n@media only screen and (max-width: 480px) and (orientation: portrait) {\n  :host([size='sm']) {\n    border-radius: var(--dyte-border-radius-sm, 4px);\n  }\n\n  :host([size='sm']) > video {\n    border-radius: var(--dyte-border-radius-sm, 4px);\n  }\n\n  ::slotted(dyte-avatar), \n  dyte-avatar {\n    height: var(--dyte-space-12, 48px);\n    width: var(--dyte-space-12, 48px);\n  }\n    :host([size='sm'][variant='solid']) ::slotted(dyte-name-tag),\n    :host([size='sm'][variant='solid']) dyte-name-tag {\n      transform-origin: -5% 110%;\n      transform: scale(0.6);\n      z-index: 10;\n      left: var(--dyte-space-0, 0px);\n      bottom: var(--dyte-space-0, 0px);\n      border-radius: var(--dyte-border-radius-none, 0);\n    }\n}\n\n@container participanttile (max-width: 300px) {\n  ::slotted(dyte-name-tag),\n  dyte-name-tag {\n    transform-origin: 0 100%;\n    transform: scale(0.8);\n  }\n\n  ::slotted(dyte-avatar), \n  dyte-avatar {\n    height: var(--dyte-space-8, 32px) !important;\n    width: var(--dyte-space-8, 32px) !important;\n  }\n}\n\n@container participanttile (max-width: 150px) {\n  ::slotted(dyte-name-tag),\n  dyte-name-tag[variant='solid'] {\n    transform-origin: -10% 130%;\n    transform: scale(0.6);\n    z-index: 10;\n    border-radius: 9999px;\n  }\n\n  ::slotted(dyte-avatar), \n  dyte-avatar {\n    height: 6 !important;\n    width: 6 !important;\n  }\n}\n";var fc=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const mc={"Chrome.Desktop.audio":["Chrome1.svg","Chrome2.svg","Chrome3.svg"],"Chrome.Desktop.video":["Chrome1.svg","Chrome2.svg","Chrome3.svg"]},vc=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.t=Zt(),this.iconPack=Kt,this.currentStep=0,this.svgSteps=[],this.continue=()=>{this.stateUpdate.emit({activePermissionsMessage:{enabled:!1}})},this.reload=()=>{"undefined"!=typeof window&&window.location.reload()},this.getImage=async e=>{function t(e,t,i){return e.split(t).join(i)}const i=await fetch(`https://assets.dyte.io/ui-kit/permissions/${e}`);let a=await i.text();return a=t(a,"yoursite.com",location.host),a=t(a,"Yoursite",document.title.length>14?`${document.title.slice(0,14)}...`:document.title),a},this.nextStep=()=>{this.currentStep=(this.currentStep+1)%this.svgSteps.length},this.openMacSystemSettings=()=>{const e=document.createElement("a");switch(this.mediaType){case"audio":e.href="x-apple.systempreferences:com.apple.preference.security?Privacy_Microphone";break;case"screenshare":e.href="x-apple.systempreferences:com.apple.preference.security?Privacy_ScreenCapture";break;case"video":e.href="x-apple.systempreferences:com.apple.preference.security?Privacy_Camera"}e.click()}}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.stepsTimer&&clearTimeout(this.stepsTimer)}meetingChanged(e){var t,i,a;if(null!=e){this.device=e.self.device;const s=(null===(t=this.device)||void 0===t?void 0:t.isMobile)?"Mobile":"Desktop",r=null!==(a=mc[`${null===(i=this.device)||void 0===i?void 0:i.browserName}.${s}.${this.mediaType}`])&&void 0!==a?a:[];Promise.all(r.map(this.getImage)).then((e=>{this.svgSteps=e}))}}getLink(e){let t;switch(e){case"audio":t="microphone";break;case"video":t="camera";break;default:t="screenshare"}let i=`Allow+${t}+access`;if(null!=this.device){const{browserName:e,isMobile:t}=this.device;i+="+"+e,t&&(i+="+mobile")}return"https://www.google.com/search?q="+i}isDeniedBySystem(){var e;const t=null===(e=this.meeting)||void 0===e?void 0:e.self.mediaPermissions;return null!=t&&"SYSTEM_DENIED"===t[this.mediaType]}getTitle(){return this.isDeniedBySystem()?this.t(`perm_sys_denied.${this.mediaType}`):this.t(`perm_denied.${this.mediaType}`)}get mediaType(){var e,t,i;return null!==(i=null===(t=null===(e=this.states)||void 0===e?void 0:e.activePermissionsMessage)||void 0===t?void 0:t.kind)&&void 0!==i?i:"audio"}getMessage(){var e;const{browserName:t,osName:i}=this.meeting.self.device,a=this.isDeniedBySystem(),s=null!==(e=t.toLowerCase())&&void 0!==e?e:"others",r=null!=i?i:"others";if(a){const e=`perm_sys_denied.${this.mediaType}.${r.toLowerCase()}.message`;return this.t(e)===e?this.t(`perm_sys_denied.${this.mediaType}.others.message`):this.t(e)}const n=`perm_denied.${this.mediaType}.${s}.message`;return this.t(n)===n?this.t(`perm_denied.${this.mediaType}.others.message`):this.t(n)}render(){var e,t,i;const a=this.isDeniedBySystem();this.svgSteps.length>0&&(this.stepsTimer&&clearTimeout(this.stepsTimer),this.stepsTimer=setTimeout(this.nextStep,2500));const s=a&&"macOS"==this.meeting.self.device.osName;return H(G,{key:"fd3113af80de08603477d44313c51386dc18af5e"},H("h2",{key:"105d5ea31c336aa1cd436818328ccd782770c326"},H("dyte-icon",{key:"459d39bf025a2a86a5dc007d1d37da478de9cbb2",class:"text-icon",icon:this.iconPack.warning}),this.getTitle()),this.svgSteps.length>0&&H("div",{key:"d8795f8c99c3d3e2c7fc0e854d4a97df30501f7e",class:"svg-container"},this.svgSteps.map(((e,t)=>H("p",{innerHTML:e,class:"svg-ins",key:this.currentStep,hidden:t!==this.currentStep})))),H("div",{key:"f3c61c410b2561a7554cf92335bd45095e026d60"},this.getMessage()),!a&&H("a",{key:"44c3c2a12fbfd15aff428089a795b567c0948c0d",class:"need-help-link",href:this.getLink(null!==(i=null===(t=null===(e=this.states)||void 0===e?void 0:e.activePermissionsMessage)||void 0===t?void 0:t.kind)&&void 0!==i?i:"audio"),target:"_blank",rel:"noreferrer external noreferrer noopener"},H("dyte-icon",{key:"98ce0ba2b7a86af4c855cd3ce4025c5a40b5d52c",class:"text-icon",icon:this.iconPack.attach}),this.t("cta.help")),H("div",{key:"3d1c026bee6a4c04bb0239c14af85d67475f66ce",class:"actions"},H("dyte-button",{key:"3ef491db07fc2ec207ad87ef1c814bd132107bda",size:"lg",kind:"wide",variant:"secondary",onClick:this.continue},this.t("cta.continue")),s?H("dyte-button",{size:"lg",kind:"wide",onClick:this.openMacSystemSettings},this.t("cta.system_settings")):H("dyte-button",{size:"lg",kind:"wide",onClick:this.reload},this.t("cta.reload"))),H("slot",{key:"ed5ac76fdf888a80b20f495d2b9daa005b1fd692"}))}static get watchers(){return{meeting:["meetingChanged"]}}};fc([ni()],vc.prototype,"meeting",void 0),fc([ni()],vc.prototype,"t",void 0),fc([ni()],vc.prototype,"iconPack",void 0),fc([ni()],vc.prototype,"states",void 0),vc.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{box-sizing:border-box;display:block;max-height:100%;width:600px;overflow-y:auto;padding:var(--dyte-space-6, 24px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));overflow-wrap:break-word;color:rgb(var(--dyte-colors-text-1000, 255 255 255));word-wrap:break-word}.actions{display:flex;align-items:center;gap:var(--dyte-space-2, 8px)}.text-icon{display:inline-block;vertical-align:middle}h2{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-4, 16px)}h2 .text-icon{margin-right:var(--dyte-space-2, 8px);height:var(--dyte-space-8, 32px);width:var(--dyte-space-8, 32px);--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}p{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-4, 16px)}.need-help-link{margin-top:var(--dyte-space-2, 8px);display:inline-block;text-underline-offset:2px;--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-400, 53 110 253) / var(--tw-text-opacity))}.need-help-link:hover{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-600, 13 81 253) / var(--tw-text-opacity))}a dyte-icon{margin-right:var(--dyte-space-2, 8px);height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px)}:host([size='sm']) .actions{flex-direction:column;align-items:flex-start;justify-content:center}:host([size='sm']) .action{width:100%;padding-top:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-2, 8px)}.actions{margin-top:var(--dyte-space-6, 24px)}.actions dyte-button{flex:1 1 0%}.svg-container{display:flex;width:100%;justify-content:center !important}.svg-ins{width:80%;border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}";var yc=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const bc=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.keyPressListener=e=>{"Escape"===e.key&&this.close()},this.stageStatusListener=()=>{this.canProduceVideo="ALLOWED"===this.meeting.self.permissions.canProduceVideo},this.iconPack=Kt,this.t=Zt(),this.activeTab="connection",this.isMobileMainVisible=!1,this.networkStatus="good",this.canProduceVideo=!1}connectedCallback(){document.addEventListener("keydown",this.keyPressListener),this.meetingChanged(this.meeting)}disconnectedCallback(){var e;this.keyPressListener&&document.removeEventListener("keydown",this.keyPressListener),this.poorConnectionListener&&(null===(e=this.meeting)||void 0===e||e.meta.removeListener("poorConnection",this.poorConnectionListener)),this.meeting.stage.removeListener("stageStatusUpdate",this.stageStatusListener)}meetingChanged(e){null!=e&&(this.canProduceVideo="ALLOWED"===this.meeting.self.permissions.canProduceVideo,this.canProduceVideo?this.activeTab="video":this.activeTab="audio",this.poorConnectionListener=({score:e})=>{e<7?this.networkStatus="poor":e<4&&(this.networkStatus="poorest"),setTimeout((()=>{this.networkStatus="good"}),5e3)},e.meta.addListener("poorConnection",this.poorConnectionListener),e.stage.addListener("stageStatusUpdate",this.stageStatusListener))}changeTab(e){this.activeTab=e,"sm"===this.size&&(this.isMobileMainVisible||(this.isMobileMainVisible=!0))}close(){this.stateUpdate.emit({activeSettings:!1})}render(){if(null==this.meeting)return null;const e={meeting:this.meeting,states:this.states,iconPack:this.iconPack,t:this.t};return H(G,null,H("aside",{class:{hide:this.isMobileMainVisible},part:"menu"},H("header",null,H("h2",null,this.t("settings"))),H("button",{type:"button",class:{active:"audio"===this.activeTab},onClick:()=>this.changeTab("audio")},this.t("audio"),H("div",{class:"right"},H("dyte-icon",{icon:this.iconPack.mic_on}),"sm"===this.size&&H("dyte-icon",{icon:this.iconPack.chevron_right}))),this.canProduceVideo&&H("button",{type:"button",class:{active:"video"===this.activeTab},onClick:()=>this.changeTab("video")},this.t("video"),H("div",{class:"right"},H("dyte-icon",{icon:this.iconPack.video_on}),"sm"===this.size&&H("dyte-icon",{icon:this.iconPack.chevron_right}))),H("button",{type:"none",title:`Your network condition is ${this.networkStatus}`},this.t("connection"),H("div",{class:"right"},H("dyte-icon",{icon:this.iconPack.wifi,class:this.networkStatus})))),H("main",{class:{active:this.isMobileMainVisible,scrollbar:!0},part:"main-content"},"sm"===this.size&&H("header",null,H("dyte-button",{kind:"icon",class:"back-btn",onClick:()=>this.isMobileMainVisible=!1},H("dyte-icon",{icon:this.iconPack.chevron_left})),H("h2",null,this.t("audio"===this.activeTab?"audio":"video"))),"audio"===this.activeTab&&H("dyte-settings-audio",Object.assign({},e)),"video"===this.activeTab&&H("dyte-settings-video",Object.assign({},e))))}static get watchers(){return{meeting:["meetingChanged"]}}};yc([ni()],bc.prototype,"meeting",void 0),yc([ni()],bc.prototype,"states",void 0),yc([ni()],bc.prototype,"size",void 0),yc([ni()],bc.prototype,"iconPack",void 0),yc([ni()],bc.prototype,"t",void 0),bc.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;overflow:hidden;border-radius:var(--dyte-border-radius-md, 8px);width:100%;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}header{display:flex;align-items:center;justify-content:space-between;padding-left:var(--dyte-space-4, 16px);padding-right:var(--dyte-space-4, 16px)}.title{font-size:20px;line-height:1}.back-btn,.dismiss-btn{border-radius:var(--dyte-border-radius-sm, 4px);background-color:transparent;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.back-btn:hover,.dismiss-btn:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}aside{box-sizing:border-box;display:flex;min-width:var(--dyte-space-56, 224px);flex-direction:column;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));padding-left:var(--dyte-space-2, 8px)}aside button{margin-top:var(--dyte-space-4, 16px);box-sizing:border-box;display:flex;width:100%;align-items:center;justify-content:space-between;border-top-left-radius:var(--dyte-border-radius-sm, 4px);border-bottom-left-radius:var(--dyte-border-radius-sm, 4px);padding-left:var(--dyte-space-4, 16px);padding-right:var(--dyte-space-4, 16px);padding-top:var(--dyte-space-3, 12px);padding-bottom:var(--dyte-space-3, 12px);background-color:transparent;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));cursor:default;font-size:16px;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);border-width:var(--dyte-border-width-none, 0);border-style:none;outline:2px solid transparent;outline-offset:2px}aside button .right{display:flex;align-items:center}aside button .right dyte-icon{height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px)}aside button .right dyte-icon:last-child{margin-left:var(--dyte-space-4, 16px)}aside button[type='button']{cursor:pointer;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}aside button[type='button']:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}aside button[type='button']{border-right:var(--dyte-border-width-md, 2px) solid transparent}aside button.active{--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-border-opacity));background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / 0.2)}aside button.active:hover{background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / 0.2)}dyte-icon.poor{--tw-text-opacity:1;color:rgba(var(--dyte-colors-warning, 255 205 7) / var(--tw-text-opacity))}dyte-icon.poorest{--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}dyte-icon.good{--tw-text-opacity:1;color:rgba(var(--dyte-colors-success, 98 165 4) / var(--tw-text-opacity))}main{display:flex;flex:1 1 0%;align-items:center;justify-content:center;padding-left:var(--dyte-space-6, 24px);padding-right:var(--dyte-space-6, 24px);box-sizing:border-box;width:100%;max-width:calc(100% - var(--dyte-space-56, 224px))}.dismiss-btn{position:absolute;top:var(--dyte-space-3, 12px);right:var(--dyte-space-3, 12px);height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px)}:host([size='sm']) aside{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}:host([size='sm']) .dismiss-btn{top:var(--dyte-space-5, 20px);right:var(--dyte-space-4, 16px)}:host([size='sm']) aside{width:100%;padding-left:var(--dyte-space-0, 0px)}:host([size='sm']) aside button{border-radius:var(--dyte-border-radius-none, 0)}:host([size='sm']) aside button.active{border-width:var(--dyte-border-width-none, 0);border-style:none;background-color:transparent}:host([size='sm']) aside button.active:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}:host([size='sm']) aside.hide{display:none}:host([size='sm']) main{display:none;max-width:100%;overflow-y:auto;padding-left:var(--dyte-space-4, 16px);padding-right:var(--dyte-space-4, 16px)}:host([size='sm']) main header{justify-content:center}:host([size='sm']) main header dyte-button{position:absolute;left:var(--dyte-space-4, 16px)}:host([size='sm']) main.active{display:block}";var wc=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const xc=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.iconPack=Kt,this.t=Zt()}render(){var e,t;if(null==this.meeting)return null;const i={meeting:this.meeting,states:this.states,size:this.size,iconPack:this.iconPack,t:this.t},a=this.states,s=!0===(null===(e=null==a?void 0:a.prefs)||void 0===e?void 0:e.muteNotificationSounds)||"true"===ei("mute-notification-sounds");return H(G,null,H("dyte-microphone-selector",Object.assign({},i),H("dyte-audio-visualizer",{participant:null===(t=this.meeting)||void 0===t?void 0:t.self,iconPack:this.iconPack,t:this.t,slot:"indicator"})),H("dyte-speaker-selector",Object.assign({},i)),H("div",{class:"group",part:"notification-toggle"},H("div",{class:"row"},H("label",{htmlFor:"notification-toggle"},this.t("settings.notification_sound")),H("dyte-switch",{id:"notification-toggle",checked:!s,onDyteChange:e=>{const{checked:t}=e.target,i=!t;this.stateUpdate.emit({prefs:{muteNotificationSounds:i}}),Xt("mute-notification-sounds",i)},iconPack:this.iconPack,t:this.t}))))}};wc([ni()],xc.prototype,"meeting",void 0),wc([ni()],xc.prototype,"states",void 0),wc([ni()],xc.prototype,"size",void 0),wc([ni()],xc.prototype,"iconPack",void 0),wc([ni()],xc.prototype,"t",void 0),xc.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;width:100%;flex-direction:column}audio{visibility:hidden}.group{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px)}.group>*{margin-bottom:var(--dyte-space-2, 8px)}.group>*:last-child{margin-bottom:var(--dyte-space-0, 0px)}.group select{flex:1 1 0%}dyte-audio-visualizer{flex-shrink:0}dyte-button{border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}dyte-button dyte-icon{margin-right:var(--dyte-space-2, 8px)}";var kc=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Sc=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.iconPack=Kt,this.t=Zt(),this.onVideoUpdate=e=>{this.videoEnabled=e.videoEnabled}}componentDidLoad(){this.meetingChanged(this.meeting)}meetingChanged(e){var t;null!=e&&(this.videoEnabled=e.self.videoEnabled,null===(t=e.self)||void 0===t||t.addListener("videoUpdate",this.onVideoUpdate))}disconnectedCallback(){var e;null===(e=this.meeting.self)||void 0===e||e.removeListener("videoUpdate",this.onVideoUpdate)}render(){var e,t,i;if(null==this.meeting)return null;const a={meeting:this.meeting,states:this.states,size:this.size,iconPack:this.iconPack,t:this.t},s=this.states,r=!0===(null===(e=null==s?void 0:s.prefs)||void 0===e?void 0:e.mirrorVideo)||"true"===ei("mirror-video");return H(G,null,H("div",{class:"section",part:"tile-preview"},H("div",{class:"group",part:"tile-preview"},!0===this.videoEnabled?H("dyte-participant-tile",{meeting:this.meeting,participant:null===(t=this.meeting)||void 0===t?void 0:t.self,iconPack:this.iconPack,t:this.t,states:s,size:this.size,isPreview:!0}):H("div",{class:"camera-off-helper"},H("dyte-participant-tile",{meeting:this.meeting,participant:null===(i=this.meeting)||void 0===i?void 0:i.self,size:this.size},H("div",null,H("dyte-icon",{id:"icon",icon:this.iconPack.video_off,tabIndex:-1,"aria-hidden":!0}),H("div",null,this.t("settings.camera_off"))))))),H("dyte-camera-selector",Object.assign({},a)),H("div",{class:"group",part:"mirror-toggle"},H("div",{class:"row"},H("label",{htmlFor:"mirror-toggle"},this.t("settings.mirror_video")),H("dyte-switch",{checked:r,iconPack:this.iconPack,t:this.t,onDyteChange:e=>{const{checked:t}=e.target;this.stateUpdate.emit({prefs:{mirrorVideo:t}}),Xt("mirror-video",t)}}))))}static get watchers(){return{meeting:["meetingChanged"]}}};kc([ni()],Sc.prototype,"meeting",void 0),kc([ni()],Sc.prototype,"states",void 0),kc([ni()],Sc.prototype,"size",void 0),kc([ni()],Sc.prototype,"iconPack",void 0),kc([ni()],Sc.prototype,"t",void 0),Sc.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.dyte-select{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.dyte-select:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.dyte-select{display:block;border-radius:var(--dyte-border-radius-sm, 4px);border-width:var(--dyte-border-width-none, 0);border-style:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:var(--dyte-space-3, 12px);font-size:16px;--icon-size:var(--dyte-select-chevron-size, var(--dyte-space-6, 24px));--icon-right-position:var(--dyte-select-chevron-right-position, var(--dyte-space-2, 8px));background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e\");background-position:right var(--icon-right-position) center;background-repeat:no-repeat;background-size:var(--icon-size) var(--icon-size);padding-right:calc(var(--icon-right-position) * 5)}:host{display:flex;width:100%;flex-direction:column}.dyte-select{width:100%;text-overflow:ellipsis}dyte-participant-tile{margin-left:auto;margin-right:auto;margin-bottom:var(--dyte-space-4, 16px);max-width:100%}#icon{padding-bottom:var(--dyte-space-1, 4px)}.apply-button{height:var(--dyte-space-10, 40px)}label{-webkit-user-select:none;-moz-user-select:none;user-select:none;font-size:14px}.group{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px)}.group>*{margin-bottom:var(--dyte-space-2, 8px)}.group>*:last-child{margin-bottom:var(--dyte-space-0, 0px)}.group select{flex:1 1 0%}.row{display:flex;align-items:center;justify-content:space-between;gap:var(--dyte-space-3, 12px)}.section{display:flex;flex-direction:column}@media only screen and (max-height: 480px) and (orientation: landscape){:host{flex-direction:row}:host([size='sm']){flex-direction:row}.section[part='tile-preview']{margin-left:var(--dyte-space-2, 8px);margin-right:var(--dyte-space-2, 8px);max-height:90%;max-width:40%;flex-shrink:1}.section[part='video-settings']{margin-left:var(--dyte-space-2, 8px);margin-right:var(--dyte-space-2, 8px);flex-grow:1}}";var Cc=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const _c=class{constructor(e){c(this,e),this.variant="full",this.iconPack=Kt,this.t=Zt(),this.speakerDevices=[],this.currentDevices={speaker:void 0},this.deviceListUpdateListener=async()=>{const e=await this.meeting.self.getSpeakerDevices();this.speakerDevices=e},this.deviceUpdateListener=({device:e})=>{"audiooutput"===e.kind&&(this.currentDevices={speaker:e})},this.mediaPermissionUpdate=async({kind:e,message:t})=>{this.meeting&&"audio"===e&&"ACCEPTED"===t&&(this.speakerDevices=await this.meeting.self.getSpeakerDevices())}}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){var e,t,i;null===(e=this.meeting)||void 0===e||e.self.removeListener("deviceListUpdate",this.deviceListUpdateListener),null===(t=this.meeting)||void 0===t||t.self.removeListener("deviceUpdate",this.deviceUpdateListener),null===(i=this.meeting)||void 0===i||i.self.addListener("mediaPermissionUpdate",this.mediaPermissionUpdate)}meetingChanged(e){null!=e&&L((async()=>{var t,i;const{self:a}=e,s=await e.self.getSpeakerDevices(),r=null===(t=e.self.getCurrentDevices())||void 0===t?void 0:t.speaker;this.currentDevices={speaker:r},a.addListener("deviceListUpdate",this.deviceListUpdateListener),a.addListener("deviceUpdate",this.deviceUpdateListener),a.addListener("mediaPermissionUpdate",this.mediaPermissionUpdate),this.speakerDevices=null!=r?[null!==(i=s.find((e=>e.deviceId===r.deviceId)))&&void 0!==i?i:r,...s.filter((e=>e.deviceId!==r.deviceId))]:s}))}testAudio(){var e;null===(e=this.testAudioEl)||void 0===e||e.play()}setDevice(e){var t,i;if(mt(this.meeting))return;const a=this.speakerDevices.find((t=>t.deviceId===e));this.currentDevices={speaker:a},null!=a&&(null===(t=this.meeting)||void 0===t||t.self.setDevice(a),null===(i=this.testAudioEl)||void 0===i||i.setSinkId(a.deviceId))}render(){if(null==this.meeting)return null;let e=0;return H(G,null,H("audio",{preload:"auto",src:"https://assets.dyte.io/ui-kit/speaker-test.mp3",ref:e=>this.testAudioEl=e}),H("div",{class:"group "+this.variant,part:"speaker-selection"},this.speakerDevices.length>0&&!mt(this.meeting)&&H("div",{class:"container"},H("label",null,"inline"!==this.variant&&this.t("settings.speaker_output"),H("dyte-icon",{icon:this.iconPack.speaker,size:"sm"})),H("div",{class:"row"},H("select",{class:"dyte-select",onChange:e=>this.setDevice(e.target.value)},this.speakerDevices.map((({deviceId:t,label:i})=>{var a;return H("option",{value:t,selected:(null===(a=this.currentDevices.speaker)||void 0===a?void 0:a.deviceId)===t},i||"Speaker "+ ++e)}))))),"full"===this.variant&&H("dyte-button",{variant:"secondary",onClick:()=>this.testAudio()},H("dyte-icon",{icon:this.iconPack.speaker,slot:"start"}),this.t("test"))))}static get watchers(){return{meeting:["meetingChanged"]}}};Cc([ni()],_c.prototype,"meeting",void 0),Cc([ni()],_c.prototype,"states",void 0),Cc([ni()],_c.prototype,"size",void 0),Cc([ni()],_c.prototype,"iconPack",void 0),Cc([ni()],_c.prototype,"t",void 0),_c.style=".dyte-select{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.dyte-select:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.dyte-select{display:block;border-radius:var(--dyte-border-radius-sm, 4px);border-width:var(--dyte-border-width-none, 0);border-style:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:var(--dyte-space-3, 12px);font-size:16px;--icon-size:var(--dyte-select-chevron-size, var(--dyte-space-6, 24px));--icon-right-position:var(--dyte-select-chevron-right-position, var(--dyte-space-2, 8px));background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e\");background-position:right var(--icon-right-position) center;background-repeat:no-repeat;background-size:var(--icon-size) var(--icon-size);padding-right:calc(var(--icon-right-position) * 5);width:100%;max-width:100%;text-overflow:ellipsis}.inline .dyte-select{margin-top:var(--dyte-space-1, 4px);width:100%;padding-top:var(--dyte-space-1, 4px);padding-bottom:var(--dyte-space-1, 4px);padding-left:var(--dyte-space-1\\.5, 6px);padding-right:var(--dyte-space-1\\.5, 6px);padding-right:var(--dyte-space-8, 32px);font-size:14px}.row{display:flex;width:100%;align-items:center;justify-content:space-between;gap:var(--dyte-space-3, 12px)}.group{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px)}.group>*{margin-bottom:var(--dyte-space-2, 8px)}.group>*:last-child{margin-bottom:var(--dyte-space-0, 0px)}.group select{flex:1 1 0%}.inline.group{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-0\\.5, 2px)}.inline.group>*{margin-bottom:var(--dyte-space-0, 0px)}label{display:flex;-webkit-user-select:none;-moz-user-select:none;user-select:none;align-items:center;gap:var(--dyte-space-1, 4px);font-size:14px}.inline .container{display:flex;align-items:center;justify-content:flex-start;gap:var(--dyte-space-2, 8px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px)}";var Pc=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Lc=class{constructor(e){c(this,e),this.iconPack=Kt,this.size="md"}render(){return H(G,{key:"f8333e747d1132d7bc402861ad4977d4c48ce101"},H("dyte-icon",{key:"5ba9127b0a2096f7315e1b349a2c1499f7bcf20c",class:"spinner",icon:this.iconPack.spinner}))}};Pc([ni()],Lc.prototype,"iconPack",void 0),Pc([ni()],Lc.prototype,"size",void 0),Lc.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{box-sizing:border-box;display:block;height:var(--dyte-space-10, 40px);width:var(--dyte-space-10, 40px);--dyte-spinner-color:currentColor}.spinner{height:100%;width:100%}@keyframes spin{to{transform:rotate(360deg)}}.spinner{animation:spin 1s linear infinite;border-radius:9999px;background-color:transparent;animation-duration:1.3s}:host([size='md']){height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px)}:host([size='sm']){height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px)}";var Ec=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Tc=class{constructor(e){c(this,e),this.dyteChange=Q(this,"dyteChange",4),this.checked=!1,this.readonly=!1,this.disabled=!1,this.iconPack=Kt,this.t=Zt(),this.onClick=()=>{this.readonly||this.disabled||(this.checked=!this.checked)},this.onKeyPress=e=>{if(!this.readonly)switch(e.key){case"Enter":case" ":this.checked=!this.checked}}}connectedCallback(){this.checkedChange(this.checked)}checkedChange(e){this.checked=e,this.dyteChange.emit(e)}render(){return H(G,{key:"873702f9dfe5cff8482944e50c3d18cdbcc83185",role:"switch",tabIndex:this.disabled&&0,"aria-readonly":this.readonly,"aria-checked":this.checked,"aria-disabled":this.disabled,class:{checked:this.checked},onClick:this.onClick,onKeyPress:this.onKeyPress},H("div",{key:"01d727f8cbe301d7a1134b522dabd0d9a202923f",class:"switch",part:"switch"}))}static get watchers(){return{checked:["checkedChange"]}}};Ec([ni()],Tc.prototype,"iconPack",void 0),Ec([ni()],Tc.prototype,"t",void 0),Tc.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{box-sizing:border-box;display:inline-flex;height:var(--dyte-space-6, 24px);width:var(--dyte-space-10, 40px);align-items:center;padding:var(--dyte-space-1, 4px);border-radius:9999px;background-color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52));cursor:pointer}.switch{box-sizing:border-box;height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);background-color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));border-radius:9999px;transition-property:var(--dyte-transition-property, all);transition-duration:200ms}:host(.checked){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity))}:host(.checked) .switch{transform:translateX(100%)}:host([readonly]),:host([disabled]){cursor:not-allowed;opacity:0.6}";var Ac=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Rc=class{constructor(e){c(this,e),this.onTextChange=Q(this,"textChange",7),this.disabled=!1,this.rateLimitBreached=!1,this.keyDownHandler=()=>{},this.iconPack=Kt,this.t=Zt(),this.maxLengthBreached=0,this.onInputHandler=()=>{const e=this.$textArea.value.trim();this.maybeResize(e),this.checkLength(e),this.onTextChange.emit(e)},this.maybeResize=e=>{const t=[...e.matchAll(/\n/g)].length;this.$textArea.style.height=`${Math.min(200,60+20*t)}px`}}componentDidLoad(){this.maxLength&&(this.$textArea.maxLength=this.maxLength);const e=this.$textArea.value.trim();""!==e&&this.maybeResize(e),this.$textArea.focus()}async setText(e,t=!1){this.$textArea.value=e,this.maybeResize(e),t&&this.$textArea.focus(),this.checkLength(e),this.onTextChange.emit(e)}checkLength(e){const t=e.length;t+10>=this.maxLength?this.maxLengthBreached=e.length:t+10<this.maxLength&&this.maxLengthBreached>0&&(this.maxLengthBreached=0)}render(){return H("div",{key:"61ed661cf0660b1fc1b4a7efb76ade09d536145d",class:"chat-input",part:"chat-input-container"},this.maxLengthBreached>0&&H("div",{key:"97aecab3860485a146fe4725ebe05bfb010baefa",class:"text-error "+(this.maxLengthBreached===this.maxLength?"breached":"")},H("dyte-icon",{key:"daebcf9e4728ea6a9efe79f0b1a781a863bd465d",id:"warning-indicator",icon:this.iconPack.warning,part:"warning-indicator"})," ",this.maxLengthBreached," / ",this.maxLength," ",this.t("chat.max_limit_warning")),this.rateLimitBreached&&H("div",{key:"92f309d491682582352bdc48b73f06fa9ab49bde",class:"text-error breached"},H("dyte-icon",{key:"7ff7d2636801892348061ea60473dd846f0d2b1d",id:"warning-indicator",icon:this.iconPack.warning,part:"warning-indicator"})," ",this.t("chat.rate_limit_error")),H("textarea",{key:"386477d46285c144ec055cf48bf59b5dbff3989c",ref:e=>this.$textArea=e,placeholder:this.placeholder,disabled:this.disabled,onInput:this.onInputHandler,onKeyDown:this.keyDownHandler,part:"chat-input",value:this.value}))}};Ac([ni()],Rc.prototype,"iconPack",void 0),Ac([ni()],Rc.prototype,"t",void 0),Rc.style=".chat-input {\n  position: relative;\n  z-index: 10;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  border-top-left-radius: var(--dyte-border-radius-md, 8px);\n  border-top-right-radius: var(--dyte-border-radius-md, 8px)\n}\n\n  .chat-input textarea {\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));\n  box-sizing: border-box;\n  padding: var(--dyte-space-3, 12px);\n  color: rgb(var(--dyte-colors-text-1000, 255 255 255))\n}\n\n  .chat-input textarea::-moz-placeholder {\n  color: rgb(var(--dyte-colors-text-1000, 255 255 255))\n}\n\n  .chat-input textarea::placeholder {\n  color: rgb(var(--dyte-colors-text-1000, 255 255 255))\n}\n\n  .chat-input textarea {\n  font-family: var(--dyte-font-family, sans-serif);\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  resize: none;\n  overflow-y: auto;\n  border-width: var(--dyte-border-width-none, 0);\n  border-style: none;\n  min-height: 60px;\n  font-size: 14px\n}\n\n@container chatcontainer (height < 360px) {\n  textarea {\n    height: 30px !important;\n    min-height: 30px !important\n  }\n}\n\n.text-error {\n  left: var(--dyte-space-0, 0px);\n  z-index: 10;\n  margin-top: var(--dyte-space-1, 4px);\n  margin-left: var(--dyte-space-1, 4px);\n  display: flex;\n  width: -moz-fit-content;\n  width: fit-content;\n  align-items: center;\n  justify-content: flex-start;\n  border-radius: var(--dyte-border-radius-sm, 4px);\n  --tw-border-opacity: 1;\n  border-color: rgba(var(--dyte-colors-warning, 255 205 7) / var(--tw-border-opacity));\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));\n  padding-left: var(--dyte-space-2, 8px);\n  padding-right: var(--dyte-space-2, 8px);\n  font-size: 12px;\n  font-weight: 600;\n  --tw-text-opacity: 1;\n  color: rgba(var(--dyte-colors-warning, 255 205 7) / var(--tw-text-opacity));\n  border: 1px solid\n}\n\n#warning-indicator {\n  margin-right: var(--dyte-space-1, 4px);\n  height: var(--dyte-space-3, 12px);\n  width: var(--dyte-space-3, 12px)\n}\n\n.text-error.breached {\n  --tw-border-opacity: 1;\n  border-color: rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-border-opacity));\n  --tw-text-opacity: 1;\n  color: rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))\n}";var Mc=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Dc=class{constructor(e){c(this,e),this.now=new Date,this.isContinued=!1,this.iconPack=Kt,this.t=Zt(),this.showBubble=!1}render(){return H(G,{key:"e082f0075f22f97890614d9b15899a0ed09ade61"},!this.isContinued&&H(oa,{key:"4b825acf9ef68956ff3ce22227de8b411adb34a1",name:this.message.displayName,time:this.message.time,now:this.now}),H("div",{key:"fdeaa70cd0f2b5bc0576e81269af073724081c5f",class:{body:!0,bubble:this.showBubble},part:"body"},H("div",{key:"6ecfefe0b50f26759757e88024e050551d32f370",class:{text:!0,emoji:di(this.message.message)}},H(to,{key:"8272d97cf01cd17426607194a9c39c6152db6e2c",message:this.message.message}))))}};Mc([ni()],Dc.prototype,"iconPack",void 0),Mc([ni()],Dc.prototype,"t",void 0);const Ic=class{constructor(e){c(this,e),this.isMarkdown=!1}render(){return H("p",{key:"0bfd2379f422f2ec89f13714fd40ca29b73bed0d",class:{text:!0,emoji:di(this.text)}},this.isMarkdown?H("dyte-markdown-view",{text:this.text}):this.text)}};Ic.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.text{word-break:break-word;display:block;overflow-wrap:break-word;line-height:1.375}.text.emoji{font-size:24px}";const Oc=class{constructor(e){c(this,e),this.dyteOpenChange=Q(this,"dyteOpenChange",7),this.label="",this.variant="secondary",this.disabled=!1,this.open=!1,this.kind="inline",this.placement="top",this.delay=0,this.isInFocus=!1,this.showMenu=()=>{this.disabled||(this.isInFocus=!0,setTimeout((()=>{this.isInFocus&&(this.tooltipEl.style.display="block",this.update(),this.dyteOpenChange.emit(!0),"sm"===this.size&&setTimeout((()=>{this.isInFocus&&this.hideMenu()}),1e3))}),this.delay))},this.hideMenu=()=>{this.open||this.disabled||(this.isInFocus=!1,this.tooltipEl.style.display="none",this.dyteOpenChange.emit(!1))}}componentDidLoad(){this.triggerEl.addEventListener("focusin",this.showMenu),this.triggerEl.addEventListener("mouseenter",this.showMenu),this.triggerEl.addEventListener("focusout",this.hideMenu),this.triggerEl.addEventListener("mouseleave",this.hideMenu),L((()=>{this.openChanged(this.open)}))}disconnectedCallback(){this.triggerEl&&(this.triggerEl.removeEventListener("focusin",this.showMenu),this.triggerEl.removeEventListener("mouseenter",this.showMenu),this.triggerEl.removeEventListener("focusout",this.hideMenu),this.triggerEl.removeEventListener("mouseleave",this.hideMenu),this.triggerEl=void 0)}openChanged(e){e?this.showMenu():this.hideMenu()}update(){Xn(this.triggerEl,this.tooltipEl,{placement:this.placement,middleware:[Zn(8),Yn(),Wn({padding:5}),Jn({element:this.arrowEl})]}).then((({x:e,y:t,placement:i,middlewareData:a})=>{Object.assign(this.tooltipEl.style,{left:`${e}px`,top:`${t}px`});const{x:s,y:r}=a.arrow,n={top:"bottom",right:"left",bottom:"top",left:"right"}[i.split("-")[0]];Object.assign(this.arrowEl.style,{left:null!=s?`${s}px`:"",top:null!=r?`${r}px`:"",right:"",bottom:"",[n]:"-4px"})}))}render(){return H(G,{key:"408cc292b9ee81259eb1bb4b9df70eb2adf469a7"},H("span",{key:"4fb7a6d6ebe5a15dfe2e016c6a8e83f6c1571463",part:"trigger",id:"trigger",ref:e=>this.triggerEl=e},H("slot",{key:"7cec3218611b38d3de272f80b21aaf2406d6ea46"})),H("div",{key:"0bcf3a675eb667b2604d9f69fc8cf5c125ef0c5c",part:"tooltip",class:"tooltip",id:"tooltip",role:"tooltip",ref:e=>this.tooltipEl=e},H("div",{key:"51965a748edbb9ec286fc3f89a34e93e30ec958e",id:"arrow",ref:e=>this.arrowEl=e,part:"arrow"}),this.label,H("slot",{key:"6149d55b7fa3b346161d02d793717f5f839fafff",name:"tooltip"})))}static get watchers(){return{open:["openChanged"]}}};!function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);r>3&&n&&Object.defineProperty(t,i,n)}([ni()],Oc.prototype,"size",void 0),Oc.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{--background-color:var(--dyte-tooltip-background-color, rgb(var(--dyte-colors-background-600, 60 60 60)));--color:var(--dyte-tooltip-color, rgb(var(--dyte-colors-text-1000, 255 255 255)));display:inline-flex}#trigger{display:block;width:100%;flex:1 1 0%}.tooltip{max-width:var(--dyte-space-64, 256px);position:fixed;z-index:20;display:none;width:-moz-max-content;width:max-content;padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);padding-top:var(--dyte-space-1, 4px);padding-bottom:var(--dyte-space-1, 4px);border-radius:var(--dyte-border-radius-sm, 4px);--tw-shadow:0 1px 2px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);font-size:12px}.tooltip,#arrow{position:absolute;background-color:var(--background-color);color:var(--color)}#arrow{position:absolute;height:var(--dyte-space-2, 8px);width:var(--dyte-space-2, 8px);transform:rotate(45deg)}:host([variant='primary']){--background-color:rgb(var(--dyte-colors-brand-500, 33 96 253));--color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}:host([kind='block']){display:block}";var $c=Object.freeze({__proto__:null,dyte_audio_visualizer:oo,dyte_avatar:lo,dyte_breakout_room_manager:po,dyte_breakout_room_participants:uo,dyte_breakout_rooms_manager:mo,dyte_broadcast_message_modal:yo,dyte_button:bo,dyte_camera_selector:xo,dyte_channel_creator:So,dyte_channel_details:_o,dyte_channel_header:Lo,dyte_channel_selector_view:To,dyte_chat:Ro,dyte_chat_composer_view:Io,dyte_chat_message:$o,dyte_chat_messages_ui:jo,dyte_chat_messages_ui_paginated:No,dyte_chat_search_results:Bo,dyte_confirmation_modal:Vo,dyte_counter:qo,dyte_debugger:Ko,dyte_debugger_audio:id,dyte_debugger_screenshare:sd,dyte_debugger_system:nd,dyte_debugger_video:dd,dyte_dialog:ld,dyte_dialog_manager:pd,dyte_draft_attachment_view:ud,dyte_emoji_picker:vd,dyte_emoji_picker_button:bd,dyte_file_message:Cd,dyte_file_message_view:_d,dyte_file_picker_button:Ld,dyte_icon:Td,dyte_image_message:Rd,dyte_image_message_view:Dd,dyte_image_viewer:Od,dyte_join_stage:Ud,dyte_leave_meeting:Fd,dyte_logo:zd,dyte_markdown_view:Bd,dyte_meeting:Vd,dyte_menu:qd,dyte_menu_item:Kd,dyte_menu_list:Yd,dyte_message_view:Qd,dyte_microphone_selector:Xd,dyte_mute_all_confirmation:tc,dyte_notification:ac,dyte_notifications:dc,dyte_overlay_modal:lc,dyte_paginated_list:pc,dyte_participant_tile:uc,dyte_permissions_message:vc,dyte_settings:bc,dyte_settings_audio:xc,dyte_settings_video:Sc,dyte_speaker_selector:_c,dyte_spinner:Lc,dyte_switch:Tc,dyte_text_composer_view:Rc,dyte_text_message:Dc,dyte_text_message_view:Ic,dyte_tooltip:Oc});var Uc=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const jc=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.config=zt,this.iconPack=Kt,this.t=Zt(),this.view="sidebar",this.close=()=>{this.stateUpdate.emit({activeAI:!1})}}connectedCallback(){this.viewChanged(this.view)}disconnectedCallback(){this.keydownListener&&document.removeEventListener("keydown",this.keydownListener)}viewChanged(e){"full-screen"===e&&(this.keydownListener=e=>{"Escape"===e.key&&this.close()},document.addEventListener("keydown",this.keydownListener))}render(){var e,t,i;if(!(null===(t=null===(e=this.meeting)||void 0===e?void 0:e.self)||void 0===t?void 0:t.permissions).transcriptionEnabled||!(null===(i=this.states)||void 0===i?void 0:i.activeAI))return null;const a={meeting:this.meeting,config:this.config,states:this.states,size:this.size,t:this.t,iconPack:this.iconPack};return H(G,null,H("h3",{class:"title"},this.t("ai.transcriptions")),H("dyte-button",{variant:"ghost",kind:"icon",class:"close",onClick:this.close,"aria-label":this.t("close")},H("dyte-icon",{icon:this.iconPack.dismiss})),H("dyte-ai-transcriptions",Object.assign({},a)))}static get watchers(){return{view:["viewChanged"]}}};Uc([ni()],jc.prototype,"meeting",void 0),Uc([ni()],jc.prototype,"states",void 0),Uc([ni()],jc.prototype,"iconPack",void 0),Uc([ni()],jc.prototype,"t",void 0),Uc([ni()],jc.prototype,"size",void 0),jc.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{position:relative;box-sizing:border-box;display:flex;width:100%;max-width:var(--dyte-space-80, 320px);flex-direction:column;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));overflow:hidden}.close{position:absolute;top:var(--dyte-space-3, 12px);left:var(--dyte-space-3, 12px)}.title{margin-left:var(--dyte-space-0, 0px);margin-right:var(--dyte-space-0, 0px);margin-top:var(--dyte-space-4, 16px);margin-bottom:var(--dyte-space-2, 8px);-webkit-user-select:none;-moz-user-select:none;user-select:none;padding:var(--dyte-space-0, 0px);text-align:center;font-size:14px;font-weight:400}dyte-ai-transcriptions{flex:1}:host([view='sidebar']){margin-left:var(--dyte-space-2, 8px);margin-right:var(--dyte-space-2, 8px);border-radius:var(--dyte-border-radius-lg, 12px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity))}:host([view='full-screen']){position:absolute;top:var(--dyte-space-0, 0px);right:var(--dyte-space-0, 0px);bottom:var(--dyte-space-0, 0px);left:var(--dyte-space-0, 0px);z-index:50;max-width:100%;border:none}";var Fc=Object.freeze({__proto__:null,dyte_ai:jc});var Nc=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const zc=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.variant="button",this.iconPack=Kt,this.t=Zt(),this.aiActive=!1}statesChanged(e){const t=e;this.aiActive=t.activeAI}toggleAI(){var e;this.aiActive=!(null===(e=this.states)||void 0===e?void 0:e.activeAI),this.stateUpdate.emit({activeAI:this.aiActive,activeMoreMenu:!1,activeSidebar:!1})}render(){var e,t;const i=this.t("ai.meeting_ai");return(null===(t=null===(e=this.meeting)||void 0===e?void 0:e.self)||void 0===t?void 0:t.permissions).transcriptionEnabled?H(G,{title:i},H("dyte-controlbar-button",{part:"controlbar-button",size:this.size,iconPack:this.iconPack,class:{active:this.aiActive},onClick:()=>this.toggleAI(),icon:this.iconPack.meeting_ai,label:i,variant:this.variant,brandIcon:!0})):H(G,{"data-hidden":!0})}static get watchers(){return{states:["statesChanged"]}}};Nc([ni()],zc.prototype,"states",void 0),Nc([ni()],zc.prototype,"meeting",void 0),Nc([ni()],zc.prototype,"size",void 0),Nc([ni()],zc.prototype,"iconPack",void 0),Nc([ni()],zc.prototype,"t",void 0),zc.style=":host{display:block}:host([data-hidden]){display:none}";var Bc=Object.freeze({__proto__:null,dyte_ai_toggle:zc});var Hc=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Vc=class{constructor(e){c(this,e),this.iconPack=Kt,this.t=Zt(),this.hideSelf=!1,this.activeParticipants=[],this.onStageParticipants=[],this.offStageParticipants=[],this.onParticipantListUpdate=()=>{if(!this.meeting)return;let e=this.meeting.participants.active.toArray();this.hideSelf||(e=[...e,this.meeting.self]);let t=this.meeting.participants.joined.toArray().filter((t=>!e.some((e=>e.id===t.id))));this.activeParticipants=e,this.onStageParticipants=t}}connectedCallback(){this.meetingChanged(this.meeting)}meetingChanged(e){e&&"AUDIO_ROOM"===e.self.config.viewType&&(this.onParticipantListUpdate(),e.participants.active.addListener("participantJoined",this.onParticipantListUpdate),e.participants.active.addListener("participantLeft",this.onParticipantListUpdate),e.participants.joined.addListener("participantJoined",this.onParticipantListUpdate),e.participants.joined.addListener("participantLeft",this.onParticipantListUpdate))}disconnectedCallback(){this.resizeObserver.disconnect(),this.resizeObserver=void 0,this.meeting.participants.active.removeListener("participantJoined",this.onParticipantListUpdate),this.meeting.participants.active.removeListener("participantLeft",this.onParticipantListUpdate),this.meeting.participants.joined.removeListener("participantJoined",this.onParticipantListUpdate),this.meeting.participants.joined.removeListener("participantLeft",this.onParticipantListUpdate)}renderGrid(e=[]){const t={meeting:this.meeting,size:this.size,config:this.config,t:this.t,iconPack:this.iconPack,states:this.states};return e.map((e=>H(pa,{element:"dyte-audio-tile",defaults:t,props:{key:e.id,participant:e},childProps:{participant:e},deepProps:!0})))}render(){const e=this.activeParticipants.concat(this.onStageParticipants);return H(G,{key:"e6ed7876a5948aac4b9596698f2e3047eefc05b5"},H("div",{key:"94bb5d98a30cb29a6d949a6ad86cedff15590dc2",class:"content scrollbar"},H("div",{key:"c5521d2415aeb886b178d3792bf50d2942e8293a",class:"stage grid"},this.renderGrid(e)),this.offStageParticipants.length>0&&H("div",{key:"99a43051949d1496fdad0f73b26e6b6caaf14701",class:"waitlist-area"},H("div",{key:"fecc92badc9ce6517a47e98ae3ab28b486a3698a",class:"listening-title"},this.offStageParticipants.length," ",this.t("grid.listening")),H("div",{key:"eadea3da9dbc7fd01a9333def00649a1ababaf6c",class:"waitlist-grid grid"},this.renderGrid(this.offStageParticipants)))),H("slot",{key:"6e05c350e0ad677d3f2f00436ce5c985bf00e498"}))}get host(){return Y(this)}static get watchers(){return{meeting:["meetingChanged"]}}};Hc([ni()],Vc.prototype,"meeting",void 0),Hc([ni()],Vc.prototype,"states",void 0),Hc([ni()],Vc.prototype,"iconPack",void 0),Hc([ni()],Vc.prototype,"size",void 0),Hc([ni()],Vc.prototype,"t",void 0),Vc.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{position:relative;height:100%;width:100%;box-sizing:border-box}.content{position:relative;display:flex;height:100%;width:100%;flex-direction:column;overflow-y:auto}.waitlist-area{display:flex;flex-direction:column;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.listening-title{text-align:center;margin-top:var(--dyte-space-5, 20px);margin-bottom:var(--dyte-space-4, 16px)}.waitlist-grid{flex:1 1 0%}.grid{box-sizing:border-box;flex:1 1 0%;gap:var(--dyte-space-6, 24px);display:flex;align-content:center;justify-content:center;flex-wrap:wrap}:host([size='md']) .grid{gap:var(--dyte-space-4, 16px)}:host([size='sm']) .grid{gap:var(--dyte-space-3, 12px)}dyte-audio-tile{aspect-ratio:1 / 1;flex:none;width:calc(20%);max-width:var(--dyte-space-48, 192px);transition:all 0.3s}dyte-audio-tile[size='md']{width:100%;max-width:var(--dyte-space-36, 144px)}dyte-audio-tile[size='sm']{width:100%;max-width:var(--dyte-space-24, 96px)}";var Gc=Object.freeze({__proto__:null,dyte_audio_grid:Vc});var qc=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Zc=class{constructor(e){c(this,e),this.iconPack=Kt,this.t=Zt(),this.audioEnabled=!1,this.volume=0,this.onAudioUpdate=({audioEnabled:e,audioTrack:t})=>{if(this.participant)if(e&&t){const e=new MediaStream;e.addTrack(t),this.calcVolume(e),this.audioEnabled=!0}else this.volume=0,this.audioEnabled=!1}}connectedCallback(){this.participantChanged(this.participant)}disconnectedCallback(){var e,t;null===(e=this.hark)||void 0===e||e.stop(),null===(t=this.participant)||void 0===t||t.removeListener("audioUpdate",this.onAudioUpdate)}participantChanged(e){e&&(this.audioEnabled=e.audioEnabled,e.addListener("audioUpdate",this.onAudioUpdate))}calcVolume(e){this.hark=at(e,{play:!1,interval:100}),this.hark.on("volume_change",(e=>{const t=this.volume;let i=Math.round(10**(e/115)*10);i<3&&(i=0);let a=Math.round((2*t+i)/3);t!==a&&(this.volume=a)}))}render(){const e={meeting:this.meeting,size:this.size,config:this.config,states:this.states,iconPack:this.iconPack,t:this.t};let t="bar-0";return t=this.volume>5?"bar-5":this.volume<0?"bar-0":"bar-"+this.volume,H(G,{key:"857dc5cefa005a9f429a32b01ef482ad8b2b667f"},H("div",{key:"ea0841398dee55b4cae6fb8a740e0057d1f25071",class:{"avatar-ctr":!0,speaking:this.audioEnabled,[t]:!0}},H("dyte-avatar",{key:"84197cb9acc92408a7033c3d0e6e5459a8351e9d",participant:this.participant,size:this.size},!this.audioEnabled&&H("div",{key:"9a284bd8863f638321aae3e84a1ac39a73ee9840",class:"mic-icon"},H("dyte-icon",{key:"5ea4329213d65c112acf9e323c1c29f61f6f3117",icon:Kt.mic_off})))),H("dyte-name-tag",Object.assign({key:"d799227e0ad142d6832bd7796ce1f39a4040e19e",variant:"text",participant:this.participant},e)),H("slot",{key:"b2b8b06518be41c39ee1d9574192d57993a31bae"}))}static get watchers(){return{participant:["participantChanged"]}}};qc([ni()],Zc.prototype,"meeting",void 0),qc([ni()],Zc.prototype,"size",void 0),qc([ni()],Zc.prototype,"states",void 0),qc([ni()],Zc.prototype,"iconPack",void 0),qc([ni()],Zc.prototype,"t",void 0),Zc.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{box-sizing:border-box;display:flex;flex-direction:column}.avatar-ctr{box-sizing:border-box;width:100%;flex:1 1 0%;padding:var(--dyte-space-1\\.5, 6px);border:2px solid transparent;border-radius:calc(var(--dyte-border-radius-xl, 40px) + var(--dyte-space-1\\.5, 6px))}.avatar-ctr.speaking{--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-border-opacity));transition-property:box-shadow;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.bar-0{box-shadow:none}.bar-1{box-shadow:0 0 4px rgb(var(--dyte-colors-brand-500, 33 96 253))}.bar-2{box-shadow:0 0 8px rgb(var(--dyte-colors-brand-500, 33 96 253))}.bar-3{box-shadow:0 0 16px 1px rgb(var(--dyte-colors-brand-500, 33 96 253))}.bar-4{box-shadow:0 0 20px 3px rgb(var(--dyte-colors-brand-500, 33 96 253))}.bar-5{box-shadow:0 0 24px 6px rgb(var(--dyte-colors-brand-500, 33 96 253))}dyte-avatar{aspect-ratio:1 / 1;height:100%;width:100%;position:relative;border-radius:var(--dyte-border-radius-xl, 40px)}dyte-name-tag{display:block;height:var(--dyte-space-10, 40px);width:100%;text-align:center;line-height:2.5rem}:host([size='sm']) .avatar-ctr{border-radius:calc(var(--dyte-border-radius-lg, 12px) + var(--dyte-space-1\\.5, 6px))}:host([size='sm']) dyte-name-tag{height:var(--dyte-space-7, 28px);line-height:1.75rem}:host([size='sm']) dyte-avatar{border-radius:var(--dyte-border-radius-lg, 12px)}.mic-icon{position:absolute;bottom:calc(var(--dyte-space-1, 4px) * -1);right:calc(var(--dyte-space-1, 4px) * -1);border-radius:9999px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));padding:var(--dyte-space-2, 8px);color:rgb(var(--dyte-colors-text-1000, 255 255 255));--tw-shadow:0 1px 2px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.mic-icon dyte-icon{height:var(--dyte-space-7, 28px);width:var(--dyte-space-7, 28px)}:host([size='sm']) .mic-icon dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px)}:host([size='md']) .mic-icon dyte-icon{height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px)}";var Kc=Object.freeze({__proto__:null,dyte_audio_tile:Zc});var Wc=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Yc=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.variant="button",this.iconPack=Kt,this.t=Zt(),this.canToggle=!1,this.permissionsUpdateListener=()=>{this.canToggle=kt(this.meeting)},this.breakoutRoomToggle=()=>{var e,t;const i=this.meeting.connectedMeetings.isActive?"view":"create";this.stateUpdate.emit({activeBreakoutRoomsManager:{active:!(null===(t=null===(e=this.states)||void 0===e?void 0:e.activeBreakoutRoomsManager)||void 0===t?void 0:t.active),mode:i}})}}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){var e,t,i;null===(i=null===(t=null===(e=this.meeting)||void 0===e?void 0:e.self)||void 0===t?void 0:t.permissions)||void 0===i||i.off("permissionsUpdate",this.permissionsUpdateListener)}meetingChanged(e){e&&(this.canToggle=kt(e),e.self.permissions.on("permissionsUpdate",this.permissionsUpdateListener))}render(){if(this.canToggle)return H(G,{title:this.t("breakout_rooms")},H("dyte-controlbar-button",{part:"controlbar-button",size:this.size,iconPack:this.iconPack,onClick:this.breakoutRoomToggle,icon:this.iconPack.breakout_rooms,label:this.t("breakout_rooms"),variant:this.variant}))}static get watchers(){return{meeting:["meetingChanged"]}}};Wc([ni()],Yc.prototype,"meeting",void 0),Wc([ni()],Yc.prototype,"states",void 0),Wc([ni()],Yc.prototype,"size",void 0),Wc([ni()],Yc.prototype,"iconPack",void 0),Wc([ni()],Yc.prototype,"t",void 0),Yc.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block}";var Qc=Object.freeze({__proto__:null,dyte_breakout_rooms_toggle:Yc});var Jc=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Xc=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.videoUpdateListener=({videoEnabled:e})=>{this.videoEnabled=e},this.stageStatusListener=()=>{this.stageStatus=this.meeting.stage.status,this.canProduceVideo="ALLOWED"===this.meeting.self.permissions.canProduceVideo},this.mediaPermissionUpdateListener=({kind:e,message:t})=>{"video"===e&&(this.cameraPermission=t)},this.meetingPermissionsUpdateListener=e=>{var t;(null===(t=null==e?void 0:e.media)||void 0===t?void 0:t.video)&&(this.canProduceVideo="ALLOWED"===this.meeting.self.permissions.canProduceVideo)},this.variant="button",this.iconPack=Kt,this.t=Zt(),this.videoEnabled=!1,this.canProduceVideo=!1,this.cameraPermission="NOT_REQUESTED",this.stageStatus="OFF_STAGE",this.toggleCamera=()=>{var e,t,i,a,s,r,n,o,d,c,l;if(null===(e=this.meeting)||void 0===e||e.__internals__.logger.info("dyteCameraToggle::toggleCamera",{media:{video:{enabled:Boolean(null===(i=null===(t=this.meeting)||void 0===t?void 0:t.self)||void 0===i?void 0:i.videoEnabled),permission:this.cameraPermission,canProduce:null===(r=null===(s=null===(a=this.meeting)||void 0===a?void 0:a.self)||void 0===s?void 0:s.permissions)||void 0===r?void 0:r.canProduceVideo}},webinar:{stageStatus:null===(n=this.meeting)||void 0===n?void 0:n.stage.status},livestream:{stageStatus:null===(d=null===(o=this.meeting)||void 0===o?void 0:o.stage)||void 0===d?void 0:d.status},moduleExists:{self:Boolean(null===(c=this.meeting)||void 0===c?void 0:c.self)}}),this.hasPermissionError()){const e={enabled:!0,kind:"video"};return this.stateUpdate.emit({activePermissionsMessage:e}),!1}const h=null===(l=this.meeting)||void 0===l?void 0:l.self;null!=h&&this.canProduceVideo&&(h.videoEnabled?h.disableVideo():h.enableVideo())}}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){var e,t,i,a,s,r,n;null===(e=this.meeting)||void 0===e||e.self.removeListener("videoUpdate",this.videoUpdateListener),null===(t=this.meeting)||void 0===t||t.self.removeListener("mediaPermissionUpdate",this.mediaPermissionUpdateListener),null===(a=null===(i=this.meeting)||void 0===i?void 0:i.stage)||void 0===a||a.removeListener("stageStatusUpdate",this.stageStatusListener),null===(n=null===(r=null===(s=this.meeting)||void 0===s?void 0:s.self)||void 0===r?void 0:r.permissions)||void 0===n||n.removeListener("permissionsUpdate",this.meetingPermissionsUpdateListener)}meetingChanged(e){var t,i;if(null!=e){const{self:a,stage:s}=e;this.canProduceVideo="ALLOWED"===this.meeting.self.permissions.canProduceVideo,this.cameraPermission=a.mediaPermissions.video||"NOT_REQUESTED",this.videoEnabled=a.videoEnabled,this.stageStatus=e.stage.status,a.addListener("videoUpdate",this.videoUpdateListener),a.addListener("mediaPermissionUpdate",this.mediaPermissionUpdateListener),null==s||s.addListener("stageStatusUpdate",this.stageStatusListener),null===(i=null===(t=null==e?void 0:e.self)||void 0===t?void 0:t.permissions)||void 0===i||i.addListener("permissionsUpdate",this.meetingPermissionsUpdateListener)}}hasPermissionError(){return"DENIED"===this.cameraPermission||"SYSTEM_DENIED"===this.cameraPermission}getState(){let e="",t="",i="",a={},s=this.hasPermissionError(),r="COULD_NOT_START"===this.cameraPermission;return this.videoEnabled&&!s?(t=this.t("video_on"),i=this.iconPack.video_on):(t=this.t("video_off"),i=this.iconPack.video_off,a["red-icon"]=!0),e=r?this.t("perm_could_not_start.video"):"SYSTEM_DENIED"===this.cameraPermission?this.t("perm_sys_denied.video"):"DENIED"===this.cameraPermission?this.t("perm_denied.video"):this.videoEnabled?this.t("disable_video"):this.t("enable_video"),{tooltipLabel:e,label:t,icon:i,classList:a,showWarning:s||r,disable:s}}render(){var e;if(!this.canProduceVideo||"AUDIO_ROOM"===(null===(e=this.meeting)||void 0===e?void 0:e.meta.viewType)||["OFF_STAGE","REQUESTED_TO_JOIN_STAGE"].includes(this.stageStatus))return H(G,{"data-hidden":!0});const{tooltipLabel:t,label:i,icon:a,classList:s,showWarning:r,disable:n}=this.getState();return H(G,{title:i},H("dyte-tooltip",{kind:"block",label:t,part:"tooltip"},H("dyte-controlbar-button",{part:"controlbar-button",size:this.size,iconPack:this.iconPack,class:s,variant:this.variant,label:i,icon:a,onClick:this.toggleCamera,showWarning:r,disabled:n})))}static get watchers(){return{meeting:["meetingChanged"]}}};Jc([ni()],Xc.prototype,"meeting",void 0),Jc([ni()],Xc.prototype,"size",void 0),Jc([ni()],Xc.prototype,"iconPack",void 0),Jc([ni()],Xc.prototype,"t",void 0),Xc.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block}:host([data-hidden]){display:none}";var el=Object.freeze({__proto__:null,dyte_camera_toggle:Xc});var tl=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const il=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.variant="button",this.config=zt,this.iconPack=Kt,this.t=Zt(),this.captionEnabled=!1,this.permissionsUpdateListener=()=>{var e;this.captionEnabled=null!==(e=this.meeting.self.permissions.transcriptionEnabled)&&void 0!==e&&e}}connectedCallback(){this.meetingChanged(this.meeting)}meetingChanged(e){null!==e&&(this.permissionsUpdateListener(),this.meeting.self.permissions.addListener("permissionsUpdate",this.permissionsUpdateListener))}disconnectedCallback(){var e;null===(e=this.meeting)||void 0===e||e.self.permissions.removeListener("permissionsUpdate",this.permissionsUpdateListener)}toggleCaptions(){this.stateUpdate.emit({activeCaptions:!this.states.activeCaptions,activeMoreMenu:!1})}render(){if(!this.captionEnabled)return null;const e=this.states.activeCaptions;return H(G,{tabIndex:0,role:"log","aria-label":"Picture-in-Picture mode"},H("dyte-controlbar-button",{part:"controlbar-button",size:this.size,iconPack:this.iconPack,onClick:()=>this.toggleCaptions(),icon:e?this.iconPack.captionsOff:this.iconPack.captionsOn,label:e?this.t("transcript.off"):this.t("transcript.on"),variant:this.variant}))}static get watchers(){return{meeting:["meetingChanged"]}}};tl([ni()],il.prototype,"meeting",void 0),tl([ni()],il.prototype,"states",void 0),tl([ni()],il.prototype,"iconPack",void 0),tl([ni()],il.prototype,"size",void 0),tl([ni()],il.prototype,"t",void 0),il.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block}";var al=Object.freeze({__proto__:null,dyte_caption_toggle:il});var sl=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const rl=class{constructor(e){c(this,e),this.channelChanged=Q(this,"channelChanged",7),this.iconPack=Kt,this.t=Zt(),this.showRecentMessage=!1,this.isHidden=!1,this.searchQuery="",this.handleResize=e=>{this.isHidden=!e.matches},this.channelSelected=e=>{this.channelChanged.emit(e),this.onRevealClicked()},this.onSearchInput=e=>{this.searchQuery=e.target.value},this.onRevealClicked=()=>{this.matchMedia.matches||(this.isHidden=!this.isHidden)},this.renderChannelDisplayPic=e=>{const t=e.displayPictureUrl&&0!==e.displayPictureUrl.length;return e.isDirectMessage||t?H("div",{class:"channel-display"},H("dyte-avatar",{participant:{name:e.displayName,picture:e.displayPictureUrl}})):H("div",{class:"channel-display"},H("dyte-icon",{icon:this.iconPack.people,slot:"start"}))},this.renderRecentMessage=e=>{if(!e.latestMessage)return H("p",{class:"latest-msg new"},this.t("chat.start_conversation"));let t=e.isDirectMessage?"":`${e.latestMessage.displayName}: `;if("text"===e.latestMessage.type)return H("p",{class:"latest-msg"},t,H(to,{message:e.latestMessage.message}));let i="";return"image"===e.latestMessage.type?i=this.t("image"):"file"===e.latestMessage.type&&(i=this.t("file")),H("p",{class:"latest-msg"},`${t}${i}`)}}connectedCallback(){this.matchMedia=window.matchMedia("(orientation: landscape) and (min-width: 400px)"),this.matchMedia.addEventListener("change",this.handleResize),this.isHidden=!this.matchMedia.matches}disconnectedCallback(){this.matchMedia.removeEventListener("change",this.handleResize)}componentDidRender(){this.$el.style.transform=this.isHidden?"translateX(-380px)":"translateX(0)"}getTimeLabel(e){const t=e.time,i=new Date,a=new Date(i);a.setDate(i.getDate()-1);const s=new Date(i);if(s.setDate(i.getDate()-i.getDay()-1),t.toDateString()===i.toDateString())return t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(t.toDateString()===a.toDateString())return this.t("date.yesteday");if(t>s){const e=["date.sunday","date.monday","date.tuesday","date.wednesday","date.thursday","date.friday","date.saturday"];return this.t(e[t.getDay()])}return Intl.DateTimeFormat([],{day:"2-digit",month:"2-digit",year:"2-digit"}).format(t)}render(){return H(G,{key:"27beb64372e71cdbb45b0bc42e834a063e266cab"},H("div",{key:"f3cb26446d420df375d787366b02d1013ecad4f0",class:"container",ref:e=>this.$el=e},this.isHidden&&H("dyte-button",{key:"be5dbd465d468c14be597c0ceda26f0cf9075fe5",kind:"icon",variant:"ghost",size:"md",onClick:this.onRevealClicked,class:"sidebar-btn"},H("dyte-icon",{key:"9e3d65b701a7741226c8f9acbda523c584f7c7b7",icon:this.isHidden?this.iconPack.chevron_left:this.iconPack.dismiss})),H("slot",{key:"8d358b9e23259c5ebf45898c0938d5cbfbcd7b56",name:"header"}),H("div",{key:"35f4e5036e536020337db098c7769d414215bf96",class:"search-wrapper"},H("div",{key:"d5663429fbf31cf231204c5cde31e1f9a0e9afe0",class:"search"},H("input",{key:"9c156d36dc6501de62f7ba622a20b7ce407a2ede",type:"search",autocomplete:"off",placeholder:this.t("chat.search_conversations"),onInput:this.onSearchInput}),H("dyte-icon",{key:"498ecabfbce5b0725618e1112dc1dcb7eca2dd58",icon:this.iconPack.search,class:"search-icon"}))),H("div",{key:"c33ba36c7e50fda20ef39ee12725e4d64f8cb520",class:"channel-container scrollbar",role:"list"},this.channels.filter((e=>""===this.searchQuery||e.displayName.includes(this.searchQuery))).map((e=>H("div",{class:{channel:!0,selected:e.id===this.selectedChannelId,highlight:!!e.unreadCount},role:"listitem",onClick:()=>{this.channelSelected(e.id)}},this.renderChannelDisplayPic(e),H("div",{class:"channel-card","is-direct-message":e.isDirectMessage},H("div",{class:"recent-message-row"},H("span",{class:"channel-name"},e.displayName),e.latestMessage&&H("span",{class:"latest-msg-time"},this.getTimeLabel(e.latestMessage))),H("div",{class:"recent-message-row"},this.renderRecentMessage(e),e.unreadCount>0&&e.id!==this.selectedChannelId?H("span",{class:"new-msgs-count"},e.unreadCount<99?e.unreadCount:"99+"):null))))))),!this.isHidden&&H("div",{key:"cc51252e87759bb0fa10de6bae2b3b9af783693f",class:"overlay-container"},H("dyte-button",{key:"5d66dc9ddbfa169f2c3c077d919d0fcaf4c6eeca",kind:"icon",variant:"ghost",size:"md",onClick:this.onRevealClicked,class:"sidebar-btn"},H("dyte-icon",{key:"d81b19a9e5af1a62df723cd32d27779c59dd3ded",icon:this.isHidden?this.iconPack.chevron_left:this.iconPack.dismiss}))))}};sl([ni()],rl.prototype,"iconPack",void 0),sl([ni()],rl.prototype,"t",void 0),rl.style=".scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{display:flex}.container{display:flex;height:100%;width:var(--dyte-space-96, 384px);flex-direction:column;position:absolute;--tw-translate-x:calc(var(--dyte-space-96, 384px) * -1);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));border-top-width:var(--dyte-border-width-none, 0);border-bottom-width:var(--dyte-border-width-none, 0);border-right-width:var(--dyte-border-width-sm, 1px);border-left-width:var(--dyte-border-width-none, 0);border-style:solid;--tw-border-opacity:1;border-right-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-border-opacity));transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}@keyframes fade{0%{opacity:0}100%{opacity:1}}.overlay-container{width:100vw;--tw-translate-x:var(--dyte-space-96, 384px);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms;animation:fade 0.8s}.overlay-container .sidebar-btn{position:static;padding:var(--dyte-space-4, 16px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.sidebar-btn{position:absolute;right:calc(var(--dyte-space-9, 36px) * -1);top:var(--dyte-space-4, 16px);height:var(--dyte-space-8, 32px);width:var(--dyte-space-7, 28px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));border-radius:var(--dyte-border-radius-sm, 4px)}@media (orientation: landscape) and (min-width: 400px){.container{position:static;--tw-translate-x:var(--dyte-space-0, 0px);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.sidebar-btn,.overlay-container{display:none}}.search-wrapper{display:flex;align-items:center;gap:var(--dyte-space-2, 8px);padding:var(--dyte-space-2, 8px);border-left-width:var(--dyte-border-width-none, 0);border-right-width:var(--dyte-border-width-none, 0);border-bottom-width:var(--dyte-border-width-sm, 1px);border-top-width:var(--dyte-border-width-none, 0);border-style:solid;--tw-border-opacity:1;border-bottom-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-border-opacity))}.search{position:sticky;box-sizing:border-box;display:flex;align-items:center;border-radius:var(--dyte-border-radius-sm, 4px);margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-0, 0px);height:var(--dyte-space-8, 32px);width:100%}.search .search-icon{height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px);padding:var(--dyte-space-2, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52));border-top-right-radius:var(--dyte-border-radius-sm, 4px);border-bottom-right-radius:var(--dyte-border-radius-sm, 4px)}.search input{box-sizing:border-box;width:100%;padding-top:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-2, 8px);padding-left:var(--dyte-space-2, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));border-width:var(--dyte-border-width-none, 0);border-style:none;outline:2px solid transparent;outline-offset:2px;font-size:14px;line-height:1.25rem}.search input::-moz-placeholder{color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}.search input::placeholder{color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}.search input{border-top-left-radius:var(--dyte-border-radius-sm, 4px);border-bottom-left-radius:var(--dyte-border-radius-sm, 4px)}.channel-container{box-sizing:border-box;display:flex;flex-direction:column;padding-top:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-2, 8px);overflow-y:scroll}.channel-container .channel{display:flex;align-items:center;justify-content:space-between;gap:var(--dyte-space-2, 8px);padding:var(--dyte-space-0, 0px);border-left-width:var(--dyte-border-width-none, 0);border-right-width:var(--dyte-border-width-none, 0);border-bottom-width:var(--dyte-border-width-sm, 1px);border-top-width:var(--dyte-border-width-none, 0);border-style:solid;--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-border-opacity))}.channel-container .channel:hover{cursor:pointer;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-on-brand-900, var(--dyte-colors-text-900, 255 255 255 / 0.88)))}.channel-container .channel:hover .latest-msg-time,.channel-container .channel:hover .latest-msg,.channel-container .channel:hover .latest-msg.new{color:rgb(var(--dyte-colors-text-on-brand-700, var(--dyte-colors-text-700, 255 255 255 / 0.64)))}.channel-container .channel-display{display:flex;gap:var(--dyte-space-2, 8px);align-self:center;padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-0, 0px)}.channel-container .channel-display dyte-avatar{height:var(--dyte-space-9, 36px);width:var(--dyte-space-9, 36px);flex-shrink:0;font-size:12px}.channel-container .channel-display dyte-icon{height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px);flex-shrink:0;padding:var(--dyte-space-2, 8px);border-radius:9999px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}.channel-container .channel-card{width:100%;padding-top:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);padding-left:var(--dyte-space-1, 4px)}.channel-container .channel-card .channel-name{max-width:var(--dyte-space-60, 240px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:500}.channel-container .channel-card .latest-msg{margin:var(--dyte-space-0, 0px);max-width:var(--dyte-space-56, 224px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px}.channel-container .channel-card .latest-msg.new{font-weight:200;font-style:italic;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}.channel-container .channel-card .latest-msg-time{font-size:12px;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}.channel-container .channel-meta{width:var(--dyte-space-12, 48px);display:flex;flex-direction:column;align-items:flex-end;justify-content:space-between;gap:var(--dyte-space-1\\.5, 6px);font-size:12px;font-weight:600}.channel-container .new-msgs-count{height:var(--dyte-space-4, 16px);min-width:var(--dyte-space-4, 16px);padding-top:1px;padding-bottom:1px;padding-left:2px;padding-right:2px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-success, 98 165 4) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));border-radius:var(--dyte-border-radius-sm, 4px);text-align:center;font-size:12px}.channel-container .selected{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-on-brand-900, var(--dyte-colors-text-900, 255 255 255 / 0.88)))}.channel-container .selected .latest-msg-time,.channel-container .selected .latest-msg,.channel-container .selected .latest-msg.new{color:rgb(var(--dyte-colors-text-on-brand-700, var(--dyte-colors-text-700, 255 255 255 / 0.64)))}.channel-container .highlight .channel-title span{font-weight:700}.latest-msg p{margin:var(--dyte-space-0, 0px);margin-right:var(--dyte-space-1, 4px);display:inline-block}.latest-msg blockquote{display:none}.recent-message-row{margin-bottom:var(--dyte-space-2, 8px);display:flex;width:100%;flex-direction:row;justify-content:space-between}";var nl=Object.freeze({__proto__:null,dyte_channel_selector_ui:rl});var ol=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const dl="@",cl=class{constructor(e){c(this,e),this.onNewMessage=Q(this,"dyteNewMessage",7),this.onEditMessage=Q(this,"dyteEditMessage",7),this.onEditCancelled=Q(this,"dyteEditCancelled",7),this.canSendTextMessage=!1,this.canSendFiles=!1,this.iconPack=Kt,this.t=Zt(),this.disableEmojiPicker=!1,this.prefill={},this.members=[],this.emojiPickerActive=!1,this.mentionQuery="",this.focusedMemberIndex=0,this.filePreview=null,this.fileReader=new FileReader,this.fileToUpload=null,this.handleKeyDown=e=>{if(e.key===dl&&[void 0," "].includes(this.$textArea.value.at(-1))&&(this.mentionQuery=dl),"ArrowDown"===e.key&&(this.focusedMemberIndex=Math.min(this.focusedMemberIndex+1,this.getFilteredMembers().length-1)),"ArrowUp"===e.key&&(this.focusedMemberIndex=Math.max(0,this.focusedMemberIndex-1)),("Escape"===e.key||"Backspace"===e.key&&this.mentionQuery===dl)&&(this.mentionQuery=""),["Enter","Tab"," "].includes(e.key)&&""!==this.mentionQuery){const t=this.getFilteredMembers()[this.focusedMemberIndex];return this.onMemberSelect(t),void e.preventDefault()}if("Enter"===e.key&&e.shiftKey){this.$textArea.clientHeight<200&&(this.$textArea.style.height=this.$textArea.clientHeight+20+"px")}else"Enter"===e.key?(e.preventDefault(),this.prefill.editMessage?this.handleEditMessage():this.handleSendMessage()):"Backspace"===e.key&&(this.$textArea.value.endsWith("\n")?this.$textArea.style.height=this.$textArea.clientHeight-20+"px":""===this.$textArea.value&&(this.$textArea.style.height="auto"))},this.handleKeyUp=e=>{if(""!==this.mentionQuery){const e=qi(this.$textArea.value.trim()),t=e.substring(0,e.indexOf(dl));this.mentionQuery=`${dl}${qi(t)}`}},this.onPaste=e=>{const t=e.clipboardData||e.originalEvent.clipboardData;L((()=>{t&&t.items&&t.items.length>0&&(Bi(t.items,this.generateFilePreview),this.$textArea.value="")}))},this.generateFilePreview=(e,t)=>{this.fileToUpload={type:e,image:t,file:t},"image"===e?this.fileReader.readAsDataURL(t):"file"===e&&(this.filePreview=t.name)},this.sendFile=()=>{this.canSendFiles&&("image"===this.fileToUpload.type?this.onNewMessage.emit({type:"image",file:this.fileToUpload.image,image:this.fileToUpload.image}):this.onNewMessage.emit({type:"file",file:this.fileToUpload.file}),this.cleanUpFileUpload())},this.handleSendMessage=()=>{if(!this.canSendTextMessage)return;if(null!==this.fileToUpload)return void this.sendFile();const e=this.$textArea.value.trim();e.length>0&&(this.prefill.replyMessage?this.onNewMessage.emit({type:"text",message:e,replyTo:this.prefill.replyMessage}):this.onNewMessage.emit({type:"text",message:e}),this.cleanup())},this.cleanup=()=>{this.mentionQuery="",this.focusedMemberIndex=0,this.$textArea.value="",this.$textArea.style.height="auto",Qt.setItem(this.storageKey,"")},this.handleEditMessage=()=>{var e;let t=this.$textArea.value.trim();if((null===(e=this.prefill.editMessage)||void 0===e?void 0:e.message)&&Qi.test(this.prefill.editMessage.message)){t=`${Ji(this.prefill.editMessage.message)}\n\n${t}`}this.onEditMessage.emit({id:this.prefill.editMessage.id,message:t,channelId:this.prefill.editMessage.channelId}),this.cleanup()},this.handleEditCancel=()=>{this.onEditCancelled.emit(),this.cleanup()},this.initializeTextField=e=>{this.$textArea=e;const t=Qt.getItem(this.storageKey)||"";this.$textArea.value=t},this.onMemberSelect=e=>{const t=qi(this.mentionQuery),i=qi(this.$textArea.value.trim()).replace(t,"");this.$textArea.value=qi(i)+`${dl}${e.name} `,this.mentionQuery="",this.focusedMemberIndex=0,L((()=>this.$textArea.focus()))},this.getFilteredMembers=()=>{const e=this.mentionQuery.replace(dl,"");return this.members.filter((t=>t.name.toLowerCase().includes(e.toLowerCase())))},this.cleanUpFileUpload=()=>{this.filePreview=null,this.fileToUpload=null},this.renderSuggestedReplies=()=>{if(this.prefill.suggestedReplies&&0!==this.prefill.suggestedReplies.length)return H("ul",{class:"suggested-replies scrollbar"},this.prefill.suggestedReplies.map((e=>H("dyte-tooltip",{label:this.t("chat.click_to_send")},H("li",{onClick:()=>this.onNewMessage.emit({type:"text",message:e})},e)))))},this.renderMenu=()=>{if(0===this.mentionQuery.length)return;const e=this.getFilteredMembers();return 0!==e.length?H("ul",{class:"member-list scrollbar"},e.map(((e,t)=>H("li",{class:{member:!0,selected:t===this.focusedMemberIndex},onClick:()=>this.onMemberSelect(e),ref:e=>{t===this.focusedMemberIndex&&L((()=>{e&&e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}))}},H("dyte-avatar",{participant:{name:e.name,picture:e.picture},size:"sm"}),H("span",null,e.name))))):void 0}}connectedCallback(){this.fileReader.onload=e=>{"string"==typeof e.target.result&&(this.filePreview=e.target.result)}}onChannelChanged(){this.mentionQuery="",this.focusedMemberIndex=0;const e=Qt.getItem(this.storageKey)||"";this.$textArea.value=e,this.emojiPickerActive=!1}componentDidRender(){(this.prefill.editMessage||this.prefill.replyMessage)&&L((()=>this.$textArea.focus()))}get storageKey(){return this.channelId?`dyte-text-message-${this.channelId}`:"dyte-text-message"}uploadFile(e){const t=document.createElement("input");t.type="file","image"===e&&(t.accept="image/*"),t.onchange=t=>{const{validity:i,files:[a]}=t.target;i.valid&&this.generateFilePreview(e,a)},t.click()}renderFilePreview(){if("string"==typeof this.filePreview)return H("div",{class:"preview-overlay"},H("div",{class:"file-preview"},H("dyte-tooltip",{label:this.t("chat.cancel_upload")},H("dyte-button",{variant:"secondary",kind:"icon",onClick:this.cleanUpFileUpload},H("dyte-icon",{icon:this.iconPack.dismiss}))),"image"===this.fileToUpload.type?H("img",{class:"preview-image",src:this.filePreview}):H("div",{class:"preview-file"},H("span",null,this.filePreview))))}render(){var e;let t="";return(null===(e=this.prefill.editMessage)||void 0===e?void 0:e.message)&&(t=Xi(this.prefill.editMessage.message)),H(G,{key:"bd9e183a8595fdf13f53dfe74243fc58b889b490"},this.canSendTextMessage&&this.emojiPickerActive&&H("dyte-emoji-picker",{key:"63cbab4694b7640574190ced33fc146742dabd16",part:"emoji-picker",onPickerClose:()=>{this.emojiPickerActive=!1},onDyteEmojiClicked:e=>{this.$textArea.value+=e.detail,this.$textArea.focus()},t:this.t}),this.renderSuggestedReplies(),H("slot",{key:"3c12d633831662382c5ee01830b6a1dccffa1c36",name:"chat-addon"}),H("slot",{key:"e94a874a6afd03896c905af9974c8cc8de662d7a",name:"quote-block"}),H("div",{key:"5a9c021aa2501c6da3d25e75b72338aea15a635c",class:"chat-input",part:"chat-input"},this.renderMenu(),this.canSendTextMessage&&H("textarea",{key:"bc8057712688cdb12f40fa62d1dca57797785b75",class:"scrollbar",part:"textarea",ref:this.initializeTextField,autoFocus:!0,placeholder:this.fileToUpload?"":this.t("chat.message_placeholder"),value:t,onPaste:this.onPaste,maxLength:ea,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onInput:e=>{Qt.setItem(this.storageKey,e.target.value)},disabled:!!this.filePreview}),H("div",{key:"6df2b595eed0375f53bed5d56bdcc6c0493a8247",class:"chat-buttons",part:"chat-buttons"},H("div",{key:"021c7d3b3901080792144bf5f76eab855c11b4e4",class:"left",part:"chat-buttons-left"},!this.prefill.editMessage&&this.canSendFiles&&[H("dyte-tooltip",{key:"c11d06e54dcfde7fd035a4c3037046f0364a92ba",label:this.t("chat.send_file")},H("dyte-button",{key:"2124e7ca46e80b74fc10a6698471671360285bc0",variant:"ghost",kind:"icon",onClick:()=>this.uploadFile("file"),title:this.t("chat.send_file")},H("dyte-icon",{key:"511036aad6e7b7098a281ef7e365ad1ba1a6e25f",icon:this.iconPack.attach}))),H("dyte-tooltip",{key:"77777a43eae025a8b1e40d1945f8cec0445992be",label:this.t("chat.send_img")},H("dyte-button",{key:"51bbef7f90a068397eab5affeec9877f8d9be929",variant:"ghost",kind:"icon",onClick:()=>this.uploadFile("image"),title:this.t("chat.send_img")},H("dyte-icon",{key:"98a2c7f941afe3bcb06cc18984978311f9c0e501",icon:this.iconPack.image})))],!this.prefill.editMessage&&this.canSendTextMessage&&!this.disableEmojiPicker&&H("dyte-tooltip",{key:"a614a1ca853e2e2e7390cf74321f70881cde38a9",label:this.t("chat.send_emoji")},H("dyte-button",{key:"ae859f19d1e8372723409dc0530ed5bcfc01c619",variant:"ghost",kind:"icon",class:{active:this.emojiPickerActive},title:this.t("chat.send_emoji"),onClick:()=>{this.emojiPickerActive=!this.emojiPickerActive}},H("dyte-icon",{key:"92e8add087597deca28e864fffad34f521203f01",icon:this.iconPack.emoji_multiple})))),!!this.filePreview&&this.renderFilePreview(),this.canSendTextMessage&&H("div",{key:"3a1dd50dd4f77dfdce4ecef6cbeeb7cd7330044c",class:"right",part:"chat-buttons-right"},!this.prefill.editMessage&&H("dyte-tooltip",{key:"47afdb3c09f71c39e0f059f6f19f367aa3c0164b",variant:"primary",label:this.t("chat.send_msg"),delay:2e3},H("dyte-button",{key:"1a7646cee202fa4be64de7bb0afc8b58dd750919",kind:"icon",onClick:()=>this.handleSendMessage(),title:this.t("chat.send_msg")},H("dyte-icon",{key:"ebc857dc0e41c20f8bc73d3123f9b3cf8c752aa6",icon:this.iconPack.send}))),this.prefill.editMessage&&H("div",{key:"20ed1557de83b2bbc3167ee58a2535f9d53dd5d2",class:"edit-buttons"},H("dyte-tooltip",{key:"542bc4c98d2411579913c50dae2fe3ddf26858c0",variant:"secondary",label:this.t("cancel"),delay:2e3},H("dyte-button",{key:"ff5bcf87c4cf6a13385f7314744f9dc39ead0b3d",kind:"icon",variant:"secondary",onClick:()=>this.handleEditCancel(),title:this.t("cancel")},H("dyte-icon",{key:"5f514ddf6986d2fe4bfe9641c0aa0c8a834cfae8",icon:this.iconPack.dismiss}))),H("dyte-tooltip",{key:"f0ebc5ea3f5801377ded5745a7bf83cd369a7fe4",variant:"primary",label:this.t("chat.update_msg"),delay:2e3},H("dyte-button",{key:"34e8521c0a11747adddedf555dcceba8b7db2a27",kind:"icon",onClick:()=>this.handleEditMessage(),title:this.t("chat.send_msg")},H("dyte-icon",{key:"8082c8dcb7a670889bf07a2811baa432c85ebf53",icon:this.iconPack.checkmark}))))))))}static get watchers(){return{channelId:["onChannelChanged"]}}};ol([ni()],cl.prototype,"size",void 0),ol([ni()],cl.prototype,"iconPack",void 0),ol([ni()],cl.prototype,"t",void 0),cl.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{display:flex;flex-direction:column;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.chat-input{position:relative;margin:var(--dyte-space-2, 8px);z-index:10;box-sizing:border-box;display:flex;flex-direction:column;border-radius:var(--dyte-border-radius-md, 8px);border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60))}textarea{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));box-sizing:border-box;padding:var(--dyte-space-3, 12px);color:rgb(var(--dyte-colors-text-1000, 255 255 255))}textarea::-moz-placeholder{color:rgb(var(--dyte-colors-text-1000, 255 255 255))}textarea::placeholder{color:rgb(var(--dyte-colors-text-1000, 255 255 255))}textarea{border-top-left-radius:var(--dyte-border-radius-md, 8px);border-top-right-radius:var(--dyte-border-radius-md, 8px);font-family:var(--dyte-font-family, sans-serif);outline:2px solid transparent;outline-offset:2px;resize:none;overflow-y:auto;border-width:var(--dyte-border-width-none, 0);border-style:none;min-height:60px;font-size:14px}.chat-buttons{border-bottom-right-radius:var(--dyte-border-radius-md, 8px);border-bottom-left-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));display:flex;height:var(--dyte-space-8, 32px);align-items:center;justify-content:space-between;padding-left:var(--dyte-space-3, 12px);padding-right:var(--dyte-space-3, 12px);padding-top:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-2, 8px)}.chat-buttons .left dyte-button{margin-right:var(--dyte-space-1, 4px)}.chat-buttons .left dyte-button dyte-icon{height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px)}.chat-buttons .right{z-index:10}.chat-buttons .right .edit-buttons{display:flex;gap:var(--dyte-space-2, 8px)}.chat-buttons>div{display:flex;align-items:center}dyte-emoji-picker{z-index:0;position:absolute;bottom:var(--dyte-space-32, 128px);border-top:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60));animation:0.3s slide-up ease}@keyframes slide-up{from{transform:translateY(100%)}to{transform:translateY(0%)}}.member-list{margin:var(--dyte-space-0, 0px);margin-top:var(--dyte-space-1, 4px);max-height:var(--dyte-space-28, 112px);min-width:var(--dyte-space-40, 160px);max-width:var(--dyte-space-64, 256px);padding:var(--dyte-space-0, 0px);position:absolute;bottom:var(--dyte-space-28, 112px);list-style-type:none;overflow-y:auto;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));border-radius:var(--dyte-border-radius-sm, 4px);--tw-border-spacing-x:var(--dyte-space-2, 8px);--tw-border-spacing-y:var(--dyte-space-2, 8px);border-spacing:var(--tw-border-spacing-x) var(--tw-border-spacing-y);border-style:solid;border-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / 0.5)}.member-list .member{display:flex;align-items:center;gap:var(--dyte-space-1, 4px);padding:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-4, 16px);cursor:pointer}.member-list .member dyte-avatar{flex-shrink:0;height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px);font-size:14px;color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}.member-list .member span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.member-list .member:hover,.member-list .member.selected{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-700, 2 70 253) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}.suggested-replies{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-3, 12px);display:flex;flex-wrap:nowrap;gap:var(--dyte-space-2, 8px);list-style-type:none;overflow-x:auto}.suggested-replies dyte-tooltip{flex-shrink:0}.suggested-replies li{padding:var(--dyte-space-2, 8px);border-radius:var(--dyte-border-radius-md, 8px);background-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / 0.75);color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));cursor:pointer}.suggested-replies li:hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-bg-opacity))}.preview-overlay{position:absolute;top:var(--dyte-space-0, 0px);right:var(--dyte-space-0, 0px);bottom:var(--dyte-space-0, 0px);left:var(--dyte-space-0, 0px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));border-radius:var(--dyte-border-radius-md, 8px)}.file-preview{position:absolute;top:var(--dyte-space-4, 16px);left:var(--dyte-space-4, 16px);max-width:-moz-fit-content;max-width:fit-content;max-height:var(--dyte-space-20, 80px)}.file-preview:hover dyte-tooltip{display:block}.file-preview dyte-tooltip{position:absolute;top:calc(var(--dyte-space-1, 4px) * -1);left:calc(var(--dyte-space-1, 4px) * -1);display:none;margin-left:calc(var(--dyte-space-1, 4px) * -1);margin-top:calc(var(--dyte-space-1, 4px) * -1)}.file-preview dyte-button{display:flex;height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);align-items:center;justify-content:center;border-radius:9999px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));border:1px solid rgb(var(--dyte-colors-text-1000, 255 255 255))}.file-preview dyte-icon{height:var(--dyte-space-3, 12px);width:var(--dyte-space-3, 12px);color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.preview-image{height:var(--dyte-space-16, 64px);width:var(--dyte-space-16, 64px);-o-object-fit:cover;object-fit:cover;max-height:100%;max-width:100%;overflow:clip;border-radius:var(--dyte-border-radius-md, 8px)}.preview-file{padding-left:var(--dyte-space-3, 12px);padding-right:var(--dyte-space-3, 12px);padding-top:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-2, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-radius:var(--dyte-border-radius-md, 8px);max-width:200px}@keyframes scroll-text{0%{transform:translateX(0%)}70%{transform:translateX(-100%)}80%{transform:translateX(0%)}100%{transform:translateX(0%)}}";var ll=Object.freeze({__proto__:null,dyte_chat_composer_ui:cl});var hl=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const pl=class{constructor(e){c(this,e),this.groupChanged=Q(this,"dyteChatGroupChanged",7),this.unreadCounts={},this.groups=[],this.iconPack=Kt,this.t=Zt(),this.showParticipantsPanel=!1,this.query="",this.onScopeClick=e=>{this.showParticipantsPanel=!1,this.groupChanged.emit(e)}}toggleParticipants(){this.showParticipantsPanel=!this.showParticipantsPanel}getGroups(){return this.groups.filter((e=>e.name.toLowerCase().includes(this.query.toLowerCase())))}getName(){if(!this.selectedGroupId||"everyone"===this.selectedGroupId)return this.t("everyone");const e=this.groups.find((e=>e.userId===this.selectedGroupId));return e?e.name:this.t("everyone")}render(){const e=Object.keys(this.unreadCounts).reduce(((e,t)=>e+this.unreadCounts[t]),0);return H(G,null,H("div",{class:"chat-scope-selector"},this.showParticipantsPanel&&H("div",{class:"participants-container"},H("div",{class:"search",part:"search"},H("dyte-icon",{icon:this.iconPack.search,part:"search-icon"}),H("input",{type:"search",autocomplete:"off",placeholder:this.t("search"),value:this.query,onInput:e=>{this.query=e.target.value},part:"search-input"})),H("ul",{class:"scope-list scrollbar"},""===this.query&&H("li",{class:"scope scope-special",onClick:()=>this.onScopeClick("everyone")},H("div",{class:"everyone-icon"},H("dyte-icon",{icon:this.iconPack.participants})),this.t("everyone"),this.unreadCounts.everyone>0&&H("div",{class:"unread-count",part:"unread-count"},H("span",null,this.unreadCounts.everyone))),this.getGroups().map((e=>{const t=this.unreadCounts[zi([this.selfUserId,e.userId])];return H("li",{class:"scope",onClick:()=>this.onScopeClick(e),key:e.userId},e.name,t>0&&H("div",{class:"unread-count",part:"unread-count"},H("span",null,t)))})))),H("button",{onClick:()=>this.toggleParticipants()},H("span",null,`${this.t("to")} ${this.getName()}`,"  ",e>0&&H("div",{class:"unread-count selector"},H("span",null,e))),H("dyte-icon",{icon:this.showParticipantsPanel?this.iconPack.chevron_up:this.iconPack.chevron_down}))))}};hl([ni()],pl.prototype,"iconPack",void 0),hl([ni()],pl.prototype,"t",void 0),pl.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{display:flex;flex-direction:column}.chat-scope-selector{position:relative;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));z-index:10}.chat-scope-selector button{width:100%;border-width:var(--dyte-border-width-none, 0);border-style:none;padding:var(--dyte-space-4, 16px);display:flex;align-items:center;justify-content:space-between;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));font-size:14px;cursor:pointer;height:var(--dyte-space-12, 48px)}.chat-scope-selector button span{display:flex;align-items:center;justify-content:flex-start}.chat-scope-selector button dyte-icon{height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px)}.chat-scope-selector .search{position:sticky;box-sizing:border-box;display:flex;align-items:center;border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));margin-left:var(--dyte-space-3, 12px);margin-right:var(--dyte-space-3, 12px);margin-top:var(--dyte-space-3, 12px);margin-bottom:var(--dyte-space-0, 0px)}.chat-scope-selector .search dyte-icon{margin-left:var(--dyte-space-2, 8px);margin-right:var(--dyte-space-2, 8px);height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px);color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}.chat-scope-selector .search input{box-sizing:border-box;height:var(--dyte-space-9, 36px);width:100%;padding-right:var(--dyte-space-2, 8px);border-width:var(--dyte-border-width-none, 0);border-style:none;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));outline:2px solid transparent;outline-offset:2px;border-radius:var(--dyte-border-radius-sm, 4px);font-size:14px}.chat-scope-selector .search input::-moz-placeholder{color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}.chat-scope-selector .search input::placeholder{color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}.chat-scope-selector .participants-container{position:absolute;width:100%;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));top:var(--dyte-space-12, 48px);animation:0.3s slide-down ease}@keyframes slide-down{from{transform:translateY(-50px)}to{transform:translateY(0%)}}.chat-scope-selector .scope-list{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-0, 0px);list-style-type:none;padding-left:var(--dyte-space-0, 0px);padding-right:var(--dyte-space-0, 0px);overflow:auto;max-height:375px}.chat-scope-selector .scope-list .scope{position:relative;display:flex;flex-direction:row;align-items:center;padding-left:var(--dyte-space-3, 12px);padding-right:var(--dyte-space-3, 12px);padding-top:var(--dyte-space-4, 16px);padding-bottom:var(--dyte-space-4, 16px)}.chat-scope-selector .scope-list .scope:hover{cursor:pointer;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity))}.chat-scope-selector .scope-list .scope-special{margin-top:var(--dyte-space-4, 16px);--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-text-opacity))}.chat-scope-selector .scope-list .everyone-icon>dyte-icon{height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px);color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}.chat-scope-selector .scope-list .everyone-icon{display:flex;height:100%;width:100%;align-items:center;justify-content:center;margin-right:var(--dyte-space-2, 8px);height:var(--dyte-space-8, 32px);width:var(--dyte-space-8, 32px);border-radius:9999px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));font-size:12px}.unread-count.selector{position:unset;margin-left:var(--dyte-space-2, 8px)}.unread-count{position:absolute;right:var(--dyte-space-3, 12px);box-sizing:border-box;padding:var(--dyte-space-0\\.5, 2px);-webkit-user-select:none;-moz-user-select:none;user-select:none;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));font-size:12px;color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));display:flex;height:var(--dyte-space-5, 20px);min-width:var(--dyte-space-5, 20px);align-items:center;justify-content:center;border-radius:9999px;z-index:1}dyte-avatar{height:var(--dyte-space-8, 32px);width:var(--dyte-space-8, 32px)}";var gl=Object.freeze({__proto__:null,dyte_chat_selector_ui:pl});const ul=e=>{if(e&&!e.chat)return!1;const{chatPublic:t,chatPrivate:i}=e.self.permissions;return t.canSend||t.canReceive||t.text||t.files||i.canSend||i.canReceive||i.files||i.text},fl=e=>{if(e&&!e.polls)return!1;const{polls:t}=e.self.permissions;return t.canCreate||t.canView||t.canVote},ml=e=>{var t;if(!(null===(t=e.self.permissions)||void 0===t?void 0:t.showParticipantList))return!1;if(e&&!e.participants)return!1;const i=null==e?void 0:e.self.config;return!(i&&!i.controlBar.elements.participants)},vl=e=>{if(st(e))return!1;if(e&&!e.plugins)return!1;if("LIVESTREAM"===e.meta.viewType)return"ON_STAGE"===e.stage.status;const{plugins:t}=e.self.permissions;return t.canClose||t.canStart};var yl=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const bl=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.unreadMessageCount=0,this.variant="button",this.iconPack=Kt,this.t=Zt(),this.chatActive=!1,this.canViewChat=!1,this.hasNewMessages=!1,this.onChatUpdate=({action:e,message:t})=>{var i;this.chatActive||"add"===e&&t.userId!==(null===(i=this.meeting)||void 0===i?void 0:i.self.userId)&&(this.hasNewMessages=!0,this.unreadMessageCount+=1)},this.toggleChat=()=>{const e=this.states;this.chatActive=!((null==e?void 0:e.activeSidebar)&&"chat"===(null==e?void 0:e.sidebar)),this.chatActive&&(this.unreadMessageCount=0,this.hasNewMessages=!1),this.stateUpdate.emit({activeSidebar:this.chatActive,sidebar:this.chatActive?"chat":void 0,activeMoreMenu:!1,activeAI:!1})},this.updateCanView=()=>{this.canViewChat=ul(this.meeting)}}connectedCallback(){this.meetingChanged(this.meeting),this.statesChanged(this.states)}disconnectedCallback(){var e,t,i,a,s,r;null===(t=null===(e=this.meeting)||void 0===e?void 0:e.chat)||void 0===t||t.removeListener("chatUpdate",this.onChatUpdate),null===(a=null===(i=this.meeting)||void 0===i?void 0:i.stage)||void 0===a||a.removeListener("stageStatusUpdate",this.updateCanView),null===(r=null===(s=this.meeting)||void 0===s?void 0:s.self)||void 0===r||r.permissions.removeListener("chatUpdate",this.updateCanView)}meetingChanged(e){var t,i,a,s,r,n,o;if(null==e)return;ft(e)&&(null===(t=e.chat)||void 0===t||t.getMessages((new Date).getTime(),1,!0).then((e=>{var t;(null===(t=null==e?void 0:e.messages)||void 0===t?void 0:t.length)&&(this.hasNewMessages=!0)})));const d=null!==(a=null===(i=e.meta)||void 0===i?void 0:i.meetingStartedTimestamp.getTime())&&void 0!==a?a:0,c=null===(s=e.chat)||void 0===s?void 0:s.messages.filter((e=>e.timeMs>d));this.unreadMessageCount=c.length||0,null===(r=e.chat)||void 0===r||r.addListener("chatUpdate",this.onChatUpdate),this.canViewChat=ul(e),null===(n=null==e?void 0:e.stage)||void 0===n||n.on("stageStatusUpdate",this.updateCanView),null===(o=null==e?void 0:e.self)||void 0===o||o.permissions.on("chatUpdate",this.updateCanView)}statesChanged(e){null!=e&&(this.chatActive=!0===e.activeSidebar&&"chat"===e.sidebar)}render(){return this.canViewChat?H(G,{title:this.t("chat")},ft(this.meeting)?this.hasNewMessages&&H("div",{class:"unread-count-dot",part:"unread-count-dot"}):0!==this.unreadMessageCount&&!this.chatActive&&H("div",{class:"unread-count",part:"unread-count"},H("span",null,this.unreadMessageCount<=100?this.unreadMessageCount:"99+")),H("dyte-controlbar-button",{part:"controlbar-button",size:this.size,iconPack:this.iconPack,class:{active:this.chatActive},onClick:this.toggleChat,icon:this.iconPack.chat,label:this.t("chat"),variant:this.variant})):H(G,{"data-hidden":!0})}static get watchers(){return{meeting:["meetingChanged"],states:["statesChanged"]}}};yl([ni()],bl.prototype,"meeting",void 0),yl([ni()],bl.prototype,"states",void 0),yl([ni()],bl.prototype,"size",void 0),yl([ni()],bl.prototype,"iconPack",void 0),yl([ni()],bl.prototype,"t",void 0),bl.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{position:relative;display:block}:host([data-hidden]){display:none}.unread-count{position:absolute;right:var(--dyte-space-3, 12px);box-sizing:border-box;padding:var(--dyte-space-0\\.5, 2px);-webkit-user-select:none;-moz-user-select:none;user-select:none;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));font-size:12px;color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));display:flex;height:var(--dyte-space-5, 20px);min-width:var(--dyte-space-5, 20px);align-items:center;justify-content:center;border-radius:9999px;z-index:1}.unread-count-dot{position:absolute;right:var(--dyte-space-3, 12px);z-index:10;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));border-radius:50%;display:flex;height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);align-items:center;justify-content:center}:host([variant='horizontal']) .unread-count{right:var(--dyte-space-4, 16px);top:auto}";var wl=Object.freeze({__proto__:null,dyte_chat_toggle:bl});var xl=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const kl=e=>Math.trunc(e).toString().padStart(2,"0"),Sl=class{constructor(e){c(this,e),this.iconPack=Kt,this.disconnectMeeting=()=>{var e,t;this.timeout&&clearTimeout(this.timeout),"number"==typeof this.request&&cancelAnimationFrame(this.request),null===(t=null===(e=this.meeting)||void 0===e?void 0:e.meta)||void 0===t||t.removeListener("meetingStartTimeUpdate",this.startedTimeUpdateListener)},this.startedTimeUpdateListener=()=>{var e,t,i;this.startedTime=null===(i=null===(t=null===(e=this.meeting)||void 0===e?void 0:e.meta)||void 0===t?void 0:t.meetingStartedTimestamp)||void 0===i?void 0:i.toISOString()}}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.disconnectMeeting()}meetingChanged(e){var t,i,a;this.disconnectMeeting(),null!=e&&(this.startedTime=null===(i=null===(t=e.meta)||void 0===t?void 0:t.meetingStartedTimestamp)||void 0===i?void 0:i.toISOString(),null===(a=e.meta)||void 0===a||a.addListener("meetingStartTimeUpdate",this.startedTimeUpdateListener))}startedTimeChanged(e){if(void 0!==e){const e=()=>{this.timeDiff=(Date.now()-new Date(this.startedTime).getTime())/1e3,this.timeout=setTimeout((()=>{null!=this.request&&(this.request=requestAnimationFrame(e))}),500)};this.request=requestAnimationFrame(e)}}getFormattedTime(){if(null==this.timeDiff)return null;const e=this.timeDiff;let t="";return e>=3600&&(t=`${kl(e/3600)}:`),t+=`${kl(e%3600/60)}:${kl(e%60)}`,t}render(){return H(G,{key:"3ce9caf85c506b3c200601d492cd281c3e4c630b",tabIndex:0,role:"timer","aria-live":"off"},void 0!==this.startedTime&&[H("dyte-icon",{key:"bb4e24a529ee378389b9371bd3b42136da8f2046",icon:this.iconPack.clock,"aria-hidden":!0,tabIndex:-1,part:"icon"}),H("span",{key:"66b6b43d99f1bc8a27ecf8e3320bbc6a1c26c64c",part:"text"},this.getFormattedTime())])}static get watchers(){return{meeting:["meetingChanged"],startedTime:["startedTimeChanged"]}}};xl([ni()],Sl.prototype,"meeting",void 0),xl([ni()],Sl.prototype,"iconPack",void 0),Sl.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{margin-left:var(--dyte-space-2, 8px);margin-right:var(--dyte-space-2, 8px);display:inline-flex;align-items:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;font-size:14px;color:rgb(var(--dyte-colors-text-1000, 255 255 255));font-variant-numeric:tabular-nums}:host([size='sm']){margin-left:var(--dyte-space-1, 4px);margin-right:var(--dyte-space-1, 4px);font-size:12px}dyte-icon{margin-right:var(--dyte-space-1, 4px);height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px)}:host([size='sm']) dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px)}";var Cl=Object.freeze({__proto__:null,dyte_clock:Sl});var _l=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Pl=class{constructor(e){c(this,e),this.variant="solid",this.disableRender=!1,this.config=zt,this.iconPack=Kt,this.t=Zt()}render(){const e={meeting:this.meeting,config:this.config,states:this.states,t:this.t,iconPack:this.iconPack,size:this.size};return H(G,{key:"ef0ba36f97e1366fbeab0d7e5d0eeab4119e898c"},!this.disableRender&&H(pa,{key:"2f8951fb89ebb0d81bc53eb3eeebd8c3de074ed9",element:"dyte-controlbar",defaults:e,onlyChildren:!0}),H("slot",{key:"d9e094a525ccffdd485eb6de23920c05c36c6ed1"}))}};_l([ni()],Pl.prototype,"meeting",void 0),_l([ni()],Pl.prototype,"states",void 0),_l([ni()],Pl.prototype,"iconPack",void 0),_l([ni()],Pl.prototype,"t",void 0),_l([ni()],Pl.prototype,"size",void 0),Pl.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{box-sizing:border-box;display:flex;align-items:center;gap:var(--dyte-space-0\\.5, 2px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));padding-left:var(--dyte-space-4, 16px);padding-right:var(--dyte-space-4, 16px);position:relative;z-index:10}@media only screen and (max-device-height: 480px) and (orientation: landscape){:host{padding-top:var(--dyte-space-0, 0px) !important}}";var Ll=Object.freeze({__proto__:null,dyte_controlbar:Pl});var El=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Tl=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.variant="button",this.t=Zt(),this.iconPack=Kt}toggleDebugger(){var e;this.stateUpdate.emit({activeDebugger:!(null===(e=this.states)||void 0===e?void 0:e.activeDebugger),activeMoreMenu:!1})}render(){return H(G,{key:"e4f3441ebff39ea51b49aa9a015b6875b433b7dd",title:this.t("Troubleshooting")},H("dyte-controlbar-button",{key:"7441cd4adf6a3d1b7d2c4f2b957f1561ef0d4ae1",size:this.size,iconPack:this.iconPack,onClick:()=>this.toggleDebugger(),icon:this.iconPack.debug,label:this.t("Troubleshooting"),variant:this.variant}))}};El([ni()],Tl.prototype,"meeting",void 0),El([ni()],Tl.prototype,"states",void 0),El([ni()],Tl.prototype,"t",void 0),El([ni()],Tl.prototype,"iconPack",void 0),El([ni()],Tl.prototype,"size",void 0),Tl.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block}";var Al=Object.freeze({__proto__:null,dyte_debugger_toggle:Tl});var Rl=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Ml=class{constructor(e){c(this,e),this.config=zt,this.icon=Kt,this.t=Zt(),this.iconPack=Kt,this.message=""}connectedCallback(){this.statesChanged(this.states)}getBreakoutRoomsMessage(e){var t;let i;return"connected-meeting"===(null==e?void 0:e.roomLeftState)&&(i=(null===(t=this.states.activeBreakoutRoomsManager)||void 0===t?void 0:t.destinationMeetingId)===this.meeting.connectedMeetings.parentMeeting.id?"breakout_rooms.move_reason.switch_main_room":"breakout_rooms.move_reason.switch_room"),i}statesChanged(e){if(null!=e)switch(null==e?void 0:e.roomLeftState){case"left":this.message="ended.left";break;case"kicked":this.message="ended.kicked";break;case"disconnected":this.message="ended.disconnected";break;case"rejected":this.message="ended.rejected";break;case"connected-meeting":this.message=this.getBreakoutRoomsMessage(e);break;case"unauthorized":this.message="ended.unauthorized";break;default:this.message="ended"}}renderBreakoutRoomScreen(){return H(G,null,H("div",{class:"ctr",part:"container"},H("dyte-icon",{icon:this.iconPack.breakout_rooms}),H("p",{part:"message",class:"breakout"},this.t(this.message))))}render(){const e=this.states;return"connected-meeting"===e.roomLeftState?this.renderBreakoutRoomScreen():H(G,null,H("div",{class:"ctr",part:"container"},H("dyte-logo",{meeting:this.meeting,config:this.config,part:"logo",t:this.t}),H("p",{part:"message"},this.t(this.message)),"disconnected"===(null==e?void 0:e.roomLeftState)&&H("span",{part:"description"},this.t("ended.network"))))}static get watchers(){return{states:["statesChanged"]}}};Rl([ni()],Ml.prototype,"size",void 0),Rl([ni()],Ml.prototype,"states",void 0),Rl([ni()],Ml.prototype,"t",void 0),Rl([ni()],Ml.prototype,"iconPack",void 0),Rl([ni()],Ml.prototype,"meeting",void 0),Ml.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{height:100%;width:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none;display:flex;flex-direction:column;align-items:center;justify-content:center}.ctr{display:flex;flex-direction:column;align-items:center;gap:var(--dyte-space-8, 32px)}dyte-logo.loaded{height:var(--dyte-space-12, 48px)}.rejoin-button{margin-top:var(--dyte-space-4, 16px);margin-bottom:var(--dyte-space-4, 16px);padding-top:var(--dyte-space-6, 24px);padding-bottom:var(--dyte-space-6, 24px);padding-left:var(--dyte-space-16, 64px);padding-right:var(--dyte-space-16, 64px)}.rejoin-icon{margin-right:var(--dyte-space-2, 8px)}p{font-size:16px;border-radius:var(--dyte-border-radius-lg, 12px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));padding-left:var(--dyte-space-8, 32px);padding-right:var(--dyte-space-8, 32px);padding-top:var(--dyte-space-4, 16px);padding-bottom:var(--dyte-space-4, 16px);color:rgb(var(--dyte-colors-text-1000, 255 255 255))}p.breakout{font-size:20px;display:flex;flex-direction:column;align-items:center}p.breakout span{margin-top:var(--dyte-space-1, 4px);margin-bottom:var(--dyte-space-0, 0px);color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}span{margin-top:var(--dyte-space-4, 16px);margin-bottom:var(--dyte-space-4, 16px);font-size:14px}";var Dl=Object.freeze({__proto__:null,dyte_ended_screen:Ml});var Il=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Ol=class{constructor(e){c(this,e),this.onDropCallback=Q(this,"dropCallback",7),this.iconPack=Kt,this.t=Zt(),this.dropzoneActivated=!1}connectedCallback(){if(!this.hostEl)throw new Error("hostEl prop is required");this.hostEl.addEventListener("dragover",(e=>{e.preventDefault(),this.dropzoneActivated=!0})),this.hostEl.addEventListener("dragleave",(()=>{this.dropzoneActivated=!1})),this.hostEl.addEventListener("drop",(e=>{e.preventDefault(),this.dropzoneActivated=!1,this.onDropCallback.emit(e)}))}render(){return H(G,{key:"2c1ba91175328eb8d81c9de9b54a4ed5ff0d78e0"},H("div",{key:"9a6d873ac4fbf439c0aade2313f13cad4c1168d2",id:"dropzone",class:{active:this.dropzoneActivated},part:"dropzone"},H("dyte-icon",{key:"7ea8fd7f990fe3a6353a631efa13895a46465692",icon:this.iconPack.attach}),H("p",{key:"fa222c2ad9ec8874cb4bac0425ceb04cd396bb43"},this.t("chat.send_attachment"))))}};Il([ni()],Ol.prototype,"iconPack",void 0),Il([ni()],Ol.prototype,"t",void 0),Ol.style="#dropzone{position:absolute;top:var(--dyte-space-0, 0px);right:var(--dyte-space-0, 0px);bottom:var(--dyte-space-0, 0px);left:var(--dyte-space-0, 0px);z-index:10;display:none;flex-direction:column;align-items:center;justify-content:center;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}#dropzone.active{display:flex;animation:0.2s slide-up ease-in}";var $l=Object.freeze({__proto__:null,dyte_file_dropzone:Ol}),Ul="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{};var jl=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Fl="object"==typeof Ul&&Ul&&Ul.Object===Object&&Ul,Nl="object"==typeof self&&self&&self.Object===Object&&self,zl=Fl||Nl||Function("return this")(),Bl=zl,Hl=function(){return Bl.Date.now()},Vl=/\s/;var Gl=function(e){for(var t=e.length;t--&&Vl.test(e.charAt(t)););return t},ql=Gl,Zl=/^\s+/;var Kl=function(e){return e?e.slice(0,ql(e)+1).replace(Zl,""):e},Wl=zl.Symbol,Yl=Wl,Ql=Object.prototype,Jl=Ql.hasOwnProperty,Xl=Ql.toString,eh=Yl?Yl.toStringTag:void 0;var th=function(e){var t=Jl.call(e,eh),i=e[eh];try{e[eh]=void 0;var a=!0}catch(r){}var s=Xl.call(e);return a&&(t?e[eh]=i:delete e[eh]),s},ih=Object.prototype.toString;var ah=th,sh=function(e){return ih.call(e)},rh=Wl?Wl.toStringTag:void 0;var nh=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":rh&&rh in Object(e)?ah(e):sh(e)},oh=function(e){return null!=e&&"object"==typeof e};var dh=Kl,ch=jl,lh=function(e){return"symbol"==typeof e||oh(e)&&"[object Symbol]"==nh(e)},hh=/^[-+]0x[0-9a-f]+$/i,ph=/^0b[01]+$/i,gh=/^0o[0-7]+$/i,uh=parseInt;var fh=jl,mh=Hl,vh=function(e){if("number"==typeof e)return e;if(lh(e))return NaN;if(ch(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ch(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=dh(e);var i=ph.test(e);return i||gh.test(e)?uh(e.slice(2),i?2:8):hh.test(e)?NaN:+e},yh=Math.max,bh=Math.min;var wh=function(e,t,i){var a,s,r,n,o,d,c=0,l=!1,h=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var i=a,r=s;return a=s=void 0,c=t,n=e.apply(r,i)}function u(e){var i=e-d;return void 0===d||i>=t||i<0||h&&e-c>=r}function f(){var e=mh();if(u(e))return m(e);o=setTimeout(f,function(e){var i=t-(e-d);return h?bh(i,r-(e-c)):i}(e))}function m(e){return o=void 0,p&&a?g(e):(a=s=void 0,n)}function v(){var e=mh(),i=u(e);if(a=arguments,s=this,d=e,i){if(void 0===o)return function(e){return c=e,o=setTimeout(f,t),l?g(e):n}(d);if(h)return clearTimeout(o),o=setTimeout(f,t),g(d)}return void 0===o&&(o=setTimeout(f,t)),n}return t=vh(t)||0,fh(i)&&(l=!!i.leading,r=(h="maxWait"in i)?yh(vh(i.maxWait)||0,t):r,p="trailing"in i?!!i.trailing:p),v.cancel=function(){void 0!==o&&clearTimeout(o),c=0,a=d=s=o=void 0},v.flush=function(){return void 0===o?n:m(mh())},v};function xh(e,t){const i=Math.pow(10,t);return Math.floor(e*i)/i}function kh({dimensions:e,count:t,aspectRatio:i,gap:a}){const{width:s,height:r,rows:n,cols:o}=function({count:e,dimensions:t,aspectRatio:i,gap:a}){let{width:s,height:r}=t;if(0===s||0===r)return{width:0,height:0,rows:1,cols:1};s-=2*a,r-=2*a;const n=a,o=e,d=Sh(i);let c=0,l=0,h=1,p=1;const g=[];for(let u=1;u<=o;u++)g.push((s-n*(u-1))/u),g.push((r-n*(u-1))/(u*d));g.sort(((e,t)=>t-e));for(const u of g)if(c=xh(u,4),l=xh(c*d,4),h=Math.floor((s+n)/(c+n)),p=Math.floor((r+n)/(l+n)),h*p>=o){p=Math.ceil(o/h);break}return{width:c,height:l,rows:p,cols:h}}({dimensions:e,count:t,aspectRatio:i,gap:a}),d=function({parentDimensions:e,dimensions:t,rows:i,cols:a,count:s,gap:r}){const{width:n,height:o}=e,{width:d,height:c}=t,l=(o-(c*i+(i-1)*r))/2;let h=(n-(d*a+(a-1)*r))/2;const p=c+r,g=d+r;let u=0,f=0;const m=s%a;function v(e){const t=s-e;t===m&&(h=(n-(d*t+(t-1)*r))/2);const i=l+f*p,o=h+u*g;return u++,(e+1)%a==0&&(f++,u=0),{top:i,left:o}}return v}({parentDimensions:e,dimensions:{width:s,height:r},rows:n,cols:o,count:t,gap:a});return{width:s,height:r,getPosition:d}}const Sh=e=>{const[t,i]=e.split(":");return Number.parseInt(i)/Number.parseInt(t)},Ch={spotlight:"sm",mixed:"sm"};var _h=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Ph=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.hideSelf=!1,this.participants=[],this.pinnedParticipants=[],this.screenShareParticipants=[],this.plugins=[],this.emptyStage=!1,this.showLiveStreamPlayer=!1,this.canCurrentPeerHost=!1,this.pipSupported=!1,this.pipEnabled=!1,this.hidden=!1,this.layout="row",this.aspectRatio="16:9",this.gap=8,this.config=zt,this.iconPack=Kt,this.t=Zt(),this.gridSize=Ch,this.overrides={},this.invalidRoomStates=["init","waitlisted","ended","kicked","rejected"],this.filterParticipants=e=>{var t;if(this.overrides&&(null===(t=this.overrides)||void 0===t?void 0:t.videoUnsubscribed)){const t=this.overrides.videoUnsubscribed.preset;t.length>0&&(e=e.filter((e=>!t.some((t=>void 0!==e.presetName&&e.presetName.match(t))))))}return e},this.onViewModeChanged=()=>{null!=this.meeting&&this.updateActiveParticipants()},this.onParticipantJoined=wh((()=>{this.updateActiveParticipants()}),50),this.onParticipantLeft=wh((()=>{this.updateActiveParticipants()}),50),this.stageStatusListener=()=>{this.updateActiveParticipants(),this.showLiveStreamPlayer=st(this.meeting),"ON_STAGE"!==this.meeting.stage.status&&this.removeScreenShare(this.meeting.self)},this.peerStageStatusListener=e=>{this.updateActiveParticipants(),"ON_STAGE"!==this.meeting.stage.status&&(this.removePinned(e),this.removeScreenShare(e))},this.onScreenShareUpdate=e=>{e.screenShareEnabled?this.addScreenShare(e):this.removeScreenShare(e)},this.onSelfScreenShareUpdate=({screenShareEnabled:e})=>{e?this.addScreenShare(this.meeting.self):this.removeScreenShare(this.meeting.self)},this.toggleTileListener=({hidden:e})=>{this.hidden=e,this.updateActiveParticipants()},this.onPluginStateUpdate=(e,{active:t})=>{t?this.plugins.some((t=>t.id===e.id))||(this.plugins=[...this.plugins,e]):this.plugins=this.plugins.filter((t=>t.id!==e.id))},this.onParticipantPinned=()=>{this.updateActiveParticipants()},this.onParticipantUnpinned=()=>{this.updateActiveParticipants()},this.updateRoomStateListener=()=>{this.roomState=this.meeting.self.roomState}}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.disconnectMeeting(this.meeting)}disconnectMeeting(e){var t;if(null==e)return;this.participants=[],this.plugins=[];const{self:i,participants:a,plugins:s}=e;i.removeListener("pinned",this.onParticipantPinned),i.removeListener("unpinned",this.onParticipantUnpinned),i.removeListener("roomLeft",this.updateRoomStateListener),i.removeListener("roomJoined",this.updateRoomStateListener),i.removeListener("screenShareUpdate",this.onSelfScreenShareUpdate),i.removeListener("toggleTile",this.toggleTileListener),null==s||s.all.removeListener("stateUpdate",this.onPluginStateUpdate),null===(t=e.stage)||void 0===t||t.removeListener("stageStatusUpdate",this.stageStatusListener),a.removeListener("viewModeChanged",this.onViewModeChanged),a.active.removeListener("participantLeft",this.onParticipantLeft),a.active.removeListener("participantJoined",this.onParticipantJoined),a.pinned.removeListener("participantJoined",this.onParticipantPinned),a.pinned.removeListener("participantLeft",this.onParticipantUnpinned),a.joined.removeListener("screenShareUpdate",this.onScreenShareUpdate),a.joined.removeListener("stageStatusUpdate",this.peerStageStatusListener)}meetingChanged(e,t){var i,a,s,r;if(null!==t&&this.disconnectMeeting(t),null!=e){const{self:t,participants:n,plugins:o,stage:d}=e;this.pipSupported=(null===(i=this.meeting.participants.pip)||void 0===i?void 0:i.isSupported())&&(null===(a=e.self.config)||void 0===a?void 0:a.pipMode),this.pipSupported&&this.meeting.participants.pip.init();const{permissions:c}=t;this.roomState=t.roomState;const l="ON_STAGE"!==this.meeting.stage.status,h=null==c?void 0:c.isRecorder;this.hideSelf=l||h||c.hiddenParticipant,this.participants=this.filterParticipants([...n.active.toArray(),...t.isPinned||this.hideSelf?[]:[t]]),this.pinnedParticipants=[...n.pinned.toArray(),...t.isPinned&&!this.hideSelf?[t]:[]],this.screenShareParticipants=n.joined.toArray().filter((e=>e.screenShareEnabled)),this.plugins=(null==o?void 0:o.active.toArray())||[],(null==c?void 0:c.stageEnabled)&&(this.canCurrentPeerHost=c.acceptStageRequests||c.canPresent,this.updateStage()),this.hidden=e.self.hidden,t.addListener("roomLeft",this.updateRoomStateListener),t.addListener("roomJoined",this.updateRoomStateListener),t.addListener("screenShareUpdate",this.onSelfScreenShareUpdate),t.addListener("pinned",this.onParticipantPinned),t.addListener("unpinned",this.onParticipantUnpinned),t.addListener("toggleTile",this.toggleTileListener),null==d||d.addListener("stageStatusUpdate",this.stageStatusListener),null==o||o.all.addListener("stateUpdate",this.onPluginStateUpdate),n.addListener("viewModeChanged",this.onViewModeChanged),n.active.addListener("participantLeft",this.onParticipantLeft),null===(s=null==n?void 0:n.joined)||void 0===s||s.on("stageStatusUpdate",this.peerStageStatusListener),n.joined.addListener("screenShareUpdate",this.onScreenShareUpdate),n.active.addListener("participantJoined",this.onParticipantJoined),n.pinned.addListener("participantJoined",this.onParticipantPinned),n.pinned.addListener("participantLeft",this.onParticipantUnpinned),(null===(r=e.stage)||void 0===r?void 0:r.status)&&this.stageStatusListener()}}overridesChanged(e){this.updateActiveParticipants()}screenShareParticipantsChanged(e){const t=e.length>0;!!ri.states.activeScreenShare!==t&&(this.stateUpdate.emit({activeScreenShare:t}),ri.states.activeScreenShare=t)}pluginsChanged(e){const t=e.length>0;!!ri.states.activePlugin!==t&&(this.stateUpdate.emit({activePlugin:t}),ri.states.activePlugin=t)}pinnedParticipantsChanged(e){const t=e.length>0;!!ri.states.activeSpotlight!==t&&(this.stateUpdate.emit({activeSpotlight:t}),ri.states.activeSpotlight=t)}updateActiveParticipants(){var e;const{self:t,participants:i,stage:a}=this.meeting;this.hideSelf=this.hidden||"ON_STAGE"!==a.status||(null===(e=t.permissions)||void 0===e?void 0:e.isRecorder)||t.permissions.hiddenParticipant,this.participants=this.filterParticipants([...i.active.toArray().filter((e=>e.id!==t.id)),..."ACTIVE_GRID"!==i.viewMode||t.isPinned||this.hideSelf?[]:[t]]),this.pinnedParticipants=[...i.pinned.toArray().filter((e=>e.id!==t.id)),...t.isPinned&&!this.hideSelf?[t]:[]],this.screenShareParticipants=i.joined.toArray().filter((e=>e.screenShareEnabled)),t.screenShareEnabled&&(this.screenShareParticipants=this.screenShareParticipants.concat([t])),this.updateStage()}updateStage(){var e;const{self:t}=this.meeting;this.meeting&&((null===(e=null==t?void 0:t.permissions)||void 0===e?void 0:e.stageEnabled)?this.emptyStage=0===this.participants.length&&0===this.pinnedParticipants.length:this.emptyStage=!1)}addScreenShare(e){this.screenShareParticipants.some((t=>t.id===e.id))||(this.screenShareParticipants=[...this.screenShareParticipants,e])}removeScreenShare(e){this.screenShareParticipants=this.screenShareParticipants.filter((t=>t.id!==e.id))}removePinned(e){this.pinnedParticipants=this.pinnedParticipants.filter((t=>t.id!==e.id))}render(){const e={meeting:this.meeting,size:this.size,states:this.states,config:this.config,iconPack:this.iconPack,t:this.t};return this.invalidRoomStates.includes(this.roomState)?H(G,null,H("div",{class:"offline-grid"},H("dyte-icon",{icon:this.iconPack.join_stage,size:"xl"}),H("h3",null,this.t("disconnected")),H("p",null,this.t("disconnected.description")))):"disconnected"===this.roomState?H(G,null,H("div",{class:"offline-grid"},H("dyte-icon",{icon:this.iconPack.disconnected,size:"xl"}),H("h3",null,this.t("offline")),H("p",null,this.t("offline.description")))):"failed"===this.roomState?H(G,null,H("div",{class:"offline-grid"},H("dyte-icon",{icon:this.iconPack.disconnected,size:"xl"}),H("h3",null,this.t("failed")),H("p",null,this.t("failed.description")))):this.showLiveStreamPlayer?H(G,null,H("dyte-livestream-player",{meeting:this.meeting,size:this.size}),H("dyte-livestream-indicator",{meeting:this.meeting,size:"sm",t:this.t}),H("dyte-viewer-count",{meeting:this.meeting,variant:"embedded",t:this.t})):this.emptyStage?H(G,null,H("div",{class:"webinar-stage"},H("div",{class:"center"},this.canCurrentPeerHost&&H("div",{class:"ctr",part:"container"},H("p",{class:"message",part:"message"},this.t("stage.empty_host")),H("span",{class:"description",part:"description"},this.t("stage.empty_host_summary"))),!this.canCurrentPeerHost&&H("div",{class:"ctr",part:"container"},H("p",{class:"message",part:"message"},this.t("stage.empty_viewer")))))):H(G,null,H(pa,{element:"dyte-grid",defaults:e,childProps:{participants:this.participants,screenShareParticipants:this.screenShareParticipants,plugins:this.plugins,pinnedParticipants:this.pinnedParticipants,aspectRatio:this.aspectRatio,gap:this.gap,layout:this.layout,gridSize:this.gridSize},onlyChildren:!0}),H("dyte-livestream-indicator",{meeting:this.meeting,size:"sm",t:this.t}),H("dyte-viewer-count",{meeting:this.meeting,variant:"embedded"}))}static get watchers(){return{meeting:["meetingChanged"],overrides:["overridesChanged"],screenShareParticipants:["screenShareParticipantsChanged"],plugins:["pluginsChanged"],pinnedParticipants:["pinnedParticipantsChanged"]}}};_h([ni()],Ph.prototype,"meeting",void 0),_h([ni()],Ph.prototype,"size",void 0),_h([ni()],Ph.prototype,"states",void 0),_h([ni()],Ph.prototype,"iconPack",void 0),_h([ni()],Ph.prototype,"t",void 0),Ph.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block;height:100%;width:100%}.offline-grid{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center}.offline-grid h3{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px);margin-left:var(--dyte-space-0, 0px);margin-right:var(--dyte-space-0, 0px);font-size:20px;font-weight:500;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}.offline-grid p{margin-top:var(--dyte-space-1, 4px);margin-bottom:var(--dyte-space-1, 4px);margin-left:var(--dyte-space-0, 0px);margin-right:var(--dyte-space-0, 0px);text-align:center;font-size:16px;font-weight:400;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}.offline-grid dyte-icon{margin-bottom:var(--dyte-space-2, 8px)}.webinar-stage{box-sizing:border-box;height:100%;display:flex;align-content:center;align-items:center;justify-content:center;text-align:center}.webinar-stage h2{margin:var(--dyte-space-0, 0px);font-weight:normal}dyte-viewer-count{display:none}.ctr{display:flex;flex-direction:column;align-items:center}.message{font-size:16px;border-radius:var(--dyte-border-radius-lg, 12px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));padding-left:var(--dyte-space-8, 32px);padding-right:var(--dyte-space-8, 32px);padding-top:var(--dyte-space-4, 16px);padding-bottom:var(--dyte-space-4, 16px);color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.description{margin-top:var(--dyte-space-4, 16px);margin-bottom:var(--dyte-space-4, 16px);font-size:14px}dyte-livestream-indicator{display:none}@media only screen and (max-device-height: 480px) and (orientation: landscape){dyte-viewer-count[variant='embedded']{position:absolute;top:var(--dyte-space-0, 0px);right:var(--dyte-space-2, 8px);z-index:20;margin-top:var(--dyte-space-0, 0px);margin-left:var(--dyte-space-0, 0px);display:flex}dyte-livestream-indicator{position:absolute;top:var(--dyte-space-0, 0px);left:var(--dyte-space-2, 8px);z-index:20;margin-top:var(--dyte-space-0, 0px);margin-left:var(--dyte-space-0, 0px);display:flex}}";var Lh=Object.freeze({__proto__:null,dyte_grid:Ph});var Eh=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Th=class{constructor(e){c(this,e),this.variant="rounded",this.iconPack=Kt,this.t=Zt(),this.page=1,this.pageCount=0,this.activeCount=0,this.activeComputedCount=0,this.showPagination=!1,this.onPageChanged=({currentPage:e,pageCount:t})=>{this.pageCount=t,this.page=e},this.toggleGridPagination=wh((()=>{var e;const{self:t,participants:i}=this.meeting,{mobile:a,desktop:s}=null===(e=t.config)||void 0===e?void 0:e.maxVideoStreams,r="sm"===this.size?a:s,n=i.joined.toArray().filter((e=>"ON_STAGE"===e.stageStatus)).length;this.showPagination=!(n<r)}),50),this.onParticipantJoin=wh((()=>{this.pageCount=this.meeting.participants.pageCount,this.toggleGridPagination()}),50),this.onParticipantLeave=wh((()=>{this.pageCount=this.meeting.participants.pageCount,this.toggleGridPagination()}),50),this.onStateStatusUpdate=wh((()=>{this.pageCount=this.meeting.participants.pageCount,this.toggleGridPagination()}),50),this.prevPage=()=>{if(null==this.meeting)return;const{participants:e}=this.meeting;this.page>1?e.setPage(this.page-=1):"PAGINATED"===e.viewMode&&e.setViewMode("ACTIVE_GRID")},this.nextPage=()=>{if(null==this.meeting)return;const{participants:e}=this.meeting;this.page>0&&this.page<this.pageCount?e.setPage(this.page+=1):e.count>0&&0===this.pageCount&&e.setViewMode("PAGINATED")}}connectedCallback(){this.meetingChanged(this.meeting),this.sizeChanged()}disconnectedCallback(){if(null==this.meeting)return;const{participants:e,stage:t}=this.meeting;e.removeListener("pageChanged",this.onPageChanged),e.removeListener("viewModeChanged",this.onPageChanged),e.joined.removeListener("participantJoined",this.onParticipantJoin),e.joined.removeListener("participantLeft",this.onParticipantLeave),e.joined.removeListener("stageStatusUpdate",this.onStateStatusUpdate),t.removeListener("stageStatusUpdate",this.onStateStatusUpdate)}meetingChanged(e){if(null!=e){const{stage:t,participants:i}=e;this.page=i.currentPage,this.pageCount=i.pageCount,i.addListener("viewModeChanged",this.onPageChanged),i.addListener("pageChanged",this.onPageChanged),i.joined.addListener("participantJoined",this.onParticipantJoin),i.joined.addListener("participantLeft",this.onParticipantLeave),i.joined.addListener("stageStatusUpdate",this.onStateStatusUpdate),t.addListener("stageStatusUpdate",this.onStateStatusUpdate),this.activeCount=this.meeting.participants.joined.size,this.activeComputedCount=this.meeting.participants.joined.size,this.toggleGridPagination()}}sizeChanged(){this.toggleGridPagination()}render(){const{meta:e}=this.meeting;if(!("AUDIO_ROOM"===(null==e?void 0:e.viewType))&&this.showPagination)return H(G,null,H("dyte-button",{class:"prev",variant:"secondary",kind:"icon",disabled:0===this.pageCount,onClick:this.prevPage,"aria-label":this.t("page.prev")},H("dyte-icon",{icon:this.iconPack.chevron_left})),"grid"!==this.variant&&H("div",{class:"center"},H("span",{class:"page"},0===this.pageCount?H("dyte-tooltip",{label:this.t("layout.auto")},H("dyte-button",{kind:"icon",class:"auto"},H("dyte-icon",{icon:this.iconPack.wand}))):this.page),0!==this.pageCount&&[H("span",{class:"slash"},"/"),H("span",{class:"pages"},this.pageCount)]),"grid"===this.variant&&this.pageCount>0&&H("div",{class:"dots"},[...Array(this.pageCount)].map(((e,t)=>H("div",{key:`dot-${t}`,class:{dot:!0,active:t+1===this.page}})))),H("dyte-button",{class:"next",variant:"secondary",kind:"icon",disabled:0!==this.page&&this.page===this.pageCount,onClick:this.nextPage,"aria-label":this.t("page.next")},H("dyte-icon",{icon:this.iconPack.chevron_right,tabIndex:-1,"aria-hidden":!0})))}static get watchers(){return{meeting:["meetingChanged"],size:["sizeChanged"]}}};Eh([ni()],Th.prototype,"meeting",void 0),Eh([ni()],Th.prototype,"states",void 0),Eh([ni()],Th.prototype,"size",void 0),Eh([ni()],Th.prototype,"iconPack",void 0),Eh([ni()],Th.prototype,"t",void 0),Th.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{margin-left:var(--dyte-space-2, 8px);margin-right:var(--dyte-space-2, 8px);display:flex;-webkit-user-select:none;-moz-user-select:none;user-select:none;align-items:center;font-size:16px}:host([size='sm']){margin-left:var(--dyte-space-1, 4px);margin-right:var(--dyte-space-1, 4px);font-size:12px}:host([size='sm']) .center{margin-left:var(--dyte-space-0, 0px);margin-right:var(--dyte-space-0, 0px)}:host([size='sm']) dyte-button{height:var(--dyte-space-7, 28px);width:var(--dyte-space-7, 28px)}:host([size='sm']) dyte-button dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px)}dyte-button{--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.center{margin-left:var(--dyte-space-2, 8px);margin-right:var(--dyte-space-2, 8px);color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}.center .page{color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}.center .slash{margin-left:var(--dyte-space-0\\.5, 2px);margin-right:var(--dyte-space-0\\.5, 2px)}.center .pages{align-self:flex-end;font-size:12px}:host([variant='rounded']){overflow:hidden;border-radius:9999px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}:host([variant='rounded']) dyte-button{border-radius:9999px;border-width:var(--dyte-border-width-none, 0);border-style:none;background-color:transparent;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}:host([variant='rounded']) dyte-button:not([disabled]):hover{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}:host([variant='rounded']) dyte-button:not([disabled]):focus{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}:host([variant='grid']){margin-left:var(--dyte-space-0, 0px);margin-right:var(--dyte-space-0, 0px)}:host([variant='grid']) dyte-button{position:absolute;top:50%;height:var(--dyte-space-20, 80px);width:var(--dyte-space-20, 80px);opacity:0.2;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}:host([variant='grid']) dyte-button:hover{opacity:1}:host([variant='grid']) dyte-button{transform:translateY(-50%)}:host([variant='grid']) dyte-button.prev{left:var(--dyte-space-0, 0px);border-top-right-radius:9999px;border-bottom-right-radius:9999px}:host([variant='grid']) dyte-button.next{right:var(--dyte-space-0, 0px);border-top-left-radius:9999px;border-bottom-left-radius:9999px}:host([variant='grid']) dyte-button.auto{left:var(--dyte-space-0, 0px);right:var(--dyte-space-0, 0px);border-top-right-radius:9999px;border-bottom-right-radius:9999px}:host([variant='grid']) .dots{position:absolute;left:50%;bottom:var(--dyte-space-3, 12px);display:flex;align-items:center;transform:translateX(-50%)}:host([variant='grid']) .dots .dot{margin-right:var(--dyte-space-2, 8px);height:var(--dyte-space-2, 8px);width:var(--dyte-space-2, 8px);cursor:pointer;border-radius:9999px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}:host([variant='grid']) .dots .dot:last-child{margin-right:var(--dyte-space-0, 0px)}:host([variant='grid']) .dots .dot.active{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity))}:host([variant='grid'][size='sm']) dyte-button{height:var(--dyte-space-14, 56px);width:var(--dyte-space-14, 56px);opacity:0.1}";var Ah=Object.freeze({__proto__:null,dyte_grid_pagination:Th});var Rh=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Mh=class{constructor(e){c(this,e),this.variant="solid",this.disableRender=!1,this.config=zt,this.iconPack=Kt,this.t=Zt()}render(){const e={meeting:this.meeting,config:this.config,states:this.states,t:this.t,iconPack:this.iconPack,size:this.size};return H(G,{key:"8c6d62fc6a63020885d9e367b281d584e4f86580"},!this.disableRender&&H(pa,{key:"9e0ce3f2e2eb8bebe322591cedbb243b588636ce",element:"dyte-header",defaults:e,onlyChildren:!0}),H("slot",{key:"7eef46d4d0c1bae48b3fe852cd8347aa33aa60dc"}))}};Rh([ni()],Mh.prototype,"meeting",void 0),Rh([ni()],Mh.prototype,"states",void 0),Rh([ni()],Mh.prototype,"iconPack",void 0),Rh([ni()],Mh.prototype,"t",void 0),Rh([ni()],Mh.prototype,"size",void 0),Mh.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;height:var(--dyte-space-12, 48px);align-items:center;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));padding-left:var(--dyte-space-4, 16px);padding-right:var(--dyte-space-4, 16px)}@media only screen and (max-device-height: 480px) and (orientation: landscape){:host{display:none !important}}@media only screen and (max-height: 480px) and (orientation: landscape){:host{display:none !important}}";var Dh=Object.freeze({__proto__:null,dyte_header:Mh});var Ih=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Oh=class{constructor(e){c(this,e),this.config=zt,this.iconPack=Kt,this.t=Zt()}render(){return H(G,{key:"12d044e448e70b95bbaadb456a59ae322cbec4cb"},H("slot",{key:"befccedc79773180014dbd0fc9b944055f888e3d"},H("div",{key:"98c261026b266fbb8b8bdbc143aefc390f3adeb0",class:"ctr",part:"container"},H("dyte-logo",{key:"900a6cc8979009204f29b31908591319e00952ad",meeting:this.meeting,config:this.config,t:this.t,part:"logo"}),H("dyte-spinner",{key:"a9575923df832e8af9b130eee2dbd0e8fc42e181","aria-label":"Idle, waiting for meeting data",part:"spinner",iconPack:this.iconPack}))))}};Ih([ni()],Oh.prototype,"meeting",void 0),Ih([ni()],Oh.prototype,"iconPack",void 0),Ih([ni()],Oh.prototype,"t",void 0),Oh.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{height:100%;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}.ctr{display:flex;flex-direction:column;align-items:center;gap:var(--dyte-space-8, 32px)}dyte-logo.loaded{height:var(--dyte-space-12, 48px)}dyte-spinner{height:var(--dyte-space-12, 48px);width:var(--dyte-space-12, 48px);--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-text-opacity))}";var $h=Object.freeze({__proto__:null,dyte_idle_screen:Oh});const Uh=class{constructor(e){c(this,e),this.iconPack=Kt}render(){return H(G,{key:"1822149a5a3207123a195788c5bd496a308cb5f0"},H("div",{key:"75b5ae46629ab8950e071eb3b040530ae590a687",class:"tooltip-container"},H("dyte-icon",{key:"88335152fe1f6c73e324873fb652a759017c36a1",icon:this.iconPack.info,size:"sm"}),H("div",{key:"310bb9aa766c63e64d6719bd1df11cdc1a4aa079",class:"tooltip"},H("slot",{key:"da533663227141d5a6d172b5f1e75698d3f037be",name:"tootlip-text"}))))}};!function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);r>3&&n&&Object.defineProperty(t,i,n)}([ni()],Uh.prototype,"iconPack",void 0),Uh.style=":host{margin-left:var(--dyte-space-2, 8px);margin-right:var(--dyte-space-2, 8px);cursor:pointer}.tooltip-container{position:relative;display:flex;flex-direction:row;align-items:center}.tooltip-container dyte-icon{cursor:pointer;color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}.tooltip-container dyte-icon:hover+.tooltip{display:flex !important}.tooltip{position:absolute;margin-left:var(--dyte-space-2, 8px);display:none !important;border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));padding:var(--dyte-space-2, 8px);font-weight:400;color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52));z-index:50;display:flex;min-width:var(--dyte-space-60, 240px);flex-direction:column;--tw-shadow:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);left:14px}";var jh=Object.freeze({__proto__:null,dyte_information_tooltip:Uh});var Fh=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Nh=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.variant="button",this.iconPack=Kt,this.t=Zt(),this.leave=()=>{this.stateUpdate.emit({activeLeaveConfirmation:!0})}}render(){const e=this.t("leave");return H(G,{key:"03c911ea8de75bef21b720f64b270c06193fb35c",label:e},H("dyte-controlbar-button",{key:"9e0909fe191a3fd257d818054656fb65a318ad44",size:this.size,iconPack:this.iconPack,class:"leave red-icon",onClick:this.leave,icon:this.iconPack.call_end,label:e,variant:this.variant,part:"controlbar-button"}))}};Fh([ni()],Nh.prototype,"size",void 0),Fh([ni()],Nh.prototype,"iconPack",void 0),Fh([ni()],Nh.prototype,"t",void 0),Nh.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block}";var zh=Object.freeze({__proto__:null,dyte_leave_button:Nh});var Bh=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Hh=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.dyteAPIError=Q(this,"dyteAPIError",7),this.variant="button",this.iconPack=Kt,this.t=Zt(),this.livestreamState="IDLE",this.livestreamStateListener=e=>{this.livestreamState=e,"LIVESTREAMING"!==e&&"IDLE"!==e||this.stateUpdate.emit({activeMoreMenu:!1})},this.isLoading=()=>null==this.meeting||"STARTING"===this.livestreamState||"STOPPING"===this.livestreamState}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.clearListeners()}meetingChanged(e){var t,i;null!=e&&(this.livestreamState=null===(t=this.meeting.livestream)||void 0===t?void 0:t.state,null===(i=this.meeting.livestream)||void 0===i||i.on("livestreamUpdate",this.livestreamStateListener))}async toggleLivestream(){var e,t;if("LIVESTREAMING"===this.livestreamState)try{await(null===(e=this.meeting.livestream)||void 0===e?void 0:e.stop())}catch(i){this.dyteAPIError.emit({trace:this.t("livestream.stop"),message:this.t("livestream.error.stop")})}else try{await(null===(t=this.meeting.livestream)||void 0===t?void 0:t.start())}catch(a){this.dyteAPIError.emit({trace:this.t("livestream.start"),message:this.t("livestream.error.start")})}}clearListeners(){var e;null===(e=this.meeting.livestream)||void 0===e||e.removeListener("livestreamUpdate",this.livestreamStateListener)}getLivestreamLabel(){switch(this.livestreamState){case"IDLE":return this.t("livestream.go_live");case"LIVESTREAMING":return this.t("livestream.end_live");case"WAITING_ON_MANUAL_INGESTION":return this.t("livestream.waiting_on_manual_ingestion");case"STARTING":return this.t("livestream.starting");case"STOPPING":return this.t("livestream.stopping");default:return this.t("livestream.error")}}getLivestreamIcon(){switch(this.livestreamState){case"IDLE":case"WAITING_ON_MANUAL_INGESTION":return this.iconPack.start_livestream;default:return this.iconPack.stop_livestream}}render(){return rt(this.meeting)?H(G,null,H("dyte-controlbar-button",{part:"controlbar-button",size:this.size,iconPack:this.iconPack,isLoading:this.isLoading(),class:{"active-livestream":"LIVESTREAMING"===this.livestreamState},onClick:()=>this.toggleLivestream(),icon:this.getLivestreamIcon(),disabled:this.isLoading(),label:this.t(this.getLivestreamLabel()),variant:this.variant})):H(G,{"data-hidden":!0})}static get watchers(){return{meeting:["meetingChanged"]}}};Bh([ni()],Hh.prototype,"meeting",void 0),Bh([ni()],Hh.prototype,"size",void 0),Bh([ni()],Hh.prototype,"iconPack",void 0),Bh([ni()],Hh.prototype,"t",void 0),Hh.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block}:host([data-hidden]){display:none}";var Vh=Object.freeze({__proto__:null,dyte_livestream_toggle:Hh});var Gh=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const qh=class{constructor(e){c(this,e),this.iconPack=Kt,this.t=Zt()}render(){var e;const t=null===(e=this.meeting)||void 0===e?void 0:e.meta.meetingTitle;return null==t?null:H(G,{tabIndex:0,role:"banner","aria-label":t},H("dyte-tooltip",{label:t,part:"tooltip"},H("div",{class:"title",part:"title"},t)))}};Gh([ni()],qh.prototype,"meeting",void 0),Gh([ni()],qh.prototype,"iconPack",void 0),Gh([ni()],qh.prototype,"t",void 0),qh.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{margin-left:var(--dyte-space-3, 12px);margin-right:var(--dyte-space-3, 12px);-webkit-user-select:none;-moz-user-select:none;user-select:none;font-size:16px;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.title{text-align:center;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}:host([size='sm']){font-size:12px}";var Zh=Object.freeze({__proto__:null,dyte_meeting_title:qh});const Kh=class{constructor(e){c(this,e),this.visibleItemsCount=20,this.estimateItemSize=100,this.iconPack=Kt,this.isFetching=!1,this.autoScroll=!0,this.totalHeight=0,this.sizes=new Map,this.lastScrollTop=0,this.scrollToBottomRetries=0,this.elementObserver=(()=>{let e=null;const t=()=>e||("undefined"!=typeof ResizeObserver?e=new ResizeObserver((e=>{e.forEach((e=>{this.measureElement(e.target,e)}))})):null);return{disconnect:()=>{var e;return null===(e=t())||void 0===e?void 0:e.disconnect()},observe:e=>{var i;return null===(i=t())||void 0===i?void 0:i.observe(e,{box:"border-box"})},unobserve:e=>{var i;return null===(i=t())||void 0===i?void 0:i.unobserve(e)}}})(),this.measureElement=(e,t)=>{if(!e)return;const i=e.dataset.id;if(this.sizes.has(i))return void this.elementObserver.unobserve(e);if(t){const a=t.borderBoxSize[0];if(a&&a.blockSize>0)return this.saveItemSize(i,a.blockSize),void this.elementObserver.unobserve(e)}const a=e.getBoundingClientRect();a.height>0&&this.saveItemSize(i,a.height)},this.getVisibleItems=()=>this.messages.slice(this.range.start,this.range.end+1),this.updateVisibleItems=(e,t)=>{const i=this.messages.length;let a=e,s=t;i<=this.visibleItemsCount?(a=0,s=i-1):t-e<this.visibleItemsCount-1&&(a=this.range.end-this.visibleItemsCount+1),this.range.start!==a&&(this.range={start:a,end:s},this.totalHeight=this.getRangeSize(0,i))},this.getEstimatedItemSize=()=>this.estimateItemSize,this.getRangeSize=(e,t)=>{let i=0,a=0;for(let s=e;s<t;s++)a=this.sizes.get(this.messages[s].id),i+=a||this.getEstimatedItemSize();return i},this.getScrollTop=()=>this.$listRef?Math.ceil(this.$listRef.scrollTop):0,this.getClientHeight=()=>this.$listRef?Math.ceil(this.$listRef.clientHeight):0,this.getScrollHeight=()=>this.$listRef?Math.ceil(this.$listRef.scrollHeight):0,this.getItemsScrolled=()=>{const e=this.lastScrollTop;if(e<=0)return 0;let t=0,i=0,a=0,s=this.messages.length;for(;t<=s;){if(i=t+s>>>1,a=this.getRangeSize(0,i),a===e)return i;a<e?t=i+1:a>e&&(s=i-1)}return t>0?--t:0},this.getEndByStart=e=>Math.min(e+this.visibleItemsCount,this.messages.length-1),this.scrollToOffset=e=>{this.$listRef&&(this.$listRef.scrollTop=e)},this.scrollToIndex=e=>{if(e>=this.messages.length-1)this.scrollToBottom();else{const t=e<1?0:this.getRangeSize(0,e);this.scrollToOffset(t)}},this.scrollToBottom=()=>{this.$listEndRef&&L((()=>{this.$listEndRef.scrollIntoView(),this.getScrollHeight()-(this.getScrollTop()+this.getClientHeight())>0&&this.scrollToBottomRetries<10?setTimeout((()=>{this.scrollToBottom()}),1e3/60):(this.scrollToBottomRetries=0,this.autoScroll=!0)}))},this.handleScroll=async()=>{if(this.isFetching)return;const e=this.getScrollTop(),t=e<this.lastScrollTop||0===e?"UP":"DOWN";if(this.lastScrollTop=e,this.loadMore&&0===e&&"UP"===t&&!1===this.isFetching){this.isFetching=!0;const e=await this.loadMore(this.messages[0]);e&&e.length&&(this.messages=[...e,...this.messages]),this.isFetching=!1}"UP"===t?this.handleTop():"DOWN"===t&&this.handleBottom()},this.handleTop=()=>{const e=this.getItemsScrolled();if(e<=this.range.end-5&&(this.autoScroll=!1),e>this.range.start+5)return;const t=Math.max(this.range.start-5,0);this.updateVisibleItems(t,this.getEndByStart(t))},this.handleBottom=()=>{if(this.getItemsScrolled()<this.range.start+5)return;const e=this.range.start+5,t=this.getEndByStart(e);t===this.messages.length-1?this.updateVisibleItems(t-this.visibleItemsCount,t):this.updateVisibleItems(e,t)},this.updateTotalHeight=ji((()=>{this.totalHeight=this.getRangeSize(0,this.messages.length)}),1e3/30,{leading:!0}),this.rendererInternal=(e,t,i)=>{if(!e)return;if(e.dataset.id===t.id)return;const a=this.renderer(t,i);e.hasChildNodes&&(e.innerHTML=""),this.elementObserver.observe(e),e.dataset.id=t.id,e.appendChild(a)}}connectedCallback(){const e=this.messages.length-1;this.range={start:e-this.visibleItemsCount,end:e},this.updateVisibleItems(this.range.start,this.range.end),this.totalHeight=this.getRangeSize(0,e)}componentDidLoad(){this.autoScroll&&this.scrollToBottom()}messagesUpdated(e,t){if(e.length>t.length){const i=e.length-t.length;this.updateVisibleItems(i,this.getEndByStart(i)),this.scrollToIndex(this.range.start)}}saveItemSize(e,t){this.sizes.set(e,Math.round(t)),this.updateTotalHeight()}render(){return H("div",{key:"02660589d69e1290972669e40d032341aef9265f",class:"scrollbar content-wrapper",ref:e=>this.$listRef=e,onScroll:this.handleScroll},H("div",{key:"7e0741ead290cf3050001dd3990a87fa41bd00db",class:"scroller"},H("div",{key:"18a4d58c6ff888d1e11757eb4f4dd94d7f36ad42",style:{height:`${this.totalHeight}px`}}),H("div",{key:"44db5507f72fdd916e27dd1100dd34997b2c9e18",class:"smallest-dom-element",id:"list-end",ref:e=>this.$listEndRef=e})),H("div",{key:"64cb94699d06d72bf1559fa0d2c7dfff517d3c36",class:"content",style:{transform:`translateY(${this.getRangeSize(0,this.range.start)}px)`}},this.isFetching&&H("div",{key:"f55148d694e0e323882d9e2521cd9b5ef6779d3a",class:"loader"},H("dyte-spinner",{key:"84978cbf9a49e1552bdf39a5969ccf7bb152c475",size:"md"})),this.getVisibleItems().map(((e,t)=>H("div",{key:e.id,ref:i=>this.rendererInternal(i,e,t)})))))}static get watchers(){return{messages:["messagesUpdated"]}}};!function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);r>3&&n&&Object.defineProperty(t,i,n)}([ni()],Kh.prototype,"iconPack",void 0),Kh.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}.loading{cursor:wait}.content-wrapper{height:100%;overflow-y:auto;position:relative;contain:strict}.scroller{width:1px;opacity:0}.content{position:absolute;top:0;width:100%}.smallest-dom-element{width:100%;height:2px;background:red}.loader{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px);display:flex;justify-content:center}";var Wh=Object.freeze({__proto__:null,dyte_message_list_view:Kh});var Yh=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Qh=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.audioUpdateListener=({audioEnabled:e})=>{this.audioEnabled=e},this.stageStatusListener=()=>{this.stageStatus=this.meeting.stage.status,this.canProduceAudio="ALLOWED"===this.meeting.self.permissions.canProduceAudio},this.mediaPermissionUpdateListener=({kind:e,message:t})=>{"audio"===e&&(this.micPermission=t)},this.meetingPermissionsUpdateListener=e=>{var t;(null===(t=null==e?void 0:e.media)||void 0===t?void 0:t.audio)&&(this.canProduceAudio="ALLOWED"===this.meeting.self.permissions.canProduceAudio)},this.variant="button",this.iconPack=Kt,this.t=Zt(),this.audioEnabled=!1,this.canProduceAudio=!1,this.micPermission="NOT_REQUESTED",this.stageStatus="OFF_STAGE",this.toggleMic=()=>{var e,t,i,a,s,r,n,o,d,c,l,h;if(null===(e=this.meeting)||void 0===e||e.__internals__.logger.info("dyteMicToggle::toggleMic",{media:{audio:{enabled:Boolean(null===(i=null===(t=this.meeting)||void 0===t?void 0:t.self)||void 0===i?void 0:i.audioEnabled),permission:this.micPermission,canProduce:null===(r=null===(s=null===(a=this.meeting)||void 0===a?void 0:a.self)||void 0===s?void 0:s.permissions)||void 0===r?void 0:r.canProduceAudio}},webinar:{stageStatus:null===(o=null===(n=this.meeting)||void 0===n?void 0:n.stage)||void 0===o?void 0:o.status},livestream:{stageStatus:null===(c=null===(d=this.meeting)||void 0===d?void 0:d.stage)||void 0===c?void 0:c.status},moduleExists:{self:Boolean(null===(l=this.meeting)||void 0===l?void 0:l.self)}}),this.hasPermissionError()){const e={enabled:!0,kind:"audio"};return this.stateUpdate.emit({activePermissionsMessage:e}),!1}const p=null===(h=this.meeting)||void 0===h?void 0:h.self;null!=p&&this.canProduceAudio&&(p.audioEnabled?p.disableAudio():p.enableAudio())}}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){var e,t,i,a,s,r,n;null===(e=this.meeting)||void 0===e||e.self.removeListener("audioUpdate",this.audioUpdateListener),null===(t=this.meeting)||void 0===t||t.self.removeListener("mediaPermissionUpdate",this.mediaPermissionUpdateListener),null===(a=null===(i=this.meeting)||void 0===i?void 0:i.stage)||void 0===a||a.removeListener("stageStatusUpdate",this.stageStatusListener),null===(n=null===(r=null===(s=this.meeting)||void 0===s?void 0:s.self)||void 0===r?void 0:r.permissions)||void 0===n||n.removeListener("permissionsUpdate",this.meetingPermissionsUpdateListener)}meetingChanged(e){var t,i;if(null!=e){const{self:a,stage:s}=e;this.canProduceAudio="ALLOWED"===this.meeting.self.permissions.canProduceAudio,this.micPermission=e.self.mediaPermissions.audio||"NOT_REQUESTED",this.audioEnabled=a.audioEnabled,this.stageStatus=e.stage.status,a.addListener("audioUpdate",this.audioUpdateListener),a.addListener("mediaPermissionUpdate",this.mediaPermissionUpdateListener),null==s||s.addListener("stageStatusUpdate",this.stageStatusListener),null===(i=null===(t=e.self)||void 0===t?void 0:t.permissions)||void 0===i||i.addListener("permissionsUpdate",this.meetingPermissionsUpdateListener)}}hasPermissionError(){return"DENIED"===this.micPermission||"SYSTEM_DENIED"===this.micPermission}getState(){let e="",t="",i="",a={},s=this.hasPermissionError(),r="COULD_NOT_START"===this.micPermission;return this.audioEnabled&&!s?(t=this.t("mic_on"),i=this.iconPack.mic_on):(t=this.t("mic_off"),i=this.iconPack.mic_off,a["red-icon"]=!0),e=r?this.t("perm_could_not_start.audio"):"SYSTEM_DENIED"===this.micPermission?this.t("perm_sys_denied.audio"):"DENIED"===this.micPermission?this.t("perm_denied.audio"):this.audioEnabled?this.t("disable_mic"):this.t("enable_mic"),{tooltipLabel:e,label:t,icon:i,classList:a,showWarning:s||r,disable:s}}render(){if(!this.canProduceAudio||["OFF_STAGE","REQUESTED_TO_JOIN_STAGE"].includes(this.stageStatus))return H(G,{"data-hidden":!0});const{tooltipLabel:e,label:t,icon:i,classList:a,showWarning:s,disable:r}=this.getState();return H(G,{title:t},H("dyte-tooltip",{kind:"block",label:e,part:"tooltip"},H("dyte-controlbar-button",{part:"controlbar-button",icon:i,label:t,size:this.size,iconPack:this.iconPack,variant:this.variant,class:a,onClick:this.toggleMic,showWarning:s,disabled:r})))}static get watchers(){return{meeting:["meetingChanged"]}}};Yh([ni()],Qh.prototype,"meeting",void 0),Yh([ni()],Qh.prototype,"size",void 0),Yh([ni()],Qh.prototype,"iconPack",void 0),Yh([ni()],Qh.prototype,"t",void 0),Qh.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block}:host([data-hidden]){display:none}:host(.audioDisabled) :slotted(dyte-icon){--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}";var Jh=Object.freeze({__proto__:null,dyte_mic_toggle:Qh});var Xh=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const ep=class{constructor(e){c(this,e),this.layout="row",this.participants=[],this.pinnedParticipants=[],this.screenShareParticipants=[],this.plugins=[],this.aspectRatio="16:9",this.gap=8,this.config=zt,this.iconPack=Kt,this.t=Zt(),this.gridSize=Ch}componentWillLoad(){this.initialised=!1,this.screenShareParticipantsChanged(this.screenShareParticipants),this.pluginsChanged(this.plugins),this.initialised=!0}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){var e;null===(e=this.meeting.meta)||void 0===e||e.removeListener("activeTabUpdate",this.activeTabUpdateListener)}meetingChanged(e){var t,i,a,s;null!=e&&(null!=(null===(t=e.meta)||void 0===t?void 0:t.selfActiveTab)&&this.onActiveTabUpdate(null===(i=e.meta.selfActiveTab)||void 0===i?void 0:i.type,null===(a=e.meta.selfActiveTab)||void 0===a?void 0:a.id),this.activeTabUpdateListener=e=>{this.onActiveTabUpdate(null==e?void 0:e.type,null==e?void 0:e.id)},null===(s=e.meta)||void 0===s||s.addListener("activeTabUpdate",this.activeTabUpdateListener))}screenShareParticipantsChanged(e=[]){(this.initialised||null==this.activeTab)&&(null==this.activeTab&&e.length>0?this.setActiveTab({type:"screenshare",participant:e[0]}):this.revalidateActiveTab())}pluginsChanged(e){if(this.initialised||null==this.activeTab)if(e.length>0){const t=e.length-1;this.setActiveTab({type:"plugin",plugin:e[t]})}else this.revalidateActiveTab()}revalidateActiveTab(){if(null!=this.activeTab)if("screenshare"===this.activeTab.type){const{participant:e}=this.activeTab;this.screenShareParticipants.some((t=>t.id===e.id))||this.reassignActiveTab()}else{const{plugin:e}=this.activeTab;this.plugins.some((t=>t.id===e.id))||this.reassignActiveTab()}}setActiveTab(e,t=!0){var i;this.activeTab=e;const a="screenshare"===e.type?e.participant.id:e.plugin.id;t&&(null===(i=this.meeting.meta)||void 0===i||i.setSelfActiveTab({type:e.type,id:a},0))}reassignActiveTab(){if(this.screenShareParticipants.length>0)this.setActiveTab({type:"screenshare",participant:this.screenShareParticipants[0]});else if(this.plugins.length>0){const e=this.plugins.length-1;this.setActiveTab({type:"plugin",plugin:this.plugins[e]})}}onActiveTabUpdate(e,t){if(null!=e&&null!=t)switch(e){case"plugin":const e=this.plugins.find((e=>e.id===t));null!=e&&this.setActiveTab({type:"plugin",plugin:e},!1);break;case"screenshare":const i=this.screenShareParticipants.find((e=>e.id===t));null!=i&&this.setActiveTab({type:"screenshare",participant:i},!1)}}getTabs(){const e=this.screenShareParticipants.map((e=>({type:"screenshare",participant:e}))),t=this.plugins.map((e=>({type:"plugin",plugin:e})));return e.concat(t)}render(){var e,t;const i={meeting:this.meeting,config:this.config,states:this.states,size:this.size,iconPack:this.iconPack,t:this.t};return H(G,{key:"cda320d567f39a7128b5bf6fac054cf5c504e26f"},H("main",{key:"9bdea21421ca72cca011f48c7fbaa8eee1745b8f",id:"main-view",part:"main-view"},(null===(e=this.getTabs())||void 0===e?void 0:e.length)>1&&H("dyte-tab-bar",Object.assign({key:"71eb59ca8cd9ad805c372b0d9b1deecc16bcd3fe",activeTab:this.activeTab,tabs:this.getTabs(),onTabChange:e=>this.setActiveTab(e.detail)},i)),H("div",{id:"tabs",key:"tabs"},this.screenShareParticipants.map((e=>{var t,a;return H(pa,{element:"dyte-screenshare-view",defaults:i,props:{participant:e,key:e.id,style:{display:"screenshare"===(null===(t=this.activeTab)||void 0===t?void 0:t.type)&&(null===(a=this.activeTab)||void 0===a?void 0:a.participant.id)===e.id?"flex":"none"}},childProps:{participant:e,isScreenShare:!0},deepProps:!0})})),this.plugins.map((e=>{var t,a;return H("dyte-plugin-main",Object.assign({},i,{plugin:e,key:e.id,style:{display:"plugin"===(null===(t=this.activeTab)||void 0===t?void 0:t.type)&&(null===(a=this.activeTab)||void 0===a?void 0:a.plugin.id)===e.id?"flex":"none"}}))})))),H(pa,{key:"f8b8c9e7dd41eeddf98b8165f212bea6d38e9e84",element:"dyte-mixed-grid",defaults:i,childProps:{part:"participants-grid",class:this.gridSize.mixed?`grid-width-${this.gridSize.mixed}`:"grid-width-lg",participants:this.participants,pinnedParticipants:this.pinnedParticipants,screenShareParticipants:this.screenShareParticipants,plugins:this.plugins,aspectRatio:this.aspectRatio,gap:this.gap,size:"AUDIO_ROOM"===(null===(t=this.meeting.meta)||void 0===t?void 0:t.viewType)?"md":"sm",layout:"row"},onlyChildren:!0}))}get host(){return Y(this)}static get watchers(){return{meeting:["meetingChanged"],screenShareParticipants:["screenShareParticipantsChanged"],plugins:["pluginsChanged"]}}};Xh([ni()],ep.prototype,"size",void 0),Xh([ni()],ep.prototype,"meeting",void 0),Xh([ni()],ep.prototype,"states",void 0),Xh([ni()],ep.prototype,"iconPack",void 0),Xh([ni()],ep.prototype,"t",void 0),ep.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block;height:100%;width:100%;display:flex}main{display:flex;flex:1 1 0%;padding-left:var(--dyte-space-4, 16px)}:host([layout='column']) main{padding-left:var(--dyte-space-4, 16px);padding-right:var(--dyte-space-4, 16px)}main dyte-tab-bar{margin-right:var(--dyte-space-4, 16px);box-sizing:border-box;display:flex;height:100%;width:var(--dyte-space-16, 64px);flex-direction:column}main #tabs{height:100%;flex:1 1 0%}dyte-button{z-index:10}.grid-width-sm{width:25%}.grid-width-md{width:50%}.grid-width-lg{width:66.666667%}.col{display:flex;flex-direction:column;align-items:center}.tab{display:flex;height:var(--dyte-space-16, 64px);width:var(--dyte-space-16, 64px);align-items:center;justify-content:center;margin-bottom:var(--dyte-space-2, 8px);font-size:12px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}.tab.active{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity))}.tab img{height:var(--dyte-space-7, 28px);width:var(--dyte-space-7, 28px);border-radius:var(--dyte-border-radius-sm, 4px)}:host([size='sm']){flex-direction:column}:host([size='sm']) .grid-width-lg,:host([size='sm']) .grid-width-md{height:50%;width:100%;max-width:100%}:host([size='sm']) .grid-width-sm{height:33.333333%;width:100%;max-width:100%}:host([size='sm']) main{display:flex;flex:1 1 0%;flex-direction:column;padding-left:var(--dyte-space-4, 16px);padding-right:var(--dyte-space-4, 16px)}:host([size='sm']) dyte-tab-bar{height:var(--dyte-space-12, 48px);width:100%;flex-direction:row}:host([size='sm']) #tabs{flex:1 1 0%}:host([size='sm']) .tab{margin:var(--dyte-space-0, 0px);margin-right:var(--dyte-space-2, 8px)}:host([layout='column']){flex-direction:column}:host([layout='column']) main{display:flex;flex:1 1 0%}:host([layout='column']) .grid-width-lg,:host([layout='column']) .grid-width-md{height:50%;max-width:100%;width:100%}:host([layout='column']) .grid-width-sm{height:33.333333%;max-width:100%;width:100%}@media (orientation: portrait){:host{flex-direction:column}:host .grid-width-lg{height:50%;width:100%;max-width:100%}:host .grid-width-md{height:33.333333%;width:100%;max-width:100%}:host .grid-width-sm{height:25%;width:100%;max-width:100%}:host main{flex:1 1 0%;flex-direction:column;padding-left:var(--dyte-space-4, 16px);padding-right:var(--dyte-space-4, 16px)}:host([size='md']) main{flex:1 1 0%;flex-direction:column;padding-left:var(--dyte-space-4, 16px);padding-right:var(--dyte-space-4, 16px)}:host dyte-tab-bar{height:var(--dyte-space-16, 64px);width:100%;flex-direction:row}:host #tabs{flex:1 1 0%}:host .tab{margin:var(--dyte-space-0, 0px);margin-right:var(--dyte-space-2, 8px)}}@media (orientation: landscape){:host{flex-direction:row}:host([size='sm']){flex-direction:row}:host .grid-width-lg{height:50%;width:100%;max-width:100%}:host([size='sm']) .grid-width-sm{height:100%;max-height:100%;width:16.666667%}:host([size='sm']) main{flex:1 1 0%;flex-direction:row;padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px)}:host([size='md']) main{flex:1 1 0%;flex-direction:row;padding-left:var(--dyte-space-4, 16px);padding-right:var(--dyte-space-4, 16px)}:host([size='sm']) dyte-tab-bar{margin-right:var(--dyte-space-2, 8px);height:100%;width:var(--dyte-space-12, 48px);flex-direction:column}:host #tabs{flex:1 1 0%}:host .tab{margin:var(--dyte-space-0, 0px);margin-right:var(--dyte-space-2, 8px)}}";var tp=Object.freeze({__proto__:null,dyte_mixed_grid:ep});var ip=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const ap=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.iconPack=Kt,this.t=Zt(),this.handleKeyDown=({key:e})=>{"Escape"===e&&this.stateUpdate.emit({activeMoreMenu:!1})},this.handleOnClick=e=>{!e.composedPath().includes(this.host)&&this.states.activeMoreMenu&&this.stateUpdate.emit({activeMoreMenu:!1})},this.toggleMoreMenu=()=>{this.stateUpdate.emit({activeMoreMenu:!this.states.activeMoreMenu})}}connectedCallback(){window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("click",this.handleOnClick)}disconnectedCallback(){window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("click",this.handleOnClick)}render(){const e=this.t("more");return H(G,{key:"2a5e68510ccc967fdc1c02d57f9054a23eae6642",title:e},this.states.activeMoreMenu&&H("div",{key:"67553a9e4301365cb1816d9b369fdcb57e1e36bf",class:"more-menu"},H("slot",{key:"cf06267ba8545153f4e6dc53a28eb70c3e6d4ce3",name:"more-elements"})),H("dyte-controlbar-button",{key:"d5a3897239defe9674d48a65a06ec0c1ff74620a",size:this.size,iconPack:this.iconPack,onClick:e=>{e.stopPropagation(),this.toggleMoreMenu()},icon:this.iconPack.horizontal_dots,label:e,part:"controlbar-button"}),H("slot",{key:"a628508c21b23931936ae0fd764abb35e766f228",name:"expanded"}))}get host(){return Y(this)}};ip([ni()],ap.prototype,"states",void 0),ip([ni()],ap.prototype,"size",void 0),ip([ni()],ap.prototype,"iconPack",void 0),ip([ni()],ap.prototype,"t",void 0),ap.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{position:relative;display:flex;flex-direction:column;overflow:visible}.more-menu{position:absolute;right:calc(var(--dyte-space-24, 96px) * -1);bottom:var(--dyte-space-16, 64px);z-index:50;margin-bottom:var(--dyte-space-3, 12px);box-sizing:border-box;max-height:60vh;width:var(--dyte-space-64, 256px);overflow:auto;border-radius:var(--dyte-border-radius-md, 8px);border-width:var(--dyte-border-width-sm, 1px);border-style:solid;--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-border-opacity));--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));outline:2px solid transparent;outline-offset:2px;display:flex;flex-direction:column;align-items:stretch}:host([size='sm']) .more-menu{bottom:var(--dyte-space-10, 40px)}.more-menu::-webkit-scrollbar{height:var(--dyte-space-0, 0px);width:var(--dyte-space-1\\.5, 6px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity))}.more-menu::-webkit-scrollbar-thumb{border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}";var sp=Object.freeze({__proto__:null,dyte_more_toggle:ap});var rp=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const np=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.variant="button",this.iconPack=Kt,this.t=Zt(),this.canDisable=!1,this.permissionsUpdateListener=()=>{var e;this.canDisable=!!(null===(e=this.meeting)||void 0===e?void 0:e.self.permissions.canDisableParticipantAudio)},this.onMuteAll=()=>{this.stateUpdate.emit({activeMuteAllConfirmation:!0})}}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){var e,t,i;null===(i=null===(t=null===(e=this.meeting)||void 0===e?void 0:e.self)||void 0===t?void 0:t.permissions)||void 0===i||i.removeListener("permissionsUpdate",this.permissionsUpdateListener)}meetingChanged(e){e&&(this.canDisable=!!(null==e?void 0:e.self.permissions.canDisableParticipantAudio),e.self.permissions.addListener("permissionsUpdate",this.permissionsUpdateListener))}render(){if(!this.canDisable)return null;const e=this.t("mute_all");return H(G,{title:e},H("dyte-tooltip",{kind:"block",label:e,part:"tooltip"},H("dyte-controlbar-button",{part:"controlbar-button",icon:this.iconPack.speaker_off,label:e,size:this.size,iconPack:this.iconPack,variant:this.variant,onClick:this.onMuteAll})))}static get watchers(){return{meeting:["meetingChanged"]}}};rp([ni()],np.prototype,"meeting",void 0),rp([ni()],np.prototype,"size",void 0),rp([ni()],np.prototype,"iconPack",void 0),rp([ni()],np.prototype,"t",void 0),np.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block}";var op=Object.freeze({__proto__:null,dyte_mute_all_button:np});var dp=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const cp=class{constructor(e){c(this,e),this.iconPack=Kt,this.t=Zt(),this.isScreenShare=!1,this.score=10,this.onMediaScoreUpdate=({kind:e,isScreenshare:t,score:i})=>{("video"===e||this.isScreenShare&&t)&&(this.score=i)}}connectedCallback(){this.participantChanged(this.participant)}participantChanged(e){e&&e.addListener("mediaScoreUpdate",this.onMediaScoreUpdate)}disconnectedCallback(){var e;null===(e=this.participant)||void 0===e||e.removeListener("mediaScoreUpdate",this.onMediaScoreUpdate)}render(){let e=Math.round(this.score/2),t="good";if(e>3)return null;switch(e<1&&(e=1),e){case 3:case 2:t="poor";break;case 1:t="poorest"}return H(G,null,H("dyte-icon",{icon:this.iconPack[`signal_${e}`],class:t}),H("dyte-icon",{icon:this.iconPack.signal_5,class:"bg-signal"}))}static get watchers(){return{participant:["participantChanged"]}}};dp([ni()],cp.prototype,"meeting",void 0),dp([ni()],cp.prototype,"iconPack",void 0),dp([ni()],cp.prototype,"t",void 0),cp.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{position:relative;display:block;height:var(--dyte-space-7, 28px);width:var(--dyte-space-7, 28px)}dyte-icon{position:absolute;top:var(--dyte-space-0, 0px);right:var(--dyte-space-0, 0px);bottom:var(--dyte-space-0, 0px);left:var(--dyte-space-0, 0px);z-index:10;height:100%;width:100%;--tw-text-opacity:1;color:rgba(var(--dyte-colors-success, 98 165 4) / var(--tw-text-opacity))}dyte-icon.good{--tw-text-opacity:1;color:rgba(var(--dyte-colors-success, 98 165 4) / var(--tw-text-opacity))}dyte-icon.poor{--tw-text-opacity:1;color:rgba(var(--dyte-colors-warning, 255 205 7) / var(--tw-text-opacity))}dyte-icon.poorest{--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}:host([size='md']){height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px)}:host([size='sm']){height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px)}.bg-signal{position:absolute;top:var(--dyte-space-0, 0px);right:var(--dyte-space-0, 0px);bottom:var(--dyte-space-0, 0px);left:var(--dyte-space-0, 0px);z-index:0;color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}";var lp=Object.freeze({__proto__:null,dyte_network_indicator:cp});var hp=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const pp=class{constructor(e){c(this,e),this.iconPack=Kt,this.t=Zt(),this.participantCount=0,this.isViewer=!1,this.disconnectMeeting=e=>{null!=e&&null!=this.countListener&&(e.participants.joined.removeListener("participantJoined",this.countListener),e.participants.joined.removeListener("participantLeft",this.countListener),(null==e?void 0:e.stage)&&this.stageUpdateListener&&e.stage.removeListener("stageStatusUpdate",this.stageUpdateListener),e.self.removeListener("roomJoined",this.countListener))}}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.disconnectMeeting(this.meeting)}meetingChanged(e,t){this.disconnectMeeting(t),null!=e&&(this.countListener=()=>{this.participantCount=e.participants.joined.size+(e.self.roomJoined?1:0)},this.countListener(),this.isViewer=st(this.meeting),e.participants.joined.addListener("participantJoined",this.countListener),e.participants.joined.addListener("participantLeft",this.countListener),(null==e?void 0:e.stage)&&(this.stageUpdateListener=()=>{this.isViewer=st(this.meeting)},null==e||e.stage.addListener("stageStatusUpdate",this.stageUpdateListener)),e.self.addListener("roomJoined",this.countListener))}render(){return this.isViewer?null:H(G,{tabIndex:0,role:"log","aria-label":`${this.participantCount} ${this.t("participants")}`},H("dyte-icon",{icon:this.iconPack.people,tabIndex:-1,"aria-hidden":!0,part:"icon"}),this.participantCount)}static get watchers(){return{meeting:["meetingChanged"]}}};hp([ni()],pp.prototype,"meeting",void 0),hp([ni()],pp.prototype,"iconPack",void 0),hp([ni()],pp.prototype,"t",void 0),hp([ni()],pp.prototype,"size",void 0),pp.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{margin-left:var(--dyte-space-2, 8px);margin-right:var(--dyte-space-2, 8px);display:inline-flex;height:var(--dyte-space-10, 40px);-webkit-user-select:none;-moz-user-select:none;user-select:none;align-items:center}:host([size='sm']){margin-left:var(--dyte-space-1, 4px);margin-right:var(--dyte-space-1, 4px);font-size:12px}dyte-icon{margin-right:var(--dyte-space-1, 4px);height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px)}:host([size='sm']) dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px)}";var gp=Object.freeze({__proto__:null,dyte_participant_count:pp});var up=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const fp=class{constructor(e){c(this,e),this.isPinned=!1,this.nameTagPosition="bottom-left",this.isPreview=!1,this.config=zt,this.variant="solid",this.iconPack=Kt,this.t=Zt(),this.onVideoUpdate=e=>{this.videoState=e}}connectedCallback(){this.participantsChanged(this.participant)}componentDidLoad(){this.videoStateChanged(this.videoState)}disconnectedCallback(){null!=this.participant&&this.participant.removeListener("videoUpdate",this.onVideoUpdate)}async participantsChanged(e){null!=e&&(this.videoState={videoEnabled:e.videoEnabled,videoTrack:e.videoTrack},this.isPinned=e.isPinned,e.addListener("videoUpdate",this.onVideoUpdate))}videoStateChanged(e){if(null!=e&&null!=this.videoEl)if(e.videoEnabled){const t=new MediaStream;t.addTrack(e.videoTrack),this.videoEl.srcObject=t}else this.videoEl.srcObject=void 0}isMirrored(){var e;if(null!=this.participant){if("preview"in this.participant||this.isPreview){const t=this.states,i=null===(e=null==t?void 0:t.prefs)||void 0===e?void 0:e.mirrorVideo;if("boolean"==typeof i)return i}}return!1}render(){var e,t,i,a;return H(G,{key:"e9aca0a99a67a4f2fd5c7f3bd006975db783a1e9"},H("video",{key:"9e291950e6ad07c8ed37d6da2987507d5fc657e4",ref:e=>this.videoEl=e,class:{visible:null===(e=this.videoState)||void 0===e?void 0:e.videoEnabled,mirror:this.isMirrored(),[null!==(a=null===(i=null===(t=this.config)||void 0===t?void 0:t.config)||void 0===i?void 0:i.videoFit)&&void 0!==a?a:"cover"]:!0},autoPlay:!0,playsInline:!0,muted:!0}),H("slot",{key:"915126d45b8bb08844d526408132e5c259eaa950"}))}static get watchers(){return{participant:["participantsChanged"],videoState:["videoStateChanged"]}}};up([ni()],fp.prototype,"states",void 0),up([ni()],fp.prototype,"size",void 0),up([ni()],fp.prototype,"iconPack",void 0),up([ni()],fp.prototype,"t",void 0),fp.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{position:relative;display:flex;align-items:center;justify-content:center;aspect-ratio:16 / 9;height:var(--dyte-space-56, 224px);overflow:hidden;border-radius:var(--dyte-border-radius-lg, 12px);-webkit-user-select:none;-moz-user-select:none;user-select:none;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-video-bg, 24 24 24) / var(--tw-bg-opacity));transition-property:var(--dyte-transition-property, all);transition-duration:150ms}@media (prefers-reduced-motion){:host{--dyte-transition-property:none}}:host([size='sm'][variant='solid']) ::slotted(dyte-name-tag){left:var(--dyte-space-2, 8px);bottom:var(--dyte-space-2, 8px);height:var(--dyte-space-4, 16px)}video{display:none;position:absolute;height:100%;width:100%;border-radius:var(--dyte-border-radius-lg, 12px)}video.contain{-o-object-fit:contain;object-fit:contain}video.cover{-o-object-fit:cover;object-fit:cover}video.visible{display:block}video::-webkit-media-controls{display:none !important}:host([variant='gradient']) ::slotted(dyte-audio-visualizer){position:absolute;top:var(--dyte-space-2, 8px);right:var(--dyte-space-2, 8px);border-radius:9999px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));padding:var(--dyte-space-2, 8px)}:host([variant='gradient']) ::slotted(dyte-name-tag){bottom:var(--dyte-space-0, 0px);left:var(--dyte-space-0, 0px);display:flex;width:100%;align-items:center;justify-content:center;text-align:center;background-color:transparent;background-image:linear-gradient(to top, var(--tw-gradient-stops));--tw-gradient-from:rgb(var(--dyte-colors-background-1000, 8 8 8));--tw-gradient-to:rgba(var(--dyte-colors-background-1000, 8 8 8) / 0);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to);--tw-gradient-to:transparent}video.mirror{transform:scaleX(-1)}@media (orientation: portrait){:host{height:var(--dyte-space-44, 176px)}}";var mp=Object.freeze({__proto__:null,dyte_participant_setup:fp});var vp=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const yp=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.config=zt,this.iconPack=Kt,this.defaultParticipantsTabId="stage-list",this.t=Zt(),this.currentParticipantsTabId=this.defaultParticipantsTabId,this.tabs=[],this.hasRequests=!1,this.search="",this.updateParticipantCountsInTabs=ji((()=>{var e;let t=(null===(e=this.meeting.participants.waitlisted)||void 0===e?void 0:e.size)||0,i=0,a=0;this.meeting.participants.joined.toArray().forEach((e=>{"ON_STAGE"===e.stageStatus&&i++,"OFF_STAGE"===e.stageStatus&&a++,"REQUESTED_TO_JOIN_STAGE"===e.stageStatus&&(t++,a++),"ACCEPTED_TO_JOIN_STAGE"===e.stageStatus&&a++})),"ON_STAGE"===this.meeting.self.stageStatus&&i++,"OFF_STAGE"===this.meeting.self.stageStatus&&a++,"REQUESTED_TO_JOIN_STAGE"===this.meeting.self.stageStatus&&(t++,a++),"ACCEPTED_TO_JOIN_STAGE"===this.meeting.self.stageStatus&&a++;const s=[];this.shouldShowRequestsTab()&&s.push({id:"requests",name:H("span",null,this.t("requests"),"\xa0",H("span",{class:`tab-participant-count-badge ${t>0?"requests-pending":""} ${"requests"===this.currentParticipantsTabId?"selected-tab":""}`},t))}),s.push({id:"stage-list",name:H("span",null,this.t("participants"),"\xa0",H("span",{class:"tab-participant-count-badge "+("stage-list"===this.currentParticipantsTabId?"selected-tab":"")},i))}),this.shouldShowViewersTab()&&s.push({id:"viewer-list",name:H("span",null,this.t("viewers"),"\xa0",H("span",{class:"tab-participant-count-badge "+("viewer-list"===this.currentParticipantsTabId?"selected-tab":"")},a))}),this.tabs=s,this.hasRequests=t>0})),this.onSearchInput=e=>{this.search=e.target.value},this.shouldShowViewersTab=()=>{var e,t,i;return null===(i=null===(t=null===(e=this.meeting)||void 0===e?void 0:e.self)||void 0===t?void 0:t.permissions)||void 0===i?void 0:i.stageEnabled},this.shouldShowRequestsTab=()=>{var e;let t=!1;return t="LIVESTREAM"!==this.meeting.meta.viewType&&((null===(e=this.meeting.self.config.waitingRoom)||void 0===e?void 0:e.isEnabled)&&this.meeting.self.permissions.acceptWaitingRequests),this.meeting.self.permissions.stageEnabled&&this.meeting.self.permissions.acceptStageRequests||t},this.viewSection=e=>{this.currentParticipantsTabId=e}}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){null!=this.meeting&&(this.meeting.participants.joined.off("participantJoined",this.updateParticipantCountsInTabs),this.meeting.participants.joined.off("participantsUpdate",this.updateParticipantCountsInTabs),this.meeting.participants.joined.off("participantLeft",this.updateParticipantCountsInTabs),this.meeting.participants.joined.off("stageStatusUpdate",this.updateParticipantCountsInTabs),this.meeting.stage.off("stageStatusUpdate",this.updateParticipantCountsInTabs),this.meeting.participants.waitlisted.off("participantJoined",this.updateParticipantCountsInTabs),this.meeting.participants.waitlisted.off("participantLeft",this.updateParticipantCountsInTabs),this.meeting.participants.waitlisted.off("stageStatusUpdate",this.updateParticipantCountsInTabs))}meetingChanged(e){null!=e&&(e.participants.joined.on("participantJoined",this.updateParticipantCountsInTabs),e.participants.joined.on("participantsUpdate",this.updateParticipantCountsInTabs),e.participants.joined.on("participantLeft",this.updateParticipantCountsInTabs),e.participants.joined.on("stageStatusUpdate",this.updateParticipantCountsInTabs),e.stage.on("stageStatusUpdate",this.updateParticipantCountsInTabs),e.participants.waitlisted.on("participantJoined",this.updateParticipantCountsInTabs),e.participants.waitlisted.on("participantLeft",this.updateParticipantCountsInTabs),e.participants.waitlisted.on("stageStatusUpdate",this.updateParticipantCountsInTabs),this.updateParticipantCountsInTabs())}currentParticipantsTabIdChanged(){this.stateUpdate.emit({participantsTabId:this.currentParticipantsTabId}),this.updateParticipantCountsInTabs()}render(){const e={meeting:this.meeting,states:this.states,config:this.config,size:this.size,iconPack:this.iconPack,t:this.t};return H(G,{key:"480aec3590cdf484f086f5120938d9e8ac348ca1"},H("div",{key:"29f7064560ac5a2ad90057aa30960fbbd6f8c7ee",class:"search",part:"search"},H("dyte-icon",{key:"4abbff7265591d8283d3d092fb070426797ab803",icon:this.iconPack.search,part:"search-icon"}),H("input",{key:"959e79448af2bf197dd1c531da484278eac2693e",type:"search",autocomplete:"off",placeholder:this.t("search"),onInput:this.onSearchInput,part:"search-input"})),H("slot",{key:"6fbfacc270b0e268660ea78dacbe90a516224c43",name:"start"}),H("div",{key:"e8b7472aee6ed129ceee97abbd89f77c01f7559c",class:"ctr scrollbar "+("requests"!==this.currentParticipantsTabId?"virtualised":""),part:"container"},H("dyte-sidebar-ui",{key:"96d95ef917399340c2ba1e6271726dc213aa3b4b",tabs:this.tabs,currentTab:this.currentParticipantsTabId,view:"full-screen",hideHeader:!0,hideCloseAction:!0,style:{position:"relative"},onTabChange:e=>{this.viewSection(e.detail),e.stopPropagation()}},(!this.currentParticipantsTabId||"stage-list"===this.currentParticipantsTabId)&&H("div",{key:"d8bcf02f0f6f1f91fcb91249cc6d367e0942c9a2",slot:"stage-list",style:{marginTop:"10px",height:"100%"}},H("dyte-participants-stage-list",Object.assign({key:"a17c62efa97440dd8da28aedb81f0bde6d494da0"},e,{search:this.search,hideHeader:!0}))),"requests"===this.currentParticipantsTabId&&H("div",{key:"9241d6d585ff4c868d568c2033d3ae8b01c53180",slot:"requests",style:{marginTop:"10px",height:"100%"}},!this.hasRequests&&H("div",{key:"e68d9238c16a4dc1c97c3dc40d4620ce048e5fe3",class:"no-pending-requests"},this.t("participants.no_pending_requests")),H("dyte-participants-stage-queue",Object.assign({key:"945ffdc7578dc98d5df3fdba0dcd95e7eef22613"},e)),H("dyte-participants-waiting-list",Object.assign({key:"c88bf2ff95796fe0c8859484cb30010f85ab74be"},e))),"viewer-list"===this.currentParticipantsTabId&&H("div",{key:"63913220bfdefeaee9f3f544cd22a1192e1f4e32",slot:"viewer-list",style:{marginTop:"10px",height:"100%"}},H("dyte-participants-viewer-list",Object.assign({key:"e37f9024b4dcbb3c809cc94551de13cabea297de"},e,{search:this.search,hideHeader:!0}))))),H("slot",{key:"d69d7d91f239f0f37200279065963ae3bf4054d1",name:"end"}))}static get watchers(){return{meeting:["meetingChanged"],currentParticipantsTabId:["currentParticipantsTabIdChanged"]}}};vp([ni()],yp.prototype,"meeting",void 0),vp([ni()],yp.prototype,"states",void 0),vp([ni()],yp.prototype,"size",void 0),vp([ni()],yp.prototype,"iconPack",void 0),vp([ni()],yp.prototype,"t",void 0),yp.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{display:flex;height:100%;width:100%;flex-direction:column;font-size:14px}*{box-sizing:border-box}.ctr{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px);box-sizing:border-box;padding-left:var(--dyte-space-3, 12px);padding-right:var(--dyte-space-3, 12px);padding-top:var(--dyte-space-0, 0px);padding-bottom:var(--dyte-space-0, 0px);overflow-y:auto;flex-grow:1;flex-basis:0}.ctr.virtualised{overflow-y:hidden}.search{position:sticky;box-sizing:border-box;display:flex;align-items:center;border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));margin-left:var(--dyte-space-3, 12px);margin-right:var(--dyte-space-3, 12px);margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-0, 0px)}.search dyte-icon{margin-left:var(--dyte-space-2, 8px);margin-right:var(--dyte-space-2, 8px);height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px);color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}.search input{box-sizing:border-box;height:var(--dyte-space-9, 36px);width:100%;padding-right:var(--dyte-space-2, 8px);border-width:var(--dyte-border-width-none, 0);border-style:none;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));outline:2px solid transparent;outline-offset:2px;border-radius:var(--dyte-border-radius-sm, 4px);font-size:14px}.search input::-moz-placeholder{color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}.search input::placeholder{color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}:host([size='md']) .search{margin-top:var(--dyte-space-4, 16px) !important;margin-bottom:var(--dyte-space-4, 16px) !important}:host([size='sm']) .search{margin-top:var(--dyte-space-4, 16px) !important;margin-bottom:var(--dyte-space-4, 16px) !important}.no-pending-requests{margin-top:var(--dyte-space-4, 16px);margin-bottom:var(--dyte-space-4, 16px);text-align:center;font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}";var bp=Object.freeze({__proto__:null,dyte_participants:yp});class wp{constructor(e,t){this.meeting=e,this.audio=null!=t?t:document.createElement("audio"),this.audio.autoplay=!0,this.audioStream=new MediaStream,this.audio.srcObject=this.audioStream,this.audioTracks=[]}addTrack(e,t){this.audioTracks.some((t=>t.id===e))||(this.audioTracks.push({id:e,track:t}),this.audioStream.addTrack(t),this.play())}removeTrack(e){const t=this.audioTracks.find((t=>t.id===e));null!=t&&(this.audioStream.removeTrack(t.track),this.audioTracks=this.audioTracks.filter((t=>t.id!==e)))}async play(){var e;this.audio.srcObject=this.audioStream,await(null===(e=this.audio.play())||void 0===e?void 0:e.catch((e=>{"NotAllowedError"===e.name?null!=this._onError&&this._onError():"AbortError"!==e.name&&io.error("[dyte-audio] play() error\n",e)})))}async setDevice(e){var t,i,a;mt(this.meeting)||await(null===(a=null===(i=(t=this.audio).setSinkId)||void 0===i?void 0:i.call(t,e))||void 0===a?void 0:a.catch((e=>{io.error("[dyte-audio] setSinkId() error\n",e)})))}onError(e){this._onError=e}}var xp=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const kp=class{constructor(e){c(this,e),this.dialogClose=Q(this,"dialogClose",7),this.iconPack=Kt,this.t=Zt(),this.preloadedAudioElem=void 0,this.showPlayDialog=!1,this.onDyteDialogClose=()=>{this.showPlayDialog=!1,this.dialogClose.emit()}}componentDidLoad(){this.meetingChanged(this.meeting)}disconnectedCallback(){var e;null!=this.meeting&&(this.audioUpdateListener&&this.meeting.participants.joined.removeListener("audioUpdate",this.audioUpdateListener),this.screenShareUpdateListener&&this.meeting.participants.joined.removeListener("screenShareUpdate",this.screenShareUpdateListener),this.participantLeftListener&&this.meeting.participants.joined.removeListener("participantLeft",this.participantLeftListener),this.deviceUpdateListener&&this.meeting.self.removeListener("deviceUpdate",this.deviceUpdateListener),this.stageStatusUpdateListener&&(null===(e=this.meeting.stage)||void 0===e||e.removeListener("stageStatusUpdate",this.stageStatusUpdateListener)))}async setupAudio(){this.audio=new wp(this.meeting,this.preloadedAudioElem);const e=this.meeting.self.getCurrentDevices();null!=e.speaker&&await this.audio.setDevice(e.speaker.deviceId)}async handleAutoPlayError(){this.audio||await this.setupAudio(),this.audio.onError((()=>{this.showPlayDialog=!0})),this.audio.play()}async handleEvents(e){this.audioUpdateListener=({id:e,audioEnabled:t,audioTrack:i})=>{const a=`audio-${e}`;t&&null!=i?this.audio.addTrack(a,i):this.audio.removeTrack(a)};const t=e.participants.joined.toArray();for(const i of t)this.audioUpdateListener(i);this.participantLeftListener=({id:e})=>{this.audio.removeTrack(`audio-${e}`),this.audio.removeTrack(`screenshare-${e}`)},this.screenShareUpdateListener=({id:e,screenShareEnabled:t,screenShareTracks:i})=>{const a=`screenshare-${e}`;t&&null!=i.audio?this.audio.addTrack(a,i.audio):this.audio.removeTrack(a)},this.deviceUpdateListener=({device:e,preview:t})=>{t||"audiooutput"===e.kind&&this.audio.setDevice(e.deviceId)},e.participants.joined.addListener("audioUpdate",this.audioUpdateListener),e.participants.joined.addListener("screenShareUpdate",this.screenShareUpdateListener),e.participants.joined.addListener("participantLeft",this.participantLeftListener),e.self.addListener("deviceUpdate",this.deviceUpdateListener)}async meetingChanged(e){var t;null!=e&&(this.setupAudio(),st(e)?(this.stageStatusUpdateListener=async e=>{"ON_STAGE"===e&&await this.handleAutoPlayError()},null===(t=e.stage)||void 0===t||t.on("stageStatusUpdate",this.stageStatusUpdateListener)):await this.handleAutoPlayError(),await this.handleEvents(e))}render(){return H(G,{key:"8f75e172807ecedd630de70b5cc3e8c73aad09de"},this.showPlayDialog&&H("dyte-dialog",{key:"4770efe5ed393e2033706e983996a2b7f822feac",open:!0,onDyteDialogClose:this.onDyteDialogClose,hideCloseButton:!0,disableEscapeKey:!0,iconPack:this.iconPack,t:this.t},H("div",{key:"5c1cb440b28b8a7a3e655056a3495f1d10c7168e",class:"modal"},H("h3",{key:"c3426d43cb93374db943952d7e21ecc7ed49c6ad"},this.t("audio_playback.title")),H("p",{key:"46e1b0443fec08430c1d08556a528e2de7419708"},this.t("audio_playback.description")),H("dyte-button",{key:"99173304cfa04af361162d78993c0ccb06de3400",kind:"wide",onClick:()=>{this.audio.play(),this.onDyteDialogClose()},title:this.t("audio_playback")},this.t("audio_playback")))))}static get watchers(){return{meeting:["meetingChanged"]}}};xp([ni()],kp.prototype,"meeting",void 0),xp([ni()],kp.prototype,"iconPack",void 0),xp([ni()],kp.prototype,"t",void 0),kp.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block;overflow-wrap:break-word;color:rgb(var(--dyte-colors-text-1000, 255 255 255));word-wrap:break-word}.modal{box-sizing:border-box;width:100%;max-width:var(--dyte-space-96, 384px);padding:var(--dyte-space-4, 16px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.modal h3{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px);font-size:24px;font-weight:500}.modal p{margin-top:var(--dyte-space-4, 16px);margin-bottom:var(--dyte-space-6, 24px)}.modal dyte-button{width:100%}";var Sp=Object.freeze({__proto__:null,dyte_participants_audio:kp});var Cp=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const _p=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.variant="button",this.iconPack=Kt,this.t=Zt(),this.participantsActive=!1,this.waitlistedParticipants=[],this.stageRequestedParticipants=[],this.badgeCount=0,this.canViewParticipants=!1,this.updateStageRequests=async e=>{var t,i,a;e||(e=null!==(a=null===(i=null===(t=this.meeting.stage)||void 0===t?void 0:t.getAccessRequests())||void 0===i?void 0:i.stageRequests)&&void 0!==a?a:[]),this.stageRequestedParticipants=e,this.stageRequestedParticipants="REQUESTED_TO_JOIN_STAGE"===this.meeting.stage.status?[this.meeting.self,...e]:e,this.updateBadgeCount()},this.updateBadgeCount=()=>{this.badgeCount=this.waitlistedParticipants.length+this.stageRequestedParticipants.length},this.updateCanView=()=>{this.canViewParticipants=ml(this.meeting)}}connectedCallback(){this.meetingChanged(this.meeting),this.statesChanged(this.states)}disconnectedCallback(){var e,t,i;null!=this.meeting&&(null===(t=null===(e=this.meeting)||void 0===e?void 0:e.stage)||void 0===t||t.removeListener("stageStatusUpdate",this.updateCanView),this.waitlistedParticipantJoinedListener&&this.meeting.participants.waitlisted.removeListener("participantJoined",this.waitlistedParticipantJoinedListener),this.waitlistedParticipantLeftListener&&this.meeting.participants.waitlisted.removeListener("participantLeft",this.waitlistedParticipantLeftListener),null===(i=this.meeting.stage)||void 0===i||i.removeListener("stageAccessRequestUpdate",this.updateStageRequests))}meetingChanged(e){var t;null!=e&&(this.canViewParticipants=ml(e),null===(t=null==e?void 0:e.stage)||void 0===t||t.on("stageStatusUpdate",this.updateCanView),e.self.permissions.acceptWaitingRequests&&(this.waitlistedParticipants=e.participants.waitlisted.toArray(),this.waitlistedParticipantJoinedListener=e=>{this.waitlistedParticipants.some((t=>t.id===e.id))||(this.waitlistedParticipants=[...this.waitlistedParticipants,e],this.updateBadgeCount())},this.waitlistedParticipantLeftListener=e=>{this.waitlistedParticipants=this.waitlistedParticipants.filter((t=>t.id!==e.id)),this.updateBadgeCount()},e.participants.waitlisted.addListener("participantJoined",this.waitlistedParticipantJoinedListener),e.participants.waitlisted.addListener("participantLeft",this.waitlistedParticipantLeftListener)),this.meeting.self.permissions.stageEnabled&&this.meeting.self.permissions.acceptStageRequests&&(this.updateStageRequests(),null==e||e.stage.on("stageAccessRequestUpdate",this.updateStageRequests)),this.updateBadgeCount())}statesChanged(e){null!=e&&(this.participantsActive=!0===e.activeSidebar&&"participants"===e.sidebar)}toggleParticipantsTab(){const e=this.states;this.participantsActive=!((null==e?void 0:e.activeSidebar)&&"participants"===(null==e?void 0:e.sidebar)),this.stateUpdate.emit({activeSidebar:this.participantsActive,sidebar:this.participantsActive?"participants":void 0,activeMoreMenu:!1,activeAI:!1})}render(){if(!this.canViewParticipants)return H(G,{"data-hidden":!0});const e=this.t("participants");return H(G,{title:e},0!==this.badgeCount&&!this.participantsActive&&H("div",{class:"waiting-participants-count",part:"waiting-participants-count"},H("span",null,this.badgeCount<=100?this.badgeCount:"99+")),H("dyte-controlbar-button",{part:"controlbar-button",size:this.size,iconPack:this.iconPack,class:{active:this.participantsActive},onClick:()=>this.toggleParticipantsTab(),icon:this.iconPack.participants,label:e,variant:this.variant}))}static get watchers(){return{meeting:["meetingChanged"],states:["statesChanged"]}}};Cp([ni()],_p.prototype,"meeting",void 0),Cp([ni()],_p.prototype,"states",void 0),Cp([ni()],_p.prototype,"size",void 0),Cp([ni()],_p.prototype,"iconPack",void 0),Cp([ni()],_p.prototype,"t",void 0),_p.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{position:relative;display:block}:host([data-hidden]){display:none}.waiting-participants-count{position:absolute;right:var(--dyte-space-3, 12px);box-sizing:border-box;padding:var(--dyte-space-0\\.5, 2px);-webkit-user-select:none;-moz-user-select:none;user-select:none;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));font-size:12px;display:flex;height:var(--dyte-space-5, 20px);min-width:var(--dyte-space-5, 20px);align-items:center;justify-content:center;border-radius:9999px;z-index:1}:host([variant='horizontal']) .waiting-participants-count{right:var(--dyte-space-4, 16px);top:auto}";var Pp=Object.freeze({__proto__:null,dyte_participants_toggle:_p});var Lp=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Ep=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.variant="button",this.config=zt,this.iconPack=Kt,this.t=Zt(),this.pipSupported=!1}connectedCallback(){this.meetingChanged(this.meeting)}meetingChanged(e){var t,i,a;e&&(this.pipSupported=(null===(t=e.participants.pip)||void 0===t?void 0:t.isSupported())&&(null===(i=e.self.config)||void 0===i?void 0:i.pipMode)&&"LIVESTREAM"!==(null===(a=e.self.config)||void 0===a?void 0:a.viewType))}togglePip(){this.meeting.participants.pip&&(this.meeting.participants.pip.isActive?this.meeting.participants.pip.disable():this.meeting.participants.pip.enable(),this.stateUpdate.emit({activeMoreMenu:!1}))}render(){if(!this.pipSupported)return H(G,{"data-hidden":!0});const e=this.meeting.participants.pip.isActive;return H(G,{role:"log","aria-label":"Picture-in-Picture mode"},H("dyte-controlbar-button",{part:"controlbar-button",size:this.size,iconPack:this.iconPack,onClick:()=>this.togglePip(),icon:e?this.iconPack.pip_on:this.iconPack.pip_off,label:e?this.t("pip_off"):this.t("pip_on"),variant:this.variant}))}static get watchers(){return{meeting:["meetingChanged"]}}};Lp([ni()],Ep.prototype,"meeting",void 0),Lp([ni()],Ep.prototype,"states",void 0),Lp([ni()],Ep.prototype,"iconPack",void 0),Lp([ni()],Ep.prototype,"size",void 0),Lp([ni()],Ep.prototype,"t",void 0),Ep.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block}:host([data-hidden]){display:none}";var Tp=Object.freeze({__proto__:null,dyte_pip_toggle:Ep});var Ap=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Rp=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.variant="button",this.iconPack=Kt,this.t=Zt(),this.pluginsActive=!1,this.canViewPlugins=!1,this.updateCanView=()=>{this.canViewPlugins=vl(this.meeting)}}disconnectedCallback(){var e,t,i,a;null===(t=null===(e=this.meeting)||void 0===e?void 0:e.stage)||void 0===t||t.removeListener("stageStatusUpdate",this.updateCanView),null===(a=null===(i=this.meeting)||void 0===i?void 0:i.self)||void 0===a||a.permissions.removeListener("pluginsUpdate",this.updateCanView)}connectedCallback(){this.statesChanged(this.states),this.meetingChanged(this.meeting)}meetingChanged(e){var t,i;null!=e&&(this.canViewPlugins=vl(e),null===(t=null==e?void 0:e.stage)||void 0===t||t.on("stageStatusUpdate",this.updateCanView),null===(i=null==e?void 0:e.self)||void 0===i||i.permissions.addListener("pluginsUpdate",this.updateCanView))}statesChanged(e){null!=e&&(this.pluginsActive=!0===e.activeSidebar&&"plugins"===e.sidebar)}togglePlugins(){const e=this.states;this.pluginsActive=!((null==e?void 0:e.activeSidebar)&&"plugins"===(null==e?void 0:e.sidebar)),this.stateUpdate.emit({activeSidebar:this.pluginsActive,sidebar:this.pluginsActive?"plugins":void 0,activeMoreMenu:!1,activeAI:!1})}render(){if(!this.canViewPlugins)return H(G,{"data-hidden":!0});const e=this.t("plugins");return H(G,{title:e},H("dyte-controlbar-button",{part:"controlbar-button",size:this.size,iconPack:this.iconPack,class:{active:this.pluginsActive},onClick:()=>this.togglePlugins(),icon:this.iconPack.rocket,label:e,variant:this.variant}))}static get watchers(){return{meeting:["meetingChanged"],states:["statesChanged"]}}};Ap([ni()],Rp.prototype,"meeting",void 0),Ap([ni()],Rp.prototype,"states",void 0),Ap([ni()],Rp.prototype,"size",void 0),Ap([ni()],Rp.prototype,"iconPack",void 0),Ap([ni()],Rp.prototype,"t",void 0),Rp.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block}:host([data-hidden]){display:none}";var Mp=Object.freeze({__proto__:null,dyte_plugins_toggle:Rp});var Dp=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Ip=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.variant="button",this.iconPack=Kt,this.t=Zt(),this.pollsActive=!1,this.unreadPollsCount=0,this.canViewPolls=!1,this.onPollsUpdate=({newPoll:e})=>{!0===e&&(this.unreadPollsCount+=1)},this.updateCanView=()=>{this.canViewPolls=fl(this.meeting)}}connectedCallback(){this.meetingChanged(this.meeting),this.statesChanged(this.states)}disconnectedCallback(){var e,t,i,a,s,r;null===(t=null===(e=this.meeting)||void 0===e?void 0:e.polls)||void 0===t||t.removeListener("pollsUpdate",this.onPollsUpdate),null===(a=null===(i=this.meeting)||void 0===i?void 0:i.self)||void 0===a||a.permissions.removeListener("pollsUpdate",this.updateCanView),null===(r=null===(s=this.meeting)||void 0===s?void 0:s.stage)||void 0===r||r.removeListener("stageStatusUpdate",this.updateCanView)}meetingChanged(e){var t,i;e&&e.polls&&(this.unreadPollsCount=e.polls.items.length,this.meeting.polls.addListener("pollsUpdate",this.onPollsUpdate),null===(t=null==e?void 0:e.self)||void 0===t||t.permissions.addListener("pollsUpdate",this.updateCanView),this.canViewPolls=fl(e),null===(i=null==e?void 0:e.stage)||void 0===i||i.on("stageStatusUpdate",this.updateCanView))}statesChanged(e){null!=e&&(this.pollsActive=!0===e.activeSidebar&&"polls"===e.sidebar)}togglePollsTab(){const e=this.states;this.unreadPollsCount=0,this.pollsActive=!((null==e?void 0:e.activeSidebar)&&"polls"===(null==e?void 0:e.sidebar)),this.stateUpdate.emit({activeSidebar:this.pollsActive,sidebar:this.pollsActive?"polls":void 0,activeMoreMenu:!1,activeAI:!1})}render(){if(!this.canViewPolls)return H(G,{"data-hidden":!0});const e=this.t("polls");return H(G,{title:e},0!==this.unreadPollsCount&&!this.pollsActive&&H("div",{class:"unread-count",part:"unread-count"},H("span",null,this.unreadPollsCount<=100?this.unreadPollsCount:"99+")),H("dyte-controlbar-button",{part:"controlbar-button",size:this.size,iconPack:this.iconPack,class:{active:this.pollsActive},onClick:()=>this.togglePollsTab(),icon:this.iconPack.poll,label:e,variant:this.variant}))}static get watchers(){return{meeting:["meetingChanged"],states:["statesChanged"]}}};Dp([ni()],Ip.prototype,"meeting",void 0),Dp([ni()],Ip.prototype,"states",void 0),Dp([ni()],Ip.prototype,"size",void 0),Dp([ni()],Ip.prototype,"iconPack",void 0),Dp([ni()],Ip.prototype,"t",void 0),Ip.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{position:relative;display:block}:host([data-hidden]){display:none}.unread-count{position:absolute;right:var(--dyte-space-3, 12px);box-sizing:border-box;padding:var(--dyte-space-0\\.5, 2px);-webkit-user-select:none;-moz-user-select:none;user-select:none;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));font-size:12px;color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));display:flex;height:var(--dyte-space-5, 20px);min-width:var(--dyte-space-5, 20px);align-items:center;justify-content:center;border-radius:9999px;z-index:1}:host([variant='horizontal']) .unread-count{right:var(--dyte-space-4, 16px);top:auto}";var Op=Object.freeze({__proto__:null,dyte_polls_toggle:Ip});var $p=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Up=class{constructor(e){c(this,e),this.t=Zt(),this.iconPack=Kt,this.setIsRecording=e=>{this.isRecording="RECORDING"===e}}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){var e;null===(e=this.meeting)||void 0===e||e.recording.removeListener("recordingUpdate",this.updateRecordingStatus)}meetingChanged(e){null!=e&&(this.setIsRecording(e.recording.recordingState),this.updateRecordingStatus=e=>{this.setIsRecording(e)},e.recording.addListener("recordingUpdate",this.updateRecordingStatus))}render(){return H(G,{key:"b08cb38ca93d2db33679ac266e18063c4a2756cf"},this.isRecording&&H("div",{key:"5ba29ae19d2b338f32ec07ec2ef2662c61a7b5f9",class:"indicator","aria-label":this.t("recording.indicator"),part:"indicator"},H("dyte-icon",{key:"d2309f97e7e6f8d3f6cb62e4766b69993e32d803",icon:this.iconPack.recording,"aria-hidden":!0,tabIndex:-1,part:"icon"}),H("span",{key:"e8ddc6b7188df3f44ae0e6f3be0cdf0176cc8ebd"},this.t("recording.label"))))}static get watchers(){return{meeting:["meetingChanged"]}}};$p([ni()],Up.prototype,"meeting",void 0),$p([ni()],Up.prototype,"size",void 0),$p([ni()],Up.prototype,"t",void 0),$p([ni()],Up.prototype,"iconPack",void 0),Up.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{margin-left:var(--dyte-space-2, 8px);margin-right:var(--dyte-space-2, 8px);display:block}:host[size='sm']{margin-left:var(--dyte-space-1, 4px);margin-right:var(--dyte-space-1, 4px)}.indicator{display:flex;flex-direction:row;align-items:center;font-size:14px;--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}dyte-icon{margin-right:var(--dyte-space-1, 4px);height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px);animation:blink 4s linear infinite}:host([size='sm']) dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px)}:host([size='sm']) .indicator span{display:none}@keyframes blink{0%,10%{opacity:0}11%,100%{opacity:1}}";var jp=Object.freeze({__proto__:null,dyte_recording_indicator:Up});var Fp=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Np=class{constructor(e){c(this,e),this.dyteAPIError=Q(this,"dyteAPIError",7),this.variant="button",this.t=Zt(),this.iconPack=Kt,this.disabled=!1,this.canRecord=!1,this.permissionsUpdateListener=()=>{this.canRecord=!0===this.meeting.self.permissions.canRecord},this.toggleRecording=async()=>{var e,t,i;if(!this.isLoading()&&!this.disabled)switch(this.recordingState){case"IDLE":try{return void await(null===(e=this.meeting)||void 0===e?void 0:e.recording.start())}catch(a){this.dyteAPIError.emit({trace:this.t("recording.start"),message:this.t("recording.error.start")})}return;case"RECORDING":try{return void await(null===(t=this.meeting)||void 0===t?void 0:t.recording.stop())}catch(s){this.dyteAPIError.emit({trace:this.t("recording.stop"),message:this.t("recording.error.stop")})}return;case"PAUSED":try{return void await(null===(i=this.meeting)||void 0===i?void 0:i.recording.resume())}catch(r){this.dyteAPIError.emit({trace:this.t("recording.resume"),message:this.t("recording.error.resume")})}return;default:return}},this.isLoading=()=>null==this.meeting||"STARTING"===this.recordingState||"STOPPING"===this.recordingState}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){var e,t;this.recordingStateUpdateListener&&(null===(e=this.meeting)||void 0===e||e.recording.removeListener("recordingUpdate",this.recordingStateUpdateListener)),null===(t=this.meeting)||void 0===t||t.self.permissions.removeListener("permissionsUpdate",this.permissionsUpdateListener)}meetingChanged(e){null!=e&&(this.recordingState=e.recording.recordingState,this.permissionsUpdateListener(),this.recordingStateUpdateListener=e=>{this.recordingState=e},e.recording.addListener("recordingUpdate",this.recordingStateUpdateListener),e.self.permissions.addListener("permissionsUpdate",this.permissionsUpdateListener))}getLabel(){switch(this.recordingState){case"IDLE":return"recording.idle";case"RECORDING":return"recording.stop";case"STARTING":return"recording.starting";case"STOPPING":return"recording.stopping";case"PAUSED":return"recording.resume";default:return"recording.loading"}}getIcon(){switch(this.recordingState){case"IDLE":case"STARTING":case"STOPPING":default:return this.iconPack.recording;case"RECORDING":return this.iconPack.stop_recording}}render(){if(this.canRecord)return H(G,{title:this.t("RECORDING"===this.recordingState?"recording.stop":"recording.idle")},H("dyte-controlbar-button",{part:"controlbar-button",size:this.size,iconPack:this.iconPack,onClick:this.toggleRecording,icon:this.getIcon(),isLoading:this.isLoading(),label:this.t(this.getLabel()),variant:this.variant,disabled:this.disabled}))}static get watchers(){return{meeting:["meetingChanged"]}}};Fp([ni()],Np.prototype,"meeting",void 0),Fp([ni()],Np.prototype,"t",void 0),Fp([ni()],Np.prototype,"iconPack",void 0),Fp([ni()],Np.prototype,"size",void 0),Np.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block}";var zp=Object.freeze({__proto__:null,dyte_recording_toggle:Np});var Bp=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Hp=()=>"undefined"!=typeof navigator&&void 0!==navigator.mediaDevices&&"getDisplayMedia"in navigator.mediaDevices,Vp=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.dyteAPIError=Q(this,"dyteAPIError",7),this.variant="button",this.iconPack=Kt,this.t=Zt(),this.maxScreenShareCount=-1,this.screenShareCount=0,this.screenShareEnabled=!1,this.canScreenShare=!1,this.shareScreenPermission="NOT_REQUESTED",this.screenShareState={tooltipLabel:this.t("screenshare.start"),label:this.t("screenshare.start"),icon:this.iconPack.share_screen_start,classList:{},showWarning:!1,disable:!1},this.stageStatus="OFF_STAGE",this.screenShareListener=()=>{const e=this.meeting.participants.active.toArray().filter((e=>e.screenShareEnabled)).length,t=this.meeting.self.screenShareEnabled?1:0;this.screenShareCount=e+t,this.screenShareEnabled=this.meeting.self.screenShareEnabled,this.getState(),this.meeting.__internals__.logger.info("dyteScreenShare::screenShareUpdate",{media:{screenshare:{enabled:this.screenShareEnabled,count:this.screenShareCount}}})},this.participantLeftListener=({screenShareEnabled:e})=>{e&&(this.screenShareCount=Math.max(this.screenShareCount-1,0),this.getState(),this.meeting.__internals__.logger.info("dyteScreenShare::screenShareUpdate",{media:{screenshare:{enabled:this.screenShareEnabled,count:this.screenShareCount}}}))},this.stageStatusListener=()=>{this.stageStatus=this.meeting.stage.status,this.canScreenShare="ALLOWED"===this.meeting.self.permissions.canProduceScreenshare},this.mediaPermissionUpdateListener=({kind:e,message:t})=>{if("screenshare"===e&&(this.shareScreenPermission=t,this.getState(),"COULD_NOT_START"===t&&this.dyteAPIError.emit({trace:this.t("screenshare.permissions"),message:this.t("screenshare.error.unknown")}),this.hasPermissionError())){const e={enabled:!0,kind:"screenshare"};this.stateUpdate.emit({activePermissionsMessage:e})}},this.reachedMaxScreenShares=()=>this.maxScreenShareCount>0&&this.screenShareCount>=this.maxScreenShareCount,this.toggleScreenShare=async()=>{var e;if(this.screenShareState.disable)return;if(this.hasPermissionError()){const e={enabled:!0,kind:"screenshare"};return this.stateUpdate.emit({activePermissionsMessage:e}),!1}const t=null===(e=this.meeting)||void 0===e?void 0:e.self;this.screenShareEnabled?t.disableScreenShare():null==t||!this.canScreenShare||this.reachedMaxScreenShares()||this.hasPermissionError()||(this.screenShareState=Object.assign(Object.assign({},this.screenShareState),{disable:!0}),await t.enableScreenShare(),this.screenShareState=Object.assign(Object.assign({},this.screenShareState),{disable:!1}),this.stateUpdate.emit({activeMoreMenu:!1}))}}connectedCallback(){Hp()?this.meetingChanged(this.meeting):io.error("[dyte-screenshare-toggle] Device does not support screensharing.")}disconnectedCallback(){var e,t,i,a,s,r;null===(e=this.meeting)||void 0===e||e.participants.joined.removeListener("screenShareUpdate",this.screenShareListener),null===(t=this.meeting)||void 0===t||t.participants.joined.removeListener("participantLeft",this.participantLeftListener),null===(i=this.meeting)||void 0===i||i.self.removeListener("screenShareUpdate",this.screenShareListener),null===(a=this.meeting)||void 0===a||a.self.removeListener("mediaPermissionUpdate",this.mediaPermissionUpdateListener),null===(r=null===(s=this.meeting)||void 0===s?void 0:s.stage)||void 0===r||r.removeListener("stageStatusUpdate",this.stageStatusListener)}meetingChanged(e){if(null!=e){const{self:t,stage:i}=e;this.canScreenShare="ALLOWED"===this.meeting.self.permissions.canProduceScreenshare,this.maxScreenShareCount=t.config.maxScreenShareCount,this.screenShareEnabled=t.screenShareEnabled;let a=0;for(const s of e.participants.joined.toArray())s.screenShareEnabled&&a++;this.screenShareCount=a,this.getState(),e.__internals__.logger.info("dyteScreenShare::initialise",{media:{screenshare:{enabled:this.screenShareEnabled,count:this.screenShareCount,maxAllowedCount:this.maxScreenShareCount}}}),this.stageStatus=e.stage.status,e.participants.joined.addListener("screenShareUpdate",this.screenShareListener),e.participants.joined.addListener("participantLeft",this.participantLeftListener),t.addListener("screenShareUpdate",this.screenShareListener),t.addListener("mediaPermissionUpdate",this.mediaPermissionUpdateListener),null==i||i.addListener("stageStatusUpdate",this.stageStatusListener)}}hasPermissionError(){return"SYSTEM_DENIED"===this.shareScreenPermission||"DENIED"===this.shareScreenPermission}getState(){let e="",t="",i="",a={};const s=this.hasPermissionError()&&!this.screenShareEnabled,r=this.reachedMaxScreenShares()&&!this.screenShareEnabled,n="COULD_NOT_START"===this.shareScreenPermission;this.screenShareEnabled&&!s?(t=this.t("screenshare.stop"),i=this.iconPack.share_screen_stop,a["red-icon"]=!0):(t=this.t("screenshare.start"),i=this.iconPack.share_screen_start),"SYSTEM_DENIED"===this.shareScreenPermission?(e=this.t("perm_sys_denied.screenshare"),a["red-icon"]=!0):"DENIED"===this.shareScreenPermission?(e=this.t("perm_denied.screenshare"),a["red-icon"]=!0):e=t,r&&(e=this.t("screenshare.error.max_count")),n&&(e=this.t("screenshare.error.unknown")),this.screenShareState={tooltipLabel:e,label:t,icon:i,classList:a,disable:s||r,showWarning:s||r||n}}render(){return Hp()&&this.canScreenShare&&!["OFF_STAGE","REQUESTED_TO_JOIN_STAGE"].includes(this.stageStatus)?H(G,{title:this.screenShareState.label},H("dyte-tooltip",{placement:"top",kind:"block",label:this.screenShareState.tooltipLabel,delay:600,part:"tooltip"},H("dyte-controlbar-button",{part:"controlbar-button",size:this.size,iconPack:this.iconPack,variant:this.variant,label:this.screenShareState.label,icon:this.screenShareState.icon,class:this.screenShareState.classList,onClick:this.toggleScreenShare,disabled:this.screenShareState.disable,showWarning:this.screenShareState.showWarning}))):H(G,{"data-hidden":!0})}static get watchers(){return{meeting:["meetingChanged"]}}};Bp([ni()],Vp.prototype,"states",void 0),Bp([ni()],Vp.prototype,"meeting",void 0),Bp([ni()],Vp.prototype,"size",void 0),Bp([ni()],Vp.prototype,"iconPack",void 0),Bp([ni()],Vp.prototype,"t",void 0),Vp.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block}:host([data-hidden]){display:none}";var Gp=Object.freeze({__proto__:null,dyte_screen_share_toggle:Vp});const qp=e=>{null!=e&&(null!=e.requestFullscreen?e.requestFullscreen():null!=e.mozRequestFullScreen?e.mozRequestFullScreen():null!=e.webkitRequestFullscreen?e.webkitRequestFullscreen():null!=e.msRequestFullscreen&&e.msRequestFullscreen())},Zp=()=>{null!=document.exitFullscreen?document.exitFullscreen():null!=document.mozExitFullScreen?document.mozExitFullScreen():null!=document.webkitExitFullscreen?document.webkitExitFullscreen():null!=document.msExitFullscreen&&document.msExitFullscreen()},Kp=()=>null!=document.fullscreenElement||null!=document.webkitCurrentFullScreenElement,Wp=()=>"undefined"!=typeof document&&(document.fullscreenEnabled||document.mozFullscreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled);var Yp=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Qp=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.play=Q(this,"screensharePlay",7),this.fullScreenListener=()=>{this.isFullScreen=Kp()},this.participantScreenshareUpdate=e=>{e.id===this.participant.id&&this.screenShareListener(e)},this.hideFullScreenButton=!1,this.nameTagPosition="bottom-left",this.variant="solid",this.iconPack=Kt,this.t=Zt(),this.videoExpanded=!1,this.screenShareEnabled=!1,this.isFullScreen=!1,this.toggleFullScreen=()=>{this.isFullScreen?(Zp(),this.isFullScreen=!1):(qp(this.host),this.isFullScreen=!0)}}connectedCallback(){null===window||void 0===window||window.addEventListener("fullscreenchange",this.fullScreenListener),null===window||void 0===window||window.addEventListener("webkitfullscreenchange",this.fullScreenListener)}componentDidLoad(){this.participantChanged(this.participant)}disconnectedCallback(){if(!this.meeting)return;const{self:e}=this.meeting;this.participant.id===e.id&&this.screenShareListener?this.participant.removeListener("screenShareUpdate",this.screenShareListener):this.meeting.participants.joined.removeListener("screenShareUpdate",this.participantScreenshareUpdate),null===window||void 0===window||window.removeEventListener("fullscreenchange",this.fullScreenListener),null===window||void 0===window||window.removeEventListener("webkitfullscreenchange",this.fullScreenListener)}participantChanged(e){if(null!=e&&this.meeting){const{self:t}=this.meeting;this.screenShareListener=({screenShareEnabled:e,screenShareTracks:t})=>{const i=e&&null!=t.video;if(L((()=>{this.screenShareEnabled=i})),i){const e=new MediaStream;e.addTrack(t.video),null!=this.videoEl&&(this.videoEl.srcObject=e,this.videoEl.play())}else null!=this.videoEl&&(this.videoEl.srcObject=void 0)},this.screenShareListener(e),e.id===t.id?e.addListener("screenShareUpdate",this.screenShareListener):this.meeting.participants.joined.addListener("screenShareUpdate",this.participantScreenshareUpdate)}}render(){var e,t;const i=(null===(e=this.participant)||void 0===e?void 0:e.id)===(null===(t=this.meeting)||void 0===t?void 0:t.self.id),a=this.isFullScreen?this.t("full_screen.exit"):this.t("full_screen"),s=this.isFullScreen?this.iconPack.full_screen_minimize:this.iconPack.full_screen_maximize;return H(G,{key:"1210e9acb51881828eafe0c8edcc5db51cfe67e5",class:{isSelf:i}},H("div",{key:"video-container",id:"video-container",class:{expand:this.videoExpanded}},H("video",{key:"edc1140a680fedb720626725ba33dee2c60a450f",ref:e=>this.videoEl=e,class:{visible:this.screenShareEnabled,"fit-in-container":this.participant.supportsRemoteControl},playsInline:!0,onPlay:()=>{this.play.emit({screenshareParticipant:this.participant,participant:this.meeting.self})},autoPlay:!0,muted:!0,id:`screen-share-video-${this.participant.id}`})),H("div",{id:"controls",key:"controls"},!this.hideFullScreenButton&&!i&&Wp()&&H("dyte-tooltip",{key:"5de7a66022531afd334d32119fe26c44d47871c0",label:a},H("dyte-button",{key:"1e2287ca95bf8bce3ebcd6fdfc9e601fabb8759b",id:"full-screen-btn",kind:"icon",onClick:this.toggleFullScreen,title:a},H("dyte-icon",{key:"4605f1c6eaa61d400b514da1553a3142ff377c20",icon:s,"aria-hidden":!0,tabIndex:-1})))),i&&H("div",{id:"self-message",key:"self-message"},H("h3",{key:"2e7cf4252fd106d9a86c4ecbb34d38c1b70004c8"},this.t("screenshare.shared")),H("div",{key:"56f069b3022daec515ff8b44875e7b046e075125",class:"actions"},null!=this.meeting&&H("dyte-button",{key:"b54f30fb5b44cec31f1708581220753189d9c2b5",variant:"danger",onClick:()=>{this.meeting.self.disableScreenShare()}},H("dyte-icon",{key:"cebfb5a509801fb74d1855fa0b6526f55c6e601e",icon:this.iconPack.share_screen_stop,slot:"start"}),this.t("screenshare.stop")),H("dyte-button",{key:"058c0ce2362e38b4829b31b894251d87212108c3",variant:"secondary",id:"expand-btn",onClick:()=>{this.videoExpanded=!this.videoExpanded}},H("dyte-icon",{key:"71e4ffe64eb29dcdc7963eb3131234abfecf1792",icon:this.videoExpanded?this.iconPack.full_screen_minimize:this.iconPack.full_screen_maximize,slot:"start"}),this.videoExpanded?this.t("screenshare.min_preview"):this.t("screenshare.max_preview")))),H("slot",{key:"a12bec813c857700cf57ba36968526c308be5494"}))}get host(){return Y(this)}static get watchers(){return{participant:["participantChanged"]}}};Yp([ni()],Qp.prototype,"meeting",void 0),Yp([ni()],Qp.prototype,"size",void 0),Yp([ni()],Qp.prototype,"iconPack",void 0),Yp([ni()],Qp.prototype,"t",void 0),Qp.style=":host {\n  line-height: initial;\n  font-family: var(--dyte-font-family, sans-serif);\n\n  font-feature-settings: normal;\n  font-variation-settings: normal;\n}\n\np {\n  margin: var(--dyte-space-0, 0px);\n  padding: var(--dyte-space-0, 0px);\n}\n\n\n:host {\n  height: 100%;\n  width: 100%;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n  border-radius: var(--dyte-border-radius-lg, 12px);\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-video-bg, 24 24 24) / var(--tw-bg-opacity));\n  container-type: inline-size;\n  container-name: screentile;\n}\n\n::slotted(dyte-name-tag) {\n  position: absolute;\n  left: var(--dyte-space-3, 12px);\n  bottom: var(--dyte-space-3, 12px);\n  opacity: 0.8;\n}\n\n#video-container {\n  position: absolute;\n  display: block;\n  height: 100%;\n  width: 100%;\n}\n\n#video-container .fit-in-container {\n  -o-object-fit: fill;\n     object-fit: fill;\n}\n\nvideo {\n  height: 100%;\n  width: 100%;\n  -o-object-fit: contain;\n     object-fit: contain;\n}\n\n:host([variant='gradient']) ::slotted(dyte-audio-visualizer) {\n  position: absolute;\n  top: var(--dyte-space-2, 8px);\n  right: var(--dyte-space-2, 8px);\n  border-radius: 9999px;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));\n  padding: var(--dyte-space-2, 8px);\n}\n\n:host([variant='gradient']) ::slotted(dyte-name-tag) {\n  bottom: var(--dyte-space-0, 0px);\n  left: var(--dyte-space-0, 0px);\n  display: flex;\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  background-color: transparent;\n  background-image: linear-gradient(to top, var(--tw-gradient-stops));\n  --tw-gradient-from: rgb(var(--dyte-colors-background-1000, 8 8 8));\n  --tw-gradient-to: rgba(var(--dyte-colors-background-1000, 8 8 8) / 0);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n  --tw-gradient-to: transparent;\n}\n\n:host([size='sm'][variant='gradient']) ::slotted(dyte-audio-visualizer) {\n  height: var(--dyte-space-5, 20px);\n  width: var(--dyte-space-5, 20px);\n}\n\nvideo.visible {\n  animation: video-fadein 0.4s ease;\n}\n\n#controls {\n  display: none;\n  position: absolute;\n  top: var(--dyte-space-3, 12px);\n  right: var(--dyte-space-3, 12px);\n  align-items: center;\n  justify-content: flex-end;\n  gap: var(--dyte-space-2, 8px);\n}\n\n:host(:hover) #controls, \n:host(:active) #controls, \n:host(:focus-visible) #controls {\n  display: flex;\n}\n\n#full-screen-btn {\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));\n}\n\n/** For self view */\n\nh3 {\n  margin-top: var(--dyte-space-10, 40px);\n  margin-bottom: var(--dyte-space-6, 24px);\n  text-align: center;\n  font-size: 20px;\n  font-weight: 500;\n}\n\n:host([size='sm']) h3 {\n  font-size: 16px;\n}\n\n#self-message {\n  padding-left: var(--dyte-space-4, 16px);\n  padding-right: var(--dyte-space-4, 16px);\n}\n\n:host(.isSelf) #self-view {\n  flex: 1 1 0%;\n}\n\n:host(.isSelf) #video-container {\n  position: static;\n  aspect-ratio: auto;\n  height: auto;\n  width: 50%;\n  max-width: var(--dyte-space-96, 384px);\n  border-radius: var(--dyte-border-radius-md, 8px);\n  transition: 0.6s ease;\n}\n\n:host(.isSelf) #video-container.expand {\n  width: 60%;\n  max-width: 100%;\n}\n\n.actions {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: var(--dyte-space-2, 8px);\n}\n\n:host([size='sm'].isSelf) #video-container,\n:host([size='md'].isSelf) #video-container,\n:host([size='sm'].isSelf) #expand-btn,\n:host([size='md'].isSelf) #expand-btn {\n  /** Hide video, fullscreen buttons in sm and md breakpoints */\n  display: none;\n}\n\n/** Remote control */\n\np {\n  margin: var(--dyte-space-0, 0px);\n  padding: var(--dyte-space-0, 0px);\n}\n\n.remote-control {\n  z-index: 10;\n  height: 100%;\n  max-height: 100%;\n  flex: 0 1 auto;\n}\n\n#remote-control-self {\n  position: absolute;\n  top: var(--dyte-space-0, 0px);\n  left: 50%;\n  z-index: 10;\n  width: -moz-max-content;\n  width: max-content;\n  max-width: 100%;\n  box-sizing: border-box;\n  display: flex;\n  height: var(--dyte-space-8, 32px);\n  align-items: center;\n  overflow: hidden;\n  border-radius: var(--dyte-border-radius-sm, 4px);\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-warning, 255 205 7) / var(--tw-bg-opacity));\n  font-size: 12px;\n  color: rgb(var(--dyte-colors-text-1000, 255 255 255));\n  transform: translateX(-50%);\n}\n\n#remote-control-self p {\n  padding-left: var(--dyte-space-3, 12px);\n  padding-right: var(--dyte-space-3, 12px);\n  padding-top: var(--dyte-space-2, 8px);\n  padding-bottom: var(--dyte-space-2, 8px);\n}\n\n#remote-control-self dyte-button {\n  height: 100%;\n  border-radius: var(--dyte-border-radius-none, 0);\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-bg-opacity));\n  font-size: 12px;\n}\n\n:host([size='sm']) #remote-control-self {\n  height: auto;\n  flex-direction: column;\n}\n\n:host([size='sm']) #remote-control-self dyte-button {\n  width: 100%;\n  padding-top: var(--dyte-space-1, 4px);\n  padding-bottom: var(--dyte-space-1, 4px);\n}\n\n/** Name tag positions */\n\n:host([name-tag-position='bottom-right']) ::slotted(dyte-name-tag) {\n  left: auto;\n  right: var(--dyte-space-3, 12px);\n}\n\n:host([name-tag-position='bottom-center']) ::slotted(dyte-name-tag) {\n  left: auto;\n  right: auto;\n}\n\n:host([name-tag-position='top-left']) ::slotted(dyte-name-tag) {\n  top: var(--dyte-space-3, 12px);\n  bottom: auto;\n}\n\n:host([name-tag-position='top-right']) ::slotted(dyte-name-tag) {\n  top: var(--dyte-space-3, 12px);\n  right: var(--dyte-space-3, 12px);\n  left: auto;\n  bottom: auto;\n}\n\n:host([name-tag-position='top-center']) ::slotted(dyte-name-tag) {\n  left: auto;\n  right: auto;\n  bottom: auto;\n  top: var(--dyte-space-3, 12px);\n}\n\n/** Keyframes */\n\n@keyframes video-fadein {\n  0% {\n    opacity: 0;\n    transform: scale(1.4) translateY(20px);\n  }\n\n  100% {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n}\n\n::slotted(dyte-network-indicator) {\n  position: absolute;\n  right: var(--dyte-space-3, 12px);\n  bottom: var(--dyte-space-3, 12px);\n}\n\n@media only screen and (max-height: 480px) and (orientation: landscape) {\n    :host([size='sm'][variant='solid']) ::slotted(dyte-name-tag), \n    :host([size='sm'][variant='solid']) dyte-name-tag {\n    left: var(--dyte-space-0, 0px);\n    bottom: var(--dyte-space-0, 0px);\n    border-radius: var(--dyte-border-radius-none, 0);\n      transform-origin: 0% 110%;\n      transform: scale(0.6);\n  }\n}\n\n@container screentile (max-width: 400px) {\n  ::slotted(dyte-name-tag) {\n    transform-origin: 0 130%;\n    transform: scale(0.7);\n  }\n}\n";var Jp=Object.freeze({__proto__:null,dyte_screenshare_view:Qp});var Xp=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const eg=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.variant="button",this.iconPack=Kt,this.t=Zt()}toggleSettings(){const e={activeSettings:!0,activeMoreMenu:!1};this.states=Object.assign(Object.assign({},this.states),e),this.stateUpdate.emit(e)}render(){const e=this.t("settings");return H(G,{key:"ff76a80039b161c084cc7c81ecfc9dd35d027c6f",title:e},H("dyte-controlbar-button",{key:"893015d704381d3da5d95065b1fbed512c955614",part:"controlbar-button",size:this.size,iconPack:this.iconPack,onClick:()=>this.toggleSettings(),icon:this.iconPack.settings,label:e,variant:this.variant}))}};Xp([ni()],eg.prototype,"states",void 0),Xp([ni()],eg.prototype,"size",void 0),Xp([ni()],eg.prototype,"iconPack",void 0),Xp([ni()],eg.prototype,"t",void 0),eg.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block}";var tg=Object.freeze({__proto__:null,dyte_settings_toggle:eg});var ig=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const ag=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.config=zt,this.iconPack=Kt,this.t=Zt(),this.isJoining=!1,this.canEditName=!0,this.canProduceAudio=!0,this.socketStateUpdate=({state:e})=>{this.connectionState=e,"failed"===e&&(this.isJoining=!1)},this.join=async()=>{var e,t,i;if(""!==(null===(e=this.displayName)||void 0===e?void 0:e.trim())&&!this.isJoining){this.isJoining=!0,null===(t=this.meeting)||void 0===t||t.self.setName(this.displayName),Qt.setItem("dyte-display-name",this.displayName);try{await(null===(i=this.meeting)||void 0===i?void 0:i.joinRoom())}catch(a){this.isJoining=!1}}}}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.meeting.meta.removeListener("socketConnectionUpdate",this.socketStateUpdate)}componentDidLoad(){var e;null===(e=this.inputEl)||void 0===e||e.focus()}meetingChanged(e){var t,i,a;e&&(this.connectionState=null===(t=e.meta.socketState)||void 0===t?void 0:t.state,this.canEditName=null===(i=e.self.permissions.canEditDisplayName)||void 0===i||i,this.displayName=(null===(a=e.self.name)||void 0===a?void 0:a.trim())||(this.canEditName?"":"Participant"),e.meta.addListener("socketConnectionUpdate",this.socketStateUpdate))}render(){var e,t,i;const a=""===(null===(e=this.displayName)||void 0===e?void 0:e.trim())||"connected"!==this.connectionState||this.isJoining,s={meeting:this.meeting,config:this.config,states:this.states,size:this.size,iconPack:this.iconPack,t:this.t};return H(G,{key:"f805e4673d4958991da4f94cac5baed927b4948d"},H("div",{key:"a024b32ac5ac3f97704d84cae68fe51fed119d11",class:"container"},H("div",{key:"548e4bd9a722ea0bb455edbbd058a88ee9ecd0bc",class:"container-tile"},H(pa,{key:"0b3d3fe938925e43b745ed63ac1ce39e96bbce2e",element:"dyte-participant-tile",defaults:s,props:{participant:null===(t=this.meeting)||void 0===t?void 0:t.self,size:"md",isPreview:!0},childProps:{participant:null===(i=this.meeting)||void 0===i?void 0:i.self,size:"md"},deepProps:!0}),H("div",{key:"eb4f5f3ed6f92930987672db94a1fe277d210680",class:"media-selectors"},H("dyte-microphone-selector",Object.assign({key:"33cb89903fa15a10cfccc9183ec1093971ce6046"},s,{variant:"inline"})),H("dyte-camera-selector",Object.assign({key:"837cc0f33046324273d01937f1db6bbd24c424c3"},s,{variant:"inline"})),H("dyte-speaker-selector",Object.assign({key:"242e5749467be68efd7e4be112e65b5cacd0d958"},s,{variant:"inline"})))),H("div",{key:"e1de333221602a950e4a44c80850b4b8cad4bc99",class:"metadata"},H("div",{key:"a0a89d93d1a64ff43b6d9a13989c14a9d42740d0",class:"name"},this.t("setup_screen.join_in_as")),H("div",{key:"4bf580ad239615e26ac13de446c9117d3398b864",class:"label"},H("div",{key:"7bcaea2d3a269b6f2f1ecd323fad3b97f94657cc",class:"name"},!this.canEditName&&oi(this.displayName,20))),this.canEditName&&H("input",{key:"dc99505703b036a9fdde33ff5ebe2da4ac68b1ff",placeholder:this.t("setup_screen.your_name"),value:this.displayName,spellcheck:!1,autoFocus:!0,ref:e=>{this.inputEl=e},onInput:e=>{this.displayName=e.target.value},onKeyDown:e=>{"Enter"===e.key&&this.join()}}),H("dyte-button",{key:"ace3c4221055be90c22576b26ac036b188712583",size:"lg",kind:"wide",onClick:this.join,disabled:a},this.isJoining?H("dyte-spinner",{iconPack:this.iconPack}):this.t("join")),"connected"!==this.connectionState&&H("div",{key:"6210c8592a6bb39479c38baa6afdb65457456eaa",class:"no-network-badge"},H("dyte-icon",{key:"bc903acf0707943acb581eb4d76c85d2b55bdd74",size:"md",variant:"danger",icon:this.iconPack.disconnected}),"failed"===this.connectionState?this.t("network.lost_extended"):this.t("network.lost")))))}static get watchers(){return{meeting:["meetingChanged"]}}};ig([ni()],ag.prototype,"meeting",void 0),ig([ni()],ag.prototype,"states",void 0),ig([ni()],ag.prototype,"size",void 0),ig([ni()],ag.prototype,"iconPack",void 0),ig([ni()],ag.prototype,"t",void 0),ag.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{box-sizing:border-box;padding:var(--dyte-space-4, 16px);height:100%;min-height:100%;width:100%;display:flex;place-items:center;justify-content:center;--dyte-controlbar-button-background-color:rgb(var(--dyte-colors-background-700, 44 44 44))}.container{width:100%;max-width:1080px;display:flex;align-items:center;justify-content:space-evenly;gap:var(--dyte-space-4, 16px)}.metadata{width:100%;max-width:var(--dyte-space-80, 320px)}.label{display:flex;flex-direction:column;align-items:center;font-size:14px}.label p{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-2, 8px);display:inline-block;font-size:16px}.container-tile{display:flex;height:100%;width:100%;max-width:584px;flex-direction:column;gap:var(--dyte-space-2, 8px)}.name{margin:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-6, 24px);text-align:center;font-size:28px;font-weight:500;letter-spacing:-0.025em;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}input{margin-bottom:var(--dyte-space-6, 24px);display:block;height:var(--dyte-space-10, 40px);width:100%;max-width:var(--dyte-space-80, 320px);border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));padding-left:var(--dyte-space-3, 12px);padding-right:var(--dyte-space-3, 12px);color:rgb(var(--dyte-colors-text-1000, 255 255 255));box-sizing:border-box;font-size:16px;outline:2px solid transparent;outline-offset:2px;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}input::-moz-placeholder{color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}input::placeholder{color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}input{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60))}input:focus{--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-border-opacity))}dyte-spinner{color:rgb(var(--dyte-colors-text-1000, 255 255 255));--icon-size:var(--dyte-space-8, 32px)}:host([size='sm']) .container,:host([size='md']) .container{height:100%;flex-direction:column;justify-content:space-evenly}:host([size='sm']) .container-tile,:host([size='md']) .container-tile{height:-moz-min-content;height:min-content;flex-direction:column;justify-content:center}dyte-participant-tile{height:auto;width:100%;max-width:584px}.media-selectors{display:flex;flex-direction:column;justify-content:space-between}.media-selectors .row{display:grid;grid-template-columns:repeat(2, minmax(0, 1fr))}.no-network-badge{margin-top:var(--dyte-space-2, 8px);display:flex;width:100%;flex-direction:row;align-items:center;justify-content:flex-start;border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));background-color:rgba(var(--dyte-colors-danger, 255 45 45) / 0.1);padding-top:var(--dyte-space-1, 4px);padding-bottom:var(--dyte-space-1, 4px);font-size:12px;color:rgba(var(--dyte-colors-danger, 255 45 45) / 0.75)}.no-network-badge dyte-icon{margin-left:var(--dyte-space-2, 8px);margin-right:var(--dyte-space-2, 8px)}";var sg=Object.freeze({__proto__:null,dyte_setup_screen:ag});var rg=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const ng=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.enabledSections=[],this.defaultSection="chat",this.config=zt,this.iconPack=Kt,this.t=Zt(),this.view="sidebar",this.currentTab=this.defaultSection,this.isFloating=!1,this.enablePinning=!0,this.getTabs=()=>this.meeting.self.config?this.enabledSections.filter((e=>this.meeting.self.config.controlBar.elements[e.id])):this.enabledSections,this.close=()=>{this.stateUpdate.emit({activeSidebar:!1,sidebar:this.defaultSection})},this.toggleFloating=()=>{this.isFloating=!this.isFloating}}connectedCallback(){var e;this.viewChanged(this.view),this.statesChanged(this.states),this.meetingChanged(this.meeting),this.isFloating=(null===(e=this.states)||void 0===e?void 0:e.sidebarFloating)||!1}disconnectedCallback(){var e,t;document.removeEventListener("keydown",this.keydownListener),null===(t=null===(e=this.meeting)||void 0===e?void 0:e.stage)||void 0===t||t.removeListener("stageStatusUpdate",this.onStageStatusUpdate),this.onStageStatusUpdate=null}meetingChanged(e){var t,i;this.updateEnabledSections(e),this.onStageStatusUpdate=e=>{this.updateEnabledSections(this.meeting)},null===(i=null===(t=this.meeting)||void 0===t?void 0:t.stage)||void 0===i||i.on("stageStatusUpdate",this.onStageStatusUpdate)}statesChanged(e){const t=e;(null==t?void 0:t.sidebar)&&(this.currentTab=t.sidebar)}viewChanged(e){"full-screen"===e?(this.enablePinning=!1,this.keydownListener=e=>{"Escape"===e.key&&this.close()},document.addEventListener("keydown",this.keydownListener)):this.enablePinning=!0}viewSection(e){this.currentTab=e,this.stateUpdate.emit({activeSidebar:!0,sidebar:this.currentTab})}updateEnabledSections(e=this.meeting){const t=[];ul(e)&&t.push({id:"chat",name:this.t("chat")}),fl(e)&&t.push({id:"polls",name:this.t("polls")}),ml(e)&&t.push({id:"participants",name:this.t("participants")}),vl(e)&&t.push({id:"plugins",name:this.t("plugins")}),this.enabledSections=t}render(){var e;const t={meeting:this.meeting,config:this.config,states:this.states,size:this.size,t:this.t,iconPack:this.iconPack};return!1!==(null===(e=t.states)||void 0===e?void 0:e.activeSidebar)&&this.currentTab?H(G,{class:this.enablePinning?this.isFloating?"floating":"":"floating"},H("dyte-sidebar-ui",{tabs:this.getTabs(),currentTab:this.currentTab,view:this.view,onTabChange:e=>{this.viewSection(e.detail)},onSidebarClose:this.close},this.enablePinning&&H("div",{class:"pinned-state",slot:"pinned-state"},H("dyte-button",{variant:"ghost",kind:"icon",onClick:this.toggleFloating,"aria-label":this.isFloating?this.t("pin"):this.t("unpin")},H("dyte-icon",{icon:this.isFloating?this.iconPack.pin:this.iconPack.pin_off}))),"chat"===t.states.sidebar&&H(pa,{element:"dyte-chat",defaults:t,props:{slot:"chat"}}),"polls"===t.states.sidebar&&H("dyte-polls",Object.assign({},t,{slot:"polls"})),"participants"===t.states.sidebar&&H(pa,{element:"dyte-participants",defaults:t,props:{slot:"participants"}}),"plugins"===t.states.sidebar&&H("dyte-plugins",Object.assign({},t,{slot:"plugins"})))):null}static get watchers(){return{meeting:["meetingChanged"],states:["statesChanged"],view:["viewChanged"]}}};rg([ni()],ng.prototype,"meeting",void 0),rg([ni()],ng.prototype,"states",void 0),rg([ni()],ng.prototype,"iconPack",void 0),rg([ni()],ng.prototype,"t",void 0),rg([ni()],ng.prototype,"size",void 0),ng.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{height:100%;width:100%;max-width:var(--dyte-space-96, 384px);box-sizing:border-box;display:flex;flex-direction:column;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));border-width:var(--dyte-border-width-sm, 1px);border-style:solid;--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-border-opacity))}:host([view='sidebar']){right:var(--dyte-space-2, 8px);overflow:clip;border-radius:var(--dyte-border-radius-lg, 12px);--tw-shadow:0 25px 50px -12px rgb(0 0 0 / 0.25);--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);--tw-shadow-color:rgb(var(--dyte-colors-background-900, 26 26 26));--tw-shadow:var(--tw-shadow-colored)}:host([view='full-screen']){top:var(--dyte-space-0, 0px);right:var(--dyte-space-0, 0px);bottom:var(--dyte-space-0, 0px);left:var(--dyte-space-0, 0px);max-width:100%}:host(.floating){position:absolute !important;top:var(--dyte-space-0, 0px);right:var(--dyte-space-0, 0px);bottom:var(--dyte-space-0, 0px);left:var(--dyte-space-0, 0px);left:auto;z-index:50}.pinned-state{position:absolute;right:var(--dyte-space-1, 4px);display:inline-flex;width:var(--dyte-space-2, 8px);justify-content:flex-end}";var og=Object.freeze({__proto__:null,dyte_sidebar:ng});var dg=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const cg=class{constructor(e){c(this,e),this.participants=[],this.aspectRatio="16:9",this.gap=8,this.config=zt,this.iconPack=Kt,this.t=Zt(),this.dimensions={width:0,height:0},this.setHostDimensions=()=>{const{clientWidth:e,clientHeight:t}=this.host;this.dimensions={width:e,height:t}}}connectedCallback(){this.resizeObserver=new jr(this.setHostDimensions),this.resizeObserver.observe(this.host),this.meetingChanged(this.meeting)}meetingChanged(e){const t=null==e?void 0:e.meta;t&&(this.mediaConnection=Object.assign({},t.mediaState))}disconnectedCallback(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect()}render(){const e={meeting:this.meeting,config:this.config,states:this.states,size:this.size,iconPack:this.iconPack,t:this.t},{width:t,height:i,getPosition:a}=kh({dimensions:this.dimensions,count:this.participants.length,aspectRatio:this.aspectRatio,gap:this.gap});return H(G,{key:"966acd8e36eb46608d9dc7aa026497b86b062be5"},H("slot",{key:"b67280589e7b5ecd630da8584ea34755400c9a33"},this.participants.map(((s,r)=>{const{top:n,left:o}=a(r);return H(pa,{element:"dyte-participant-tile",defaults:e,props:{participant:s,style:{position:"absolute",top:`${n}px`,left:`${o}px`,width:`${t}px`,height:`${i}px`},key:s.id,"data-participant":s.id,mediaConnection:this.mediaConnection},childProps:{participant:s},deepProps:!0})}))))}get host(){return Y(this)}static get watchers(){return{meeting:["meetingChanged"]}}};dg([ni()],cg.prototype,"size",void 0),dg([ni()],cg.prototype,"meeting",void 0),dg([ni()],cg.prototype,"states",void 0),dg([ni()],cg.prototype,"iconPack",void 0),dg([ni()],cg.prototype,"t",void 0),cg.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{position:relative;display:block;height:100%;width:100%}";var lg=Object.freeze({__proto__:null,dyte_simple_grid:cg});var hg=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const pg=class{constructor(e){c(this,e),this.layout="row",this.participants=[],this.pinnedParticipants=[],this.aspectRatio="16:9",this.gap=8,this.config=zt,this.iconPack=Kt,this.t=Zt(),this.gridSize=Ch,this.getAdaptiveSize=e=>"sm"===this.size||e>3||"md"===this.size?"sm":"md"}render(){const e={meeting:this.meeting,config:this.config,states:this.states,size:this.size,iconPack:this.iconPack,t:this.t},t=this.participants.filter((e=>this.pinnedParticipants.some((t=>t.id!=e.id))));return H(G,{key:"dbae02de6986b50f91073c0d3e397b0bba1b8dae"},H("main",{key:"3aab79ea8fb10a418c7e128b7825baf6ef9b9ccf",part:"main"},H(pa,{key:"a416ee3b0eef6fc99cf04bce32d88a26ee3b50c9",element:"dyte-simple-grid",defaults:e,props:{part:"main-grid",participants:this.pinnedParticipants,aspectRatio:this.aspectRatio,gap:this.gap,size:this.getAdaptiveSize(this.pinnedParticipants.length)}})),t.length>0&&H("aside",{key:"266b02b5d0737b31c573028fef1d11b820ac7e39",part:"aside",class:this.gridSize.spotlight?`grid-width-${this.gridSize.spotlight}`:"grid-width-md"},H(pa,{key:"283f6a3f085291b1b450f21f39459953a3423915",element:"dyte-simple-grid",defaults:e,props:{part:"aside-grid",participants:t,aspectRatio:this.aspectRatio,gap:this.gap,size:this.getAdaptiveSize(t.length)}})))}get host(){return Y(this)}};hg([ni()],pg.prototype,"size",void 0),hg([ni()],pg.prototype,"meeting",void 0),hg([ni()],pg.prototype,"states",void 0),hg([ni()],pg.prototype,"iconPack",void 0),hg([ni()],pg.prototype,"t",void 0),pg.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;height:100%;width:100%}main{flex:1 1 0%}.grid-width-sm{width:25%}.grid-width-md{width:50%}.grid-width-lg{width:66.666667%}:host([size='sm']),:host([size='md']){flex-direction:column}:host([size='md']) aside{max-height:var(--dyte-space-96, 384px);width:100%;max-width:100%}:host([size='md']) .grid-width-sm{height:25%}:host([size='md']) .grid-width-md{height:50%}:host([size='md']) .grid-width-lg{height:66.666667%}:host([size='sm']) aside{max-height:var(--dyte-space-96, 384px);width:100%;max-width:100%}:host([size='sm']) .grid-width-sm,:host([size='sm']) .grid-width-md,:host([size='sm']) .grid-width-lg{height:50%}:host([size='xl']) .grid-width-sm,:host([size='xl']) .grid-width-md,:host([size='xl']) .grid-width-lg{width:400px}:host([layout='column']){flex-direction:column}:host([layout='column']) main{flex:4}:host([layout='column']) aside{flex:2;max-width:100%;width:100%}";var gg=Object.freeze({__proto__:null,dyte_spotlight_grid:pg});var ug=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const fg=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.iconPack=Kt,this.t=Zt()}render(){return H(G,{key:"4d2ff05bef43b31e74d221c715bf6e53e32b641e"},H("slot",{key:"55a21b831c9571a773707488398e113d135b6b1d"}))}};ug([ni()],fg.prototype,"iconPack",void 0),ug([ni()],fg.prototype,"t",void 0),fg.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block;position:relative;overflow:hidden}";var mg=Object.freeze({__proto__:null,dyte_stage:fg});var vg=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const yg=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.variant="button",this.iconPack=Kt,this.t=Zt(),this.stageStatus="OFF_STAGE",this.state={label:"",disabled:!1,icon:""},this.stageCallback=async()=>{var e,t,i,a,s,r,n;const o=null===(e=this.meeting.stage)||void 0===e?void 0:e.status;"ON_STAGE"===o&&await(null===(i=null===(t=null==this?void 0:this.meeting)||void 0===t?void 0:t.stage)||void 0===i?void 0:i.leave()),"OFF_STAGE"===o&&(null===(s=null===(a=null==this?void 0:this.meeting)||void 0===a?void 0:a.stage)||void 0===s||s.requestAccess(),(e=>{var t,i;return(null===(t=null==e?void 0:e.self)||void 0===t?void 0:t.permissions.stageEnabled)&&"ALLOWED"===(null===(i=null==e?void 0:e.self)||void 0===i?void 0:i.permissions.stageAccess)})(this.meeting)&&(ri.states.activeJoinStage=!0,this.stateUpdate.emit({activeJoinStage:!0}))),"REQUESTED_TO_JOIN_STAGE"===o&&(null===(n=null===(r=null==this?void 0:this.meeting)||void 0===r?void 0:r.stage)||void 0===n||n.cancelRequestAccess())}}connectedCallback(){this.meetingChanged(this.meeting)}stageStatusHandler(e,t){this.stageStatus=t,"ACCEPTED_TO_JOIN_STAGE"===t&&(e.self.setupTracks({audio:!1,video:!1}),this.stateUpdate.emit({activeJoinStage:!0})),this.state=this.getState()}disconnectedCallback(){var e,t;null===(t=null===(e=this.meeting)||void 0===e?void 0:e.stage)||void 0===t||t.removeListener("stageStatusUpdate",(e=>this.stageStatusHandler(this.meeting,e)))}meetingChanged(e){var t,i,a,s;null!=e&&(this.stageStatus=null===(t=e.stage)||void 0===t?void 0:t.status,this.stageStatusHandler(e,null===(i=e.stage)||void 0===i?void 0:i.status),null===(s=null===(a=this.meeting)||void 0===a?void 0:a.stage)||void 0===s||s.on("stageStatusUpdate",(t=>this.stageStatusHandler(e,t))))}getState(){let e="",t="",i=!1;switch(this.stageStatus){case"ON_STAGE":t=this.iconPack.leave_stage,e=this.t("stage_request.leave_stage"),i=!1;break;case"ACCEPTED_TO_JOIN_STAGE":t=this.iconPack.join_stage,e=this.t("stage_request.request"),i=!0;break;case"REQUESTED_TO_JOIN_STAGE":t=this.iconPack.join_stage,e=this.t("stage_request.requested"),i=!1;break;default:t=this.iconPack.join_stage,e=this.t("stage_request.request"),i=!1}return{label:e,disabled:i,icon:t}}render(){return e=this.meeting,(null===(t=null==e?void 0:e.self)||void 0===t?void 0:t.permissions.stageEnabled)&&"NOT_ALLOWED"!==(null===(i=null==e?void 0:e.self)||void 0===i?void 0:i.permissions.stageAccess)?H(G,{title:this.state.label},H("dyte-tooltip",{placement:"top",kind:"block",label:this.state.label,delay:600,part:"tooltip"},H("dyte-controlbar-button",{part:"controlbar-button",size:this.size,iconPack:this.iconPack,variant:this.variant,label:this.state.label,icon:this.state.icon,onClick:this.stageCallback,disabled:this.state.disabled,showWarning:!1}))):H(G,{"data-hidden":!0});var e,t,i}static get watchers(){return{meeting:["meetingChanged"]}}};vg([ni()],yg.prototype,"meeting",void 0),vg([ni()],yg.prototype,"size",void 0),vg([ni()],yg.prototype,"iconPack",void 0),vg([ni()],yg.prototype,"states",void 0),vg([ni()],yg.prototype,"t",void 0),yg.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block}:host([data-hidden]){display:none}";var bg=Object.freeze({__proto__:null,dyte_stage_toggle:yg});const wg=Aa(mi,"WeakMap");const xg=Ja(Object.keys,Object);var kg=Object.prototype.hasOwnProperty;function Sg(e){return ls(e)?Es(e):function(e){if(!ts(e))return xg(e);var t=[];for(var i in Object(e))kg.call(e,i)&&"constructor"!=i&&t.push(i);return t}(e)}var Cg=Object.prototype.propertyIsEnumerable,_g=Object.getOwnPropertySymbols,Pg=_g?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var i=-1,a=null==e?0:e.length,s=0,r=[];++i<a;){var n=e[i];t(n,i,e)&&(r[s++]=n)}return r}(_g(e),(function(t){return Cg.call(e,t)})))}:function(){return[]};const Lg=Pg;function Eg(e){return function(e,t,i){var a=t(e);return ds(e)?a:function(e,t){for(var i=-1,a=t.length,s=e.length;++i<a;)e[s+i]=t[i];return e}(a,i(e))}(e,Sg,Lg)}const Tg=Aa(mi,"DataView");const Ag=Aa(mi,"Promise");const Rg=Aa(mi,"Set");var Mg="[object Map]",Dg="[object Promise]",Ig="[object Set]",Og="[object WeakMap]",$g="[object DataView]",Ug=ka(Tg),jg=ka(Ra),Fg=ka(Ag),Ng=ka(Rg),zg=ka(wg),Bg=Ci;(Tg&&Bg(new Tg(new ArrayBuffer(1)))!=$g||Ra&&Bg(new Ra)!=Mg||Ag&&Bg(Ag.resolve())!=Dg||Rg&&Bg(new Rg)!=Ig||wg&&Bg(new wg)!=Og)&&(Bg=function(e){var t=Ci(e),i="[object Object]"==t?e.constructor:void 0,a=i?ka(i):"";if(a)switch(a){case Ug:return $g;case jg:return Mg;case Fg:return Dg;case Ng:return Ig;case zg:return Og}return t});const Hg=Bg;var Vg=Object.prototype.hasOwnProperty;var Gg=/\w*$/;var qg=vi?vi.prototype:void 0,Zg=qg?qg.valueOf:void 0;function Kg(e,t,i){var a,s,r,n,o,d=e.constructor;switch(t){case"[object ArrayBuffer]":return Ka(e);case"[object Boolean]":case"[object Date]":return new d(+e);case"[object DataView]":return o=Ka((n=e).buffer),new n.constructor(o,n.byteOffset,n.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Wa(e,i);case"[object Map]":case"[object Set]":return new d;case"[object Number]":case"[object String]":return new d(e);case"[object RegExp]":return(r=new(s=e).constructor(s.source,Gg.exec(s))).lastIndex=s.lastIndex,r;case"[object Symbol]":return a=e,Zg?Object(Zg.call(a)):{}}}var Wg=ws&&ws.isMap;const Yg=Wg?ms(Wg):function(e){return Pi(e)&&"[object Map]"==Hg(e)};var Qg=ws&&ws.isSet;const Jg=Qg?ms(Qg):function(e){return Pi(e)&&"[object Set]"==Hg(e)};var Xg="[object Arguments]",eu="[object Function]",tu="[object Object]",iu={};function au(e,t,i,a,s,r){var n,o=1&t;if(void 0!==n)return n;if(!_i(e))return e;var d=ds(e);if(d)n=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&Vg.call(e,"index")&&(i.index=e.index,i.input=e.input),i}(e);else{var c=Hg(e),l=c==eu||"[object GeneratorFunction]"==c;if(us(e))return qa(e,o);if(c==tu||c==Xg||l&&!s)n=l?{}:is(e);else{if(!iu[c])return s?e:{};n=Kg(e,c,o)}}r||(r=new ja);var h=r.get(e);if(h)return h;r.set(e,n),Jg(e)?e.forEach((function(a){n.add(au(a,t,i,a,e,r))})):Yg(e)&&e.forEach((function(a,s){n.set(s,au(a,t,i,s,e,r))}));var p=d?void 0:Eg(e);return function(e,t){for(var i=-1,a=null==e?0:e.length;++i<a&&!1!==t(e[i],i,e););}(p||e,(function(a,s){p&&(a=e[s=a]),Cs(n,s,au(a,t,i,s,e,r))})),n}iu[Xg]=iu["[object Array]"]=iu["[object ArrayBuffer]"]=iu["[object DataView]"]=iu["[object Boolean]"]=iu["[object Date]"]=iu["[object Float32Array]"]=iu["[object Float64Array]"]=iu["[object Int8Array]"]=iu["[object Int16Array]"]=iu["[object Int32Array]"]=iu["[object Map]"]=iu["[object Number]"]=iu[tu]=iu["[object RegExp]"]=iu["[object Set]"]=iu["[object String]"]=iu["[object Symbol]"]=iu["[object Uint8Array]"]=iu["[object Uint8ClampedArray]"]=iu["[object Uint16Array]"]=iu["[object Uint32Array]"]=!0,iu["[object Error]"]=iu[eu]=iu["[object WeakMap]"]=!1;function su(e){return structuredClone?structuredClone(e):au(e,5)}var ru=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const nu=class{constructor(e){c(this,e),this.config=zt,this.t=Zt(),this.transcripts=[],this.listenerAttached=!1,this.onTranscript=e=>{e.transcript&&this.add(e)}}connectedCallback(){this.meetingChanged(this.meeting)}addListener(e){var t;null===(t=null==e?void 0:e.ai)||void 0===t||t.addListener("transcript",this.onTranscript),this.listenerAttached=!0}clearListeners(e){var t;this.onTranscript&&(null===(t=null==e?void 0:e.ai)||void 0===t||t.removeListener("transcript",this.onTranscript)),this.listenerAttached=!1,clearTimeout(this.disconnectTimeout),this.transcripts=[]}disconnectedCallback(){null!=this.meeting&&this.clearListeners(this.meeting)}meetingChanged(e,t){clearTimeout(this.disconnectTimeout),void 0!==t&&this.clearListeners(t),null!=e&&this.states.activeCaptions&&this.addListener(e)}statesChanged(e){e&&(e.activeCaptions&&!this.listenerAttached&&this.addListener(this.meeting),!e.activeCaptions&&this.listenerAttached&&this.clearListeners(this.meeting))}transcriptionsReducer(e,t){if(!e.length)return[t];let i=e[e.length-1];return i.peerId!==t.peerId?e.concat(t):i.id===t.id?(i.transcript=t.transcript,e.pop(),e.concat(su(i))):e.concat(t)}add(e){this.transcripts=this.transcriptionsReducer(this.transcripts,e)}remove(e){this.transcripts=this.transcripts.filter((t=>t.renderedId!==e))}handleDismiss(e){e.stopPropagation();const{id:t,renderedId:i}=e.detail,a=this.host.shadowRoot.querySelector(`[data-id="${t}"]`);null==a||a.classList.add("exit"),setTimeout((()=>{L((()=>{this.remove(i)}))}),400)}renderTranscripts(){const e=[];return this.transcripts.forEach((t=>{const i={name:t.name,date:t.date,peerId:t.peerId,transcript:t.transcript,id:t.id,renderedId:t.id};if(!e.length)return t.renderedId=i.renderedId,void e.push(i);const a=e[e.length-1];if(a.transcript.length+i.transcript.length>400||a.peerId!==t.peerId)return t.renderedId=i.renderedId,void e.push(i);a.transcript+=" "+t.transcript,t.renderedId=a.renderedId})),e.splice(0,e.length-2),null==e?void 0:e.map((e=>H("dyte-transcript",{key:e.id,"data-id":e.id,transcript:e,onDyteTranscriptDismiss:e=>this.handleDismiss(e),t:this.t})))}render(){if(this.states.activeCaptions)return H(G,null,this.renderTranscripts())}get host(){return Y(this)}static get watchers(){return{meeting:["meetingChanged"],states:["statesChanged"]}}};ru([ni()],nu.prototype,"meeting",void 0),ru([ni()],nu.prototype,"states",void 0),ru([ni()],nu.prototype,"t",void 0),nu.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{position:absolute;top:var(--dyte-space-4, 16px);right:var(--dyte-space-4, 16px);bottom:var(--dyte-space-4, 16px);left:var(--dyte-space-4, 16px);top:auto;display:flex;flex-direction:column;pointer-events:none;justify-content:center;width:100%;z-index:5}dyte-transcript{margin-top:var(--dyte-space-2, 8px)}";var ou=Object.freeze({__proto__:null,dyte_transcripts:nu});const du=class{constructor(e){c(this,e),this.statesUpdate=Q(this,"dyteStatesUpdate",7),this.config=zt,this.showSetupScreen=!1,this.noRenderUntilMeeting=!1,this.handleResize=()=>{this.size=mr(this.host.clientWidth)},this.loadTheme=()=>{var e;if(this.config===zt){const{config:e}=gr(this.meeting.self.config,this.meeting);this.config=e}(null===(e=this.config)||void 0===e?void 0:e.designTokens)&&zs(document.documentElement,this.config.designTokens)},this.roomJoinedListener=()=>{this.updateStates({meeting:"joined"})},this.waitlistedListener=()=>{this.updateStates({meeting:"waiting"})},this.roomLeftListener=({state:e})=>{"disconnected"!==e&&"failed"!==e&&this.updateStates({meeting:"ended",roomLeftState:e})},this.mediaPermissionUpdateListener=({kind:e,message:t})=>{if(["audio","video"].includes(e)&&("DENIED"===t||"SYSTEM_DENIED"===t)&&!0!==ri.states.activeDebugger){const t={enabled:!0,kind:e};this.updateStates({activePermissionsMessage:t})}},this.socketConnectionUpdateListener=({state:e})=>{"failed"===e&&setTimeout((()=>{this.meeting.leave("disconnected")}),1e4)}}listenState(e){this.updateStates(e.detail)}updateStates(e){const t=Object.assign({},ri.states);ri.states=pr(t,e),this.statesUpdate.emit(ri.states)}connectedCallback(){"undefined"!=typeof window&&(this.authErrorListener=e=>{e.detail.message.includes("401")&&this.updateStates({meeting:"ended",roomLeftState:"unauthorized"})},window.addEventListener("dyteError",this.authErrorListener)),this.onMeetingChange(this.meeting),this.onIconPackChange(this.iconPack),this.onTChange(this.t),this.onConfigChange(this.config),this.onSizeChange(this.size),this.resizeObserver=new ResizeObserver((()=>this.handleResize())),this.resizeObserver.observe(this.host)}disconnectedCallback(){this.resizeObserver.disconnect(),window.removeEventListener("dyteError",this.authErrorListener),this.meeting&&(this.meeting.self.removeListener("roomLeft",this.roomLeftListener),this.meeting.self.removeListener("roomJoined",this.roomJoinedListener),this.meeting.self.removeListener("waitlisted",this.waitlistedListener),this.meeting.self.removeListener("mediaPermissionUpdate",this.mediaPermissionUpdateListener),this.meeting.meta.removeListener("socketConnectionUpdate",this.socketConnectionUpdateListener))}onMeetingChange(e){ai.state.meeting=e,e&&(this.updateStates({viewType:e.meta.viewType}),this.loadTheme(),e.self.addListener("roomJoined",this.roomJoinedListener),e.self.addListener("waitlisted",this.waitlistedListener),e.self.addListener("roomLeft",this.roomLeftListener),e.self.addListener("mediaPermissionUpdate",this.mediaPermissionUpdateListener),e.meta.addListener("socketConnectionUpdate",this.socketConnectionUpdateListener),e.connectedMeetings.supportsConnectedMeetings&&e.connectedMeetings.once("changingMeeting",this.handleChangingMeeting),e.self.roomJoined?this.updateStates({meeting:"joined"}):this.showSetupScreen?this.updateStates({meeting:"setup"}):e.joinRoom(),window.removeEventListener("dyteError",this.authErrorListener))}onIconPackChange(e){ai.state.iconPack=e}onTChange(e){ai.state.t=e}onConfigChange(e){ai.state.config=e}onSizeChange(e){ai.state.size=e}handleChangingMeeting(e){this.updateStates({activeBreakoutRoomsManager:Object.assign(Object.assign({},ri.states.activeBreakoutRoomsManager),{destinationMeetingId:e})})}render(){return H(G,{key:"5f67cfc77ed97b1c996a086441b793e643f7a40e"},this.noRenderUntilMeeting&&!this.meeting?null:H("slot",null))}get host(){return Y(this)}static get watchers(){return{meeting:["onMeetingChange"],iconPack:["onIconPackChange"],t:["onTChange"],config:["onConfigChange"],size:["onSizeChange"]}}};du.style="dyte-ui-provider{display:block;width:100%;height:100%}";var cu=Object.freeze({__proto__:null,dyte_ui_provider:du});var lu=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const hu=class{constructor(e){c(this,e),this.config=zt,this.iconPack=Kt,this.t=Zt()}render(){return H(G,{key:"7e6180f1f8736c28f6c8d0f759842074fc416728"},H("slot",{key:"8ebb3469c20b95313774ff0b1c06f9d02d37362d"},H("div",{key:"e560017916361b842850493abfbf5967b4e61b4b",class:"centered",part:"content"},H("dyte-logo",{key:"39005a67f41efa0d1a345c6208154877afd4d177",meeting:this.meeting,config:this.config,part:"logo",t:this.t}),H("p",{key:"144ae6b75e5f856759ca6aa35b30af1de75d398d"},this.t("waitlist.body_text")))))}};lu([ni()],hu.prototype,"meeting",void 0),lu([ni()],hu.prototype,"iconPack",void 0),lu([ni()],hu.prototype,"t",void 0),hu.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{height:100%;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}.centered{display:flex;flex-direction:column;align-items:center}dyte-logo{margin-bottom:var(--dyte-space-8, 32px);height:var(--dyte-space-12, 48px)}p{font-size:16px;border-radius:var(--dyte-border-radius-lg, 12px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));padding-left:var(--dyte-space-8, 32px);padding-right:var(--dyte-space-8, 32px);padding-top:var(--dyte-space-4, 16px);padding-bottom:var(--dyte-space-4, 16px);color:rgb(var(--dyte-colors-text-1000, 255 255 255))}";var pu=Object.freeze({__proto__:null,dyte_waiting_screen:hu});var gu=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const uu=class{constructor(e){c(this,e),this.participantQuery="",this.isProcessing=!1,this.t=Zt(),this.transcriptions=[],this.autoScrollEnabled=!0,this.onScroll=e=>{const{scrollTop:t,clientHeight:i,scrollHeight:a}=e.target,s=t+i;this.autoScrollEnabled=s+10>=a},this.onTranscriptHandler=e=>{this.transcriptions=this.transcriptionsReducer(this.transcriptions,e)}}transcriptionsReducer(e,t){if(!e.length||e[e.length-1].peerId!==t.peerId)return e.concat(t);const i=e[e.length-1];return i.id===t.id?(i.transcript=t.transcript,e.pop(),e.concat(i)):e.concat(t)}connectedCallback(){this.meeting&&this.meetingChanged(this.meeting)}componentDidLoad(){var e;null===(e=this.contentContainer)||void 0===e||e.addEventListener("scroll",this.onScroll)}disconnectedCallback(){var e,t,i;null===(t=null===(e=this.meeting)||void 0===e?void 0:e.ai)||void 0===t||t.off("transcript",this.onTranscriptHandler),null===(i=this.contentContainer)||void 0===i||i.removeEventListener("scroll",this.onScroll)}meetingChanged(e){var t,i;this.transcriptions=su(null===(t=null==e?void 0:e.ai)||void 0===t?void 0:t.transcripts),this.transcriptions=this.transcriptions.reduce(this.transcriptionsReducer,[]),null===(i=null==e?void 0:e.ai)||void 0===i||i.on("transcript",this.onTranscriptHandler)}transcriptionsChanged(){this.autoScrollEnabled&&setTimeout((()=>{da(this.contentContainer,!1)}),100)}renderTranscripts(){const e=this.transcriptions.filter((e=>!this.participantQuery||e.name.toLowerCase().includes(this.participantQuery.toLowerCase()))),t=[];return e.forEach((e=>{const i={name:e.name,date:e.date,peerId:e.peerId,transcript:e.transcript};if(!t.length)return void t.push(i);const a=t[t.length-1];e.peerId===a.peerId?a.transcript+=" "+e.transcript:t.push(i)})),t.map((e=>H("div",{class:"message"},H(oa,{name:e.name,time:new Date(e.date),now:new Date}),H("div",{class:"body"},e.transcript))))}render(){return H(G,{key:"cfdc1cc64c5abbb817dc1455d99dcab905648ad9"},H("div",{key:"0cc69fc4b5d19aefb7f551663fcc2adcc867fc33",class:"search-bar"},H("input",{key:"80d42ae1c70f018ea9fc7b73e12db671ba25c986",type:"text",placeholder:"Search Participant",value:this.participantQuery,onInput:e=>this.participantQuery=e.target.value})),this.isProcessing&&H("div",{key:"23d4caa5f29c711769345215bb31581ca31fec97",class:"processing"},H("p",{key:"a9d6646edb1a0bb7cf584c0274603da6bdbb2186"},"Processing audio....")),!this.isProcessing&&H("div",{key:"a94804092f6633dd1718b1c05520613fcf95e86c",class:"content scrollbar",ref:e=>this.contentContainer=e},H("div",{key:"2e59a195f936f787ba9a54c7433b83b12b17c4b6",class:"started-message"},"Transcription started"),this.renderTranscripts()))}static get watchers(){return{meeting:["meetingChanged"],transcriptions:["transcriptionsChanged"]}}};gu([ni()],uu.prototype,"t",void 0),gu([ni()],uu.prototype,"meeting",void 0),uu.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.head{display:flex;align-items:center}.head .name{margin-right:var(--dyte-space-4, 16px);font-size:12px;font-weight:700}.head .time{font-size:12px;color:rgb(var(--dyte-colors-text-800, 255 255 255 / 0.76))}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}*{box-sizing:border-box;border-width:0;border-style:solid}:host{width:100%;display:flex;flex-direction:column}.processing{display:flex;flex:1 1 0%;flex-direction:column;align-items:center;justify-content:center}.content{box-sizing:border-box;display:flex;flex-direction:column;padding:var(--dyte-space-3, 12px);flex:1 0 0px;overflow-y:scroll}.started-message{margin-top:var(--dyte-space-5, 20px);margin-bottom:var(--dyte-space-5, 20px);text-align:center;font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}.search-bar{height:var(--dyte-space-14, 56px);width:100%;border-bottom-width:var(--dyte-border-width-sm, 1px);--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-border-opacity));padding:var(--dyte-space-3, 12px)}input{height:100%;width:100%;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));padding-left:var(--dyte-space-3, 12px);padding-right:var(--dyte-space-3, 12px);font-size:14px;border-radius:var(--dyte-border-radius-sm, 4px);color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.caption-view{height:var(--dyte-space-12, 48px);width:100%;padding-left:var(--dyte-space-3, 12px);padding-right:var(--dyte-space-3, 12px);padding-top:var(--dyte-space-3, 12px);padding-bottom:var(--dyte-space-3, 12px);border-bottom-width:var(--dyte-border-width-sm, 1px);border-style:solid;--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-border-opacity));display:flex;align-items:center;justify-content:space-between;font-size:14px}.message .body{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px);font-size:14px;word-break:break-word}.message{margin-bottom:var(--dyte-space-3, 12px)}.message:last-child{margin-bottom:var(--dyte-space-0, 0px)}";var fu=Object.freeze({__proto__:null,dyte_ai_transcriptions:uu});var mu=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const vu=class{constructor(e){c(this,e),this.t=Zt(),this.iconPack=Kt,this.setIsLivestreaming=e=>{this.isLivestreaming="LIVESTREAMING"===e}}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){var e,t;null===(t=null===(e=this.meeting)||void 0===e?void 0:e.livestream)||void 0===t||t.removeListener("livestreamUpdate",this.setIsLivestreaming)}meetingChanged(e){var t,i;null!=e&&(this.setIsLivestreaming(null===(t=this.meeting.livestream)||void 0===t?void 0:t.state),null===(i=this.meeting.livestream)||void 0===i||i.on("livestreamUpdate",this.setIsLivestreaming))}render(){if(nt(this.meeting)&&this.isLivestreaming)return H(G,null,H("div",{class:"indicator","aria-label":this.t("livestream.indicator"),part:"indicator"},H("dyte-icon",{icon:this.iconPack.start_livestream,size:this.size}),H("span",null,this.t("LIVE"))))}static get watchers(){return{meeting:["meetingChanged"]}}};function yu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}mu([ni()],vu.prototype,"meeting",void 0),mu([ni()],vu.prototype,"size",void 0),mu([ni()],vu.prototype,"t",void 0),mu([ni()],vu.prototype,"iconPack",void 0),vu.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{margin-left:var(--dyte-space-2, 8px);margin-right:var(--dyte-space-2, 8px);display:flex}:host[size='sm']{margin-left:var(--dyte-space-1, 4px);margin-right:var(--dyte-space-1, 4px)}.indicator{display:flex;flex-direction:row;align-items:center;font-size:14px;--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}dyte-icon{margin-right:var(--dyte-space-1, 4px);height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px);animation:blink 4s linear infinite}:host([size='sm']) dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px)}:host([size='sm']) .indicator span{display:none}@keyframes blink{0%,10%{opacity:0}11%,100%{opacity:1}}";var bu={exports:{}};!function(e){var t,i,a,s,r;t=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,a=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,r={buildAbsoluteURL:function(e,t,a){if(a=a||{},e=e.trim(),!(t=t.trim())){if(!a.alwaysNormalize)return e;var s=r.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");return s.path=r.normalizePath(s.path),r.buildURLFromParts(s)}var n=r.parseURL(t);if(!n)throw new Error("Error trying to parse relative URL.");if(n.scheme)return a.alwaysNormalize?(n.path=r.normalizePath(n.path),r.buildURLFromParts(n)):t;var o=r.parseURL(e);if(!o)throw new Error("Error trying to parse base URL.");if(!o.netLoc&&o.path&&"/"!==o.path[0]){var d=i.exec(o.path);o.netLoc=d[1],o.path=d[2]}o.netLoc&&!o.path&&(o.path="/");var c={scheme:o.scheme,netLoc:n.netLoc,path:null,params:n.params,query:n.query,fragment:n.fragment};if(!n.netLoc&&(c.netLoc=o.netLoc,"/"!==n.path[0]))if(n.path){var l=o.path,h=l.substring(0,l.lastIndexOf("/")+1)+n.path;c.path=r.normalizePath(h)}else c.path=o.path,n.params||(c.params=o.params,n.query||(c.query=o.query));return null===c.path&&(c.path=a.alwaysNormalize?r.normalizePath(n.path):n.path),r.buildURLFromParts(c)},parseURL:function(e){var i=t.exec(e);return i?{scheme:i[1]||"",netLoc:i[2]||"",path:i[3]||"",params:i[4]||"",query:i[5]||"",fragment:i[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(a,"");e.length!==(e=e.replace(s,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=r}(bu);var wu=bu.exports;function xu(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function ku(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?xu(Object(i),!0).forEach((function(t){Cu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):xu(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Su(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function Cu(e,t,i){return(t=Su(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},_u.apply(this,arguments)}const Pu=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},Lu=Number.isSafeInteger||function(e){return"number"==typeof e&&Math.abs(e)<=Eu},Eu=Number.MAX_SAFE_INTEGER||9007199254740991;let Tu=function(e){return e.MEDIA_ATTACHING="hlsMediaAttaching",e.MEDIA_ATTACHED="hlsMediaAttached",e.MEDIA_DETACHING="hlsMediaDetaching",e.MEDIA_DETACHED="hlsMediaDetached",e.BUFFER_RESET="hlsBufferReset",e.BUFFER_CODECS="hlsBufferCodecs",e.BUFFER_CREATED="hlsBufferCreated",e.BUFFER_APPENDING="hlsBufferAppending",e.BUFFER_APPENDED="hlsBufferAppended",e.BUFFER_EOS="hlsBufferEos",e.BUFFER_FLUSHING="hlsBufferFlushing",e.BUFFER_FLUSHED="hlsBufferFlushed",e.MANIFEST_LOADING="hlsManifestLoading",e.MANIFEST_LOADED="hlsManifestLoaded",e.MANIFEST_PARSED="hlsManifestParsed",e.LEVEL_SWITCHING="hlsLevelSwitching",e.LEVEL_SWITCHED="hlsLevelSwitched",e.LEVEL_LOADING="hlsLevelLoading",e.LEVEL_LOADED="hlsLevelLoaded",e.LEVEL_UPDATED="hlsLevelUpdated",e.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",e.LEVELS_UPDATED="hlsLevelsUpdated",e.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",e.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",e.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",e.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",e.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",e.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",e.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",e.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",e.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",e.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",e.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",e.CUES_PARSED="hlsCuesParsed",e.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",e.INIT_PTS_FOUND="hlsInitPtsFound",e.FRAG_LOADING="hlsFragLoading",e.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",e.FRAG_LOADED="hlsFragLoaded",e.FRAG_DECRYPTED="hlsFragDecrypted",e.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",e.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",e.FRAG_PARSING_METADATA="hlsFragParsingMetadata",e.FRAG_PARSED="hlsFragParsed",e.FRAG_BUFFERED="hlsFragBuffered",e.FRAG_CHANGED="hlsFragChanged",e.FPS_DROP="hlsFpsDrop",e.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",e.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",e.ERROR="hlsError",e.DESTROYING="hlsDestroying",e.KEY_LOADING="hlsKeyLoading",e.KEY_LOADED="hlsKeyLoaded",e.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",e.BACK_BUFFER_REACHED="hlsBackBufferReached",e.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",e}({}),Au=function(e){return e.NETWORK_ERROR="networkError",e.MEDIA_ERROR="mediaError",e.KEY_SYSTEM_ERROR="keySystemError",e.MUX_ERROR="muxError",e.OTHER_ERROR="otherError",e}({}),Ru=function(e){return e.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",e.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",e.KEY_SYSTEM_NO_SESSION="keySystemNoSession",e.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",e.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",e.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",e.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",e.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",e.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",e.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",e.MANIFEST_LOAD_ERROR="manifestLoadError",e.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",e.MANIFEST_PARSING_ERROR="manifestParsingError",e.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",e.LEVEL_EMPTY_ERROR="levelEmptyError",e.LEVEL_LOAD_ERROR="levelLoadError",e.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",e.LEVEL_PARSING_ERROR="levelParsingError",e.LEVEL_SWITCH_ERROR="levelSwitchError",e.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",e.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",e.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",e.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",e.FRAG_LOAD_ERROR="fragLoadError",e.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",e.FRAG_DECRYPT_ERROR="fragDecryptError",e.FRAG_PARSING_ERROR="fragParsingError",e.FRAG_GAP="fragGap",e.REMUX_ALLOC_ERROR="remuxAllocError",e.KEY_LOAD_ERROR="keyLoadError",e.KEY_LOAD_TIMEOUT="keyLoadTimeOut",e.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",e.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",e.BUFFER_APPEND_ERROR="bufferAppendError",e.BUFFER_APPENDING_ERROR="bufferAppendingError",e.BUFFER_STALLED_ERROR="bufferStalledError",e.BUFFER_FULL_ERROR="bufferFullError",e.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",e.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",e.INTERNAL_EXCEPTION="internalException",e.INTERNAL_ABORTED="aborted",e.UNKNOWN="unknown",e}({});const Mu=function(){},Du={trace:Mu,debug:Mu,log:Mu,warn:Mu,info:Mu,error:Mu};let Iu=Du;function Ou(e,...t){t.forEach((function(t){Iu[t]=e[t]?e[t].bind(e):function(e){const t=self.console[e];return t?t.bind(self.console,`[${e}] >`):Mu}(t)}))}const $u=Iu,Uu=/^(\d+)x(\d+)$/,ju=/(.+?)=(".*?"|.*?)(?:,|$)/g;class Fu{constructor(e){"string"==typeof e&&(e=Fu.parseAttrList(e)),_u(this,e)}get clientAttrs(){return Object.keys(this).filter((e=>"X-"===e.substring(0,2)))}decimalInteger(e){const t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}hexadecimalInteger(e){if(this[e]){let t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;const i=new Uint8Array(t.length/2);for(let e=0;e<t.length/2;e++)i[e]=parseInt(t.slice(2*e,2*e+2),16);return i}return null}hexadecimalIntegerAsNumber(e){const t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,t){const i=this[e];return i?parseFloat(i):t}enumeratedString(e){return this[e]}bool(e){return"YES"===this[e]}decimalResolution(e){const t=Uu.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}static parseAttrList(e){let t;const i={};for(ju.lastIndex=0;null!==(t=ju.exec(e));){let e=t[2];0===e.indexOf('"')&&e.lastIndexOf('"')===e.length-1&&(e=e.slice(1,-1));i[t[1].trim()]=e}return i}}function Nu(e){return"SCTE35-OUT"===e||"SCTE35-IN"===e}class zu{constructor(e,t){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,t){const i=t.attr;for(const t in i)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t]!==i[t]){$u.warn(`DATERANGE tag attribute: "${t}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=t;break}e=_u(new Fu({}),i,e)}if(this.attr=e,this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const e=new Date(this.attr["END-DATE"]);Pu(e.getTime())&&(this._endDate=e)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const e=this.duration;return null!==e?new Date(this._startDate.getTime()+1e3*e):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(Pu(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&Pu(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class Bu{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var Hu="audio",Vu="video",Gu="audiovideo";class qu{constructor(e){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={[Hu]:null,[Vu]:null,[Gu]:null},this.baseurl=e}setByteRange(e,t){const i=e.split("@",2);let a;a=1===i.length?(null==t?void 0:t.byteRangeEndOffset)||0:parseInt(i[1]),this._byteRange=[a,parseInt(i[0])+a]}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=wu.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}}class Zu extends qu{constructor(e,t){super(t),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new Bu,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get decryptdata(){const{levelkeys:e}=this;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const e=this.levelkeys.identity;if(e)this._decryptdata=e.getDecryptData(this.sn);else{const e=Object.keys(this.levelkeys);if(1===e.length)return this._decryptdata=this.levelkeys[e[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(null===this.programDateTime)return null;if(!Pu(this.programDateTime))return null;const e=Pu(this.duration)?this.duration:0;return this.programDateTime+1e3*e}get encrypted(){var e;if(null!=(e=this._decryptdata)&&e.encrypted)return!0;if(this.levelkeys){const e=Object.keys(this.levelkeys),t=e.length;if(t>1||1===t&&this.levelkeys[e[0]].encrypted)return!0}return!1}setKeyFormat(e){if(this.levelkeys){const t=this.levelkeys[e];t&&!this._decryptdata&&(this._decryptdata=t.getDecryptData(this.sn))}}abortRequests(){var e,t;null==(e=this.loader)||e.abort(),null==(t=this.keyLoader)||t.abort()}setElementaryStreamInfo(e,t,i,a,s,r=!1){const{elementaryStreams:n}=this,o=n[e];o?(o.startPTS=Math.min(o.startPTS,t),o.endPTS=Math.max(o.endPTS,i),o.startDTS=Math.min(o.startDTS,a),o.endDTS=Math.max(o.endDTS,s)):n[e]={startPTS:t,endPTS:i,startDTS:a,endDTS:s,partial:r}}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[Hu]=null,e[Vu]=null,e[Gu]=null}}class Ku extends qu{constructor(e,t,i,a,s){super(i),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new Bu,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=t,this.index=a;const r=e.enumeratedString("BYTERANGE");r&&this.setByteRange(r,s),s&&(this.fragOffset=s.fragOffset+s.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}}class Wu{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e)return this.advanced=!0,void(this.updated=!0);const t=this.lastPartSn-e.lastPartSn,i=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!i||!!t||!this.live,this.advanced=this.endSN>e.endSN||t>0||0===t&&i>0,this.updated||this.advanced?this.misses=Math.floor(.6*e.misses):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay}get hasProgramDateTime(){return!!this.fragments.length&&Pu(this.fragments[this.fragments.length-1].programDateTime)}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||10}get drift(){const e=this.driftEndTime-this.driftStartTime;if(e>0){return 1e3*(this.driftEnd-this.driftStart)/e}return 1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var e;return null!=(e=this.fragments)&&e.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function Yu(e){return Uint8Array.from(atob(e),(e=>e.charCodeAt(0)))}function Qu(e){const t=e.split(":");let i=null;if("data"===t[0]&&2===t.length){const e=t[1].split(";"),a=e[e.length-1].split(",");if(2===a.length){const t="base64"===a[0],s=a[1];t?(e.splice(-1,1),i=Yu(s)):i=function(e){const t=Ju(e).subarray(0,16),i=new Uint8Array(16);return i.set(t,16-t.length),i}(s)}}return i}function Ju(e){return Uint8Array.from(unescape(encodeURIComponent(e)),(e=>e.charCodeAt(0)))}const Xu="undefined"!=typeof self?self:void 0;var ef={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},tf="org.w3.clearkey",af="com.apple.streamingkeydelivery",sf="com.microsoft.playready",rf="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function nf(e){switch(e){case af:return ef.FAIRPLAY;case sf:return ef.PLAYREADY;case rf:return ef.WIDEVINE;case tf:return ef.CLEARKEY}}var of="1077efecc0b24d02ace33c1e52e2fb4b",df="e2719d58a985b3c9781ab030af78d30e",cf="9a04f07998404286ab92e65be0885f95",lf="edef8ba979d64acea3c827dcd51d21ed";function hf(e){return e===lf?ef.WIDEVINE:e===cf?ef.PLAYREADY:e===of||e===df?ef.CLEARKEY:void 0}function pf(e){switch(e){case ef.FAIRPLAY:return af;case ef.PLAYREADY:return sf;case ef.WIDEVINE:return rf;case ef.CLEARKEY:return tf}}function gf(e){const{drmSystems:t,widevineLicenseUrl:i}=e,a=t?[ef.FAIRPLAY,ef.WIDEVINE,ef.PLAYREADY,ef.CLEARKEY].filter((e=>!!t[e])):[];return!a[ef.WIDEVINE]&&i&&a.push(ef.WIDEVINE),a}const uf=null!=Xu&&null!=(ff=Xu.navigator)&&ff.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;var ff;function mf(e){const t=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2),i=String.fromCharCode.apply(null,Array.from(t)),a=i.substring(i.indexOf("<"),i.length),s=(new DOMParser).parseFromString(a,"text/xml").getElementsByTagName("KID")[0];if(s){const e=s.childNodes[0]?s.childNodes[0].nodeValue:s.getAttribute("VALUE");if(e){const t=Yu(e).subarray(0,16);return function(e){const t=function(e,t,i){const a=e[t];e[t]=e[i],e[i]=a};t(e,0,3),t(e,1,2),t(e,4,5),t(e,6,7)}(t),t}}return null}function vf(e,t,i){return Uint8Array.prototype.slice?e.slice(t,i):new Uint8Array(Array.prototype.slice.call(e,t,i))}const yf=(e,t)=>t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128,bf=(e,t)=>t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128,wf=(e,t)=>{const i=t;let a=0;for(;yf(e,t);){a+=10;a+=xf(e,t+6),bf(e,t+10)&&(a+=10),t+=a}if(a>0)return e.subarray(i,i+a)},xf=(e,t)=>{let i=0;return i=(127&e[t])<<21,i|=(127&e[t+1])<<14,i|=(127&e[t+2])<<7,i|=127&e[t+3],i},kf=(e,t)=>yf(e,t)&&xf(e,t+6)+10<=e.length-t,Sf=e=>{const t=Pf(e);for(let i=0;i<t.length;i++){const e=t[i];if(Cf(e))return Rf(e)}},Cf=e=>e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info,_f=e=>{const t=String.fromCharCode(e[0],e[1],e[2],e[3]),i=xf(e,4);return{type:t,size:i,data:e.subarray(10,10+i)}},Pf=e=>{let t=0;const i=[];for(;yf(e,t);){const a=xf(e,t+6);t+=10;const s=t+a;for(;t+8<s;){const a=_f(e.subarray(t)),s=Lf(a);s&&i.push(s),t+=a.size+10}bf(e,t)&&(t+=10)}return i},Lf=e=>"PRIV"===e.type?Ef(e):"W"===e.type[0]?Af(e):Tf(e),Ef=e=>{if(e.size<2)return;const t=Mf(e.data,!0),i=new Uint8Array(e.data.subarray(t.length+1));return{key:e.type,info:t,data:i.buffer}},Tf=e=>{if(e.size<2)return;if("TXXX"===e.type){let t=1;const i=Mf(e.data.subarray(t),!0);t+=i.length+1;const a=Mf(e.data.subarray(t));return{key:e.type,info:i,data:a}}const t=Mf(e.data.subarray(1));return{key:e.type,data:t}},Af=e=>{if("WXXX"===e.type){if(e.size<2)return;let t=1;const i=Mf(e.data.subarray(t),!0);t+=i.length+1;const a=Mf(e.data.subarray(t));return{key:e.type,info:i,data:a}}const t=Mf(e.data);return{key:e.type,data:t}},Rf=e=>{if(8===e.data.byteLength){const t=new Uint8Array(e.data),i=1&t[3];let a=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return a/=45,i&&(a+=47721858.84),Math.round(a)}},Mf=(e,t=!1)=>{const i=If();if(i){const a=i.decode(e);if(t){const e=a.indexOf("\0");return-1!==e?a.substring(0,e):a}return a.replace(/\0/g,"")}const a=e.length;let s,r,n,o="",d=0;for(;d<a;){if(s=e[d++],0===s&&t)return o;if(0!==s&&3!==s)switch(s>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(s);break;case 12:case 13:r=e[d++],o+=String.fromCharCode((31&s)<<6|63&r);break;case 14:r=e[d++],n=e[d++],o+=String.fromCharCode((15&s)<<12|(63&r)<<6|63&n)}}return o};let Df;function If(){if(!navigator.userAgent.includes("PlayStation 4"))return Df||void 0===self.TextDecoder||(Df=new self.TextDecoder("utf-8")),Df}const Of=function(e){let t="";for(let i=0;i<e.length;i++){let a=e[i].toString(16);a.length<2&&(a="0"+a),t+=a}return t},$f=Math.pow(2,32)-1,Uf=[].push,jf={video:1,audio:2,id3:3,text:4};function Ff(e){return String.fromCharCode.apply(null,e)}function Nf(e,t){const i=e[t]<<8|e[t+1];return i<0?65536+i:i}function zf(e,t){const i=Hf(e,t);return i<0?4294967296+i:i}function Bf(e,t){let i=zf(e,t);return i*=Math.pow(2,32),i+=zf(e,t+4),i}function Hf(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function Vf(e,t,i){e[t]=i>>24,e[t+1]=i>>16&255,e[t+2]=i>>8&255,e[t+3]=255&i}function Gf(e,t){const i=[];if(!t.length)return i;const a=e.byteLength;for(let s=0;s<a;){const r=zf(e,s),n=r>1?s+r:a;if(Ff(e.subarray(s+4,s+8))===t[0])if(1===t.length)i.push(e.subarray(s+8,n));else{const a=Gf(e.subarray(s+8,n),t.slice(1));a.length&&Uf.apply(i,a)}s=n}return i}function qf(e){const t=[],i=e[0];let a=8;const s=zf(e,a);a+=4;let r=0,n=0;0===i?(r=zf(e,a),n=zf(e,a+4),a+=8):(r=Bf(e,a),n=Bf(e,a+8),a+=16),a+=2;let o=e.length+n;const d=Nf(e,a);a+=2;for(let c=0;c<d;c++){let i=a;const r=zf(e,i);i+=4;const n=2147483647&r;if(1===(2147483648&r)>>>31)return $u.warn("SIDX has hierarchical references (not supported)"),null;const d=zf(e,i);i+=4,t.push({referenceSize:n,subsegmentDuration:d,info:{duration:d/s,start:o,end:o+n-1}}),o+=n,i+=4,a=i}return{earliestPresentationTime:r,timescale:s,version:i,referencesCount:d,references:t}}function Zf(e){const t=[],i=Gf(e,["moov","trak"]);for(let a=0;a<i.length;a++){const e=i[a],s=Gf(e,["tkhd"])[0];if(s){let i=s[0];const a=zf(s,0===i?12:20),r=Gf(e,["mdia","mdhd"])[0];if(r){i=r[0];const s=zf(r,0===i?12:20),n=Gf(e,["mdia","hdlr"])[0];if(n){const i=Ff(n.subarray(8,12)),r={soun:Hu,vide:Vu}[i];if(r){const i=Kf(Gf(e,["mdia","minf","stbl","stsd"])[0]);t[a]={timescale:s,type:r},t[r]=ku({timescale:s,id:a},i)}}}}}return Gf(e,["moov","mvex","trex"]).forEach((e=>{const i=zf(e,4),a=t[i];a&&(a.default={duration:zf(e,12),flags:zf(e,20)})})),t}function Kf(e){const t=e.subarray(8),i=t.subarray(86),a=Ff(t.subarray(4,8));let s=a;const r="enca"===a||"encv"===a;if(r){const e=Gf(t,[a])[0];Gf(e.subarray("enca"===a?28:78),["sinf"]).forEach((e=>{const t=Gf(e,["schm"])[0];if(t){const i=Ff(t.subarray(4,8));if("cbcs"===i||"cenc"===i){const t=Gf(e,["frma"])[0];t&&(s=Ff(t))}}}))}switch(s){case"avc1":case"avc2":case"avc3":case"avc4":{const e=Gf(i,["avcC"])[0];s+="."+Yf(e[1])+Yf(e[2])+Yf(e[3]);break}case"mp4a":{const e=Gf(t,[a])[0],i=Gf(e.subarray(28),["esds"])[0];if(i&&i.length>12){let e=4;if(3!==i[e++])break;e=Wf(i,e),e+=2;const t=i[e++];if(128&t&&(e+=2),64&t&&(e+=i[e++]),4!==i[e++])break;e=Wf(i,e);const a=i[e++];if(64!==a)break;if(s+="."+Yf(a),e+=12,5!==i[e++])break;e=Wf(i,e);const r=i[e++];let n=(248&r)>>3;31===n&&(n+=1+((7&r)<<3)+((224&i[e])>>5)),s+="."+n}break}case"hvc1":case"hev1":{const e=Gf(i,["hvcC"])[0],t=e[1],a=["","A","B","C"][t>>6],r=31&t,n=zf(e,2),o=(32&t)>>5?"H":"L",d=e[12],c=e.subarray(6,12);s+="."+a+r,s+="."+n.toString(16).toUpperCase(),s+="."+o+d;let l="";for(let i=c.length;i--;){const e=c[i];if(e||l){l="."+e.toString(16).toUpperCase()+l}}s+=l;break}case"dvh1":case"dvhe":{const e=Gf(i,["dvcC"])[0],t=e[2]>>1&127,a=e[2]<<5&32|e[3]>>3&31;s+="."+Qf(t)+"."+Qf(a);break}case"vp09":{const e=Gf(i,["vpcC"])[0],t=e[4],a=e[5],r=e[6]>>4&15;s+="."+Qf(t)+"."+Qf(a)+"."+Qf(r);break}case"av01":{const e=Gf(i,["av1C"])[0],t=e[1]>>>5,a=31&e[1],r=e[2]>>>7?"H":"M",n=(64&e[2])>>6,o=(32&e[2])>>5,d=2===t&&n?o?12:10:n?10:8,c=(16&e[2])>>4,l=(8&e[2])>>3,h=(4&e[2])>>2,p=3&e[2],g=1,u=1,f=1,m=0;s+="."+t+"."+Qf(a)+r+"."+Qf(d)+"."+c+"."+l+h+p+"."+Qf(g)+"."+Qf(u)+"."+Qf(f)+"."+m;break}}return{codec:s,encrypted:r}}function Wf(e,t){const i=t+5;for(;128&e[t++]&&t<i;);return t}function Yf(e){return("0"+e.toString(16).toUpperCase()).slice(-2)}function Qf(e){return(e<10?"0":"")+e}function Jf(e){const t=Gf(e,["schm"])[0];if(t){const i=Ff(t.subarray(4,8));if("cbcs"===i||"cenc"===i)return Gf(e,["schi","tenc"])[0]}return null}function Xf(e){const t=zf(e,0);let i=8;1&t&&(i+=4),4&t&&(i+=4);let a=0;const s=zf(e,4);for(let r=0;r<s;r++){if(256&t){a+=zf(e,i),i+=4}512&t&&(i+=4),1024&t&&(i+=4),2048&t&&(i+=4)}return a}function em(e,t){const i=new Uint8Array(e.length+t.length);return i.set(e),i.set(t,e.length),i}function tm(e,t){const i=[],a=t.samples,s=t.timescale,r=t.id;let n=!1;return Gf(a,["moof"]).map((o=>{const d=o.byteOffset-8;Gf(o,["traf"]).map((o=>{const c=Gf(o,["tfdt"]).map((e=>{const t=e[0];let i=zf(e,4);return 1===t&&(i*=Math.pow(2,32),i+=zf(e,8)),i/s}))[0];return void 0!==c&&(e=c),Gf(o,["tfhd"]).map((c=>{const l=zf(c,4),h=16777215&zf(c,0);let p=0;const g=!!(16&h);let u=0;const f=!!(32&h);let m=8;l===r&&(!!(1&h)&&(m+=8),!!(2&h)&&(m+=4),!!(8&h)&&(p=zf(c,m),m+=4),g&&(u=zf(c,m),m+=4),f&&(m+=4),"video"===t.type&&(n=function(e){if(!e)return!1;const t=e.indexOf("."),i=t<0?e:e.substring(0,t);return"hvc1"===i||"hev1"===i||"dvh1"===i||"dvhe"===i}(t.codec)),Gf(o,["trun"]).map((r=>{const o=r[0],c=16777215&zf(r,0),l=!!(1&c);let h=0;const g=!!(4&c),f=!!(256&c);let m=0;const v=!!(512&c);let y=0;const b=!!(1024&c),w=!!(2048&c);let x=0;const k=zf(r,4);let S=8;l&&(h=zf(r,S),S+=4),g&&(S+=4);let C=h+d;for(let d=0;d<k;d++){if(f?(m=zf(r,S),S+=4):m=p,v?(y=zf(r,S),S+=4):y=u,b&&(S+=4),w&&(x=0===o?zf(r,S):Hf(r,S),S+=4),t.type===Vu){let t=0;for(;t<y;){const r=zf(a,C);if(C+=4,im(n,a[C])){am(a.subarray(C,C+r),n?2:1,e+x/s,i)}C+=r,t+=r+4}}e+=m/s}})))}))}))})),i}function im(e,t){if(e){const e=t>>1&63;return 39===e||40===e}return 6===(31&t)}function am(e,t,i,a){const s=sm(e);let r=0;r+=t;let n=0,o=0,d=0;for(;r<s.length;){n=0;do{if(r>=s.length)break;d=s[r++],n+=d}while(255===d);o=0;do{if(r>=s.length)break;d=s[r++],o+=d}while(255===d);const e=s.length-r;let t=r;if(o<e)r+=o;else if(o>e){$u.error(`Malformed SEI payload. ${o} is too small, only ${e} bytes left to parse.`);break}if(4===n){if(181===s[t++]){const e=Nf(s,t);if(t+=2,49===e){const e=zf(s,t);if(t+=4,1195456820===e){const e=s[t++];if(3===e){const r=s[t++],o=64&r,d=o?2+3*(31&r):0,c=new Uint8Array(d);if(o){c[0]=r;for(let e=1;e<d;e++)c[e]=s[t++]}a.push({type:e,payloadType:n,pts:i,bytes:c})}}}}}else if(5===n&&o>16){const e=[];for(let i=0;i<16;i++){const a=s[t++].toString(16);e.push(1==a.length?"0"+a:a),3!==i&&5!==i&&7!==i&&9!==i||e.push("-")}const r=o-16,d=new Uint8Array(r);for(let i=0;i<r;i++)d[i]=s[t++];a.push({payloadType:n,pts:i,uuid:e.join(""),userData:Mf(d),userDataBytes:d})}}}function sm(e){const t=e.byteLength,i=[];let a=1;for(;a<t-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(i.push(a+2),a+=2):a++;if(0===i.length)return e;const s=t-i.length,r=new Uint8Array(s);let n=0;for(a=0;a<s;n++,a++)n===i[0]&&(n++,i.shift()),r[a]=e[n];return r}function rm(e,t,i){if(16!==e.byteLength)throw new RangeError("Invalid system id");let a,s,r;a=0,s=new Uint8Array,r=new Uint8Array;const n=new Uint8Array(4);return i&&i.byteLength>0&&new DataView(n.buffer).setUint32(0,i.byteLength,!1),function(e,...t){const i=t.length;let a=8,s=i;for(;s--;)a+=t[s].byteLength;const r=new Uint8Array(a);for(r[0]=a>>24&255,r[1]=a>>16&255,r[2]=a>>8&255,r[3]=255&a,r.set(e,4),s=0,a=8;s<i;s++)r.set(t[s],a),a+=t[s].byteLength;return r}([112,115,115,104],new Uint8Array([0,0,0,0]),e,r,s,n,i||new Uint8Array)}function nm(e){const t=e.getUint32(0),i=e.byteOffset,a=e.byteLength;if(a<t)return{offset:i,size:a};if(1886614376!==e.getUint32(4))return{offset:i,size:t};const s=e.getUint32(8)>>>24;if(0!==s&&1!==s)return{offset:i,size:t};const r=e.buffer,n=Of(new Uint8Array(r,i+12,16)),o=e.getUint32(28);let d=null,c=null;if(0===s){if(t-32<o||o<22)return{offset:i,size:t};c=new Uint8Array(r,i+32,o)}else if(1===s){if(!o||a<i+32+16*o+16)return{offset:i,size:t};d=[];for(let e=0;e<o;e++)d.push(new Uint8Array(r,i+32+16*e,16))}return{version:s,systemId:n,kids:d,data:c,offset:i,size:t}}let om={};class dm{static clearKeyUriToKeyIdMap(){om={}}constructor(e,t,i,a=[1],s=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=t,this.keyFormat=i,this.keyFormatVersions=a,this.iv=s,this.encrypted=!!e&&"NONE"!==e,this.isCommonEncryption=this.encrypted&&"AES-128"!==e}isSupported(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case af:case rf:case sf:case tf:return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1}getDecryptData(e){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!=typeof e&&("AES-128"!==this.method||this.iv||$u.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0);const t=function(e){const t=new Uint8Array(16);for(let i=12;i<16;i++)t[i]=e>>8*(15-i)&255;return t}(e);return new dm(this.method,this.uri,"identity",this.keyFormatVersions,t)}const t=Qu(this.uri);if(t)switch(this.keyFormat){case rf:this.pssh=t,t.length>=22&&(this.keyId=t.subarray(t.length-22,t.length-6));break;case sf:{const e=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=rm(e,0,t),this.keyId=mf(t);break}default:{let e=t.subarray(0,16);if(16!==e.length){const t=new Uint8Array(16);t.set(e,16-e.length),e=t}this.keyId=e;break}}if(!this.keyId||16!==this.keyId.byteLength){let e=om[this.uri];if(!e){const t=Object.keys(om).length%Number.MAX_SAFE_INTEGER;e=new Uint8Array(16);new DataView(e.buffer,12,4).setUint32(0,t),om[this.uri]=e}this.keyId=e}return this}}const cm=/\{\$([a-zA-Z0-9-_]+)\}/g;function lm(e){return cm.test(e)}function hm(e,t,i){if(null!==e.variableList||e.hasVariableRefs)for(let a=i.length;a--;){const s=i[a],r=t[s];r&&(t[s]=pm(e,r))}}function pm(e,t){if(null!==e.variableList||e.hasVariableRefs){const i=e.variableList;return t.replace(cm,(t=>{const a=t.substring(2,t.length-1),s=null==i?void 0:i[a];return void 0===s?(e.playlistParsingError||(e.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${a}"`)),t):s}))}return t}function gm(e,t,i){let a,s,r=e.variableList;if(r||(e.variableList=r={}),"QUERYPARAM"in t){a=t.QUERYPARAM;try{const e=new self.URL(i).searchParams;if(!e.has(a))throw new Error(`"${a}" does not match any query parameter in URI: "${i}"`);s=e.get(a)}catch(n){e.playlistParsingError||(e.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${n.message}`))}}else a=t.NAME,s=t.VALUE;a in r?e.playlistParsingError||(e.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${a}"`)):r[a]=s||""}function um(e,t,i){const a=t.IMPORT;if(i&&a in i){let t=e.variableList;t||(e.variableList=t={}),t[a]=i[a]}else e.playlistParsingError||(e.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${a}"`))}function fm(e=!0){if("undefined"==typeof self)return;return(e||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}const mm={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function vm(e,t,i=!0){return!e.split(",").some((e=>!ym(e,t,i)))}function ym(e,t,i=!0){var a;const s=fm(i);return null!=(a=null==s?void 0:s.isTypeSupported(bm(e,t)))&&a}function bm(e,t){return`${t}/mp4;codecs="${e}"`}function wm(e){if(e){const t=e.substring(0,4);return mm.video[t]}return 2}function xm(e){return e.split(",").reduce(((e,t)=>{const i=mm.video[t];return i?(2*i+e)/(e?3:2):(mm.audio[t]+e)/(e?2:1)}),0)}const km={};const Sm=/flac|opus/i;function Cm(e,t=!0){return e.replace(Sm,(e=>function(e,t=!0){if(km[e])return km[e];const i={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"]}[e];for(let a=0;a<i.length;a++)if(ym(i[a],"audio",t))return km[e]=i[a],i[a];return e}(e.toLowerCase(),t)))}function _m(e,t){return e&&"mp4a"!==e?e:t?t.split(",")[0]:t}const Pm=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,Lm=/#EXT-X-MEDIA:(.*)/g,Em=/^#EXT(?:INF|-X-TARGETDURATION):/m,Tm=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),Am=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class Rm{static findGroup(e,t){for(let i=0;i<e.length;i++){const a=e[i];if(a.id===t)return a}}static resolve(e,t){return wu.buildAbsoluteURL(t,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return Em.test(e)}static parseMasterPlaylist(e,t){const i={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:lm(e)},a=[];let s;for(Pm.lastIndex=0;null!=(s=Pm.exec(e));)if(s[1]){var r;const e=new Fu(s[1]);hm(i,e,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const n=pm(i,s[2]),o={attrs:e,bitrate:e.decimalInteger("BANDWIDTH")||e.decimalInteger("AVERAGE-BANDWIDTH"),name:e.NAME,url:Rm.resolve(n,t)},d=e.decimalResolution("RESOLUTION");d&&(o.width=d.width,o.height=d.height),Im(e.CODECS,o),null!=(r=o.unknownCodecs)&&r.length||a.push(o),i.levels.push(o)}else if(s[3]){const e=s[3],a=s[4];switch(e){case"SESSION-DATA":{const e=new Fu(a);hm(i,e,["DATA-ID","LANGUAGE","VALUE","URI"]);const t=e["DATA-ID"];t&&(null===i.sessionData&&(i.sessionData={}),i.sessionData[t]=e);break}case"SESSION-KEY":{const e=Mm(a,t,i);e.encrypted&&e.isSupported()?(null===i.sessionKeys&&(i.sessionKeys=[]),i.sessionKeys.push(e)):$u.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${a}"`);break}case"DEFINE":{const e=new Fu(a);hm(i,e,["NAME","VALUE","QUERYPARAM"]),gm(i,e,t)}break;case"CONTENT-STEERING":{const e=new Fu(a);hm(i,e,["SERVER-URI","PATHWAY-ID"]),i.contentSteering={uri:Rm.resolve(e["SERVER-URI"],t),pathwayId:e["PATHWAY-ID"]||"."};break}case"START":i.startTimeOffset=Dm(a)}}const n=a.length>0&&a.length<i.levels.length;return i.levels=n?a:i.levels,0===i.levels.length&&(i.playlistParsingError=new Error("no levels found in manifest")),i}static parseMasterPlaylistMedia(e,t,i){let a;const s={},r=i.levels,n={AUDIO:r.map((e=>({id:e.attrs.AUDIO,audioCodec:e.audioCodec}))),SUBTITLES:r.map((e=>({id:e.attrs.SUBTITLES,textCodec:e.textCodec}))),"CLOSED-CAPTIONS":[]};let o=0;for(Lm.lastIndex=0;null!==(a=Lm.exec(e));){const e=new Fu(a[1]),r=e.TYPE;if(r){const a=n[r],d=s[r]||[];s[r]=d,hm(i,e,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const c=e.LANGUAGE,l=e["ASSOC-LANGUAGE"],h=e.CHANNELS,p=e.CHARACTERISTICS,g=e["INSTREAM-ID"],u={attrs:e,bitrate:0,id:o++,groupId:e["GROUP-ID"]||"",name:e.NAME||c||"",type:r,default:e.bool("DEFAULT"),autoselect:e.bool("AUTOSELECT"),forced:e.bool("FORCED"),lang:c,url:e.URI?Rm.resolve(e.URI,t):""};if(l&&(u.assocLang=l),h&&(u.channels=h),p&&(u.characteristics=p),g&&(u.instreamId=g),null!=a&&a.length){const e=Rm.findGroup(a,u.groupId)||a[0];Om(u,e,"audioCodec"),Om(u,e,"textCodec")}d.push(u)}}return s}static parseLevelPlaylist(e,t,i,a,s,r){const n=new Wu(t),o=n.fragments;let d,c,l,h=null,p=0,g=0,u=0,f=0,m=null,v=new Zu(a,t),y=-1,b=!1,w=null;for(Tm.lastIndex=0,n.m3u8=e,n.hasVariableRefs=lm(e);null!==(d=Tm.exec(e));){b&&(b=!1,v=new Zu(a,t),v.start=u,v.sn=p,v.cc=f,v.level=i,h&&(v.initSegment=h,v.rawProgramDateTime=h.rawProgramDateTime,h.rawProgramDateTime=null,w&&(v.setByteRange(w),w=null)));const e=d[1];if(e){v.duration=parseFloat(e);const t=(" "+d[2]).slice(1);v.title=t||null,v.tagList.push(t?["INF",e,t]:["INF",e])}else if(d[3]){if(Pu(v.duration)){v.start=u,l&&jm(v,l,n),v.sn=p,v.level=i,v.cc=f,o.push(v);const e=(" "+d[3]).slice(1);v.relurl=pm(n,e),$m(v,m),m=v,u+=v.duration,p++,g=0,b=!0}}else if(d[4]){const e=(" "+d[4]).slice(1);m?v.setByteRange(e,m):v.setByteRange(e)}else if(d[5])v.rawProgramDateTime=(" "+d[5]).slice(1),v.tagList.push(["PROGRAM-DATE-TIME",v.rawProgramDateTime]),-1===y&&(y=o.length);else{if(d=d[0].match(Am),!d){$u.warn("No matches on slow regex match for level playlist!");continue}for(c=1;c<d.length&&void 0===d[c];c++);const e=(" "+d[c]).slice(1),s=(" "+d[c+1]).slice(1),u=d[c+2]?(" "+d[c+2]).slice(1):"";switch(e){case"PLAYLIST-TYPE":n.type=s.toUpperCase();break;case"MEDIA-SEQUENCE":p=n.startSN=parseInt(s);break;case"SKIP":{const e=new Fu(s);hm(n,e,["RECENTLY-REMOVED-DATERANGES"]);const t=e.decimalInteger("SKIPPED-SEGMENTS");if(Pu(t)){n.skippedSegments=t;for(let e=t;e--;)o.unshift(null);p+=t}const i=e.enumeratedString("RECENTLY-REMOVED-DATERANGES");i&&(n.recentlyRemovedDateranges=i.split("\t"));break}case"TARGETDURATION":n.targetduration=Math.max(parseInt(s),1);break;case"VERSION":n.version=parseInt(s);break;case"INDEPENDENT-SEGMENTS":case"EXTM3U":break;case"ENDLIST":n.live=!1;break;case"#":(s||u)&&v.tagList.push(u?[s,u]:[s]);break;case"DISCONTINUITY":f++,v.tagList.push(["DIS"]);break;case"GAP":v.gap=!0,v.tagList.push([e]);break;case"BITRATE":v.tagList.push([e,s]);break;case"DATERANGE":{const e=new Fu(s);hm(n,e,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),hm(n,e,e.clientAttrs);const t=new zu(e,n.dateRanges[e.ID]);t.isValid||n.skippedSegments?n.dateRanges[t.id]=t:$u.warn(`Ignoring invalid DATERANGE tag: "${s}"`),v.tagList.push(["EXT-X-DATERANGE",s]);break}case"DEFINE":{const e=new Fu(s);hm(n,e,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in e?um(n,e,r):gm(n,e,t)}break;case"DISCONTINUITY-SEQUENCE":f=parseInt(s);break;case"KEY":{const e=Mm(s,t,n);if(e.isSupported()){if("NONE"===e.method){l=void 0;break}l||(l={}),l[e.keyFormat]&&(l=_u({},l)),l[e.keyFormat]=e}else $u.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${s}"`);break}case"START":n.startTimeOffset=Dm(s);break;case"MAP":{const e=new Fu(s);if(hm(n,e,["BYTERANGE","URI"]),v.duration){const s=new Zu(a,t);Um(s,e,i,l),h=s,v.initSegment=h,h.rawProgramDateTime&&!v.rawProgramDateTime&&(v.rawProgramDateTime=h.rawProgramDateTime)}else{const t=v.byteRangeEndOffset;if(t){const e=v.byteRangeStartOffset;w=`${t-e}@${e}`}else w=null;Um(v,e,i,l),h=v,b=!0}break}case"SERVER-CONTROL":{const e=new Fu(s);n.canBlockReload=e.bool("CAN-BLOCK-RELOAD"),n.canSkipUntil=e.optionalFloat("CAN-SKIP-UNTIL",0),n.canSkipDateRanges=n.canSkipUntil>0&&e.bool("CAN-SKIP-DATERANGES"),n.partHoldBack=e.optionalFloat("PART-HOLD-BACK",0),n.holdBack=e.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const e=new Fu(s);n.partTarget=e.decimalFloatingPoint("PART-TARGET");break}case"PART":{let e=n.partList;e||(e=n.partList=[]);const i=g>0?e[e.length-1]:void 0,a=g++,r=new Fu(s);hm(n,r,["BYTERANGE","URI"]);const o=new Ku(r,v,t,a,i);e.push(o),v.duration+=o.duration;break}case"PRELOAD-HINT":{const e=new Fu(s);hm(n,e,["URI"]),n.preloadHint=e;break}case"RENDITION-REPORT":{const e=new Fu(s);hm(n,e,["URI"]),n.renditionReports=n.renditionReports||[],n.renditionReports.push(e);break}default:$u.warn(`line parsed but not handled: ${d}`)}}}m&&!m.relurl?(o.pop(),u-=m.duration,n.partList&&(n.fragmentHint=m)):n.partList&&($m(v,m),v.cc=f,n.fragmentHint=v,l&&jm(v,l,n));const x=o.length,k=o[0],S=o[x-1];if(u+=n.skippedSegments*n.targetduration,u>0&&x&&S){n.averagetargetduration=u/x;const e=S.sn;n.endSN="initSegment"!==e?e:0,n.live||(S.endList=!0),k&&(n.startCC=k.cc)}else n.endSN=0,n.startCC=0;return n.fragmentHint&&(u+=n.fragmentHint.duration),n.totalduration=u,n.endCC=f,y>0&&function(e,t){let i=e[t];for(let a=t;a--;){const t=e[a];if(!t)return;t.programDateTime=i.programDateTime-1e3*t.duration,i=t}}(o,y),n}}function Mm(e,t,i){var a,s;const r=new Fu(e);hm(i,r,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const n=null!=(a=r.METHOD)?a:"",o=r.URI,d=r.hexadecimalInteger("IV"),c=r.KEYFORMATVERSIONS,l=null!=(s=r.KEYFORMAT)?s:"identity";o&&r.IV&&!d&&$u.error(`Invalid IV: ${r.IV}`);const h=o?Rm.resolve(o,t):"",p=(c||"1").split("/").map(Number).filter(Number.isFinite);return new dm(n,h,l,p,d)}function Dm(e){const t=new Fu(e).decimalFloatingPoint("TIME-OFFSET");return Pu(t)?t:null}function Im(e,t){let i=(e||"").split(/[ ,]+/).filter((e=>e));["video","audio","text"].forEach((e=>{const a=i.filter((t=>function(e,t){const i=mm[t];return!!i&&!!i[e.slice(0,4)]}(t,e)));a.length&&(t[`${e}Codec`]=a.join(","),i=i.filter((e=>-1===a.indexOf(e))))})),t.unknownCodecs=i}function Om(e,t,i){const a=t[i];a&&(e[i]=a)}function $m(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):null!=t&&t.programDateTime&&(e.programDateTime=t.endProgramDateTime),Pu(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}function Um(e,t,i,a){e.relurl=t.URI,t.BYTERANGE&&e.setByteRange(t.BYTERANGE),e.level=i,e.sn="initSegment",a&&(e.levelkeys=a),e.initSegment=null}function jm(e,t,i){e.levelkeys=t;const{encryptedFragments:a}=i;a.length&&a[a.length-1].levelkeys===t||!Object.keys(t).some((e=>t[e].isCommonEncryption))||a.push(e)}var Fm="manifest",Nm="level",zm="audioTrack",Bm="subtitleTrack",Hm="main",Vm="audio",Gm="subtitle";function qm(e){const{type:t}=e;switch(t){case zm:return Vm;case Bm:return Gm;default:return Hm}}function Zm(e,t){let i=e.url;return void 0!==i&&0!==i.indexOf("data:")||(i=t.url),i}class Km{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(Tu.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Tu.LEVEL_LOADING,this.onLevelLoading,this),e.on(Tu.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(Tu.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:e}=this;e.off(Tu.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Tu.LEVEL_LOADING,this.onLevelLoading,this),e.off(Tu.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(Tu.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(e){const t=this.hls.config,i=t.pLoader,a=t.loader,s=new(i||a)(t);return this.loaders[e.type]=s,s}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,t){const{url:i}=t;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:Fm,url:i,deliveryDirectives:null})}onLevelLoading(e,t){const{id:i,level:a,pathwayId:s,url:r,deliveryDirectives:n}=t;this.load({id:i,level:a,pathwayId:s,responseType:"text",type:Nm,url:r,deliveryDirectives:n})}onAudioTrackLoading(e,t){const{id:i,groupId:a,url:s,deliveryDirectives:r}=t;this.load({id:i,groupId:a,level:null,responseType:"text",type:zm,url:s,deliveryDirectives:r})}onSubtitleTrackLoading(e,t){const{id:i,groupId:a,url:s,deliveryDirectives:r}=t;this.load({id:i,groupId:a,level:null,responseType:"text",type:Bm,url:s,deliveryDirectives:r})}load(e){var t;const i=this.hls.config;let a,s=this.getInternalLoader(e);if(s){const t=s.context;if(t&&t.url===e.url&&t.level===e.level)return void $u.trace("[playlist-loader]: playlist request ongoing");$u.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),s.abort()}if(a=e.type===Fm?i.manifestLoadPolicy.default:_u({},i.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),s=this.createInternalLoader(e),Pu(null==(t=e.deliveryDirectives)?void 0:t.part)){let t;if(e.type===Nm&&null!==e.level?t=this.hls.levels[e.level].details:e.type===zm&&null!==e.id?t=this.hls.audioTracks[e.id].details:e.type===Bm&&null!==e.id&&(t=this.hls.subtitleTracks[e.id].details),t){const e=t.partTarget,i=t.targetduration;if(e&&i){const t=1e3*Math.max(3*e,.8*i);a=_u({},a,{maxTimeToFirstByteMs:Math.min(t,a.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(t,a.maxTimeToFirstByteMs)})}}}const r=a.errorRetry||a.timeoutRetry||{},n={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:r.maxNumRetry||0,retryDelay:r.retryDelayMs||0,maxRetryDelay:r.maxRetryDelayMs||0},o={onSuccess:(e,t,i,a)=>{const s=this.getInternalLoader(i);this.resetInternalLoader(i.type);const r=e.data;0===r.indexOf("#EXTM3U")?(t.parsing.start=performance.now(),Rm.isMediaPlaylist(r)?this.handleTrackOrLevelPlaylist(e,t,i,a||null,s):this.handleMasterPlaylist(e,t,i,a)):this.handleManifestParsingError(e,i,new Error("no EXTM3U delimiter"),a||null,t)},onError:(e,t,i,a)=>{this.handleNetworkError(t,i,!1,e,a)},onTimeout:(e,t,i)=>{this.handleNetworkError(t,i,!0,void 0,e)}};s.load(e,n,o)}handleMasterPlaylist(e,t,i,a){const s=this.hls,r=e.data,n=Zm(e,i),o=Rm.parseMasterPlaylist(r,n);if(o.playlistParsingError)return void this.handleManifestParsingError(e,i,o.playlistParsingError,a,t);const{contentSteering:d,levels:c,sessionData:l,sessionKeys:h,startTimeOffset:p,variableList:g}=o;this.variableList=g;const{AUDIO:u=[],SUBTITLES:f,"CLOSED-CAPTIONS":m}=Rm.parseMasterPlaylistMedia(r,n,o);if(u.length){u.some((e=>!e.url))||!c[0].audioCodec||c[0].attrs.AUDIO||($u.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),u.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new Fu({}),bitrate:0,url:""}))}s.trigger(Tu.MANIFEST_LOADED,{levels:c,audioTracks:u,subtitles:f,captions:m,contentSteering:d,url:n,stats:t,networkDetails:a,sessionData:l,sessionKeys:h,startTimeOffset:p,variableList:g})}handleTrackOrLevelPlaylist(e,t,i,a,s){const r=this.hls,{id:n,level:o,type:d}=i,c=Zm(e,i),l=Pu(o)?o:Pu(n)?n:0,h=qm(i),p=Rm.parseLevelPlaylist(e.data,c,l,h,0,this.variableList);if(d===Fm){const e={attrs:new Fu({}),bitrate:0,details:p,name:"",url:c};r.trigger(Tu.MANIFEST_LOADED,{levels:[e],audioTracks:[],url:c,stats:t,networkDetails:a,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}t.parsing.end=performance.now(),i.levelDetails=p,this.handlePlaylistLoaded(p,e,t,i,a,s)}handleManifestParsingError(e,t,i,a,s){this.hls.trigger(Tu.ERROR,{type:Au.NETWORK_ERROR,details:Ru.MANIFEST_PARSING_ERROR,fatal:t.type===Fm,url:e.url,err:i,error:i,reason:i.message,response:e,context:t,networkDetails:a,stats:s})}handleNetworkError(e,t,i=!1,a,s){let r=`A network ${i?"timeout":"error"+(a?" (status "+a.code+")":"")} occurred while loading ${e.type}`;e.type===Nm?r+=`: ${e.level} id: ${e.id}`:e.type!==zm&&e.type!==Bm||(r+=` id: ${e.id} group-id: "${e.groupId}"`);const n=new Error(r);$u.warn(`[playlist-loader]: ${r}`);let o=Ru.UNKNOWN,d=!1;const c=this.getInternalLoader(e);switch(e.type){case Fm:o=i?Ru.MANIFEST_LOAD_TIMEOUT:Ru.MANIFEST_LOAD_ERROR,d=!0;break;case Nm:o=i?Ru.LEVEL_LOAD_TIMEOUT:Ru.LEVEL_LOAD_ERROR,d=!1;break;case zm:o=i?Ru.AUDIO_TRACK_LOAD_TIMEOUT:Ru.AUDIO_TRACK_LOAD_ERROR,d=!1;break;case Bm:o=i?Ru.SUBTITLE_TRACK_LOAD_TIMEOUT:Ru.SUBTITLE_LOAD_ERROR,d=!1}c&&this.resetInternalLoader(e.type);const l={type:Au.NETWORK_ERROR,details:o,fatal:d,url:e.url,loader:c,context:e,error:n,networkDetails:t,stats:s};if(a){const i=(null==t?void 0:t.url)||e.url;l.response=ku({url:i,data:void 0},a)}this.hls.trigger(Tu.ERROR,l)}handlePlaylistLoaded(e,t,i,a,s,r){const n=this.hls,{type:o,level:d,id:c,groupId:l,deliveryDirectives:h}=a,p=Zm(t,a),g=qm(a),u="number"==typeof a.level&&g===Hm?d:void 0;if(!e.fragments.length){const e=new Error("No Segments found in Playlist");return void n.trigger(Tu.ERROR,{type:Au.NETWORK_ERROR,details:Ru.LEVEL_EMPTY_ERROR,fatal:!1,url:p,error:e,reason:e.message,response:t,context:a,level:u,parent:g,networkDetails:s,stats:i})}e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));const f=e.playlistParsingError;if(f)n.trigger(Tu.ERROR,{type:Au.NETWORK_ERROR,details:Ru.LEVEL_PARSING_ERROR,fatal:!1,url:p,error:f,reason:f.message,response:t,context:a,level:u,parent:g,networkDetails:s,stats:i});else switch(e.live&&r&&(r.getCacheAge&&(e.ageHeader=r.getCacheAge()||0),r.getCacheAge&&!isNaN(e.ageHeader)||(e.ageHeader=0)),o){case Fm:case Nm:n.trigger(Tu.LEVEL_LOADED,{details:e,level:u||0,id:c||0,stats:i,networkDetails:s,deliveryDirectives:h});break;case zm:n.trigger(Tu.AUDIO_TRACK_LOADED,{details:e,id:c||0,groupId:l||"",stats:i,networkDetails:s,deliveryDirectives:h});break;case Bm:n.trigger(Tu.SUBTITLE_TRACK_LOADED,{details:e,id:c||0,groupId:l||"",stats:i,networkDetails:s,deliveryDirectives:h})}}}function Wm(e,t){let i;try{i=new Event("addtrack")}catch(R){i=document.createEvent("Event"),i.initEvent("addtrack",!1,!1)}i.track=e,t.dispatchEvent(i)}function Ym(e,t){const i=e.mode;if("disabled"===i&&(e.mode="hidden"),e.cues&&!e.cues.getCueById(t.id))try{if(e.addCue(t),!e.cues.getCueById(t.id))throw new Error(`addCue is failed for: ${t}`)}catch(R){$u.debug(`[texttrack-utils]: ${R}`);try{const i=new self.TextTrackCue(t.startTime,t.endTime,t.text);i.id=t.id,e.addCue(i)}catch(a){$u.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${a}`)}}"disabled"===i&&(e.mode=i)}function Qm(e){const t=e.mode;if("disabled"===t&&(e.mode="hidden"),e.cues)for(let i=e.cues.length;i--;)e.removeCue(e.cues[i]);"disabled"===t&&(e.mode=t)}function Jm(e,t,i,a){const s=e.mode;if("disabled"===s&&(e.mode="hidden"),e.cues&&e.cues.length>0){const s=function(e,t,i){const a=[],s=function(e,t){if(t<e[0].startTime)return 0;const i=e.length-1;if(t>e[i].endTime)return-1;let a=0,s=i;for(;a<=s;){const r=Math.floor((s+a)/2);if(t<e[r].startTime)s=r-1;else{if(!(t>e[r].startTime&&a<i))return r;a=r+1}}return e[a].startTime-t<t-e[s].startTime?a:s}(e,t);if(s>-1)for(let r=s,n=e.length;r<n;r++){const s=e[r];if(s.startTime>=t&&s.endTime<=i)a.push(s);else if(s.startTime>i)return a}return a}(e.cues,t,i);for(let t=0;t<s.length;t++)a&&!a(s[t])||e.removeCue(s[t])}"disabled"===s&&(e.mode=s)}function Xm(e){const t=[];for(let i=0;i<e.length;i++){const a=e[i];"subtitles"!==a.kind&&"captions"!==a.kind||!a.label||t.push(e[i])}return t}var ev="org.id3",tv="com.apple.quicktime.HLS",iv="https://aomedia.org/emsg/ID3";function av(){if("undefined"!=typeof self)return self.VTTCue||self.TextTrackCue}function sv(e,t,i,a,s){let r=new e(t,i,"");try{r.value=a,s&&(r.type=s)}catch(n){r=new e(t,i,JSON.stringify(s?ku({type:s},a):a))}return r}const rv=(()=>{const e=av();try{e&&new e(0,Number.POSITIVE_INFINITY,"")}catch(t){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function nv(e,t){return e.getTime()/1e3-t}class ov{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:e}=this;e.on(Tu.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Tu.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Tu.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Tu.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(Tu.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(Tu.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:e}=this;e.off(Tu.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Tu.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Tu.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Tu.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(Tu.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(Tu.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(e,t){this.media=t.media}onMediaDetaching(){this.id3Track&&(Qm(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const t=this.getID3Track(e.textTracks);return t.mode="hidden",t}getID3Track(e){if(this.media){for(let t=0;t<e.length;t++){const i=e[t];if("metadata"===i.kind&&"id3"===i.label)return Wm(i,this.media),i}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,t){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:i,enableID3MetadataCues:a}}}=this;if(!i&&!a)return;const{samples:s}=t;this.id3Track||(this.id3Track=this.createTrack(this.media));const r=av();if(r)for(let n=0;n<s.length;n++){const e=s[n].type;if(e===iv&&!i||!a)continue;const t=Pf(s[n].data);if(t){const i=s[n].pts;let a=i+s[n].duration;a>rv&&(a=rv);a-i<=0&&(a=i+.25);for(let s=0;s<t.length;s++){const n=t[s];if(!Cf(n)){this.updateId3CueEnds(i,e);const t=sv(r,i,a,n,e);t&&this.id3Track.addCue(t)}}}}}updateId3CueEnds(e,t){var i;const a=null==(i=this.id3Track)?void 0:i.cues;if(a)for(let s=a.length;s--;){const i=a[s];i.type===t&&i.startTime<e&&i.endTime===rv&&(i.endTime=e)}}onBufferFlushing(e,{startOffset:t,endOffset:i,type:a}){const{id3Track:s,hls:r}=this;if(!r)return;const{config:{enableEmsgMetadataCues:n,enableID3MetadataCues:o}}=r;if(s&&(n||o)){let e;e="audio"===a?e=>e.type===ev&&o:"video"===a?e=>e.type===iv&&n:e=>e.type===ev&&o||e.type===iv&&n,Jm(s,t,i,e)}}onLevelUpdated(e,{details:t}){if(!this.media||!t.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:i,id3Track:a}=this,{dateRanges:s}=t,r=Object.keys(s);if(a){const e=Object.keys(i).filter((e=>!r.includes(e)));for(let t=e.length;t--;){const s=e[t];Object.keys(i[s].cues).forEach((e=>{a.removeCue(i[s].cues[e])})),delete i[s]}}const n=t.fragments[t.fragments.length-1];if(0===r.length||!Pu(null==n?void 0:n.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const o=n.programDateTime/1e3-n.start,d=av();for(let h=0;h<r.length;h++){const e=r[h],t=s[e],a=nv(t.startDate,o),n=i[e],p=(null==n?void 0:n.cues)||{};let g=(null==n?void 0:n.durationKnown)||!1,u=rv;const f=t.endDate;if(f)u=nv(f,o),g=!0;else if(t.endOnNext&&!g){const e=r.reduce(((e,i)=>{if(i!==t.id){const a=s[i];if(a.class===t.class&&a.startDate>t.startDate&&(!e||t.startDate<e.startDate))return a}return e}),null);e&&(u=nv(e.startDate,o),g=!0)}const m=Object.keys(t.attr);for(let i=0;i<m.length;i++){const s=m[i];if("ID"===(l=s)||"CLASS"===l||"START-DATE"===l||"DURATION"===l||"END-DATE"===l||"END-ON-NEXT"===l)continue;const r=p[s];if(r)g&&!n.durationKnown&&(r.endTime=u);else if(d){let i=t.attr[s];Nu(s)&&(c=i,i=Uint8Array.from(c.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer);const r=sv(d,a,u,{key:s,data:i},tv);r&&(r.id=e,this.id3Track.addCue(r),p[s]=r)}}i[e]={cues:p,dateRange:t,durationKnown:g}}var c,l}}class dv{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=e,this.config=e.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:e,levelDetails:t}=this;return void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:t?e.liveMaxLatencyDurationCount*t.targetduration:0}get targetLatency(){const{levelDetails:e}=this;if(null===e)return null;const{holdBack:t,partHoldBack:i,targetduration:a}=e,{liveSyncDuration:s,liveSyncDurationCount:r,lowLatencyMode:n}=this.config,o=this.hls.userConfig;let d=n&&i||t;(o.liveSyncDuration||o.liveSyncDurationCount||0===d)&&(d=void 0!==s?s:r*a);const c=a;return d+Math.min(1*this.stallCount,c)}get liveSyncPosition(){const e=this.estimateLiveEdge(),t=this.targetLatency,i=this.levelDetails;if(null===e||null===t||null===i)return null;const a=i.edge,s=e-t-this.edgeStalled,r=a-i.totalduration,n=a-(this.config.lowLatencyMode&&i.partTarget||i.targetduration);return Math.min(Math.max(r,s),n)}get drift(){const{levelDetails:e}=this;return null===e?1:e.drift}get edgeStalled(){const{levelDetails:e}=this;if(null===e)return 0;const t=3*(this.config.lowLatencyMode&&e.partTarget||e.targetduration);return Math.max(e.age-t,0)}get forwardBufferLength(){const{media:e,levelDetails:t}=this;if(!e||!t)return 0;const i=e.buffered.length;return(i?e.buffered.end(i-1):t.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(Tu.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Tu.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(Tu.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Tu.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(Tu.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(Tu.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Tu.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(Tu.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(Tu.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(Tu.ERROR,this.onError,this)}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:t}){this.levelDetails=t,t.advanced&&this.timeupdate(),!t.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(e,t){var i;t.details===Ru.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(i=this.levelDetails)&&i.live&&$u.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:e,levelDetails:t}=this;if(!e||!t)return;this.currentTime=e.currentTime;const i=this.computeLatency();if(null===i)return;this._latency=i;const{lowLatencyMode:a,maxLiveSyncPlaybackRate:s}=this.config;if(!a||1===s||!t.live)return;const r=this.targetLatency;if(null===r)return;const n=i-r;if(n<Math.min(this.maxLatency,r+t.targetduration)&&n>.05&&this.forwardBufferLength>1){const t=Math.min(2,Math.max(1,s)),i=Math.round(2/(1+Math.exp(-.75*n-this.edgeStalled))*20)/20;e.playbackRate=Math.min(t,Math.max(1,i))}else 1!==e.playbackRate&&0!==e.playbackRate&&(e.playbackRate=1)}estimateLiveEdge(){const{levelDetails:e}=this;return null===e?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return null===e?null:e-this.currentTime}}const cv=["NONE","TYPE-0","TYPE-1",null];const lv=["SDR","PQ","HLG"];var hv="",pv="YES",gv="v2";function uv(e){const{canSkipUntil:t,canSkipDateRanges:i,age:a}=e;return t&&a<t/2?i?gv:pv:hv}class fv{constructor(e,t,i){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=t,this.skip=i}addDirectives(e){const t=new self.URL(e);return void 0!==this.msn&&t.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.href}}class mv{constructor(e){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter((e=>!!e)).map((e=>e.substring(0,4))).join(","),this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return vv(this._audioGroups,e)}hasSubtitleGroup(e){return vv(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,t){if(t)if("audio"===e){let e=this._audioGroups;e||(e=this._audioGroups=[]),-1===e.indexOf(t)&&e.push(t)}else if("text"===e){let e=this._subtitleGroups;e||(e=this._subtitleGroups=[]),-1===e.indexOf(t)&&e.push(t)}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return null==(e=this.audioGroups)?void 0:e[0]}get textGroupId(){var e;return null==(e=this.subtitleGroups)?void 0:e[0]}addFallback(){}}function vv(e,t){return!(!t||!e)&&-1!==e.indexOf(t)}function yv(e,t){const i=t.startPTS;if(Pu(i)){let a,s=0;t.sn>e.sn?(s=i-e.start,a=e):(s=e.start-i,a=t),a.duration!==s&&(a.duration=s)}else if(t.sn>e.sn){e.cc===t.cc&&e.minEndPTS?t.start=e.start+(e.minEndPTS-e.start):t.start=e.start+e.duration}else t.start=Math.max(e.start-t.duration,0)}function bv(e,t,i,a,s,r){a-i<=0&&($u.warn("Fragment should have a positive duration",t),a=i+t.duration,r=s+t.duration);let n=i,o=a;const d=t.startPTS,c=t.endPTS;if(Pu(d)){const e=Math.abs(d-i);Pu(t.deltaPTS)?t.deltaPTS=Math.max(e,t.deltaPTS):t.deltaPTS=e,n=Math.max(i,d),i=Math.min(i,d),s=Math.min(s,t.startDTS),o=Math.min(a,c),a=Math.max(a,c),r=Math.max(r,t.endDTS)}const l=i-t.start;0!==t.start&&(t.start=i),t.duration=a-t.start,t.startPTS=i,t.maxStartPTS=n,t.startDTS=s,t.endPTS=a,t.minEndPTS=o,t.endDTS=r;const h=t.sn;if(!e||h<e.startSN||h>e.endSN)return 0;let p;const g=h-e.startSN,u=e.fragments;for(u[g]=t,p=g;p>0;p--)yv(u[p],u[p-1]);for(p=g;p<u.length-1;p++)yv(u[p],u[p+1]);return e.fragmentHint&&yv(u[u.length-1],e.fragmentHint),e.PTSKnown=e.alignedSliding=!0,l}function wv(e,t){let i=null;const a=e.fragments;for(let o=a.length-1;o>=0;o--){const e=a[o].initSegment;if(e){i=e;break}}let s;e.fragmentHint&&delete e.fragmentHint.endPTS,function(e,t,i){const a=t.skippedSegments,s=Math.max(e.startSN,t.startSN)-t.startSN,r=(e.fragmentHint?1:0)+(a?t.endSN:Math.min(e.endSN,t.endSN))-t.startSN,n=t.startSN-e.startSN,o=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,d=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments;for(let c=s;c<=r;c++){const e=d[n+c];let s=o[c];a&&!s&&c<a&&(s=t.fragments[c]=e),e&&s&&i(e,s,c,o)}}(e,t,((e,a,r,n)=>{if(t.skippedSegments&&a.cc!==e.cc){const t=e.cc-a.cc;for(let e=r;e<n.length;e++)n[e].cc+=t}Pu(e.startPTS)&&Pu(e.endPTS)&&(a.start=a.startPTS=e.startPTS,a.startDTS=e.startDTS,a.maxStartPTS=e.maxStartPTS,a.endPTS=e.endPTS,a.endDTS=e.endDTS,a.minEndPTS=e.minEndPTS,a.duration=e.endPTS-e.startPTS,a.duration&&(s=a),t.PTSKnown=t.alignedSliding=!0),a.elementaryStreams=e.elementaryStreams,a.loader=e.loader,a.stats=e.stats,e.initSegment&&(a.initSegment=e.initSegment,i=e.initSegment)}));const r=t.fragments;if(i){(t.fragmentHint?r.concat(t.fragmentHint):r).forEach((e=>{var t;!e||e.initSegment&&e.initSegment.relurl!==(null==(t=i)?void 0:t.relurl)||(e.initSegment=i)}))}if(t.skippedSegments){if(t.deltaUpdateFailed=r.some((e=>!e)),t.deltaUpdateFailed){$u.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let e=t.skippedSegments;e--;)r.shift();t.startSN=r[0].sn}else t.canSkipDateRanges&&(t.dateRanges=function(e,t,i){const a=_u({},e);i&&i.forEach((e=>{delete a[e]}));return Object.keys(t).forEach((e=>{const i=new zu(t[e].attr,a[e]);i.isValid?a[e]=i:$u.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(t[e].attr)}"`)})),a}(e.dateRanges,t.dateRanges,t.recentlyRemovedDateranges));t.startCC=t.fragments[0].cc,t.endCC=r[r.length-1].cc}!function(e,t,i){if(e&&t){let a=0;for(let s=0,r=e.length;s<=r;s++){const r=e[s],n=t[s+a];r&&n&&r.index===n.index&&r.fragment.sn===n.fragment.sn?i(r,n):a--}}}(e.partList,t.partList,((e,t)=>{t.elementaryStreams=e.elementaryStreams,t.stats=e.stats})),s?bv(t,s,s.startPTS,s.endPTS,s.startDTS,s.endDTS):xv(e,t),r.length&&(t.totalduration=t.edge-r[0].start),t.driftStartTime=e.driftStartTime,t.driftStart=e.driftStart;const n=t.advancedDateTime;if(t.advanced&&n){const e=t.edge;t.driftStart||(t.driftStartTime=n,t.driftStart=e),t.driftEndTime=n,t.driftEnd=e}else t.driftEndTime=e.driftEndTime,t.driftEnd=e.driftEnd,t.advancedDateTime=e.advancedDateTime}function xv(e,t){const i=t.startSN+t.skippedSegments-e.startSN,a=e.fragments;i<0||i>=a.length||kv(t,a[i].start)}function kv(e,t){if(t){const i=e.fragments;for(let a=e.skippedSegments;a<i.length;a++)i[a].start+=t;e.fragmentHint&&(e.fragmentHint.start+=t)}}function Sv(e,t,i){var a;return null!=e&&e.details?Cv(null==(a=e.details)?void 0:a.partList,t,i):null}function Cv(e,t,i){if(e)for(let a=e.length;a--;){const s=e[a];if(s.index===i&&s.fragment.sn===t)return s}return null}function _v(e){e.forEach(((e,t)=>{const{details:i}=e;null!=i&&i.fragments&&i.fragments.forEach((e=>{e.level=t}))}))}function Pv(e){switch(e.details){case Ru.FRAG_LOAD_TIMEOUT:case Ru.KEY_LOAD_TIMEOUT:case Ru.LEVEL_LOAD_TIMEOUT:case Ru.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function Lv(e,t){const i=Pv(t);return e.default[(i?"timeout":"error")+"Retry"]}function Ev(e,t){const i="linear"===e.backoff?1:Math.pow(2,t);return Math.min(i*e.retryDelayMs,e.maxRetryDelayMs)}function Tv(e){return ku(ku({},e),{errorRetry:null,timeoutRetry:null})}function Av(e,t,i,a){if(!e)return!1;const s=null==a?void 0:a.code,r=t<e.maxNumRetry&&(function(e){return 0===e&&!1===navigator.onLine||!!e&&(e<400||e>499)}(s)||!!i);return e.shouldRetry?e.shouldRetry(e,t,i,a,r):r}const Rv=function(e,t){let i=0,a=e.length-1,s=null,r=null;for(;i<=a;){s=(i+a)/2|0,r=e[s];const n=t(r);if(n>0)i=s+1;else{if(!(n<0))return r;a=s-1}}return null};function Mv(e,t,i=0,a=0,s=.005){let r=null;if(e){r=t[e.sn-t[0].sn+1]||null;const a=e.endDTS-i;a>0&&a<15e-7&&(i+=15e-7)}else 0===i&&0===t[0].start&&(r=t[0]);if(r&&((!e||e.level===r.level)&&0===Dv(i,a,r)||function(e,t,i){if(t&&0===t.start&&t.level<e.level&&(t.endPTS||0)>0){const a=t.tagList.reduce(((e,t)=>("INF"===t[0]&&(e+=parseFloat(t[1])),e)),i);return e.start<=a}return!1}(r,e,Math.min(s,a))))return r;const n=Rv(t,Dv.bind(null,i,a));return!n||n===e&&r?r:n}function Dv(e=0,t=0,i){if(i.start<=e&&i.start+i.duration>e)return 0;const a=Math.min(t,i.duration+(i.deltaPTS?i.deltaPTS:0));return i.start+i.duration-a<=e?1:i.start-a>e&&i.start?-1:0}function Iv(e,t,i){const a=1e3*Math.min(t,i.duration+(i.deltaPTS?i.deltaPTS:0));return(i.endProgramDateTime||0)-a>e}var Ov=0,$v=2,Uv=3,jv=5,Fv=0,Nv=1,zv=2;class Bv{constructor(e,t){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=$u.log.bind($u,`${t}:`),this.warn=$u.warn.bind($u,`${t}:`),this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){-1!==this.timer&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,t,i){const a=null==t?void 0:t.renditionReports;if(a){let r=-1;for(let i=0;i<a.length;i++){const n=a[i];let o;try{o=new self.URL(n.URI,t.url).href}catch(s){$u.warn(`Could not construct new URL for Rendition Report: ${s}`),o=n.URI||""}if(o===e){r=i;break}o===e.substring(0,o.length)&&(r=i)}if(-1!==r){const e=a[r],s=parseInt(e["LAST-MSN"])||(null==t?void 0:t.lastPartSn);let n=parseInt(e["LAST-PART"])||(null==t?void 0:t.lastPartIndex);if(this.hls.config.lowLatencyMode){const e=Math.min(t.age-t.partTarget,t.targetduration);n>=0&&e>t.partTarget&&(n+=1)}const o=i&&uv(i);return new fv(s,n>=0?n:void 0,o)}}}loadPlaylist(e){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}shouldReloadPlaylist(e){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(e)}playlistLoaded(e,t,i){const{details:a,stats:s}=t,r=self.performance.now(),n=s.loading.first?Math.max(0,r-s.loading.first):0;if(a.advancedDateTime=Date.now()-n,a.live||null!=i&&i.live){if(a.reloaded(i),i&&this.log(`live playlist ${e} ${a.advanced?"REFRESHED "+a.lastPartSn+"-"+a.lastPartIndex:a.updated?"UPDATED":"MISSED"}`),i&&a.fragments.length>0&&wv(i,a),!this.canLoad||!a.live)return;let n,o,d;if(a.canBlockReload&&a.endSN&&a.advanced){const e=this.hls.config.lowLatencyMode,s=a.lastPartSn,r=a.endSN,c=a.lastPartIndex,l=s===r;-1!==c?(o=l?r+1:s,d=l?e?0:c:c+1):o=r+1;const h=a.age,p=h+a.ageHeader;let g=Math.min(p-a.partTarget,1.5*a.targetduration);if(g>0){if(i&&g>i.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${i.tuneInGoal} to: ${g} with playlist age: ${a.age}`),g=0;else{const e=Math.floor(g/a.targetduration);if(o+=e,void 0!==d){d+=Math.round(g%a.targetduration/a.partTarget)}this.log(`CDN Tune-in age: ${a.ageHeader}s last advanced ${h.toFixed(2)}s goal: ${g} skip sn ${e} to part ${d}`)}a.tuneInGoal=g}if(n=this.getDeliveryDirectives(a,t.deliveryDirectives,o,d),e||!l)return void this.loadPlaylist(n)}else(a.canBlockReload||a.canSkipUntil)&&(n=this.getDeliveryDirectives(a,t.deliveryDirectives,o,d));const c=this.hls.mainForwardBufferInfo,l=c?c.end-c.len:0,h=function(e,t=1/0){let i=1e3*e.targetduration;if(e.updated){const a=e.fragments,s=4;if(a.length&&i*s>t){const e=1e3*a[a.length-1].duration;e<i&&(i=e)}}else i/=2;return Math.round(i)}(a,1e3*(a.edge-l));a.updated&&r>this.requestScheduled+h&&(this.requestScheduled=s.loading.start),void 0!==o&&a.canBlockReload?this.requestScheduled=s.loading.first+h-(1e3*a.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+h<r?this.requestScheduled=r:this.requestScheduled-r<=0&&(this.requestScheduled+=h);let p=this.requestScheduled-r;p=Math.max(0,p),this.log(`reload live playlist ${e} in ${Math.round(p)} ms`),this.timer=self.setTimeout((()=>this.loadPlaylist(n)),p)}else this.clearTimer()}getDeliveryDirectives(e,t,i,a){let s=uv(e);return null!=t&&t.skip&&e.deltaUpdateFailed&&(i=t.msn,a=t.part,s=hv),new fv(i,a,s)}checkRetry(e){const t=e.details,i=Pv(e),a=e.errorAction,{action:s,retryCount:r=0,retryConfig:n}=a||{},o=!!a&&!!n&&(s===jv||!a.resolved&&s===$v);if(o){var d;if(this.requestScheduled=-1,r>=n.maxNumRetry)return!1;if(i&&null!=(d=e.context)&&d.deliveryDirectives)this.warn(`Retrying playlist loading ${r+1}/${n.maxNumRetry} after "${t}" without delivery-directives`),this.loadPlaylist();else{const e=Ev(n,r);this.timer=self.setTimeout((()=>this.loadPlaylist()),e),this.warn(`Retrying playlist loading ${r+1}/${n.maxNumRetry} after "${t}" in ${e}ms`)}e.levelRetry=!0,a.resolved=!0}return o}}class Hv{constructor(e,t=0,i=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=t,this.totalWeight_=i}sample(e,t){const i=Math.pow(this.alpha_,e);this.estimate_=t*(1-i)+i*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class Vv{constructor(e,t,i,a=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=i,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Hv(e),this.fast_=new Hv(t),this.defaultTTFB_=a,this.ttfb_=new Hv(e)}update(e,t){const{slow_:i,fast_:a,ttfb_:s}=this;i.halfLife!==e&&(this.slow_=new Hv(e,i.getEstimate(),i.getTotalWeight())),a.halfLife!==t&&(this.fast_=new Hv(t,a.getEstimate(),a.getTotalWeight())),s.halfLife!==e&&(this.ttfb_=new Hv(e,s.getEstimate(),s.getTotalWeight()))}sample(e,t){const i=(e=Math.max(e,this.minDelayMs_))/1e3,a=8*t/i;this.fast_.sample(i,a),this.slow_.sample(i,a)}sampleTTFB(e){const t=e/1e3,i=Math.sqrt(2)*Math.exp(-Math.pow(t,2)/2);this.ttfb_.sample(i,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}const Gv={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]},qv={};function Zv(e,t,i,a,s,r){const n=e.audioCodec?e.audioGroups:null,o=null==r?void 0:r.audioCodec,d=null==r?void 0:r.channels,c=d?parseInt(d):o?1/0:2;let l=null;if(null!=n&&n.length)try{l=1===n.length&&n[0]?t.groups[n[0]].channels:n.reduce(((e,i)=>{if(i){const a=t.groups[i];if(!a)throw new Error(`Audio track group ${i} not found`);Object.keys(a.channels).forEach((t=>{e[t]=(e[t]||0)+a.channels[t]}))}return e}),{2:0})}catch(h){return!0}return void 0!==e.videoCodec&&(e.width>1920&&e.height>1088||e.height>1920&&e.width>1088||e.frameRate>Math.max(a,30)||"SDR"!==e.videoRange&&e.videoRange!==i||e.bitrate>Math.max(s,8e6))||!!l&&Pu(c)&&Object.keys(l).some((e=>parseInt(e)>c))}function Kv(e,t,i){const a=e.videoCodec,s=e.audioCodec;if(!a||!s||!i)return Promise.resolve(Gv);const r={width:e.width,height:e.height,bitrate:Math.ceil(Math.max(.9*e.bitrate,e.averageBitrate)),framerate:e.frameRate||30},n=e.videoRange;"SDR"!==n&&(r.transferFunction=n.toLowerCase());const o=a.split(",").map((e=>({type:"media-source",video:ku(ku({},r),{},{contentType:bm(e,"video")})})));return s&&e.audioGroups&&e.audioGroups.forEach((e=>{var i;e&&(null==(i=t.groups[e])||i.tracks.forEach((t=>{if(t.groupId===e){const e=t.channels||"",i=parseFloat(e);Pu(i)&&i>2&&o.push.apply(o,s.split(",").map((e=>({type:"media-source",audio:{contentType:bm(e,"audio"),channels:""+i}}))))}})))})),Promise.all(o.map((e=>{const t=function(e){const{audio:t,video:i}=e,a=i||t;if(a){const e=a.contentType.split('"')[1];if(i)return`r${i.height}x${i.width}f${Math.ceil(i.framerate)}${i.transferFunction||"sd"}_${e}_${Math.ceil(i.bitrate/1e5)}`;if(t)return`c${t.channels}${t.spatialRendering?"s":"n"}_${e}`}return""}(e);return qv[t]||(qv[t]=i.decodingInfo(e))}))).then((e=>({supported:!e.some((e=>!e.supported)),configurations:o,decodingInfoResults:e}))).catch((e=>({supported:!1,configurations:o,decodingInfoResults:[],error:e})))}function Wv(e,t){let i=!1,a=[];return e&&(i="SDR"!==e,a=[e]),t&&(a=t.allowedVideoRanges||lv.slice(0),i=void 0!==t.preferHDR?t.preferHDR:function(){if("function"==typeof matchMedia){const e=matchMedia("(dynamic-range: high)"),t=matchMedia("bad query");if(e.media!==t.media)return!0===e.matches}return!1}(),a=i?a.filter((e=>"SDR"!==e)):["SDR"]),{preferHDR:i,allowedVideoRanges:a}}function Yv(e,t){$u.log(`[abr] start candidates with "${e}" ignored because ${t}`)}function Qv(e,t,i){if("attrs"in e){const i=t.indexOf(e);if(-1!==i)return i}for(let a=0;a<t.length;a++){if(Jv(e,t[a],i))return a}return-1}function Jv(e,t,i){const{groupId:a,name:s,lang:r,assocLang:n,default:o}=e,d=e.forced;return(void 0===a||t.groupId===a)&&(void 0===s||t.name===s)&&(void 0===r||t.lang===r)&&(void 0===r||t.assocLang===n)&&(void 0===o||t.default===o)&&(void 0===d||t.forced===d)&&(!("characteristics"in e)||function(e,t=""){const i=e.split(","),a=t.split(",");return i.length===a.length&&!i.some((e=>-1===a.indexOf(e)))}(e.characteristics||"",t.characteristics))&&(void 0===i||i(e,t))}function Xv(e,t){const{audioCodec:i,channels:a}=e;return!(void 0!==i&&(t.audioCodec||"").substring(0,4)!==i.substring(0,4)||void 0!==a&&a!==(t.channels||"2"))}function ey(e,t,i){for(let a=t;a>-1;a--)if(i(e[a]))return a;for(let a=t+1;a<e.length;a++)if(i(e[a]))return a;return-1}class ty{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}clearNextTick(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}tick(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}var iy="NOT_LOADED",ay="APPENDING",sy="PARTIAL",ry="OK";class ny{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(Tu.BUFFER_APPENDED,this.onBufferAppended,this),e.on(Tu.FRAG_BUFFERED,this.onFragBuffered,this),e.on(Tu.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:e}=this;e.off(Tu.BUFFER_APPENDED,this.onBufferAppended,this),e.off(Tu.FRAG_BUFFERED,this.onFragBuffered,this),e.off(Tu.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,t){const i=this.activePartLists[t];if(i)for(let a=i.length;a--;){const t=i[a];if(!t)break;const s=t.end;if(t.start<=e&&null!==s&&e<=s)return t}return this.getBufferedFrag(e,t)}getBufferedFrag(e,t){const{fragments:i}=this,a=Object.keys(i);for(let s=a.length;s--;){const r=i[a[s]];if((null==r?void 0:r.body.type)===t&&r.buffered){const t=r.body;if(t.start<=e&&e<=t.end)return t}}return null}detectEvictedFragments(e,t,i,a){this.timeRanges&&(this.timeRanges[e]=t);const s=(null==a?void 0:a.fragment.sn)||-1;Object.keys(this.fragments).forEach((a=>{const r=this.fragments[a];if(!r)return;if(s>=r.body.sn)return;if(!r.buffered&&!r.loaded)return void(r.body.type===i&&this.removeFragment(r.body));const n=r.range[e];n&&n.time.some((e=>{const i=!this.isTimeBuffered(e.startPTS,e.endPTS,t);return i&&this.removeFragment(r.body),i}))}))}detectPartialFragments(e){const t=this.timeRanges,{frag:i,part:a}=e;if(!t||"initSegment"===i.sn)return;const s=dy(i),r=this.fragments[s];if(!r||r.buffered&&i.gap)return;const n=!i.relurl;if(Object.keys(t).forEach((e=>{const s=i.elementaryStreams[e];if(!s)return;const o=t[e],d=n||!0===s.partial;r.range[e]=this.getBufferedTimes(i,a,d,o)})),r.loaded=null,Object.keys(r.range).length){r.buffered=!0;(r.body.endList=i.endList||r.body.endList)&&(this.endListFragments[r.body.type]=r),oy(r)||this.removeParts(i.sn-1,i.type)}else this.removeFragment(r.body)}removeParts(e,t){const i=this.activePartLists[t];i&&(this.activePartLists[t]=i.filter((t=>t.fragment.sn>=e)))}fragBuffered(e,t){const i=dy(e);let a=this.fragments[i];!a&&t&&(a=this.fragments[i]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),a&&(a.loaded=null,a.buffered=!0)}getBufferedTimes(e,t,i,a){const s={time:[],partial:i},r=e.start,n=e.end,o=e.minEndPTS||n,d=e.maxStartPTS||r;for(let c=0;c<a.length;c++){const e=a.start(c)-this.bufferPadding,t=a.end(c)+this.bufferPadding;if(d>=e&&o<=t){s.time.push({startPTS:Math.max(r,a.start(c)),endPTS:Math.min(n,a.end(c))});break}if(r<t&&n>e){const e=Math.max(r,a.start(c)),t=Math.min(n,a.end(c));t>e&&(s.partial=!0,s.time.push({startPTS:e,endPTS:t}))}else if(n<=e)break}return s}getPartialFragment(e){let t,i,a,s=null,r=0;const{bufferPadding:n,fragments:o}=this;return Object.keys(o).forEach((d=>{const c=o[d];c&&oy(c)&&(i=c.body.start-n,a=c.body.end+n,e>=i&&e<=a&&(t=Math.min(e-i,a-e),r<=t&&(s=c.body,r=t)))})),s}isEndListAppended(e){const t=this.endListFragments[e];return void 0!==t&&(t.buffered||oy(t))}getState(e){const t=dy(e),i=this.fragments[t];return i?i.buffered?oy(i)?sy:ry:ay:iy}isTimeBuffered(e,t,i){let a,s;for(let r=0;r<i.length;r++){if(a=i.start(r)-this.bufferPadding,s=i.end(r)+this.bufferPadding,e>=a&&t<=s)return!0;if(t<=a)return!1}return!1}onFragLoaded(e,t){const{frag:i,part:a}=t;if("initSegment"===i.sn||i.bitrateTest)return;const s=a?null:t,r=dy(i);this.fragments[r]={body:i,appendedPTS:null,loaded:s,buffered:!1,range:Object.create(null)}}onBufferAppended(e,t){const{frag:i,part:a,timeRanges:s}=t;if("initSegment"===i.sn)return;const r=i.type;if(a){let e=this.activePartLists[r];e||(this.activePartLists[r]=e=[]),e.push(a)}this.timeRanges=s,Object.keys(s).forEach((e=>{const t=s[e];this.detectEvictedFragments(e,t,r,a)}))}onFragBuffered(e,t){this.detectPartialFragments(t)}hasFragment(e){const t=dy(e);return!!this.fragments[t]}hasParts(e){var t;return!(null==(t=this.activePartLists[e])||!t.length)}removeFragmentsInRange(e,t,i,a,s){a&&!this.hasGaps||Object.keys(this.fragments).forEach((r=>{const n=this.fragments[r];if(!n)return;const o=n.body;o.type!==i||a&&!o.gap||o.start<t&&o.end>e&&(n.buffered||s)&&this.removeFragment(o)}))}removeFragment(e){const t=dy(e);e.stats.loaded=0,e.clearElementaryStreamInfo();const i=this.activePartLists[e.type];if(i){const t=e.sn;this.activePartLists[e.type]=i.filter((e=>e.fragment.sn!==t))}delete this.fragments[t],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function oy(e){var t,i,a;return e.buffered&&(e.body.gap||(null==(t=e.range.video)?void 0:t.partial)||(null==(i=e.range.audio)?void 0:i.partial)||(null==(a=e.range.audiovideo)?void 0:a.partial))}function dy(e){return`${e.type}_${e.level}_${e.sn}`}const cy={length:0,start:()=>0,end:()=>0};class ly{static isBuffered(e,t){try{if(e){const i=ly.getBuffered(e);for(let e=0;e<i.length;e++)if(t>=i.start(e)&&t<=i.end(e))return!0}}catch(i){}return!1}static bufferInfo(e,t,i){try{if(e){const a=ly.getBuffered(e),s=[];let r;for(r=0;r<a.length;r++)s.push({start:a.start(r),end:a.end(r)});return this.bufferedInfo(s,t,i)}}catch(a){}return{len:0,start:t,end:t,nextStart:void 0}}static bufferedInfo(e,t,i){t=Math.max(0,t),e.sort((function(e,t){const i=e.start-t.start;return i||t.end-e.end}));let a=[];if(i)for(let d=0;d<e.length;d++){const t=a.length;if(t){const s=a[t-1].end;e[d].start-s<i?e[d].end>s&&(a[t-1].end=e[d].end):a.push(e[d])}else a.push(e[d])}else a=e;let s,r=0,n=t,o=t;for(let d=0;d<a.length;d++){const e=a[d].start,c=a[d].end;if(t+i>=e&&t<c)n=e,o=c,r=o-t;else if(t+i<e){s=e;break}}return{len:r,start:n||0,end:o||0,nextStart:s}}static getBuffered(e){try{return e.buffered}catch(t){return $u.log("failed to get media.buffered",t),cy}}}class hy{constructor(e,t,i,a=0,s=-1,r=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=e,this.sn=t,this.id=i,this.size=a,this.part=s,this.partial=r}}function py(e,t){for(let a=0,s=e.length;a<s;a++){var i;if((null==(i=e[a])?void 0:i.cc)===t)return e[a]}return null}function gy(e,t){if(e){const i=e.start+t;e.start=e.startPTS=i,e.endPTS=i+e.duration}}function uy(e,t){const i=t.fragments;for(let a=0,s=i.length;a<s;a++)gy(i[a],e);t.fragmentHint&&gy(t.fragmentHint,e),t.alignedSliding=!0}function fy(e,t,i){t&&(!function(e,t,i){if(function(e,t,i){return!(!t||!(i.endCC>i.startCC||e&&e.cc<i.startCC))}(e,i,t)){const e=function(e,t){const i=e.fragments,a=t.fragments;if(!a.length||!i.length)return void $u.log("No fragments to align");const s=py(i,a[0].cc);if(s&&(!s||s.startPTS))return s;$u.log("No frag in previous level to align on")}(i,t);e&&Pu(e.start)&&($u.log(`Adjusting PTS using last level due to CC increase within current level ${t.url}`),uy(e.start,t))}}(e,i,t),!i.alignedSliding&&t&&my(i,t),i.alignedSliding||!t||i.skippedSegments||xv(t,i))}function my(e,t){if(!e.hasProgramDateTime||!t.hasProgramDateTime)return;const i=e.fragments,a=t.fragments;if(!i.length||!a.length)return;let s,r;const n=Math.min(t.endCC,e.endCC);t.startCC<n&&e.startCC<n&&(s=py(a,n),r=py(i,n)),s&&r||(s=a[Math.floor(a.length/2)],r=py(i,s.cc)||i[Math.floor(i.length/2)]);const o=s.programDateTime,d=r.programDateTime;if(!o||!d)return;uy((d-o)/1e3-(r.start-s.start),e)}const vy=Math.pow(2,17);class yy{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,t){const i=e.url;if(!i)return Promise.reject(new xy({type:Au.NETWORK_ERROR,details:Ru.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error("Fragment does not have a "+(i?"part list":"url")),networkDetails:null}));this.abort();const a=this.config,s=a.fLoader,r=a.loader;return new Promise(((n,o)=>{if(this.loader&&this.loader.destroy(),e.gap){if(e.tagList.some((e=>"GAP"===e[0])))return void o(wy(e));e.gap=!1}const d=this.loader=e.loader=s?new s(a):new r(a),c=by(e),l=Tv(a.fragLoadPolicy.default),h={loadPolicy:l,timeout:l.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===e.sn?1/0:vy};e.stats=d.stats,d.load(c,h,{onSuccess:(t,i,a,s)=>{this.resetLoader(e,d);let r=t.data;a.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(r.slice(0,16)),r=r.slice(16)),n({frag:e,part:null,payload:r,networkDetails:s})},onError:(t,a,s,r)=>{this.resetLoader(e,d),o(new xy({type:Au.NETWORK_ERROR,details:Ru.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:ku({url:i,data:void 0},t),error:new Error(`HTTP Error ${t.code} ${t.text}`),networkDetails:s,stats:r}))},onAbort:(t,i,a)=>{this.resetLoader(e,d),o(new xy({type:Au.NETWORK_ERROR,details:Ru.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:a,stats:t}))},onTimeout:(t,i,a)=>{this.resetLoader(e,d),o(new xy({type:Au.NETWORK_ERROR,details:Ru.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${h.timeout}ms`),networkDetails:a,stats:t}))},onProgress:(i,a,s,r)=>{t&&t({frag:e,part:null,payload:s,networkDetails:r})}})}))}loadPart(e,t,i){this.abort();const a=this.config,s=a.fLoader,r=a.loader;return new Promise(((n,o)=>{if(this.loader&&this.loader.destroy(),e.gap||t.gap)return void o(wy(e,t));const d=this.loader=e.loader=s?new s(a):new r(a),c=by(e,t),l=Tv(a.fragLoadPolicy.default),h={loadPolicy:l,timeout:l.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:vy};t.stats=d.stats,d.load(c,h,{onSuccess:(a,s,r,o)=>{this.resetLoader(e,d),this.updateStatsFromPart(e,t);const c={frag:e,part:t,payload:a.data,networkDetails:o};i(c),n(c)},onError:(i,a,s,r)=>{this.resetLoader(e,d),o(new xy({type:Au.NETWORK_ERROR,details:Ru.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:ku({url:c.url,data:void 0},i),error:new Error(`HTTP Error ${i.code} ${i.text}`),networkDetails:s,stats:r}))},onAbort:(i,a,s)=>{e.stats.aborted=t.stats.aborted,this.resetLoader(e,d),o(new xy({type:Au.NETWORK_ERROR,details:Ru.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,error:new Error("Aborted"),networkDetails:s,stats:i}))},onTimeout:(i,a,s)=>{this.resetLoader(e,d),o(new xy({type:Au.NETWORK_ERROR,details:Ru.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,error:new Error(`Timeout after ${h.timeout}ms`),networkDetails:s,stats:i}))}})}))}updateStatsFromPart(e,t){const i=e.stats,a=t.stats,s=a.total;if(i.loaded+=a.loaded,s){const a=Math.round(e.duration/t.duration),r=Math.min(Math.round(i.loaded/s),a),n=(a-r)*Math.round(i.loaded/r);i.total=i.loaded+n}else i.total=Math.max(i.loaded,i.total);const r=i.loading,n=a.loading;r.start?r.first+=n.first-n.start:(r.start=n.start,r.first=n.first),r.end=n.end}resetLoader(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()}}function by(e,t=null){const i=t||e,a={frag:e,part:t,responseType:"arraybuffer",url:i.url,headers:{},rangeStart:0,rangeEnd:0},s=i.byteRangeStartOffset,r=i.byteRangeEndOffset;if(Pu(s)&&Pu(r)){var n;let t=s,i=r;if("initSegment"===e.sn&&"AES-128"===(null==(n=e.decryptdata)?void 0:n.method)){const e=r-s;e%16&&(i=r+(16-e%16)),0!==s&&(a.resetIV=!0,t=s-16)}a.rangeStart=t,a.rangeEnd=i}return a}function wy(e,t){const i=new Error(`GAP ${e.gap?"tag":"attribute"} found`),a={type:Au.MEDIA_ERROR,details:Ru.FRAG_GAP,fatal:!1,frag:e,error:i,networkDetails:null};return t&&(a.part=t),(t||e).stats.aborted=!0,new xy(a)}class xy extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class ky{constructor(e,t){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=t}decrypt(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)}}class Sy{constructor(e,t){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=t}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}class Cy{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const t=new DataView(e),i=new Uint32Array(4);for(let a=0;a<4;a++)i[a]=t.getUint32(4*a);return i}initTable(){const e=this.sBox,t=this.invSBox,i=this.subMix,a=i[0],s=i[1],r=i[2],n=i[3],o=this.invSubMix,d=o[0],c=o[1],l=o[2],h=o[3],p=new Uint32Array(256);let g=0,u=0,f=0;for(f=0;f<256;f++)p[f]=f<128?f<<1:f<<1^283;for(f=0;f<256;f++){let i=u^u<<1^u<<2^u<<3^u<<4;i=i>>>8^255&i^99,e[g]=i,t[i]=g;const o=p[g],f=p[o],m=p[f];let v=257*p[i]^16843008*i;a[g]=v<<24|v>>>8,s[g]=v<<16|v>>>16,r[g]=v<<8|v>>>24,n[g]=v,v=16843009*m^65537*f^257*o^16843008*g,d[i]=v<<24|v>>>8,c[i]=v<<16|v>>>16,l[i]=v<<8|v>>>24,h[i]=v,g?(g=o^p[p[p[m^o]]],u^=p[p[u]]):g=u=1}}expandKey(e){const t=this.uint8ArrayToUint32Array_(e);let i=!0,a=0;for(;a<t.length&&i;)i=t[a]===this.key[a],a++;if(i)return;this.key=t;const s=this.keySize=t.length;if(4!==s&&6!==s&&8!==s)throw new Error("Invalid aes key size="+s);const r=this.ksRows=4*(s+6+1);let n,o;const d=this.keySchedule=new Uint32Array(r),c=this.invKeySchedule=new Uint32Array(r),l=this.sBox,h=this.rcon,p=this.invSubMix,g=p[0],u=p[1],f=p[2],m=p[3];let v,y;for(n=0;n<r;n++)n<s?v=d[n]=t[n]:(y=v,n%s==0?(y=y<<8|y>>>24,y=l[y>>>24]<<24|l[y>>>16&255]<<16|l[y>>>8&255]<<8|l[255&y],y^=h[n/s|0]<<24):s>6&&n%s==4&&(y=l[y>>>24]<<24|l[y>>>16&255]<<16|l[y>>>8&255]<<8|l[255&y]),d[n]=v=(d[n-s]^y)>>>0);for(o=0;o<r;o++)n=r-o,y=3&o?d[n]:d[n-4],c[o]=o<4||n<=4?y:g[l[y>>>24]]^u[l[y>>>16&255]]^f[l[y>>>8&255]]^m[l[255&y]],c[o]=c[o]>>>0}networkToHostOrderSwap(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}decrypt(e,t,i){const a=this.keySize+6,s=this.invKeySchedule,r=this.invSBox,n=this.invSubMix,o=n[0],d=n[1],c=n[2],l=n[3],h=this.uint8ArrayToUint32Array_(i);let p=h[0],g=h[1],u=h[2],f=h[3];const m=new Int32Array(e),v=new Int32Array(m.length);let y,b,w,x,k,S,C,_,P,L,E,T,A,R;const M=this.networkToHostOrderSwap;for(;t<m.length;){for(P=M(m[t]),L=M(m[t+1]),E=M(m[t+2]),T=M(m[t+3]),k=P^s[0],S=T^s[1],C=E^s[2],_=L^s[3],A=4,R=1;R<a;R++)y=o[k>>>24]^d[S>>16&255]^c[C>>8&255]^l[255&_]^s[A],b=o[S>>>24]^d[C>>16&255]^c[_>>8&255]^l[255&k]^s[A+1],w=o[C>>>24]^d[_>>16&255]^c[k>>8&255]^l[255&S]^s[A+2],x=o[_>>>24]^d[k>>16&255]^c[S>>8&255]^l[255&C]^s[A+3],k=y,S=b,C=w,_=x,A+=4;y=r[k>>>24]<<24^r[S>>16&255]<<16^r[C>>8&255]<<8^r[255&_]^s[A],b=r[S>>>24]<<24^r[C>>16&255]<<16^r[_>>8&255]<<8^r[255&k]^s[A+1],w=r[C>>>24]<<24^r[_>>16&255]<<16^r[k>>8&255]<<8^r[255&S]^s[A+2],x=r[_>>>24]<<24^r[k>>16&255]<<16^r[S>>8&255]<<8^r[255&C]^s[A+3],v[t]=M(y^p),v[t+1]=M(x^g),v[t+2]=M(w^u),v[t+3]=M(b^f),p=P,g=L,u=E,f=T,t+=4}return v.buffer}}class _y{constructor(e,{removePKCS7Padding:t=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=e.enableSoftwareAES,this.removePKCS7Padding=t,t)try{const e=self.crypto;e&&(this.subtle=e.subtle||e.webkitSubtle)}catch(i){}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:t}=this;if(!e||t)return this.reset(),null;const i=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?function(e){const t=e.byteLength,i=t&&new DataView(e.buffer).getUint8(t-1);return i?vf(e,0,t-i):e}(i):i}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,t,i){return this.useSoftware?new Promise(((a,s)=>{this.softwareDecrypt(new Uint8Array(e),t,i);const r=this.flush();r?a(r.buffer):s(new Error("[softwareDecrypt] Failed to decrypt data"))})):this.webCryptoDecrypt(new Uint8Array(e),t,i)}softwareDecrypt(e,t,i){const{currentIV:a,currentResult:s,remainderData:r}=this;this.logOnce("JS AES decrypt"),r&&(e=em(r,e),this.remainderData=null);const n=this.getValidChunk(e);if(!n.length)return null;a&&(i=a);let o=this.softwareDecrypter;o||(o=this.softwareDecrypter=new Cy),o.expandKey(t);const d=s;return this.currentResult=o.decrypt(n.buffer,0,i),this.currentIV=vf(n,-16).buffer,d||null}webCryptoDecrypt(e,t,i){if(this.key!==t||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,t,i));this.key=t,this.fastAesKey=new Sy(this.subtle,t)}return this.fastAesKey.expandKey().then((t=>{if(!this.subtle)return Promise.reject(new Error("web crypto not initialized"));this.logOnce("WebCrypto AES decrypt");return new ky(this.subtle,new Uint8Array(i)).decrypt(e.buffer,t)})).catch((a=>($u.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${a.name}: ${a.message}`),this.onWebCryptoError(e,t,i))))}onWebCryptoError(e,t,i){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,t,i);const a=this.flush();if(a)return a.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(e){let t=e;const i=e.length-e.length%16;return i!==e.length&&(t=vf(e,0,i),this.remainderData=vf(e,i)),t}logOnce(e){this.logEnabled&&($u.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const Py=function(e){let t="";const i=e.length;for(let a=0;a<i;a++)t+=`[${e.start(a).toFixed(3)}-${e.end(a).toFixed(3)}]`;return t},Ly="STOPPED",Ey="IDLE",Ty="KEY_LOADING",Ay="FRAG_LOADING",Ry="FRAG_LOADING_WAITING_RETRY",My="WAITING_TRACK",Dy="PARSING",Iy="PARSED",Oy="ENDED",$y="ERROR",Uy="WAITING_INIT_PTS",jy="WAITING_LEVEL";class Fy extends ty{constructor(e,t,i,a,s){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=Ly,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=s,this.logPrefix=a,this.log=$u.log.bind($u,`${a}:`),this.warn=$u.warn.bind($u,`${a}:`),this.hls=e,this.fragmentLoader=new yy(e.config),this.keyLoader=i,this.fragmentTracker=t,this.config=e.config,this.decrypter=new _y(e.config),e.on(Tu.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;null!=e&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=Ly}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}_streamEnded(e,t){if(t.live||e.nextStart||!e.end||!this.media)return!1;const i=t.partList;if(null!=i&&i.length){const e=i[i.length-1];return ly.isBuffered(this.media,e.start+e.duration/2)}const a=t.fragments[t.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(a)}getLevelDetails(){var e;if(this.levels&&null!==this.levelLastLoaded)return null==(e=this.levelLastLoaded)?void 0:e.details}onMediaAttached(e,t){const i=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),i.addEventListener("seeking",this.onvseeking),i.addEventListener("ended",this.onvended);const a=this.config;this.levels&&a.autoStartLoad&&this.state===Ly&&this.startLoad(a.startPosition)}onMediaDetaching(){const e=this.media;null!=e&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&this.onvseeking&&this.onvended&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:e,fragCurrent:t,media:i,mediaBuffer:a,state:s}=this,r=i?i.currentTime:0,n=ly.bufferInfo(a||i,r,e.maxBufferHole);if(this.log(`media seeking to ${Pu(r)?r.toFixed(3):r}, state: ${s}`),this.state===Oy)this.resetLoadingState();else if(t){const i=e.maxFragLookUpTolerance,a=t.start-i,s=t.start+t.duration+i;if(!n.len||s<n.start||a>n.end){const e=r>s;(r<a||e)&&(e&&t.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),t.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}i&&(this.fragmentTracker.removeFragmentsInRange(r,1/0,this.playlistType,!0),this.lastCurrentTime=r),this.loadedmetadata||n.len||(this.nextLoadPosition=this.startPosition=r),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(e,t){this.startTimeOffset=t.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.hls.off(Tu.MANIFEST_LOADED,this.onManifestLoaded,this),this.stopLoad(),super.onHandlerDestroying(),this.hls=null}onHandlerDestroyed(){this.state=Ly,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,t,i){this._loadFragForPlayback(e,t,i)}_loadFragForPlayback(e,t,i){this._doFragLoad(e,t,i,(t=>{if(this.fragContextChanged(e))return this.warn(`Fragment ${e.sn}${t.part?" p: "+t.part.index:""} of level ${e.level} was dropped during download.`),void this.fragmentTracker.removeFragment(e);e.stats.chunkCount++,this._handleFragmentLoadProgress(t)})).then((t=>{if(!t)return;const i=this.state;this.fragContextChanged(e)?(i===Ay||!this.fragCurrent&&i===Dy)&&(this.fragmentTracker.removeFragment(e),this.state=Ey):("payload"in t&&(this.log(`Loaded fragment ${e.sn} of level ${e.level}`),this.hls.trigger(Tu.FRAG_LOADED,t)),this._handleFragmentLoadComplete(t))})).catch((t=>{this.state!==Ly&&this.state!==$y&&(this.warn(`Frag error: ${(null==t?void 0:t.message)||t}`),this.resetFragmentLoading(e))}))}clearTrackerIfNeeded(e){var t;const{fragmentTracker:i}=this;if(i.getState(e)===ay){const t=e.type,a=this.getFwdBufferInfo(this.mediaBuffer,t),s=Math.max(e.duration,a?a.len:this.config.maxBufferLength),r=this.backtrackFragment;(1===(r?e.sn-r.sn:0)||this.reduceMaxBufferLength(s,e.duration))&&i.removeFragment(e)}else 0===(null==(t=this.mediaBuffer)?void 0:t.buffered.length)?i.removeAllFragments():i.hasParts(e.type)&&(i.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),i.getState(e)===sy&&i.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const t=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}flushMainBuffer(e,t,i=null){if(!(e-t))return;const a={startOffset:e,endOffset:t,type:i};this.hls.trigger(Tu.BUFFER_FLUSHING,a)}_loadInitSegment(e,t){this._doFragLoad(e,t).then((t=>{if(!t||this.fragContextChanged(e)||!this.levels)throw new Error("init load aborted");return t})).then((t=>{const{hls:i}=this,{payload:a}=t,s=e.decryptdata;if(a&&a.byteLength>0&&null!=s&&s.key&&s.iv&&"AES-128"===s.method){const r=self.performance.now();return this.decrypter.decrypt(new Uint8Array(a),s.key.buffer,s.iv.buffer).catch((t=>{throw i.trigger(Tu.ERROR,{type:Au.MEDIA_ERROR,details:Ru.FRAG_DECRYPT_ERROR,fatal:!1,error:t,reason:t.message,frag:e}),t})).then((a=>{const s=self.performance.now();return i.trigger(Tu.FRAG_DECRYPTED,{frag:e,payload:a,stats:{tstart:r,tdecrypt:s}}),t.payload=a,this.completeInitSegmentLoad(t)}))}return this.completeInitSegmentLoad(t)})).catch((t=>{this.state!==Ly&&this.state!==$y&&(this.warn(t),this.resetFragmentLoading(e))}))}completeInitSegmentLoad(e){const{levels:t}=this;if(!t)throw new Error("init load aborted, missing levels");const i=e.frag.stats;this.state=Ey,e.frag.data=new Uint8Array(e.payload),i.parsing.start=i.buffering.start=self.performance.now(),i.parsing.end=i.buffering.end=self.performance.now(),this.tick()}fragContextChanged(e){const{fragCurrent:t}=this;return!e||!t||e.sn!==t.sn||e.level!==t.level}fragBufferedComplete(e,t){var i,a,s,r;const n=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${t?" part: "+t.index:""} of ${this.playlistType===Hm?"level":"track"} ${e.level} (frag:[${(null!=(i=e.startPTS)?i:NaN).toFixed(3)}-${(null!=(a=e.endPTS)?a:NaN).toFixed(3)}] > buffer:${n?Py(ly.getBuffered(n)):"(detached)"})`),"initSegment"!==e.sn){var o;if(e.type!==Gm){const t=e.elementaryStreams;if(!Object.keys(t).some((e=>!!t[e])))return void(this.state=Ey)}const t=null==(o=this.levels)?void 0:o[e.level];null!=t&&t.fragmentError&&(this.log(`Resetting level fragment error count of ${t.fragmentError} on frag buffered`),t.fragmentError=0)}this.state=Ey,n&&(!this.loadedmetadata&&e.type==Hm&&n.buffered.length&&(null==(s=this.fragCurrent)?void 0:s.sn)===(null==(r=this.fragPrevious)?void 0:r.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(e){const{transmuxer:t}=this;if(!t)return;const{frag:i,part:a,partsLoaded:s}=e,r=!s||0===s.length||s.some((e=>!e)),n=new hy(i.level,i.sn,i.stats.chunkCount+1,0,a?a.index:-1,!r);t.flush(n)}_handleFragmentLoadProgress(e){}_doFragLoad(e,t,i=null,a){var s;const r=null==t?void 0:t.details;if(!this.levels||!r)throw new Error(`frag load aborted, missing level${r?"":" detail"}s`);let n=null;if(!e.encrypted||null!=(s=e.decryptdata)&&s.key?!e.encrypted&&r.encryptedFragments.length&&this.keyLoader.loadClear(e,r.encryptedFragments):(this.log(`Loading key for ${e.sn} of [${r.startSN}-${r.endSN}], ${"[stream-controller]"===this.logPrefix?"level":"track"} ${e.level}`),this.state=Ty,this.fragCurrent=e,n=this.keyLoader.load(e).then((e=>{if(!this.fragContextChanged(e.frag))return this.hls.trigger(Tu.KEY_LOADED,e),this.state===Ty&&(this.state=Ey),e})),this.hls.trigger(Tu.KEY_LOADING,{frag:e}),null===this.fragCurrent&&(n=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),i=Math.max(e.start,i||0),this.config.lowLatencyMode&&"initSegment"!==e.sn){const s=r.partList;if(s&&a){i>e.end&&r.fragmentHint&&(e=r.fragmentHint);const o=this.getNextPart(s,e,i);if(o>-1){const d=s[o];let c;return this.log(`Loading part sn: ${e.sn} p: ${d.index} cc: ${e.cc} of playlist [${r.startSN}-${r.endSN}] parts [0-${o}-${s.length-1}] ${"[stream-controller]"===this.logPrefix?"level":"track"}: ${e.level}, target: ${parseFloat(i.toFixed(3))}`),this.nextLoadPosition=d.start+d.duration,this.state=Ay,c=n?n.then((i=>!i||this.fragContextChanged(i.frag)?null:this.doFragPartsLoad(e,d,t,a))).catch((e=>this.handleFragLoadError(e))):this.doFragPartsLoad(e,d,t,a).catch((e=>this.handleFragLoadError(e))),this.hls.trigger(Tu.FRAG_LOADING,{frag:e,part:d,targetBufferTime:i}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):c}if(!e.url||this.loadedEndOfParts(s,i))return Promise.resolve(null)}}this.log(`Loading fragment ${e.sn} cc: ${e.cc} ${r?"of ["+r.startSN+"-"+r.endSN+"] ":""}${"[stream-controller]"===this.logPrefix?"level":"track"}: ${e.level}, target: ${parseFloat(i.toFixed(3))}`),Pu(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=Ay;const o=this.config.progressive;let d;return d=o&&n?n.then((t=>!t||this.fragContextChanged(null==t?void 0:t.frag)?null:this.fragmentLoader.load(e,a))).catch((e=>this.handleFragLoadError(e))):Promise.all([this.fragmentLoader.load(e,o?a:void 0),n]).then((([e])=>(!o&&e&&a&&a(e),e))).catch((e=>this.handleFragLoadError(e))),this.hls.trigger(Tu.FRAG_LOADING,{frag:e,targetBufferTime:i}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):d}doFragPartsLoad(e,t,i,a){return new Promise(((s,r)=>{var n;const o=[],d=null==(n=i.details)?void 0:n.partList,c=t=>{this.fragmentLoader.loadPart(e,t,a).then((a=>{o[t.index]=a;const r=a.part;this.hls.trigger(Tu.FRAG_LOADED,a);const n=Sv(i,e.sn,t.index+1)||Cv(d,e.sn,t.index+1);if(!n)return s({frag:e,part:r,partsLoaded:o});c(n)})).catch(r)};c(t)}))}handleFragLoadError(e){if("data"in e){const t=e.data;e.data&&t.details===Ru.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(Tu.ERROR,t)}else this.hls.trigger(Tu.ERROR,{type:Au.OTHER_ERROR,details:Ru.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const t=this.getCurrentContext(e);if(!t||this.state!==Dy)return void(this.fragCurrent||this.state===Ly||this.state===$y||(this.state=Ey));const{frag:i,part:a,level:s}=t,r=self.performance.now();i.stats.parsing.end=r,a&&(a.stats.parsing.end=r),this.updateLevelTiming(i,a,s,e.partial)}getCurrentContext(e){const{levels:t,fragCurrent:i}=this,{level:a,sn:s,part:r}=e;if(null==t||!t[a])return this.warn(`Levels object was unset while buffering fragment ${s} of level ${a}. The current chunk will not be buffered.`),null;const n=t[a],o=r>-1?Sv(n,s,r):null,d=o?o.fragment:function(e,t,i){if(null==e||!e.details)return null;const a=e.details;let s=a.fragments[t-a.startSN];return s||(s=a.fragmentHint,s&&s.sn===t?s:t<a.startSN&&i&&i.sn===t?i:null)}(n,s,i);return d?(i&&i!==d&&(d.stats=i.stats),{frag:d,part:o,level:n}):null}bufferFragmentData(e,t,i,a,s){var r;if(!e||this.state!==Dy)return;const{data1:n,data2:o}=e;let d=n;if(n&&o&&(d=em(n,o)),null==(r=d)||!r.length)return;const c={type:e.type,frag:t,part:i,chunkMeta:a,parent:t.type,data:d};if(this.hls.trigger(Tu.BUFFER_APPENDING,c),e.dropped&&e.independent&&!i){if(s)return;this.flushBufferGap(t)}}flushBufferGap(e){const t=this.media;if(!t)return;if(!ly.isBuffered(t,t.currentTime))return void this.flushMainBuffer(0,e.start);const i=t.currentTime,a=ly.bufferInfo(t,i,0),s=e.duration,r=Math.min(2*this.config.maxFragLookUpTolerance,.25*s),n=Math.max(Math.min(e.start-r,a.end-r),i+r);e.start-n>r&&this.flushMainBuffer(n,e.start)}getFwdBufferInfo(e,t){const i=this.getLoadPosition();return Pu(i)?this.getFwdBufferInfoAtPos(e,i,t):null}getFwdBufferInfoAtPos(e,t,i){const{config:{maxBufferHole:a}}=this,s=ly.bufferInfo(e,t,a);if(0===s.len&&void 0!==s.nextStart){const r=this.fragmentTracker.getBufferedFrag(t,i);if(r&&s.nextStart<r.end)return ly.bufferInfo(e,t,Math.max(s.nextStart,a))}return s}getMaxBufferLength(e){const{config:t}=this;let i;return i=e?Math.max(8*t.maxBufferSize/e,t.maxBufferLength):t.maxBufferLength,Math.min(i,t.maxMaxBufferLength)}reduceMaxBufferLength(e,t){const i=this.config,a=Math.max(Math.min(e-t,i.maxBufferLength),t),s=Math.max(e-3*t,i.maxMaxBufferLength/2,a);return s>=a&&(i.maxMaxBufferLength=s,this.warn(`Reduce max buffer length to ${s}s`),!0)}getAppendedFrag(e,t=Hm){const i=this.fragmentTracker.getAppendedFrag(e,Hm);return i&&"fragment"in i?i.fragment:i}getNextFragment(e,t){const i=t.fragments,a=i.length;if(!a)return null;const{config:s}=this,r=i[0].start;let n;if(t.live){const o=s.initialLiveManifestSize;if(a<o)return this.warn(`Not enough fragments to start playback (have: ${a}, need: ${o})`),null;(!t.PTSKnown&&!this.startFragRequested&&-1===this.startPosition||e<r)&&(n=this.getInitialLiveFragment(t,i),this.startPosition=this.nextLoadPosition=n?this.hls.liveSyncPosition||n.start:e)}else e<=r&&(n=i[0]);if(!n){const i=s.lowLatencyMode?t.partEnd:t.fragmentEnd;n=this.getFragmentAtPosition(e,i,t)}return this.mapToInitFragWhenRequired(n)}isLoopLoading(e,t){const i=this.fragmentTracker.getState(e);return(i===ry||i===sy&&!!e.gap)&&this.nextLoadPosition>t}getNextFragmentLoopLoading(e,t,i,a,s){const r=e.gap,n=this.getNextFragment(this.nextLoadPosition,t);if(null===n)return n;if(e=n,r&&e&&!e.gap&&i.nextStart){const t=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,i.nextStart,a);if(null!==t&&i.len+t.len>=s)return this.log(`buffer full after gaps in "${a}" playlist starting at sn: ${e.sn}`),null}return e}mapToInitFragWhenRequired(e){return null==e||!e.initSegment||null!=e&&e.initSegment.data||this.bitrateTest?e:e.initSegment}getNextPart(e,t,i){let a=-1,s=!1,r=!0;for(let n=0,o=e.length;n<o;n++){const o=e[n];if(r=r&&!o.independent,a>-1&&i<o.start)break;const d=o.loaded;d?a=-1:(s||o.independent||r)&&o.fragment===t&&(a=n),s=d}return a}loadedEndOfParts(e,t){const i=e[e.length-1];return i&&t>i.start&&i.loaded}getInitialLiveFragment(e,t){const i=this.fragPrevious;let a=null;if(i){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${i.programDateTime}`),a=function(e,t,i){if(null===t||!Array.isArray(e)||!e.length||!Pu(t))return null;if(t<(e[0].programDateTime||0))return null;if(t>=(e[e.length-1].endProgramDateTime||0))return null;i=i||0;for(let a=0;a<e.length;++a){const s=e[a];if(Iv(t,i,s))return s}return null}(t,i.endProgramDateTime,this.config.maxFragLookUpTolerance)),!a){const s=i.sn+1;if(s>=e.startSN&&s<=e.endSN){const r=t[s-e.startSN];i.cc===r.cc&&(a=r,this.log(`Live playlist, switching playlist, load frag with next SN: ${a.sn}`))}a||(a=function(e,t){return Rv(e,(e=>e.cc<t?1:e.cc>t?-1:0))}(t,i.cc),a&&this.log(`Live playlist, switching playlist, load frag with same CC: ${a.sn}`))}}else{const t=this.hls.liveSyncPosition;null!==t&&(a=this.getFragmentAtPosition(t,this.bitrateTest?e.fragmentEnd:e.edge,e))}return a}getFragmentAtPosition(e,t,i){const{config:a}=this;let{fragPrevious:s}=this,{fragments:r,endSN:n}=i;const{fragmentHint:o}=i,{maxFragLookUpTolerance:d}=a,c=i.partList,l=!!(a.lowLatencyMode&&null!=c&&c.length&&o);let h;if(l&&o&&!this.bitrateTest&&(r=r.concat(o),n=o.sn),e<t){h=Mv(s,r,e,e>t-d?0:d)}else h=r[r.length-1];if(h){const e=h.sn-i.startSN,t=this.fragmentTracker.getState(h);if((t===ry||t===sy&&h.gap)&&(s=h),s&&h.sn===s.sn&&(!l||c[0].fragment.sn>h.sn)){if(s&&h.level===s.level){const t=r[e+1];h=h.sn<n&&this.fragmentTracker.getState(t)!==ry?t:null}}}return h}synchronizeToLiveEdge(e){const{config:t,media:i}=this;if(!i)return;const a=this.hls.liveSyncPosition,s=i.currentTime,r=e.fragments[0].start,n=e.edge,o=s>=r-t.maxFragLookUpTolerance&&s<=n;if(null!==a&&i.duration>a&&(s<a||!o)){const r=void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;(!o&&i.readyState<4||s<n-r)&&(this.loadedmetadata||(this.nextLoadPosition=a),i.readyState&&(this.warn(`Playback: ${s.toFixed(3)} is located too far from the end of live sliding playlist: ${n}, reset currentTime to : ${a.toFixed(3)}`),i.currentTime=a))}}alignPlaylists(e,t,i){const a=e.fragments.length;if(!a)return this.warn("No fragments in live playlist"),0;const s=e.fragments[0].start,r=!t,n=e.alignedSliding&&Pu(s);if(r||!n&&!s){const{fragPrevious:s}=this;fy(s,i,e);const r=e.fragments[0].start;return this.log(`Live playlist sliding: ${r.toFixed(2)} start-sn: ${t?t.startSN:"na"}->${e.startSN} prev-sn: ${s?s.sn:"na"} fragments: ${a}`),r}return s}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,3*e.partTarget)}setStartPosition(e,t){let i=this.startPosition;if(i<t&&(i=-1),-1===i||-1===this.lastCurrentTime){const a=null!==this.startTimeOffset,s=a?this.startTimeOffset:e.startTimeOffset;null!==s&&Pu(s)?(i=t+s,s<0&&(i+=e.totalduration),i=Math.min(Math.max(t,i),t+e.totalduration),this.log(`Start time offset ${s} found in ${a?"multivariant":"media"} playlist, adjust startPosition to ${i}`),this.startPosition=i):e.live?i=this.hls.liveSyncPosition||t:this.startPosition=i=0,this.lastCurrentTime=i}this.nextLoadPosition=i}getLoadPosition(){const{media:e}=this;let t=0;return this.loadedmetadata&&e?t=e.currentTime:this.nextLoadPosition&&(t=this.nextLoadPosition),t}handleFragLoadAborted(e,t){this.transmuxer&&"initSegment"!==e.sn&&e.stats.aborted&&(this.warn(`Fragment ${e.sn}${t?" part "+t.index:""} of level ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){this.fragCurrent&&(this.fragContextChanged(e)||this.state===Ry)||(this.state=Ey)}onFragmentOrKeyLoadError(e,t){if(t.chunkMeta&&!t.frag){const e=this.getCurrentContext(t.chunkMeta);e&&(t.frag=e.frag)}const i=t.frag;if(!i||i.type!==e||!this.levels)return;var a;if(this.fragContextChanged(i))return void this.warn(`Frag load error must match current frag to retry ${i.url} > ${null==(a=this.fragCurrent)?void 0:a.url}`);const s=t.details===Ru.FRAG_GAP;s&&this.fragmentTracker.fragBuffered(i,!0);const r=t.errorAction,{action:n,retryCount:o=0,retryConfig:d}=r||{};if(r&&n===jv&&d){this.resetStartWhenNotLoaded(this.levelLastLoaded);const a=Ev(d,o);this.warn(`Fragment ${i.sn} of ${e} ${i.level} errored with ${t.details}, retrying loading ${o+1}/${d.maxNumRetry} in ${a}ms`),r.resolved=!0,this.retryDate=self.performance.now()+a,this.state=Ry}else if(d&&r){if(this.resetFragmentErrors(e),!(o<d.maxNumRetry))return void $u.warn(`${t.details} reached or exceeded max retry (${o})`);s||n===Uv||(r.resolved=!0)}else(null==r?void 0:r.action)===$v?this.state=jy:this.state=$y;this.tickImmediate()}reduceLengthAndFlushBuffer(e){if(this.state===Dy||this.state===Iy){const t=e.frag,i=e.parent,a=this.getFwdBufferInfo(this.mediaBuffer,i),s=a&&a.len>.5;s&&this.reduceMaxBufferLength(a.len,(null==t?void 0:t.duration)||10);const r=!s;return r&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${i} buffer`),t&&(this.fragmentTracker.removeFragment(t),this.nextLoadPosition=t.start),this.resetLoadingState(),r}return!1}resetFragmentErrors(e){e===Vm&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==Ly&&(this.state=Ey)}afterBufferFlushed(e,t,i){if(!e)return;const a=ly.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,a,i),this.state===Oy&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=Ey}resetStartWhenNotLoaded(e){if(!this.loadedmetadata){this.startFragRequested=!1;const t=e?e.details:null;null!=t&&t.live?(this.startPosition=-1,this.setStartPosition(t,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.warn(`The loading context changed while buffering fragment ${e.sn} of level ${e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,t,i,a){var s;const r=i.details;if(!r)return void this.warn("level.details undefined");if(!Object.keys(e.elementaryStreams).reduce(((t,s)=>{const n=e.elementaryStreams[s];if(n){const o=n.endPTS-n.startPTS;if(o<=0)return this.warn(`Could not parse fragment ${e.sn} ${s} duration reliably (${o})`),t||!1;const d=a?0:bv(r,e,n.startPTS,n.endPTS,n.startDTS,n.endDTS);return this.hls.trigger(Tu.LEVEL_PTS_UPDATED,{details:r,level:i,drift:d,type:s,frag:e,start:n.startPTS,end:n.endPTS}),!0}return t}),!1)&&null===(null==(s=this.transmuxer)?void 0:s.error)){const t=new Error(`Found no media in fragment ${e.sn} of level ${e.level} resetting transmuxer to fallback to playlist timing`);if(0===i.fragmentError&&(i.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)),this.warn(t.message),this.hls.trigger(Tu.ERROR,{type:Au.MEDIA_ERROR,details:Ru.FRAG_PARSING_ERROR,fatal:!1,error:t,frag:e,reason:`Found no media in msn ${e.sn} of level "${i.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state=Iy,this.hls.trigger(Tu.FRAG_PARSED,{frag:e,part:t})}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(e){"demuxerWorker"===e.event&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(e){const t=this._state;t!==e&&(this._state=e,this.log(`${t}->${e}`))}get state(){return this._state}}class Ny{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:t}=this;let i;return e.length?(i=1===e.length?e[0]:function(e,t){const i=new Uint8Array(t);let a=0;for(let s=0;s<e.length;s++){const t=e[s];i.set(t,a),a+=t.length}return i}(e,t),this.reset(),i):new Uint8Array(0)}reset(){this.chunks.length=0,this.dataLength=0}}function zy(e="",t=9e4){return{type:e,id:-1,pid:-1,inputTimeScale:t,sequenceNumber:-1,samples:[],dropped:0}}class By{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,t,i,a){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,t){return!1}appendFrame(e,t,i){}demux(e,t){this.cachedData&&(e=em(this.cachedData,e),this.cachedData=null);let i,a=wf(e,0),s=a?a.length:0;const r=this._audioTrack,n=this._id3Track,o=a?Sf(a):void 0,d=e.length;for((null===this.basePTS||0===this.frameIndex&&Pu(o))&&(this.basePTS=Hy(o,t,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),a&&a.length>0&&n.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:a,type:ev,duration:Number.POSITIVE_INFINITY});s<d;){if(this.canParse(e,s)){const t=this.appendFrame(r,e,s);t?(this.frameIndex++,this.lastPTS=t.sample.pts,s+=t.length,i=s):s=d}else kf(e,s)?(a=wf(e,s),n.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:a,type:ev,duration:Number.POSITIVE_INFINITY}),s+=a.length,i=s):s++;if(s===d&&i!==d){const t=vf(e,i);this.cachedData?this.cachedData=em(this.cachedData,t):this.cachedData=t}}return{audioTrack:r,videoTrack:zy(),id3Track:n,textTrack:zy()}}demuxSampleAes(e,t,i){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),{audioTrack:this._audioTrack,videoTrack:zy(),id3Track:this._id3Track,textTrack:zy()}}destroy(){}}const Hy=(e,t,i)=>{if(Pu(e))return 90*e;return 9e4*t+(i?9e4*i.baseTime/i.timescale:0)};function Vy(e,t){return 255===e[t]&&240==(246&e[t+1])}function Gy(e,t){return 1&e[t+1]?7:9}function qy(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function Zy(e,t){return t+1<e.length&&Vy(e,t)}function Ky(e,t){if(Zy(e,t)){const i=Gy(e,t);if(t+i>=e.length)return!1;const a=qy(e,t);if(a<=i)return!1;const s=t+a;return s===e.length||Zy(e,s)}return!1}function Wy(e,t,i,a,s){if(!e.samplerate){const r=function(e,t,i,a){let s,r,n,o;const d=navigator.userAgent.toLowerCase(),c=a,l=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];s=1+((192&t[i+2])>>>6);const h=(60&t[i+2])>>>2;if(!(h>l.length-1))return n=(1&t[i+2])<<2,n|=(192&t[i+3])>>>6,$u.log(`manifest codec:${a}, ADTS type:${s}, samplingIndex:${h}`),/firefox/i.test(d)?h>=6?(s=5,o=new Array(4),r=h-3):(s=2,o=new Array(2),r=h):-1!==d.indexOf("android")?(s=2,o=new Array(2),r=h):(s=5,o=new Array(4),a&&(-1!==a.indexOf("mp4a.40.29")||-1!==a.indexOf("mp4a.40.5"))||!a&&h>=6?r=h-3:((a&&-1!==a.indexOf("mp4a.40.2")&&(h>=6&&1===n||/vivaldi/i.test(d))||!a&&1===n)&&(s=2,o=new Array(2)),r=h)),o[0]=s<<3,o[0]|=(14&h)>>1,o[1]|=(1&h)<<7,o[1]|=n<<3,5===s&&(o[1]|=(14&r)>>1,o[2]=(1&r)<<7,o[2]|=8,o[3]=0),{config:o,samplerate:l[h],channelCount:n,codec:"mp4a.40."+s,manifestCodec:c};{const t=new Error(`invalid ADTS sampling index:${h}`);e.emit(Tu.ERROR,Tu.ERROR,{type:Au.MEDIA_ERROR,details:Ru.FRAG_PARSING_ERROR,fatal:!0,error:t,reason:t.message})}}(t,i,a,s);if(!r)return;e.config=r.config,e.samplerate=r.samplerate,e.channelCount=r.channelCount,e.codec=r.codec,e.manifestCodec=r.manifestCodec,$u.log(`parsed codec:${e.codec}, rate:${r.samplerate}, channels:${r.channelCount}`)}}function Yy(e){return 9216e4/e}function Qy(e,t,i,a,s){const r=a+s*Yy(e.samplerate),n=function(e,t){const i=Gy(e,t);if(t+i<=e.length){const a=qy(e,t)-i;if(a>0)return{headerLength:i,frameLength:a}}}(t,i);let o;if(n){const{frameLength:a,headerLength:s}=n,d=s+a,c=Math.max(0,i+d-t.length);c?(o=new Uint8Array(d-s),o.set(t.subarray(i+s,t.length),0)):o=t.subarray(i+s,i+d);const l={unit:o,pts:r};return c||e.samples.push(l),{sample:l,length:d,missing:c}}const d=t.length-i;o=new Uint8Array(d),o.set(t.subarray(i,t.length),0);return{sample:{unit:o,pts:r},length:d,missing:-1}}let Jy=null;const Xy=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],eb=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],tb=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],ib=[0,1,1,4];function ab(e,t,i,a,s){if(i+24>t.length)return;const r=sb(t,i);if(r&&i+r.frameLength<=t.length){const n=a+s*(9e4*r.samplesPerFrame/r.sampleRate),o={unit:t.subarray(i,i+r.frameLength),pts:n,dts:n};return e.config=[],e.channelCount=r.channelCount,e.samplerate=r.sampleRate,e.samples.push(o),{sample:o,length:r.frameLength,missing:0}}}function sb(e,t){const i=e[t+1]>>3&3,a=e[t+1]>>1&3,s=e[t+2]>>4&15,r=e[t+2]>>2&3;if(1!==i&&0!==s&&15!==s&&3!==r){const n=e[t+2]>>1&1,o=e[t+3]>>6,d=1e3*Xy[14*(3===i?3-a:3===a?3:4)+s-1],c=eb[3*(3===i?0:2===i?1:2)+r],l=3===o?1:2,h=tb[i][a],p=ib[a],g=8*h*p,u=Math.floor(h*d/c+n)*p;if(null===Jy){const e=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Jy=e?parseInt(e[1]):0}return!!Jy&&Jy<=87&&2===a&&d>=224e3&&0===o&&(e[t+3]=128|e[t+3]),{sampleRate:c,channelCount:l,frameLength:u,samplesPerFrame:g}}}function rb(e,t){return!(255!==e[t]||224&~e[t+1]||!(6&e[t+1]))}function nb(e,t){return t+1<e.length&&rb(e,t)}function ob(e,t){if(t+1<e.length&&rb(e,t)){const i=4,a=sb(e,t);let s=i;null!=a&&a.frameLength&&(s=a.frameLength);const r=t+s;return r===e.length||nb(e,r)}return!1}const db=/\/emsg[-/]ID3/i;const cb=(e,t)=>{let i=0,a=5;t+=a;const s=new Uint32Array(1),r=new Uint32Array(1),n=new Uint8Array(1);for(;a>0;){n[0]=e[t];const o=Math.min(a,8),d=8-o;r[0]=4278190080>>>24+d<<d,s[0]=(n[0]&r[0])>>d,i=i?i<<o|s[0]:s[0],t+=1,a-=o}return i};class lb extends By{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,t,i,a){super.resetInitSegment(e,t,i,a),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:t,duration:a,inputTimeScale:9e4,dropped:0}}canParse(e,t){return t+64<e.length}appendFrame(e,t,i){const a=hb(e,t,i,this.basePTS,this.frameIndex);if(-1!==a){return{sample:e.samples[e.samples.length-1],length:a,missing:0}}}static probe(e){if(!e)return!1;const t=wf(e,0);if(!t)return!1;const i=t.length;return 11===e[i]&&119===e[i+1]&&void 0!==Sf(t)&&cb(e,i)<16}}function hb(e,t,i,a,s){if(i+8>t.length)return-1;if(11!==t[i]||119!==t[i+1])return-1;const r=t[i+4]>>6;if(r>=3)return-1;const n=[48e3,44100,32e3][r],o=63&t[i+4],d=2*[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][3*o+r];if(i+d>t.length)return-1;const c=t[i+6]>>5;let l=0;2===c?l+=2:(1&c&&1!==c&&(l+=2),4&c&&(l+=2));const h=(t[i+6]<<8|t[i+7])>>12-l&1,p=[2,1,2,3,3,4,4,5][c]+h,g=t[i+5]>>3,u=7&t[i+5],f=new Uint8Array([r<<6|g<<1|u>>2,(3&u)<<6|c<<3|h<<2|o>>4,o<<4&224]),m=a+s*(1536/n*9e4),v=t.subarray(i,i+d);return e.config=f,e.channelCount=p,e.samplerate=n,e.samples.push({unit:v,pts:m}),d}class pb{constructor(){this.VideoSample=null}createVideoSample(e,t,i,a){return{key:e,frame:!1,pts:t,dts:i,units:[],debug:a,length:0}}getLastNalUnit(e){var t;let i,a=this.VideoSample;if(a&&0!==a.units.length||(a=e[e.length-1]),null!=(t=a)&&t.units){const e=a.units;i=e[e.length-1]}return i}pushAccessUnit(e,t){if(e.units.length&&e.frame){if(void 0===e.pts){const i=t.samples,a=i.length;if(!a)return void t.dropped++;{const t=i[a-1];e.pts=t.pts,e.dts=t.dts}}t.samples.push(e)}e.debug.length&&$u.log(e.pts+"/"+e.dts+":"+e.debug)}}class gb{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,t=this.bytesAvailable,i=e.byteLength-t,a=new Uint8Array(4),s=Math.min(4,t);if(0===s)throw new Error("no bytes available");a.set(e.subarray(i,i+s)),this.word=new DataView(a.buffer).getUint32(0),this.bitsAvailable=8*s,this.bytesAvailable-=s}skipBits(e){let t;e=Math.min(e,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(t=(e-=this.bitsAvailable)>>3,e-=t<<3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let t=Math.min(this.bitsAvailable,e);const i=this.word>>>32-t;if(e>32&&$u.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0)this.word<<=t;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return t=e-t,t>0&&this.bitsAvailable?i<<t|this.readBits(t):i}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if(this.word&2147483648>>>e)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return 1===this.readBits(1)}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(e){let t,i=8,a=8;for(let s=0;s<e;s++)0!==a&&(t=this.readEG(),a=(i+t+256)%256),i=0===a?i:a}readSPS(){let e,t,i,a=0,s=0,r=0,n=0;const o=this.readUByte.bind(this),d=this.readBits.bind(this),c=this.readUEG.bind(this),l=this.readBoolean.bind(this),h=this.skipBits.bind(this),p=this.skipEG.bind(this),g=this.skipUEG.bind(this),u=this.skipScalingList.bind(this);o();const f=o();if(d(5),h(3),o(),g(),100===f||110===f||122===f||244===f||44===f||83===f||86===f||118===f||128===f){const e=c();if(3===e&&h(1),g(),g(),h(1),l())for(t=3!==e?8:12,i=0;i<t;i++)l()&&u(i<6?16:64)}g();const m=c();if(0===m)c();else if(1===m)for(h(1),p(),p(),e=c(),i=0;i<e;i++)p();g(),h(1);const v=c(),y=c(),b=d(1);0===b&&h(1),h(1),l()&&(a=c(),s=c(),r=c(),n=c());let w=[1,1];if(l()&&l()){switch(o()){case 1:w=[1,1];break;case 2:w=[12,11];break;case 3:w=[10,11];break;case 4:w=[16,11];break;case 5:w=[40,33];break;case 6:w=[24,11];break;case 7:w=[20,11];break;case 8:w=[32,11];break;case 9:w=[80,33];break;case 10:w=[18,11];break;case 11:w=[15,11];break;case 12:w=[64,33];break;case 13:w=[160,99];break;case 14:w=[4,3];break;case 15:w=[3,2];break;case 16:w=[2,1];break;case 255:w=[o()<<8|o(),o()<<8|o()]}}return{width:Math.ceil(16*(v+1)-2*a-2*s),height:(2-b)*(y+1)*16-(b?2:4)*(r+n),pixelRatio:w}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class ub extends pb{parseAVCPES(e,t,i,a,s){const r=this.parseAVCNALu(e,i.data);let n,o=this.VideoSample,d=!1;i.data=null,o&&r.length&&!e.audFound&&(this.pushAccessUnit(o,e),o=this.VideoSample=this.createVideoSample(!1,i.pts,i.dts,"")),r.forEach((a=>{var r;switch(a.type){case 1:{let t=!1;n=!0;const s=a.data;if(d&&s.length>4){const e=new gb(s).readSliceType();2!==e&&4!==e&&7!==e&&9!==e||(t=!0)}var c;if(t)null!=(c=o)&&c.frame&&!o.key&&(this.pushAccessUnit(o,e),o=this.VideoSample=null);o||(o=this.VideoSample=this.createVideoSample(!0,i.pts,i.dts,"")),o.frame=!0,o.key=t;break}case 5:n=!0,null!=(r=o)&&r.frame&&!o.key&&(this.pushAccessUnit(o,e),o=this.VideoSample=null),o||(o=this.VideoSample=this.createVideoSample(!0,i.pts,i.dts,"")),o.key=!0,o.frame=!0;break;case 6:n=!0,am(a.data,1,i.pts,t.samples);break;case 7:{var l,h;n=!0,d=!0;const t=a.data,i=new gb(t).readSPS();if(!e.sps||e.width!==i.width||e.height!==i.height||(null==(l=e.pixelRatio)?void 0:l[0])!==i.pixelRatio[0]||(null==(h=e.pixelRatio)?void 0:h[1])!==i.pixelRatio[1]){e.width=i.width,e.height=i.height,e.pixelRatio=i.pixelRatio,e.sps=[t],e.duration=s;const a=t.subarray(1,4);let r="avc1.";for(let e=0;e<3;e++){let t=a[e].toString(16);t.length<2&&(t="0"+t),r+=t}e.codec=r}break}case 8:n=!0,e.pps=[a.data];break;case 9:n=!0,e.audFound=!0,o&&this.pushAccessUnit(o,e),o=this.VideoSample=this.createVideoSample(!1,i.pts,i.dts,"");break;case 12:n=!0;break;default:n=!1,o&&(o.debug+="unknown NAL "+a.type+" ")}if(o&&n){o.units.push(a)}})),a&&o&&(this.pushAccessUnit(o,e),this.VideoSample=null)}parseAVCNALu(e,t){const i=t.byteLength;let a=e.naluState||0;const s=a,r=[];let n,o,d,c=0,l=-1,h=0;for(-1===a&&(l=0,h=31&t[0],a=0,c=1);c<i;)if(n=t[c++],a)if(1!==a)if(n)if(1===n){if(o=c-a-1,l>=0){const e={data:t.subarray(l,o),type:h};r.push(e)}else{const i=this.getLastNalUnit(e.samples);i&&(s&&c<=4-s&&i.state&&(i.data=i.data.subarray(0,i.data.byteLength-s)),o>0&&(i.data=em(i.data,t.subarray(0,o)),i.state=0))}c<i?(d=31&t[c],l=c,h=d,a=0):a=-1}else a=0;else a=3;else a=n?0:2;else a=n?0:1;if(l>=0&&a>=0){const e={data:t.subarray(l,i),type:h,state:a};r.push(e)}if(0===r.length){const i=this.getLastNalUnit(e.samples);i&&(i.data=em(i.data,t))}return e.naluState=a,r}}class fb{constructor(e,t,i){this.keyData=void 0,this.decrypter=void 0,this.keyData=i,this.decrypter=new _y(t,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(e,t,i){const a=e[t].unit;if(a.length<=16)return;const s=a.subarray(16,a.length-a.length%16),r=s.buffer.slice(s.byteOffset,s.byteOffset+s.length);this.decryptBuffer(r).then((s=>{const r=new Uint8Array(s);a.set(r,16),this.decrypter.isSync()||this.decryptAacSamples(e,t+1,i)}))}decryptAacSamples(e,t,i){for(;;t++){if(t>=e.length)return void i();if(!(e[t].unit.length<32)&&(this.decryptAacSample(e,t,i),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const t=16*Math.floor((e.length-48)/160)+16,i=new Int8Array(t);let a=0;for(let s=32;s<e.length-16;s+=160,a+=16)i.set(e.subarray(s,s+16),a);return i}getAvcDecryptedUnit(e,t){const i=new Uint8Array(t);let a=0;for(let s=32;s<e.length-16;s+=160,a+=16)e.set(i.subarray(a,a+16),s);return e}decryptAvcSample(e,t,i,a,s){const r=sm(s.data),n=this.getAvcEncryptedData(r);this.decryptBuffer(n.buffer).then((n=>{s.data=this.getAvcDecryptedUnit(r,n),this.decrypter.isSync()||this.decryptAvcSamples(e,t,i+1,a)}))}decryptAvcSamples(e,t,i,a){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,i=0){if(t>=e.length)return void a();const s=e[t].units;for(;!(i>=s.length);i++){const r=s[i];if(!(r.data.length<=48||1!==r.type&&5!==r.type||(this.decryptAvcSample(e,t,i,a,r),this.decrypter.isSync())))return}}}}const mb=188;class vb{constructor(e,t,i){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=t,this.typeSupported=i,this.videoParser=new ub}static probe(e){const t=vb.syncOffset(e);return t>0&&$u.warn(`MPEG2-TS detected but first sync word found @ offset ${t}`),-1!==t}static syncOffset(e){const t=e.length;let i=Math.min(940,t-mb)+1,a=0;for(;a<i;){let s=!1,r=-1,n=0;for(let o=a;o<t;o+=mb){if(71!==e[o]||t-o!==mb&&71!==e[o+mb]){if(n)return-1;break}if(n++,-1===r&&(r=o,0!==r&&(i=Math.min(r+18612,e.length-mb)+1)),s||(s=0===yb(e,o)),s&&n>1&&(0===r&&n>2||o+mb>i))return r}a++}return-1}static createTrack(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:jf[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===e?t:void 0}}resetInitSegment(e,t,i,a){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=vb.createTrack("video"),this._audioTrack=vb.createTrack("audio",a),this._id3Track=vb.createTrack("id3"),this._txtTrack=vb.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=t,this.videoCodec=i,this._duration=a}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:t,_id3Track:i}=this;e&&(e.pesData=null),t&&(t.pesData=null),i&&(i.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,t,i=!1,a=!1){let s;i||(this.sampleAes=null);const r=this._videoTrack,n=this._audioTrack,o=this._id3Track,d=this._txtTrack;let c=r.pid,l=r.pesData,h=n.pid,p=o.pid,g=n.pesData,u=o.pesData,f=null,m=this.pmtParsed,v=this._pmtId,y=e.length;if(this.remainderData&&(y=(e=em(this.remainderData,e)).length,this.remainderData=null),y<mb&&!a)return this.remainderData=e,{audioTrack:n,videoTrack:r,id3Track:o,textTrack:d};const b=Math.max(0,vb.syncOffset(e));y-=(y-b)%mb,y<e.byteLength&&!a&&(this.remainderData=new Uint8Array(e.buffer,y,e.buffer.byteLength-y));let w=0;for(let k=b;k<y;k+=mb)if(71===e[k]){const t=!!(64&e[k+1]),a=yb(e,k);let y;if((48&e[k+3])>>4>1){if(y=k+5+e[k+4],y===k+mb)continue}else y=k+4;switch(a){case c:t&&(l&&(s=Sb(l))&&this.videoParser.parseAVCPES(r,d,s,!1,this._duration),l={data:[],size:0}),l&&(l.data.push(e.subarray(y,k+mb)),l.size+=k+mb-y);break;case h:if(t){if(g&&(s=Sb(g)))switch(n.segmentCodec){case"aac":this.parseAACPES(n,s);break;case"mp3":this.parseMPEGPES(n,s);break;case"ac3":this.parseAC3PES(n,s)}g={data:[],size:0}}g&&(g.data.push(e.subarray(y,k+mb)),g.size+=k+mb-y);break;case p:t&&(u&&(s=Sb(u))&&this.parseID3PES(o,s),u={data:[],size:0}),u&&(u.data.push(e.subarray(y,k+mb)),u.size+=k+mb-y);break;case 0:t&&(y+=e[y]+1),v=this._pmtId=bb(e,y);break;case v:{t&&(y+=e[y]+1);const a=wb(e,y,this.typeSupported,i,this.observer);c=a.videoPid,c>0&&(r.pid=c,r.segmentCodec=a.segmentVideoCodec),h=a.audioPid,h>0&&(n.pid=h,n.segmentCodec=a.segmentAudioCodec),p=a.id3Pid,p>0&&(o.pid=p),null===f||m||($u.warn(`MPEG-TS PMT found at ${k} after unknown PID '${f}'. Backtracking to sync byte @${b} to parse all TS packets.`),f=null,k=b-188),m=this.pmtParsed=!0;break}case 17:case 8191:break;default:f=a}}else w++;w>0&&xb(this.observer,new Error(`Found ${w} TS packet/s that do not start with 0x47`)),r.pesData=l,n.pesData=g,o.pesData=u;const x={audioTrack:n,videoTrack:r,id3Track:o,textTrack:d};return a&&this.extractRemainingSamples(x),x}flush(){const{remainderData:e}=this;let t;return this.remainderData=null,t=e?this.demux(e,-1,!1,!0):{videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(t),this.sampleAes?this.decrypt(t,this.sampleAes):t}extractRemainingSamples(e){const{audioTrack:t,videoTrack:i,id3Track:a,textTrack:s}=e,r=i.pesData,n=t.pesData,o=a.pesData;let d;if(r&&(d=Sb(r))?(this.videoParser.parseAVCPES(i,s,d,!0,this._duration),i.pesData=null):i.pesData=r,n&&(d=Sb(n))){switch(t.segmentCodec){case"aac":this.parseAACPES(t,d);break;case"mp3":this.parseMPEGPES(t,d);break;case"ac3":this.parseAC3PES(t,d)}t.pesData=null}else null!=n&&n.size&&$u.log("last AAC PES packet truncated,might overlap between fragments"),t.pesData=n;o&&(d=Sb(o))?(this.parseID3PES(a,d),a.pesData=null):a.pesData=o}demuxSampleAes(e,t,i){const a=this.demux(e,i,!0,!this.config.progressive),s=this.sampleAes=new fb(this.observer,this.config,t);return this.decrypt(a,s)}decrypt(e,t){return new Promise((i=>{const{audioTrack:a,videoTrack:s}=e;a.samples&&"aac"===a.segmentCodec?t.decryptAacSamples(a.samples,0,(()=>{s.samples?t.decryptAvcSamples(s.samples,0,0,(()=>{i(e)})):i(e)})):s.samples&&t.decryptAvcSamples(s.samples,0,0,(()=>{i(e)}))}))}destroy(){this._duration=0}parseAACPES(e,t){let i=0;const a=this.aacOverFlow;let s,r,n,o=t.data;if(a){this.aacOverFlow=null;const t=a.missing,s=a.sample.unit.byteLength;if(-1===t)o=em(a.sample.unit,o);else{const r=s-t;a.sample.unit.set(o.subarray(0,t),r),e.samples.push(a.sample),i=a.missing}}for(s=i,r=o.length;s<r-1&&!Zy(o,s);s++);if(s!==i){let e;const t=s<r-1;if(e=t?`AAC PES did not start with ADTS header,offset:${s}`:"No ADTS header found in AAC PES",xb(this.observer,new Error(e),t),!t)return}if(Wy(e,this.observer,o,s,this.audioCodec),void 0!==t.pts)n=t.pts;else{if(!a)return void $u.warn("[tsdemuxer]: AAC PES unknown PTS");{const t=Yy(e.samplerate);n=a.sample.pts+t}}let d,c=0;for(;s<r;){if(d=Qy(e,o,s,n,c),s+=d.length,d.missing){this.aacOverFlow=d;break}for(c++;s<r-1&&!Zy(o,s);s++);}}parseMPEGPES(e,t){const i=t.data,a=i.length;let s=0,r=0;const n=t.pts;if(void 0!==n)for(;r<a;)if(nb(i,r)){const t=ab(e,i,r,n,s);if(!t)break;r+=t.length,s++}else r++;else $u.warn("[tsdemuxer]: MPEG PES unknown PTS")}parseAC3PES(e,t){{const i=t.data,a=t.pts;if(void 0===a)return void $u.warn("[tsdemuxer]: AC3 PES unknown PTS");const s=i.length;let r,n=0,o=0;for(;o<s&&(r=hb(e,i,o,a,n++))>0;)o+=r}}parseID3PES(e,t){if(void 0===t.pts)return void $u.warn("[tsdemuxer]: ID3 PES unknown PTS");const i=_u({},t,{type:this._videoTrack?iv:ev,duration:Number.POSITIVE_INFINITY});e.samples.push(i)}}function yb(e,t){return((31&e[t+1])<<8)+e[t+2]}function bb(e,t){return(31&e[t+10])<<8|e[t+11]}function wb(e,t,i,a,s){const r={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},n=t+3+((15&e[t+1])<<8|e[t+2])-4;for(t+=12+((15&e[t+10])<<8|e[t+11]);t<n;){const n=yb(e,t),o=(15&e[t+3])<<8|e[t+4];switch(e[t]){case 207:if(!a){kb("ADTS AAC");break}case 15:-1===r.audioPid&&(r.audioPid=n);break;case 21:-1===r.id3Pid&&(r.id3Pid=n);break;case 219:if(!a){kb("H.264");break}case 27:-1===r.videoPid&&(r.videoPid=n,r.segmentVideoCodec="avc");break;case 3:case 4:i.mpeg||i.mp3?-1===r.audioPid&&(r.audioPid=n,r.segmentAudioCodec="mp3"):$u.log("MPEG audio found, not supported in this browser");break;case 193:if(!a){kb("AC-3");break}case 129:i.ac3?-1===r.audioPid&&(r.audioPid=n,r.segmentAudioCodec="ac3"):$u.log("AC-3 audio found, not supported in this browser");break;case 6:if(-1===r.audioPid&&o>0){let a=t+5,s=o;for(;s>2;){if(106===e[a])!0!==i.ac3?$u.log("AC-3 audio found, not supported in this browser for now"):(r.audioPid=n,r.segmentAudioCodec="ac3");const t=e[a+1]+2;a+=t,s-=t}}break;case 194:case 135:return xb(s,new Error("Unsupported EC-3 in M2TS found")),r;case 36:return xb(s,new Error("Unsupported HEVC in M2TS found")),r}t+=o+5}return r}function xb(e,t,i){$u.warn(`parsing error: ${t.message}`),e.emit(Tu.ERROR,Tu.ERROR,{type:Au.MEDIA_ERROR,details:Ru.FRAG_PARSING_ERROR,fatal:!1,levelRetry:i,error:t,reason:t.message})}function kb(e){$u.log(`${e} with AES-128-CBC encryption found in unencrypted stream`)}function Sb(e){let t,i,a,s,r,n=0;const o=e.data;if(!e||0===e.size)return null;for(;o[0].length<19&&o.length>1;)o[0]=em(o[0],o[1]),o.splice(1,1);t=o[0];if(1===(t[0]<<16)+(t[1]<<8)+t[2]){if(i=(t[4]<<8)+t[5],i&&i>e.size-6)return null;const d=t[7];192&d&&(s=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,64&d?(r=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2,s-r>54e5&&($u.warn(`${Math.round((s-r)/9e4)}s delta between PTS and DTS, align them`),s=r)):r=s),a=t[8];let c=a+9;if(e.size<=c)return null;e.size-=c;const l=new Uint8Array(e.size);for(let e=0,i=o.length;e<i;e++){t=o[e];let i=t.byteLength;if(c){if(c>i){c-=i;continue}t=t.subarray(c),i-=c,c=0}l.set(t,n),n+=i}return i&&(i-=a+3),{data:l,pts:s,dts:r,len:i}}return null}class Cb{static getSilentFrame(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}const _b=Math.pow(2,32)-1;class Pb{static init(){let e;for(e in Pb.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},Pb.types)Pb.types.hasOwnProperty(e)&&(Pb.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const t=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);Pb.HDLR_TYPES={video:t,audio:i};const a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),s=new Uint8Array([0,0,0,0,0,0,0,0]);Pb.STTS=Pb.STSC=Pb.STCO=s,Pb.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Pb.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),Pb.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),Pb.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const r=new Uint8Array([105,115,111,109]),n=new Uint8Array([97,118,99,49]),o=new Uint8Array([0,0,0,1]);Pb.FTYP=Pb.box(Pb.types.ftyp,r,o,r,n),Pb.DINF=Pb.box(Pb.types.dinf,Pb.box(Pb.types.dref,a))}static box(e,...t){let i=8,a=t.length;const s=a;for(;a--;)i+=t[a].byteLength;const r=new Uint8Array(i);for(r[0]=i>>24&255,r[1]=i>>16&255,r[2]=i>>8&255,r[3]=255&i,r.set(e,4),a=0,i=8;a<s;a++)r.set(t[a],i),i+=t[a].byteLength;return r}static hdlr(e){return Pb.box(Pb.types.hdlr,Pb.HDLR_TYPES[e])}static mdat(e){return Pb.box(Pb.types.mdat,e)}static mdhd(e,t){t*=e;const i=Math.floor(t/(_b+1)),a=Math.floor(t%(_b+1));return Pb.box(Pb.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,a>>24,a>>16&255,a>>8&255,255&a,85,196,0,0]))}static mdia(e){return Pb.box(Pb.types.mdia,Pb.mdhd(e.timescale,e.duration),Pb.hdlr(e.type),Pb.minf(e))}static mfhd(e){return Pb.box(Pb.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))}static minf(e){return"audio"===e.type?Pb.box(Pb.types.minf,Pb.box(Pb.types.smhd,Pb.SMHD),Pb.DINF,Pb.stbl(e)):Pb.box(Pb.types.minf,Pb.box(Pb.types.vmhd,Pb.VMHD),Pb.DINF,Pb.stbl(e))}static moof(e,t,i){return Pb.box(Pb.types.moof,Pb.mfhd(e),Pb.traf(i,t))}static moov(e){let t=e.length;const i=[];for(;t--;)i[t]=Pb.trak(e[t]);return Pb.box.apply(null,[Pb.types.moov,Pb.mvhd(e[0].timescale,e[0].duration)].concat(i).concat(Pb.mvex(e)))}static mvex(e){let t=e.length;const i=[];for(;t--;)i[t]=Pb.trex(e[t]);return Pb.box.apply(null,[Pb.types.mvex,...i])}static mvhd(e,t){t*=e;const i=Math.floor(t/(_b+1)),a=Math.floor(t%(_b+1)),s=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,a>>24,a>>16&255,a>>8&255,255&a,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return Pb.box(Pb.types.mvhd,s)}static sdtp(e){const t=e.samples||[],i=new Uint8Array(4+t.length);let a,s;for(a=0;a<t.length;a++)s=t[a].flags,i[a+4]=s.dependsOn<<4|s.isDependedOn<<2|s.hasRedundancy;return Pb.box(Pb.types.sdtp,i)}static stbl(e){return Pb.box(Pb.types.stbl,Pb.stsd(e),Pb.box(Pb.types.stts,Pb.STTS),Pb.box(Pb.types.stsc,Pb.STSC),Pb.box(Pb.types.stsz,Pb.STSZ),Pb.box(Pb.types.stco,Pb.STCO))}static avc1(e){let t,i,a,s=[],r=[];for(t=0;t<e.sps.length;t++)i=e.sps[t],a=i.byteLength,s.push(a>>>8&255),s.push(255&a),s=s.concat(Array.prototype.slice.call(i));for(t=0;t<e.pps.length;t++)i=e.pps[t],a=i.byteLength,r.push(a>>>8&255),r.push(255&a),r=r.concat(Array.prototype.slice.call(i));const n=Pb.box(Pb.types.avcC,new Uint8Array([1,s[3],s[4],s[5],255,224|e.sps.length].concat(s).concat([e.pps.length]).concat(r))),o=e.width,d=e.height,c=e.pixelRatio[0],l=e.pixelRatio[1];return Pb.box(Pb.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,o>>8&255,255&o,d>>8&255,255&d,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),n,Pb.box(Pb.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),Pb.box(Pb.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,l>>24,l>>16&255,l>>8&255,255&l])))}static esds(e){const t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))}static audioStsd(e){const t=e.samplerate;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,t>>8&255,255&t,0,0])}static mp4a(e){return Pb.box(Pb.types.mp4a,Pb.audioStsd(e),Pb.box(Pb.types.esds,Pb.esds(e)))}static mp3(e){return Pb.box(Pb.types[".mp3"],Pb.audioStsd(e))}static ac3(e){return Pb.box(Pb.types["ac-3"],Pb.audioStsd(e),Pb.box(Pb.types.dac3,e.config))}static stsd(e){return"audio"===e.type?"mp3"===e.segmentCodec&&"mp3"===e.codec?Pb.box(Pb.types.stsd,Pb.STSD,Pb.mp3(e)):"ac3"===e.segmentCodec?Pb.box(Pb.types.stsd,Pb.STSD,Pb.ac3(e)):Pb.box(Pb.types.stsd,Pb.STSD,Pb.mp4a(e)):Pb.box(Pb.types.stsd,Pb.STSD,Pb.avc1(e))}static tkhd(e){const t=e.id,i=e.duration*e.timescale,a=e.width,s=e.height,r=Math.floor(i/(_b+1)),n=Math.floor(i%(_b+1));return Pb.box(Pb.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,a>>8&255,255&a,0,0,s>>8&255,255&s,0,0]))}static traf(e,t){const i=Pb.sdtp(e),a=e.id,s=Math.floor(t/(_b+1)),r=Math.floor(t%(_b+1));return Pb.box(Pb.types.traf,Pb.box(Pb.types.tfhd,new Uint8Array([0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a])),Pb.box(Pb.types.tfdt,new Uint8Array([1,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,r>>24,r>>16&255,r>>8&255,255&r])),Pb.trun(e,i.length+16+20+8+16+8+8),i)}static trak(e){return e.duration=e.duration||4294967295,Pb.box(Pb.types.trak,Pb.tkhd(e),Pb.mdia(e))}static trex(e){const t=e.id;return Pb.box(Pb.types.trex,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,t){const i=e.samples||[],a=i.length,s=12+16*a,r=new Uint8Array(s);let n,o,d,c,l,h;for(t+=8+s,r.set(["video"===e.type?1:0,0,15,1,a>>>24&255,a>>>16&255,a>>>8&255,255&a,t>>>24&255,t>>>16&255,t>>>8&255,255&t],0),n=0;n<a;n++)o=i[n],d=o.duration,c=o.size,l=o.flags,h=o.cts,r.set([d>>>24&255,d>>>16&255,d>>>8&255,255&d,c>>>24&255,c>>>16&255,c>>>8&255,255&c,l.isLeading<<2|l.dependsOn,l.isDependedOn<<6|l.hasRedundancy<<4|l.paddingValue<<1|l.isNonSync,61440&l.degradPrio,15&l.degradPrio,h>>>24&255,h>>>16&255,h>>>8&255,255&h],12+16*n);return Pb.box(Pb.types.trun,r)}static initSegment(e){Pb.types||Pb.init();const t=Pb.moov(e);return em(Pb.FTYP,t)}}Pb.types=void 0,Pb.HDLR_TYPES=void 0,Pb.STTS=void 0,Pb.STSC=void 0,Pb.STCO=void 0,Pb.STSZ=void 0,Pb.VMHD=void 0,Pb.SMHD=void 0,Pb.STSD=void 0,Pb.FTYP=void 0,Pb.DINF=void 0;function Lb(e,t,i=1,a=!1){const s=e*t*i;return a?Math.round(s):s}function Eb(e,t=!1){return Lb(e,1e3,1/9e4,t)}let Tb,Ab=null,Rb=null;class Mb{constructor(e,t,i,a=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=t,this.typeSupported=i,this.ISGenerated=!1,null===Ab){const e=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Ab=e?parseInt(e[1]):0}if(null===Rb){const e=navigator.userAgent.match(/Safari\/(\d+)/i);Rb=e?parseInt(e[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){$u.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e}resetNextTimestamp(){$u.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){$u.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let t=!1;const i=e[0].pts,a=e.reduce(((e,a)=>{let s=a.pts,r=s-e;return r<-4294967296&&(t=!0,s=Db(s,i),r=s-e),r>0?e:s}),i);return t&&$u.debug("PTS rollover detected"),a}remux(e,t,i,a,s,r,n,o){let d,c,l,h,p,g,u=s,f=s;const m=e.pid>-1,v=t.pid>-1,y=t.samples.length,b=e.samples.length>0,w=n&&y>0||y>1;if((!m||b)&&(!v||w)||this.ISGenerated||n){if(this.ISGenerated){var x,k,S,C;const e=this.videoTrackConfig;!e||t.width===e.width&&t.height===e.height&&(null==(x=t.pixelRatio)?void 0:x[0])===(null==(k=e.pixelRatio)?void 0:k[0])&&(null==(S=t.pixelRatio)?void 0:S[1])===(null==(C=e.pixelRatio)?void 0:C[1])||this.resetInitSegment()}else l=this.generateIS(e,t,s,r);const i=this.isVideoContiguous;let a,n=-1;if(w&&(n=function(e){for(let t=0;t<e.length;t++)if(e[t].key)return t;return-1}(t.samples),!i&&this.config.forceKeyFrameOnDiscontinuity))if(g=!0,n>0){$u.warn(`[mp4-remuxer]: Dropped ${n} out of ${y} video samples due to a missing keyframe`);const e=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(n),t.dropped+=n,f+=(t.samples[0].pts-e)/t.inputTimeScale,a=f}else-1===n&&($u.warn(`[mp4-remuxer]: No keyframe found out of ${y} video samples`),g=!1);if(this.ISGenerated){if(b&&w){const i=this.getVideoStartPts(t.samples),a=(Db(e.samples[0].pts,i)-i)/t.inputTimeScale;u+=Math.max(0,a),f+=Math.max(0,-a)}if(b){if(e.samplerate||($u.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),l=this.generateIS(e,t,s,r)),c=this.remuxAudio(e,u,this.isAudioContiguous,r,v||w||o===Vm?f:void 0),w){const a=c?c.endPTS-c.startPTS:0;t.inputTimeScale||($u.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),l=this.generateIS(e,t,s,r)),d=this.remuxVideo(t,f,i,a)}}else w&&(d=this.remuxVideo(t,f,i,0));d&&(d.firstKeyFrame=n,d.independent=-1!==n,d.firstKeyFramePTS=a)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(i.samples.length&&(p=Ib(i,s,this._initPTS,this._initDTS)),a.samples.length&&(h=Ob(a,s,this._initPTS))),{audio:c,video:d,initSegment:l,independent:g,text:h,id3:p}}generateIS(e,t,i,a){const s=e.samples,r=t.samples,n=this.typeSupported,o={},d=this._initPTS;let c,l,h,p=!d||a,g="audio/mp4";if(p&&(c=l=1/0),e.config&&s.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":n.mpeg?(g="audio/mpeg",e.codec=""):n.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3"}o.audio={id:"audio",container:g,codec:e.codec,initSegment:"mp3"===e.segmentCodec&&n.mpeg?new Uint8Array(0):Pb.initSegment([e]),metadata:{channelCount:e.channelCount}},p&&(h=e.inputTimeScale,d&&h===d.timescale?p=!1:c=l=s[0].pts-Math.round(h*i))}if(t.sps&&t.pps&&r.length){if(t.timescale=t.inputTimeScale,o.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:Pb.initSegment([t]),metadata:{width:t.width,height:t.height}},p)if(h=t.inputTimeScale,d&&h===d.timescale)p=!1;else{const e=this.getVideoStartPts(r),t=Math.round(h*i);l=Math.min(l,Db(r[0].dts,e)-t),c=Math.min(c,e-t)}this.videoTrackConfig={width:t.width,height:t.height,pixelRatio:t.pixelRatio}}if(Object.keys(o).length)return this.ISGenerated=!0,p?(this._initPTS={baseTime:c,timescale:h},this._initDTS={baseTime:l,timescale:h}):c=h=void 0,{tracks:o,initPTS:c,timescale:h}}remuxVideo(e,t,i,a){const s=e.inputTimeScale,r=e.samples,n=[],o=r.length,d=this._initPTS;let c,l,h=this.nextAvcDts,p=8,g=this.videoSampleDuration,u=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,m=!1;if(!i||null===h){const e=t*s,a=r[0].pts-Db(r[0].dts,r[0].pts);Ab&&null!==h&&Math.abs(e-a-h)<15e3?i=!0:h=e-a}const v=d.baseTime*s/d.timescale;for(let R=0;R<o;R++){const e=r[R];e.pts=Db(e.pts-v,h),e.dts=Db(e.dts-v,h),e.dts<r[R>0?R-1:R].dts&&(m=!0)}m&&r.sort((function(e,t){const i=e.dts-t.dts,a=e.pts-t.pts;return i||a})),c=r[0].dts,l=r[r.length-1].dts;const y=l-c,b=y?Math.round(y/(o-1)):g||e.inputTimeScale/30;if(i){const e=c-h,i=e>b,a=e<-1;if((i||a)&&(i?$u.warn(`AVC: ${Eb(e,!0)} ms (${e}dts) hole between fragments detected at ${t.toFixed(3)}`):$u.warn(`AVC: ${Eb(-e,!0)} ms (${e}dts) overlapping between fragments detected at ${t.toFixed(3)}`),!a||h>=r[0].pts||Ab)){c=h;const t=r[0].pts-e;if(i)r[0].dts=c,r[0].pts=t;else for(let i=0;i<r.length&&!(r[i].dts>t);i++)r[i].dts-=e,r[i].pts-=e;$u.log(`Video: Initial PTS/DTS adjusted: ${Eb(t,!0)}/${Eb(c,!0)}, delta: ${Eb(e,!0)} ms`)}}c=Math.max(0,c);let w=0,x=0,k=c;for(let R=0;R<o;R++){const e=r[R],t=e.units,i=t.length;let a=0;for(let s=0;s<i;s++)a+=t[s].data.length;x+=a,w+=i,e.length=a,e.dts<k?(e.dts=k,k+=b/4|0||1):k=e.dts,u=Math.min(e.pts,u),f=Math.max(e.pts,f)}l=r[o-1].dts;const S=x+4*w+8;let C;try{C=new Uint8Array(S)}catch(R){return void this.observer.emit(Tu.ERROR,Tu.ERROR,{type:Au.MUX_ERROR,details:Ru.REMUX_ALLOC_ERROR,fatal:!1,error:R,bytes:S,reason:`fail allocating video mdat ${S}`})}const _=new DataView(C.buffer);_.setUint32(0,S),C.set(Pb.types.mdat,4);let P=!1,L=Number.POSITIVE_INFINITY,E=Number.POSITIVE_INFINITY,T=Number.NEGATIVE_INFINITY,A=Number.NEGATIVE_INFINITY;for(let R=0;R<o;R++){const e=r[R],t=e.units;let i,d=0;for(let a=0,s=t.length;a<s;a++){const e=t[a],i=e.data,s=e.data.byteLength;_.setUint32(p,s),p+=4,C.set(i,p),p+=s,d+=4+s}if(R<o-1)g=r[R+1].dts-e.dts,i=r[R+1].pts-e.pts;else{const t=this.config,n=R>0?e.dts-r[R-1].dts:b;if(i=R>0?e.pts-r[R-1].pts:b,t.stretchShortVideoTrack&&null!==this.nextAudioPts){const i=Math.floor(t.maxBufferHole*s),r=(a?u+a*s:this.nextAudioPts)-e.pts;r>i?(g=r-n,g<0?g=n:P=!0,$u.log(`[mp4-remuxer]: It is approximately ${r/90} ms to the next segment; using duration ${g/90} ms for the last video frame.`)):g=n}else g=n}const c=Math.round(e.pts-e.dts);L=Math.min(L,g),T=Math.max(T,g),E=Math.min(E,i),A=Math.max(A,i),n.push(new $b(e.key,g,d,c))}if(n.length)if(Ab){if(Ab<70){const e=n[0].flags;e.dependsOn=2,e.isNonSync=0}}else if(Rb&&A-E<T-L&&b/T<.025&&0===n[0].cts){$u.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let e=c;for(let t=0,i=n.length;t<i;t++){const a=e+n[t].duration,s=e+n[t].cts;if(t<i-1){const e=a+n[t+1].cts;n[t].duration=e-s}else n[t].duration=t?n[t-1].duration:b;n[t].cts=0,e=a}}g=P||!g?b:g,this.nextAvcDts=h=l+g,this.videoSampleDuration=g,this.isVideoContiguous=!0;const M={data1:Pb.moof(e.sequenceNumber++,c,_u({},e,{samples:n})),data2:C,startPTS:u/s,endPTS:(f+g)/s,startDTS:c/s,endDTS:h/s,type:"video",hasAudio:!1,hasVideo:!0,nb:n.length,dropped:e.dropped};return e.samples=[],e.dropped=0,M}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return 1152;case"ac3":return 1536;default:return 1024}}remuxAudio(e,t,i,a,s){const r=e.inputTimeScale,n=r/(e.samplerate?e.samplerate:r),o=this.getSamplesPerFrame(e),d=o*n,c=this._initPTS,l="mp3"===e.segmentCodec&&this.typeSupported.mpeg,h=[],p=void 0!==s;let g=e.samples,u=l?0:8,f=this.nextAudioPts||-1;const m=t*r,v=c.baseTime*r/c.timescale;if(this.isAudioContiguous=i=i||g.length&&f>0&&(a&&Math.abs(m-f)<9e3||Math.abs(Db(g[0].pts-v,m)-f)<20*d),g.forEach((function(e){e.pts=Db(e.pts-v,m)})),!i||f<0){if(g=g.filter((e=>e.pts>=0)),!g.length)return;f=0===s?0:a&&!p?Math.max(0,m):g[0].pts}if("aac"===e.segmentCodec){const t=this.config.maxAudioFramesDrift;for(let i=0,a=f;i<g.length;i++){const s=g[i],n=s.pts,o=n-a,c=Math.abs(1e3*o/r);if(o<=-t*d&&p)0===i&&($u.warn(`Audio frame @ ${(n/r).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*o/r)} ms.`),this.nextAudioPts=f=a=n);else if(o>=t*d&&c<1e4&&p){let t=Math.round(o/d);a=n-t*d,a<0&&(t--,a+=d),0===i&&(this.nextAudioPts=f=a),$u.warn(`[mp4-remuxer]: Injecting ${t} audio frame @ ${(a/r).toFixed(3)}s due to ${Math.round(1e3*o/r)} ms gap.`);for(let r=0;r<t;r++){const t=Math.max(a,0);let r=Cb.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);r||($u.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),r=s.unit.subarray()),g.splice(i,0,{unit:r,pts:t}),a+=d,i++}}s.pts=a,a+=d}}let y,b=null,w=null,x=0,k=g.length;for(;k--;)x+=g[k].unit.byteLength;for(let T=0,A=g.length;T<A;T++){const t=g[T],a=t.unit;let s=t.pts;if(null!==w){h[T-1].duration=Math.round((s-w)/n)}else{if(i&&"aac"===e.segmentCodec&&(s=f),b=s,!(x>0))return;x+=u;try{y=new Uint8Array(x)}catch(R){return void this.observer.emit(Tu.ERROR,Tu.ERROR,{type:Au.MUX_ERROR,details:Ru.REMUX_ALLOC_ERROR,fatal:!1,error:R,bytes:x,reason:`fail allocating audio mdat ${x}`})}if(!l){new DataView(y.buffer).setUint32(0,x),y.set(Pb.types.mdat,4)}}y.set(a,u);const r=a.byteLength;u+=r,h.push(new $b(!0,o,r,0)),w=s}const S=h.length;if(!S)return;const C=h[h.length-1];this.nextAudioPts=f=w+n*C.duration;const _=l?new Uint8Array(0):Pb.moof(e.sequenceNumber++,b/n,_u({},e,{samples:h}));e.samples=[];const P=b/r,L=f/r,E={data1:_,data2:y,startPTS:P,endPTS:L,startDTS:P,endDTS:L,type:"audio",hasAudio:!0,hasVideo:!1,nb:S};return this.isAudioContiguous=!0,E}remuxEmptyAudio(e,t,i,a){const s=e.inputTimeScale,r=s/(e.samplerate?e.samplerate:s),n=this.nextAudioPts,o=this._initDTS,d=9e4*o.baseTime/o.timescale,c=(null!==n?n:a.startDTS*s)+d,l=a.endDTS*s+d,h=1024*r,p=Math.ceil((l-c)/h),g=Cb.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if($u.warn("[mp4-remuxer]: remux empty Audio"),!g)return void $u.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");const u=[];for(let f=0;f<p;f++){const e=c+f*h;u.push({unit:g,pts:e,dts:e})}return e.samples=u,this.remuxAudio(e,t,i,!1)}}function Db(e,t){let i;if(null===t)return e;for(i=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=i;return e}function Ib(e,t,i,a){const s=e.samples.length;if(!s)return;const r=e.inputTimeScale;for(let o=0;o<s;o++){const s=e.samples[o];s.pts=Db(s.pts-i.baseTime*r/i.timescale,t*r)/r,s.dts=Db(s.dts-a.baseTime*r/a.timescale,t*r)/r}const n=e.samples;return e.samples=[],{samples:n}}function Ob(e,t,i){const a=e.samples.length;if(!a)return;const s=e.inputTimeScale;for(let n=0;n<a;n++){const a=e.samples[n];a.pts=Db(a.pts-i.baseTime*s/i.timescale,t*s)/s}e.samples.sort(((e,t)=>e.pts-t.pts));const r=e.samples;return e.samples=[],{samples:r}}class $b{constructor(e,t,i,a){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=t,this.size=i,this.cts=a,this.flags={isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:e?2:1,isNonSync:e?0:1}}}function Ub(e,t){const i=null==e?void 0:e.codec;if(i&&i.length>4)return i;if(t===Hu){if("ec-3"===i||"ac-3"===i||"alac"===i)return i;if("fLaC"===i||"Opus"===i){return Cm(i,!1)}const e="mp4a.40.5";return $u.info(`Parsed audio codec "${i}" or audio object type not handled. Using "${e}"`),e}return $u.warn(`Unhandled video codec "${i}"`),"hvc1"===i||"hev1"===i?"hvc1.1.6.L120.90":"av01"===i?"av01.0.04M.08":"avc1.42e01e"}try{Tb=self.performance.now.bind(self.performance)}catch(R){$u.debug("Unable to use Performance API on this environment"),Tb=null==Xu?void 0:Xu.Date.now}const jb=[{demux:class{constructor(e,t){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=t}resetTimeStamp(){}resetInitSegment(e,t,i,a){const s=this.videoTrack=zy("video",1),r=this.audioTrack=zy("audio",1),n=this.txtTrack=zy("text",1);if(this.id3Track=zy("id3",1),this.timeOffset=0,null==e||!e.byteLength)return;const o=Zf(e);if(o.video){const{id:e,timescale:t,codec:i}=o.video;s.id=e,s.timescale=n.timescale=t,s.codec=i}if(o.audio){const{id:e,timescale:t,codec:i}=o.audio;r.id=e,r.timescale=t,r.codec=i}n.id=jf.text,s.sampleDuration=0,s.duration=r.duration=a}resetContiguity(){this.remainderData=null}static probe(e){return function(e){const t=e.byteLength;for(let i=0;i<t;){const a=zf(e,i);if(a>8&&109===e[i+4]&&111===e[i+5]&&111===e[i+6]&&102===e[i+7])return!0;i=a>1?i+a:t}return!1}(e)}demux(e,t){this.timeOffset=t;let i=e;const a=this.videoTrack,s=this.txtTrack;if(this.config.progressive){this.remainderData&&(i=em(this.remainderData,e));const t=function(e){const t={valid:null,remainder:null},i=Gf(e,["moof"]);if(i.length<2)return t.remainder=e,t;const a=i[i.length-1];return t.valid=vf(e,0,a.byteOffset-8),t.remainder=vf(e,a.byteOffset-8),t}(i);this.remainderData=t.remainder,a.samples=t.valid||new Uint8Array}else a.samples=i;const r=this.extractID3Track(a,t);return s.samples=tm(t,a),{videoTrack:a,audioTrack:this.audioTrack,id3Track:r,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,t=this.videoTrack,i=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;const a=this.extractID3Track(t,this.timeOffset);return i.samples=tm(e,t),{videoTrack:t,audioTrack:zy(),id3Track:a,textTrack:zy()}}extractID3Track(e,t){const i=this.id3Track;if(e.samples.length){const a=Gf(e.samples,["emsg"]);a&&a.forEach((e=>{const a=function(e){const t=e[0];let i="",a="",s=0,r=0,n=0,o=0,d=0,c=0;if(0===t){for(;"\0"!==Ff(e.subarray(c,c+1));)i+=Ff(e.subarray(c,c+1)),c+=1;for(i+=Ff(e.subarray(c,c+1)),c+=1;"\0"!==Ff(e.subarray(c,c+1));)a+=Ff(e.subarray(c,c+1)),c+=1;a+=Ff(e.subarray(c,c+1)),c+=1,s=zf(e,12),r=zf(e,16),o=zf(e,20),d=zf(e,24),c=28}else if(1===t){c+=4,s=zf(e,c),c+=4;const t=zf(e,c);c+=4;const r=zf(e,c);for(c+=4,n=2**32*t+r,Lu(n)||(n=Number.MAX_SAFE_INTEGER,$u.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),o=zf(e,c),c+=4,d=zf(e,c),c+=4;"\0"!==Ff(e.subarray(c,c+1));)i+=Ff(e.subarray(c,c+1)),c+=1;for(i+=Ff(e.subarray(c,c+1)),c+=1;"\0"!==Ff(e.subarray(c,c+1));)a+=Ff(e.subarray(c,c+1)),c+=1;a+=Ff(e.subarray(c,c+1)),c+=1}return{schemeIdUri:i,value:a,timeScale:s,presentationTime:n,presentationTimeDelta:r,eventDuration:o,id:d,payload:e.subarray(c,e.byteLength)}}(e);if(db.test(a.schemeIdUri)){const e=Pu(a.presentationTime)?a.presentationTime/a.timeScale:t+a.presentationTimeDelta/a.timeScale;let s=4294967295===a.eventDuration?Number.POSITIVE_INFINITY:a.eventDuration/a.timeScale;s<=.001&&(s=Number.POSITIVE_INFINITY);const r=a.payload;i.samples.push({data:r,len:r.byteLength,dts:e,pts:e,type:iv,duration:s})}}))}return i}demuxSampleAes(e,t,i){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}},remux:class{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(e){this.initPTS=e,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(e,t,i,a){this.audioCodec=t,this.videoCodec=i,this.generateInitSegment(function(e,t){if(!e||!t)return e;const i=t.keyId;i&&t.isCommonEncryption&&Gf(e,["moov","trak"]).forEach((e=>{const t=Gf(e,["mdia","minf","stbl","stsd"])[0].subarray(8);let a=Gf(t,["enca"]);const s=a.length>0;s||(a=Gf(t,["encv"])),a.forEach((e=>{Gf(s?e.subarray(28):e.subarray(78),["sinf"]).forEach((e=>{const t=Jf(e);if(t){const e=t.subarray(8,24);e.some((e=>0!==e))||($u.log(`[eme] Patching keyId in 'enc${s?"a":"v"}>sinf>>tenc' box: ${Of(e)} -> ${Of(i)}`),t.set(i,8))}}))}))}));return e}(e,a)),this.emitInitSegment=!0}generateInitSegment(e){let{audioCodec:t,videoCodec:i}=this;if(null==e||!e.byteLength)return this.initTracks=void 0,void(this.initData=void 0);const a=this.initData=Zf(e);a.audio&&(t=Ub(a.audio,Hu)),a.video&&(i=Ub(a.video,Vu));const s={};a.audio&&a.video?s.audiovideo={container:"video/mp4",codec:t+","+i,initSegment:e,id:"main"}:a.audio?s.audio={container:"audio/mp4",codec:t,initSegment:e,id:"audio"}:a.video?s.video={container:"video/mp4",codec:i,initSegment:e,id:"main"}:$u.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=s}remux(e,t,i,a,s,r){var n,o;let{initPTS:d,lastEndTime:c}=this;const l={audio:void 0,video:void 0,text:a,id3:i,initSegment:void 0};Pu(c)||(c=this.lastEndTime=s||0);const h=t.samples;if(null==h||!h.length)return l;const p={initPTS:void 0,timescale:1};let g=this.initData;if(null!=(n=g)&&n.length||(this.generateInitSegment(h),g=this.initData),null==(o=g)||!o.length)return $u.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),l;this.emitInitSegment&&(p.tracks=this.initTracks,this.emitInitSegment=!1);const u=function(e,t){let i=0,a=0,s=0;const r=Gf(e,["moof","traf"]);for(let n=0;n<r.length;n++){const e=r[n],o=Gf(e,["tfhd"])[0],d=t[zf(o,4)];if(!d)continue;const c=d.default,l=zf(o,0)|(null==c?void 0:c.flags);let h=null==c?void 0:c.duration;8&l&&(h=zf(o,2&l?12:8));const p=d.timescale||9e4,g=Gf(e,["trun"]);for(let t=0;t<g.length;t++)i=Xf(g[t]),!i&&h&&(i=h*zf(g[t],4)),d.type===Vu?a+=i/p:d.type===Hu&&(s+=i/p)}if(0===a&&0===s){let t=1/0,i=0,a=0;const s=Gf(e,["sidx"]);for(let e=0;e<s.length;e++){const r=qf(s[e]);if(null!=r&&r.references){t=Math.min(t,r.earliestPresentationTime/r.timescale);const e=r.references.reduce(((e,t)=>e+t.info.duration||0),0);i=Math.max(i,e+r.earliestPresentationTime/r.timescale),a=i-t}}if(a&&Pu(a))return a}return a||s}(h,g),f=function(e,t){return Gf(t,["moof","traf"]).reduce(((t,i)=>{const a=Gf(i,["tfdt"])[0],s=a[0],r=Gf(i,["tfhd"]).reduce(((t,i)=>{const r=zf(i,4),n=e[r];if(n){let e=zf(a,4);if(1===s){if(e===$f)return $u.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),t;e*=$f+1,e+=zf(a,8)}const i=e/(n.timescale||9e4);if(Pu(i)&&(null===t||i<t))return i}return t}),null);return null!==r&&Pu(r)&&(null===t||r<t)?r:t}),null)}(g,h),m=null===f?s:f;(function(e,t,i,a){if(null===e)return!0;const s=Math.max(a,1),r=t-e.baseTime/e.timescale;return Math.abs(r-i)>s}(d,m,s,u)||p.timescale!==d.timescale&&r)&&(p.initPTS=m-s,d&&1===d.timescale&&$u.warn("Adjusting initPTS by "+(p.initPTS-d.baseTime)),this.initPTS=d={baseTime:p.initPTS,timescale:1});const v=e?m-d.baseTime/d.timescale:c,y=v+u;!function(e,t,i){Gf(t,["moof","traf"]).forEach((t=>{Gf(t,["tfhd"]).forEach((a=>{const s=zf(a,4),r=e[s];if(!r)return;const n=r.timescale||9e4;Gf(t,["tfdt"]).forEach((e=>{const t=e[0],a=i*n;if(a){let i=zf(e,4);if(0===t)i-=a,i=Math.max(i,0),Vf(e,4,i);else{i*=Math.pow(2,32),i+=zf(e,8),i-=a,i=Math.max(i,0);const t=Math.floor(i/($f+1)),s=Math.floor(i%($f+1));Vf(e,4,t),Vf(e,8,s)}}}))}))}))}(g,h,d.baseTime/d.timescale),u>0?this.lastEndTime=y:($u.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const b=!!g.audio,w=!!g.video;let x="";b&&(x+="audio"),w&&(x+="video");const k={data1:h,startPTS:v,startDTS:v,endPTS:y,endDTS:y,type:x,hasAudio:b,hasVideo:w,nb:1,dropped:0};return l.audio="audio"===k.type?k:void 0,l.video="audio"!==k.type?k:void 0,l.initSegment=p,l.id3=Ib(i,s,d,d),a.samples.length&&(l.text=Ob(a,s,d)),l}}},{demux:vb,remux:Mb},{demux:class extends By{constructor(e,t){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=t}resetInitSegment(e,t,i,a){super.resetInitSegment(e,t,i,a),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:t,duration:a,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const t=wf(e,0);let i=(null==t?void 0:t.length)||0;if(ob(e,i))return!1;for(let a=e.length;i<a;i++)if(Ky(e,i))return $u.log("ADTS sync word found !"),!0;return!1}canParse(e,t){return function(e,t){return function(e,t){return t+5<e.length}(e,t)&&Vy(e,t)&&qy(e,t)<=e.length-t}(e,t)}appendFrame(e,t,i){Wy(e,this.observer,t,i,e.manifestCodec);const a=Qy(e,t,i,this.basePTS,this.frameIndex);if(a&&0===a.missing)return a}},remux:Mb},{demux:class extends By{resetInitSegment(e,t,i,a){super.resetInitSegment(e,t,i,a),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:t,duration:a,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const t=wf(e,0);let i=(null==t?void 0:t.length)||0;if(t&&11===e[i]&&119===e[i+1]&&void 0!==Sf(t)&&cb(e,i)<=16)return!1;for(let a=e.length;i<a;i++)if(ob(e,i))return $u.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,t){return function(e,t){return rb(e,t)&&4<=e.length-t}(e,t)}appendFrame(e,t,i){if(null!==this.basePTS)return ab(e,t,i,this.basePTS,this.frameIndex)}},remux:Mb}];jb.splice(2,0,{demux:lb,remux:Mb});class Fb{constructor(e,t,i,a,s){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=t,this.config=i,this.vendor=a,this.id=s}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,t,i,a){const s=i.transmuxing;s.executeStart=Tb();let r=new Uint8Array(e);const{currentTransmuxState:n,transmuxConfig:o}=this;a&&(this.currentTransmuxState=a);const{contiguous:d,discontinuity:c,trackSwitch:l,accurateTimeOffset:h,timeOffset:p,initSegmentChange:g}=a||n,{audioCodec:u,videoCodec:f,defaultInitPts:m,duration:v,initSegmentData:y}=o,b=function(e,t){let i=null;e.byteLength>0&&null!=(null==t?void 0:t.key)&&null!==t.iv&&null!=t.method&&(i=t);return i}(r,t);if(b&&"AES-128"===b.method){const e=this.getDecrypter();if(!e.isSync())return this.decryptionPromise=e.webCryptoDecrypt(r,b.key.buffer,b.iv.buffer).then((e=>{const t=this.push(e,null,i);return this.decryptionPromise=null,t})),this.decryptionPromise;{let t=e.softwareDecrypt(r,b.key.buffer,b.iv.buffer);if(i.part>-1&&(t=e.flush()),!t)return s.executeEnd=Tb(),Nb(i);r=new Uint8Array(t)}}const w=this.needsProbing(c,l);if(w){const e=this.configureTransmuxer(r);if(e)return $u.warn(`[transmuxer] ${e.message}`),this.observer.emit(Tu.ERROR,Tu.ERROR,{type:Au.MEDIA_ERROR,details:Ru.FRAG_PARSING_ERROR,fatal:!1,error:e,reason:e.message}),s.executeEnd=Tb(),Nb(i)}(c||l||g||w)&&this.resetInitSegment(y,u,f,v,t),(c||g||w)&&this.resetInitialTimestamp(m),d||this.resetContiguity();const x=this.transmux(r,b,p,h,i),k=this.currentTransmuxState;return k.contiguous=!0,k.discontinuity=!1,k.trackSwitch=!1,s.executeEnd=Tb(),x}flush(e){const t=e.transmuxing;t.executeStart=Tb();const{decrypter:i,currentTransmuxState:a,decryptionPromise:s}=this;if(s)return s.then((()=>this.flush(e)));const r=[],{timeOffset:n}=a;if(i){const t=i.flush();t&&r.push(this.push(t,null,e))}const{demuxer:o,remuxer:d}=this;if(!o||!d)return t.executeEnd=Tb(),[Nb(e)];const c=o.flush(n);return zb(c)?c.then((t=>(this.flushRemux(r,t,e),r))):(this.flushRemux(r,c,e),r)}flushRemux(e,t,i){const{audioTrack:a,videoTrack:s,id3Track:r,textTrack:n}=t,{accurateTimeOffset:o,timeOffset:d}=this.currentTransmuxState;$u.log(`[transmuxer.ts]: Flushed fragment ${i.sn}${i.part>-1?" p: "+i.part:""} of level ${i.level}`);const c=this.remuxer.remux(a,s,r,n,d,o,!0,this.id);e.push({remuxResult:c,chunkMeta:i}),i.transmuxing.executeEnd=Tb()}resetInitialTimestamp(e){const{demuxer:t,remuxer:i}=this;t&&i&&(t.resetTimeStamp(e),i.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:t}=this;e&&t&&(e.resetContiguity(),t.resetNextTimestamp())}resetInitSegment(e,t,i,a,s){const{demuxer:r,remuxer:n}=this;r&&n&&(r.resetInitSegment(e,t,i,a),n.resetInitSegment(e,t,i,s))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,t,i,a,s){let r;return r=t&&"SAMPLE-AES"===t.method?this.transmuxSampleAes(e,t,i,a,s):this.transmuxUnencrypted(e,i,a,s),r}transmuxUnencrypted(e,t,i,a){const{audioTrack:s,videoTrack:r,id3Track:n,textTrack:o}=this.demuxer.demux(e,t,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(s,r,n,o,t,i,!1,this.id),chunkMeta:a}}transmuxSampleAes(e,t,i,a,s){return this.demuxer.demuxSampleAes(e,t,i).then((e=>({remuxResult:this.remuxer.remux(e.audioTrack,e.videoTrack,e.id3Track,e.textTrack,i,a,!1,this.id),chunkMeta:s})))}configureTransmuxer(e){const{config:t,observer:i,typeSupported:a,vendor:s}=this;let r;for(let h=0,p=jb.length;h<p;h++){var n;if(null!=(n=jb[h].demux)&&n.probe(e)){r=jb[h];break}}if(!r)return new Error("Failed to find demuxer by probing fragment data");const o=this.demuxer,d=this.remuxer,c=r.remux,l=r.demux;d&&d instanceof c||(this.remuxer=new c(i,t,a,s)),o&&o instanceof l||(this.demuxer=new l(i,t,a),this.probe=l.probe)}needsProbing(e,t){return!this.demuxer||!this.remuxer||e||t}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new _y(this.config)),e}}const Nb=e=>({remuxResult:{},chunkMeta:e});function zb(e){return"then"in e&&e.then instanceof Function}class Bb{constructor(e,t,i,a,s){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=t,this.initSegmentData=i,this.duration=a,this.defaultInitPts=s||null}}class Hb{constructor(e,t,i,a,s,r){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=t,this.accurateTimeOffset=i,this.trackSwitch=a,this.timeOffset=s,this.initSegmentChange=r}}var Vb={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,i="~";function a(){}function s(e,t,i){this.fn=e,this.context=t,this.once=i||!1}function r(e,t,a,r,n){if("function"!=typeof a)throw new TypeError("The listener must be a function");var o=new s(a,r||e,n),d=i?i+t:t;return e._events[d]?e._events[d].fn?e._events[d]=[e._events[d],o]:e._events[d].push(o):(e._events[d]=o,e._eventsCount++),e}function n(e,t){0==--e._eventsCount?e._events=new a:delete e._events[t]}function o(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(i=!1)),o.prototype.eventNames=function(){var e,a,s=[];if(0===this._eventsCount)return s;for(a in e=this._events)t.call(e,a)&&s.push(i?a.slice(1):a);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(e)):s},o.prototype.listeners=function(e){var t=i?i+e:e,a=this._events[t];if(!a)return[];if(a.fn)return[a.fn];for(var s=0,r=a.length,n=new Array(r);s<r;s++)n[s]=a[s].fn;return n},o.prototype.listenerCount=function(e){var t=i?i+e:e,a=this._events[t];return a?a.fn?1:a.length:0},o.prototype.emit=function(e,t,a,s,r,n){var o=i?i+e:e;if(!this._events[o])return!1;var d,c,l=this._events[o],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,a),!0;case 4:return l.fn.call(l.context,t,a,s),!0;case 5:return l.fn.call(l.context,t,a,s,r),!0;case 6:return l.fn.call(l.context,t,a,s,r,n),!0}for(c=1,d=new Array(h-1);c<h;c++)d[c-1]=arguments[c];l.fn.apply(l.context,d)}else{var p,g=l.length;for(c=0;c<g;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,a);break;case 4:l[c].fn.call(l[c].context,t,a,s);break;default:if(!d)for(p=1,d=new Array(h-1);p<h;p++)d[p-1]=arguments[p];l[c].fn.apply(l[c].context,d)}}return!0},o.prototype.on=function(e,t,i){return r(this,e,t,i,!1)},o.prototype.once=function(e,t,i){return r(this,e,t,i,!0)},o.prototype.removeListener=function(e,t,a,s){var r=i?i+e:e;if(!this._events[r])return this;if(!t)return n(this,r),this;var o=this._events[r];if(o.fn)o.fn!==t||s&&!o.once||a&&o.context!==a||n(this,r);else{for(var d=0,c=[],l=o.length;d<l;d++)(o[d].fn!==t||s&&!o[d].once||a&&o[d].context!==a)&&c.push(o[d]);c.length?this._events[r]=1===c.length?c[0]:c:n(this,r)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&n(this,t)):(this._events=new a,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=i,o.EventEmitter=o,e.exports=o}(Vb);var Gb=yu(Vb.exports);class qb{constructor(e,t,i,a){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const s=e.config;this.hls=e,this.id=t,this.useWorker=!!s.enableWorker,this.onTransmuxComplete=i,this.onFlush=a;const r=(e,t)=>{(t=t||{}).frag=this.frag,t.id=this.id,e===Tu.ERROR&&(this.error=t.error),this.hls.trigger(e,t)};this.observer=new Gb,this.observer.on(Tu.FRAG_DECRYPTED,r),this.observer.on(Tu.ERROR,r);const n=fm(s.preferManagedMediaSource)||{isTypeSupported:()=>!1},o={mpeg:n.isTypeSupported("audio/mpeg"),mp3:n.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:n.isTypeSupported('audio/mp4; codecs="ac-3"')};if(this.useWorker&&"undefined"!=typeof Worker){if(s.workerPath||"function"==typeof __HLS_WORKER_BUNDLE__){try{s.workerPath?($u.log(`loading Web Worker ${s.workerPath} for "${t}"`),this.workerContext=function(e){const t=new self.URL(e,self.location.href).href;return{worker:new self.Worker(t),scriptURL:t}}(s.workerPath)):($u.log(`injecting Web Worker for "${t}"`),this.workerContext=function(){const e=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),t=self.URL.createObjectURL(e);return{worker:new self.Worker(t),objectURL:t}}()),this.onwmsg=e=>this.onWorkerMessage(e);const{worker:e}=this.workerContext;e.addEventListener("message",this.onwmsg),e.onerror=e=>{const i=new Error(`${e.message}  (${e.filename}:${e.lineno})`);s.enableWorker=!1,$u.warn(`Error in "${t}" Web Worker, fallback to inline`),this.hls.trigger(Tu.ERROR,{type:Au.OTHER_ERROR,details:Ru.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:i})},e.postMessage({cmd:"init",typeSupported:o,vendor:"",id:t,config:JSON.stringify(s)})}catch(R){$u.warn(`Error setting up "${t}" Web Worker, fallback to inline`,R),this.resetWorker(),this.error=null,this.transmuxer=new Fb(this.observer,o,s,"",t)}return}}this.transmuxer=new Fb(this.observer,o,s,"",t)}resetWorker(){if(this.workerContext){const{worker:e,objectURL:t}=this.workerContext;t&&self.URL.revokeObjectURL(t),e.removeEventListener("message",this.onwmsg),e.onerror=null,e.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const e=this.transmuxer;e&&(e.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(e,t,i,a,s,r,n,o,d,c){var l,h;d.transmuxing.start=self.performance.now();const{transmuxer:p}=this,g=r?r.start:s.start,u=s.decryptdata,f=this.frag,m=!(f&&s.cc===f.cc),v=!(f&&d.level===f.level),y=f?d.sn-f.sn:-1,b=this.part?d.part-this.part.index:-1,w=0===y&&d.id>1&&d.id===(null==f?void 0:f.stats.chunkCount),x=!v&&(1===y||0===y&&(1===b||w&&b<=0)),k=self.performance.now();(v||y||0===s.stats.parsing.start)&&(s.stats.parsing.start=k),!r||!b&&x||(r.stats.parsing.start=k);const S=!(f&&(null==(l=s.initSegment)?void 0:l.url)===(null==(h=f.initSegment)?void 0:h.url)),C=new Hb(m,x,o,v,g,S);if(!x||m||S){$u.log(`[transmuxer-interface, ${s.type}]: Starting new transmux session for sn: ${d.sn} p: ${d.part} level: ${d.level} id: ${d.id}\n        discontinuity: ${m}\n        trackSwitch: ${v}\n        contiguous: ${x}\n        accurateTimeOffset: ${o}\n        timeOffset: ${g}\n        initSegmentChange: ${S}`);const e=new Bb(i,a,t,n,c);this.configureTransmuxer(e)}if(this.frag=s,this.part=r,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:e,decryptdata:u,chunkMeta:d,state:C},e instanceof ArrayBuffer?[e]:[]);else if(p){const t=p.push(e,u,d,C);zb(t)?(p.async=!0,t.then((e=>{this.handleTransmuxComplete(e)})).catch((e=>{this.transmuxerError(e,d,"transmuxer-interface push error")}))):(p.async=!1,this.handleTransmuxComplete(t))}}flush(e){e.transmuxing.start=self.performance.now();const{transmuxer:t}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:e});else if(t){let i=t.flush(e);zb(i)||t.async?(zb(i)||(i=Promise.resolve(i)),i.then((t=>{this.handleFlushResult(t,e)})).catch((t=>{this.transmuxerError(t,e,"transmuxer-interface flush error")}))):this.handleFlushResult(i,e)}}transmuxerError(e,t,i){this.hls&&(this.error=e,this.hls.trigger(Tu.ERROR,{type:Au.MEDIA_ERROR,details:Ru.FRAG_PARSING_ERROR,chunkMeta:t,frag:this.frag||void 0,fatal:!1,error:e,err:e,reason:i}))}handleFlushResult(e,t){e.forEach((e=>{this.handleTransmuxComplete(e)})),this.onFlush(t)}onWorkerMessage(e){const t=e.data;if(null==t||!t.event)return void $u.warn("worker message received with no "+(t?"event name":"data"));const i=this.hls;if(this.hls)switch(t.event){case"init":{var a;const e=null==(a=this.workerContext)?void 0:a.objectURL;e&&self.URL.revokeObjectURL(e);break}case"transmuxComplete":this.handleTransmuxComplete(t.data);break;case"flush":this.onFlush(t.data);break;case"workerLog":$u[t.data.logType]&&$u[t.data.logType](t.data.message);break;default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,i.trigger(t.event,t.data)}}configureTransmuxer(e){const{transmuxer:t}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:e}):t&&t.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}function Zb(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!Kb(e[i].attrs,t[i].attrs))return!1;return!0}function Kb(e,t,i){const a=e["STABLE-RENDITION-ID"];return a&&!i?a===t["STABLE-RENDITION-ID"]:!(i||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some((i=>e[i]!==t[i]))}function Wb(e,t){return t.label.toLowerCase()===e.name.toLowerCase()&&(!t.language||t.language.toLowerCase()===(e.lang||"").toLowerCase())}class Yb{constructor(e){this.buffered=void 0;const t=(t,i,a)=>{if((i>>>=0)>a-1)throw new DOMException(`Failed to execute '${t}' on 'TimeRanges': The index provided (${i}) is greater than the maximum bound (${a})`);return e[i][t]};this.buffered={get length(){return e.length},end:i=>t("end",i,e.length),start:i=>t("start",i,e.length)}}}class Qb{constructor(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}append(e,t,i){const a=this.queues[t];a.push(e),1!==a.length||i||this.executeNext(t)}insertAbort(e,t){this.queues[t].unshift(e),this.executeNext(t)}appendBlocker(e){let t;const i=new Promise((e=>{t=e})),a={execute:t,onStart:()=>{},onComplete:()=>{},onError:()=>{}};return this.append(a,e),i}executeNext(e){const t=this.queues[e];if(t.length){const a=t[0];try{a.execute()}catch(i){$u.warn(`[buffer-operation-queue]: Exception executing "${e}" SourceBuffer operation: ${i}`),a.onError(i);const t=this.buffers[e];null!=t&&t.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues[e].shift(),this.executeNext(e)}current(e){return this.queues[e][0]}}const Jb=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/;function Xb(e){const t=e.querySelectorAll("source");[].slice.call(t).forEach((t=>{e.removeChild(t)}))}const ew={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},tw=e=>String.fromCharCode(ew[e]||e),iw=15,aw=100,sw={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},rw={17:2,18:4,21:6,22:8,23:10,19:13,20:15},nw={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},ow={25:2,26:4,29:6,30:8,31:10,27:13,28:15},dw=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class cw{constructor(){this.time=null,this.verboseLevel=0}log(e,t){if(this.verboseLevel>=e){const i="function"==typeof t?t():t;$u.log(`${this.time} [${e}] ${i}`)}}}const lw=function(e){const t=[];for(let i=0;i<e.length;i++)t.push(e[i].toString(16));return t};class hw{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const t=["foreground","underline","italics","background","flash"];for(let i=0;i<t.length;i++){const a=t[i];e.hasOwnProperty(a)&&(this[a]=e[a])}}isDefault(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class pw{constructor(){this.uchar=" ",this.penState=new hw}reset(){this.uchar=" ",this.penState.reset()}setChar(e,t){this.uchar=e,this.penState.copy(t)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return" "===this.uchar&&this.penState.isDefault()}}class gw{constructor(e){this.chars=[],this.pos=0,this.currPenState=new hw,this.cueStartTime=null,this.logger=void 0;for(let t=0;t<aw;t++)this.chars.push(new pw);this.logger=e}equals(e){for(let t=0;t<aw;t++)if(!this.chars[t].equals(e.chars[t]))return!1;return!0}copy(e){for(let t=0;t<aw;t++)this.chars[t].copy(e.chars[t])}isEmpty(){let e=!0;for(let t=0;t<aw;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>aw&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=aw)}moveCursor(e){const t=this.pos+e;if(e>1)for(let i=this.pos+1;i<t+1;i++)this.chars[i].setPenState(this.currPenState);this.setCursor(t)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const t=tw(e);this.pos>=aw?this.logger.log(0,(()=>"Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!")):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))}clearFromPos(e){let t;for(t=e;t<aw;t++)this.chars[t].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let t=!0;for(let i=0;i<aw;i++){const a=this.chars[i].uchar;" "!==a&&(t=!1),e.push(a)}return t?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e);this.chars[this.pos].setPenState(this.currPenState)}}class uw{constructor(e){this.rows=[],this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let t=0;t<iw;t++)this.rows.push(new gw(e));this.logger=e}reset(){for(let e=0;e<iw;e++)this.rows[e].clear();this.currRow=14}equals(e){let t=!0;for(let i=0;i<iw;i++)if(!this.rows[i].equals(e.rows[i])){t=!1;break}return t}copy(e){for(let t=0;t<iw;t++)this.rows[t].copy(e.rows[t])}isEmpty(){let e=!0;for(let t=0;t<iw;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e);this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,(()=>"pacData = "+JSON.stringify(e)));let t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(let t=0;t<iw;t++)this.rows[t].clear();const e=this.currRow+1-this.nrRollUpRows,i=this.lastOutputScreen;if(i){const a=i.rows[e].cueStartTime,s=this.logger.time;if(null!==a&&null!==s&&a<s)for(let r=0;r<this.nrRollUpRows;r++)this.rows[t-this.nrRollUpRows+r+1].copy(i.rows[e+r])}}this.currRow=t;const i=this.rows[this.currRow];if(null!==e.indent){const t=e.indent,a=Math.max(t-1,0);i.setCursor(e.indent),e.color=i.chars[a].penState.foreground}const a={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(a)}setBkgData(e){this.logger.log(2,(()=>"bkgData = "+JSON.stringify(e))),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(null===this.nrRollUpRows)return void this.logger.log(3,"roll_up but nrRollUpRows not set yet");this.logger.log(1,(()=>this.getDisplayText()));const e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const t=[];let i="",a=-1;for(let s=0;s<iw;s++){const i=this.rows[s].getTextString();i&&(a=s+1,e?t.push("Row "+a+": '"+i+"'"):t.push(i.trim()))}return t.length>0&&(i=e?"["+t.join(" | ")+"]":t.join("\n")),i}getTextAndFormat(){return this.rows}}class fw{constructor(e,t,i){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new uw(i),this.nonDisplayedMemory=new uw(i),this.lastOutputScreen=new uw(i),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=i}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,(()=>"MODE="+e)),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let i=0;i<e.length;i++)this.writeScreen.insertChar(e[i]);const t=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,(()=>t+": "+this.writeScreen.getDisplayText(!0))),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(1,(()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0))),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,(()=>"DISP: "+this.displayedMemory.getDisplayText()))}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{const i=Math.floor(e/2)-16,a=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=a[i]}this.logger.log(2,"MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)}outputDataUpdate(e=!1){const t=this.logger.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class mw{constructor(e,t,i){this.channels=void 0,this.currentChannel=0,this.cmdHistory={a:null,b:null},this.logger=void 0;const a=this.logger=new cw;this.channels=[null,new fw(e,t,a),new fw(e+1,i,a)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,t){this.channels[e].setHandler(t)}addData(e,t){this.logger.time=e;for(let i=0;i<t.length;i+=2){const e=127&t[i],a=127&t[i+1];let s=!1,r=null;if(0===e&&0===a)continue;this.logger.log(3,(()=>"["+lw([t[i],t[i+1]])+"] -> ("+lw([e,a])+")"));const n=this.cmdHistory;if(e>=16&&e<=31){if(yw(e,a,n)){vw(null,null,n),this.logger.log(3,(()=>"Repeated command ("+lw([e,a])+") is dropped"));continue}vw(e,a,this.cmdHistory),s=this.parseCmd(e,a),s||(s=this.parseMidrow(e,a)),s||(s=this.parsePAC(e,a)),s||(s=this.parseBackgroundAttributes(e,a))}else vw(null,null,n);if(!s&&(r=this.parseChars(e,a),r)){const e=this.currentChannel;if(e&&e>0){this.channels[e].insertChars(r)}else this.logger.log(2,"No channel found yet. TEXT-MODE?")}s||r||this.logger.log(2,(()=>"Couldn't parse cleaned data "+lw([e,a])+" orig: "+lw([t[i],t[i+1]])))}}parseCmd(e,t){if(!((20===e||28===e||21===e||29===e)&&t>=32&&t<=47)&&!((23===e||31===e)&&t>=33&&t<=35))return!1;const i=20===e||21===e||23===e?1:2,a=this.channels[i];return 20===e||21===e||28===e||29===e?32===t?a.ccRCL():33===t?a.ccBS():34===t?a.ccAOF():35===t?a.ccAON():36===t?a.ccDER():37===t?a.ccRU(2):38===t?a.ccRU(3):39===t?a.ccRU(4):40===t?a.ccFON():41===t?a.ccRDC():42===t?a.ccTR():43===t?a.ccRTD():44===t?a.ccEDM():45===t?a.ccCR():46===t?a.ccENM():47===t&&a.ccEOC():a.ccTO(t-32),this.currentChannel=i,!0}parseMidrow(e,t){let i=0;if((17===e||25===e)&&t>=32&&t<=47){if(i=17===e?1:2,i!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const a=this.channels[i];return!!a&&(a.ccMIDROW(t),this.logger.log(3,(()=>"MIDROW ("+lw([e,t])+")")),!0)}return!1}parsePAC(e,t){let i;if(!((e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127)&&!((16===e||24===e)&&t>=64&&t<=95))return!1;const a=e<=23?1:2;i=t>=64&&t<=95?1===a?sw[e]:nw[e]:1===a?rw[e]:ow[e];const s=this.channels[a];return!!s&&(s.setPAC(this.interpretPAC(i,t)),this.currentChannel=a,!0)}interpretPAC(e,t){let i;const a={color:null,italics:!1,indent:null,underline:!1,row:e};return i=t>95?t-96:t-64,a.underline=!(1&~i),i<=13?a.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(i/2)]:i<=15?(a.italics=!0,a.color="white"):a.indent=4*Math.floor((i-16)/2),a}parseChars(e,t){let i,a=null,s=null;if(e>=25?(i=2,s=e-8):(i=1,s=e),s>=17&&s<=19){let e;e=17===s?t+80:18===s?t+112:t+144,this.logger.log(2,(()=>"Special char '"+tw(e)+"' in channel "+i)),a=[e]}else e>=32&&e<=127&&(a=0===t?[e]:[e,t]);return a&&this.logger.log(3,(()=>"Char codes =  "+lw(a).join(","))),a}parseBackgroundAttributes(e,t){if(!((16===e||24===e)&&t>=32&&t<=47)&&!((23===e||31===e)&&t>=45&&t<=47))return!1;let i;const a={};16===e||24===e?(i=Math.floor((t-32)/2),a.background=dw[i],t%2==1&&(a.background=a.background+"_semi")):45===t?a.background="transparent":(a.foreground="black",47===t&&(a.underline=!0));const s=e<=23?1:2;return this.channels[s].setBkgData(a),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const t=this.channels[e];t&&t.reset()}vw(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let t=0;t<this.channels.length;t++){const i=this.channels[t];i&&i.cueSplitAtTime(e)}}}function vw(e,t,i){i.a=e,i.b=t}function yw(e,t,i){return i.a===e&&i.b===t}class bw{constructor(e,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=t}dispatchCue(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,t,i){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=i,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var ww=function(){if(null!=Xu&&Xu.VTTCue)return self.VTTCue;const e=["","lr","rl"],t=["start","middle","end","left","right"];function i(e,t){if("string"!=typeof t)return!1;if(!Array.isArray(e))return!1;const i=t.toLowerCase();return!!~e.indexOf(i)&&i}function a(e){return i(t,e)}function s(e,...t){let i=1;for(;i<arguments.length;i++){const t=arguments[i];for(const i in t)e[i]=t[i]}return e}function r(t,r,n){const o=this,d={enumerable:!0};o.hasBeenReset=!1;let c="",l=!1,h=t,p=r,g=n,u=null,f="",m=!0,v="auto",y="start",b=50,w="middle",x=50,k="middle";Object.defineProperty(o,"id",s({},d,{get:function(){return c},set:function(e){c=""+e}})),Object.defineProperty(o,"pauseOnExit",s({},d,{get:function(){return l},set:function(e){l=!!e}})),Object.defineProperty(o,"startTime",s({},d,{get:function(){return h},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");h=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"endTime",s({},d,{get:function(){return p},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");p=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"text",s({},d,{get:function(){return g},set:function(e){g=""+e,this.hasBeenReset=!0}})),Object.defineProperty(o,"region",s({},d,{get:function(){return u},set:function(e){u=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"vertical",s({},d,{get:function(){return f},set:function(t){const a=function(t){return i(e,t)}(t);if(!1===a)throw new SyntaxError("An invalid or illegal string was specified.");f=a,this.hasBeenReset=!0}})),Object.defineProperty(o,"snapToLines",s({},d,{get:function(){return m},set:function(e){m=!!e,this.hasBeenReset=!0}})),Object.defineProperty(o,"line",s({},d,{get:function(){return v},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"lineAlign",s({},d,{get:function(){return y},set:function(e){const t=a(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"position",s({},d,{get:function(){return b},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"positionAlign",s({},d,{get:function(){return w},set:function(e){const t=a(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");w=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"size",s({},d,{get:function(){return x},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");x=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"align",s({},d,{get:function(){return k},set:function(e){const t=a(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");k=t,this.hasBeenReset=!0}})),o.displayState=void 0}return r.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},r}();class xw{decode(e,t){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function kw(e){function t(e,t,i,a){return 3600*(0|e)+60*(0|t)+(0|i)+parseFloat(a||0)}const i=e.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return i?parseFloat(i[2])>59?t(i[2],i[3],0,i[4]):t(i[1],i[2],i[3],i[4]):null}class Sw{constructor(){this.values=Object.create(null)}set(e,t){this.get(e)||""===t||(this.values[e]=t)}get(e,t,i){return i?this.has(e)?this.values[e]:t[i]:this.has(e)?this.values[e]:t}has(e){return e in this.values}alt(e,t,i){for(let a=0;a<i.length;++a)if(t===i[a]){this.set(e,t);break}}integer(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))}percent(e,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){const i=parseFloat(t);if(i>=0&&i<=100)return this.set(e,i),!0}return!1}}function Cw(e,t,i,a){const s=a?e.split(a):[e];for(const r in s){if("string"!=typeof s[r])continue;const e=s[r].split(i);if(2!==e.length)continue;t(e[0],e[1])}}const _w=new ww(0,0,""),Pw="middle"===_w.align?"middle":"center";function Lw(e,t,i){const a=e;function s(){const t=kw(e);if(null===t)throw new Error("Malformed timestamp: "+a);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function r(){e=e.replace(/^\s+/,"")}if(r(),t.startTime=s(),r(),"--\x3e"!==e.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+a);e=e.slice(3),r(),t.endTime=s(),r(),function(e,t){const a=new Sw;Cw(e,(function(e,t){let s;switch(e){case"region":for(let s=i.length-1;s>=0;s--)if(i[s].id===t){a.set(e,i[s].region);break}break;case"vertical":a.alt(e,t,["rl","lr"]);break;case"line":s=t.split(","),a.integer(e,s[0]),a.percent(e,s[0])&&a.set("snapToLines",!1),a.alt(e,s[0],["auto"]),2===s.length&&a.alt("lineAlign",s[1],["start",Pw,"end"]);break;case"position":s=t.split(","),a.percent(e,s[0]),2===s.length&&a.alt("positionAlign",s[1],["start",Pw,"end","line-left","line-right","auto"]);break;case"size":a.percent(e,t);break;case"align":a.alt(e,t,["start",Pw,"end","left","right"])}}),/:/,/\s/),t.region=a.get("region",null),t.vertical=a.get("vertical","");let s=a.get("line","auto");"auto"===s&&-1===_w.line&&(s=-1),t.line=s,t.lineAlign=a.get("lineAlign","start"),t.snapToLines=a.get("snapToLines",!0),t.size=a.get("size",100),t.align=a.get("align",Pw);let r=a.get("position","auto");"auto"===r&&50===_w.position&&(r="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=r}(e,t)}function Ew(e){return e.replace(/<br(?: \/)?>/gi,"\n")}class Tw{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new xw,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const t=this;function i(){let e=t.buffer,i=0;for(e=Ew(e);i<e.length&&"\r"!==e[i]&&"\n"!==e[i];)++i;const a=e.slice(0,i);return"\r"===e[i]&&++i,"\n"===e[i]&&++i,t.buffer=e.slice(i),a}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{let e="";if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;e=i();const a=e.match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(null==a||!a[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}let s=!1;for(;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(s?s=!1:e=i(),t.state){case"HEADER":/:/.test(e)?Cw(e,(function(e,t){}),/:/):e||(t.state="ID");continue;case"NOTE":e||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(e)){t.state="NOTE";break}if(!e)continue;if(t.cue=new ww(0,0,""),t.state="CUE",-1===e.indexOf("--\x3e")){t.cue.id=e;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{Lw(e,t.cue,t.regionList)}catch(a){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":{const i=-1!==e.indexOf("--\x3e");if(!e||i&&(s=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(null===t.cue)continue;t.cue.text&&(t.cue.text+="\n"),t.cue.text+=e}continue;case"BADCUE":e||(t.state="ID")}}}catch(a){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state||"BADWEBVTT"===e.state)throw new Error("Malformed WebVTT signature.")}catch(t){e.onparsingerror&&e.onparsingerror(t)}return e.onflush&&e.onflush(),this}}const Aw=/\r\n|\n\r|\n|\r/g,Rw=function(e,t,i=0){return e.slice(i,i+t.length)===t},Mw=function(e){let t=5381,i=e.length;for(;i;)t=33*t^e.charCodeAt(--i);return(t>>>0).toString()};function Dw(e,t,i){return Mw(e.toString())+Mw(t.toString())+Mw(i)}function Iw(e,t,i,a,s,r,n){const o=new Tw,d=Mf(new Uint8Array(e)).trim().replace(Aw,"\n").split("\n"),c=[],l=t?function(e,t=1){return Lb(e,9e4,1/t)}(t.baseTime,t.timescale):0;let h,p="00:00.000",g=0,u=0,f=!0;o.oncue=function(e){const r=i[a];let n=i.ccOffset;const o=(g-l)/9e4;if(null!=r&&r.new&&(void 0!==u?n=i.ccOffset=r.start:function(e,t,i){let a=e[t],s=e[a.prevCC];if(!s||!s.new&&a.new)return e.ccOffset=e.presentationOffset=a.start,void(a.new=!1);for(;null!=(r=s)&&r.new;){var r;e.ccOffset+=a.start-s.start,a.new=!1,a=s,s=e[a.prevCC]}e.presentationOffset=i}(i,a,o)),o){if(!t)return void(h=new Error("Missing initPTS for VTT MPEGTS"));n=o-i.presentationOffset}const d=e.endTime-e.startTime,p=Db(9e4*(e.startTime+n-u),9e4*s)/9e4;e.startTime=Math.max(p,0),e.endTime=Math.max(p+d,0);const f=e.text.trim();e.text=decodeURIComponent(encodeURIComponent(f)),e.id||(e.id=Dw(e.startTime,e.endTime,f)),e.endTime>0&&c.push(e)},o.onparsingerror=function(e){h=e},o.onflush=function(){h?n(h):r(c)},d.forEach((e=>{if(f){if(Rw(e,"X-TIMESTAMP-MAP=")){f=!1,e.slice(16).split(",").forEach((e=>{Rw(e,"LOCAL:")?p=e.slice(6):Rw(e,"MPEGTS:")&&(g=parseInt(e.slice(7)))}));try{u=function(e){let t=parseInt(e.slice(-3));const i=parseInt(e.slice(-6,-4)),a=parseInt(e.slice(-9,-7)),s=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!(Pu(t)&&Pu(i)&&Pu(a)&&Pu(s)))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return t+=1e3*i,t+=6e4*a,t+=36e5*s,t}(p)/1e3}catch(t){h=t}return}""===e&&(f=!1)}o.parse(e+"\n")})),o.flush()}const Ow="stpp.ttml.im1t",$w=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Uw=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,jw={left:"start",center:"center",right:"end",start:"start",end:"end"};function Fw(e,t,i,a){const s=Gf(new Uint8Array(e),["mdat"]);if(0===s.length)return void a(new Error("Could not parse IMSC1 mdat"));const r=s.map((e=>Mf(e))),n=function(e,t,i=1,a=!1){return Lb(e,t,1/i,a)}(t.baseTime,1,t.timescale);try{r.forEach((e=>i(function(e,t){const i=(new DOMParser).parseFromString(e,"text/xml"),a=i.getElementsByTagName("tt")[0];if(!a)throw new Error("Invalid ttml");const s={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},r=Object.keys(s).reduce(((e,t)=>(e[t]=a.getAttribute(`ttp:${t}`)||s[t],e)),{}),n="preserve"!==a.getAttribute("xml:space"),o=zw(Nw(a,"styling","style")),d=zw(Nw(a,"layout","region")),c=Nw(a,"body","[begin]");return[].map.call(c,(e=>{const i=Bw(e,n);if(!i||!e.hasAttribute("begin"))return null;const a=Gw(e.getAttribute("begin"),r),s=Gw(e.getAttribute("dur"),r);let c=Gw(e.getAttribute("end"),r);if(null===a)throw Vw(e);if(null===c){if(null===s)throw Vw(e);c=a+s}const l=new ww(a-t,c-t,i);l.id=Dw(l.startTime,l.endTime,l.text);const h=function(e,t,i){const a="http://www.w3.org/ns/ttml#styling";let s=null;const r=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],n=null!=e&&e.hasAttribute("style")?e.getAttribute("style"):null;n&&i.hasOwnProperty(n)&&(s=i[n]);return r.reduce(((i,r)=>{const n=Hw(t,a,r)||Hw(e,a,r)||Hw(s,a,r);return n&&(i[r]=n),i}),{})}(d[e.getAttribute("region")],o[e.getAttribute("style")],o),{textAlign:p}=h;if(p){const e=jw[p];e&&(l.lineAlign=e),l.align=p}return _u(l,h),l})).filter((e=>null!==e))}(e,n))))}catch(o){a(o)}}function Nw(e,t,i){const a=e.getElementsByTagName(t)[0];return a?[].slice.call(a.querySelectorAll(i)):[]}function zw(e){return e.reduce(((e,t)=>{const i=t.getAttribute("xml:id");return i&&(e[i]=t),e}),{})}function Bw(e,t){return[].slice.call(e.childNodes).reduce(((e,i,a)=>{var s;return"br"===i.nodeName&&a?e+"\n":null!=(s=i.childNodes)&&s.length?Bw(i,t):t?e+i.textContent.trim().replace(/\s+/g," "):e+i.textContent}),"")}function Hw(e,t,i){return e&&e.hasAttributeNS(t,i)?e.getAttributeNS(t,i):null}function Vw(e){return new Error(`Could not parse ttml timestamp ${e}`)}function Gw(e,t){if(!e)return null;let i=kw(e);return null===i&&($w.test(e)?i=function(e,t){const i=$w.exec(e),a=(0|i[4])+(0|i[5])/t.subFrameRate;return 3600*(0|i[1])+60*(0|i[2])+(0|i[3])+a/t.frameRate}(e,t):Uw.test(e)&&(i=function(e,t){const i=Uw.exec(e),a=Number(i[1]);switch(i[2]){case"h":return 3600*a;case"m":return 60*a;case"ms":return 1e3*a;case"f":return a/t.frameRate;case"t":return a/t.tickRate}return a}(e,t))),i}function qw(e){return e.characteristics&&/transcribes-spoken-dialog/gi.test(e.characteristics)&&/describes-music-and-sound/gi.test(e.characteristics)?"captions":"subtitles"}function Zw(e,t){return!!e&&e.kind===qw(t)&&Wb(t,e)}class Kw{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(Tu.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(Tu.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Tu.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Tu.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Tu.BUFFER_CODECS,this.onBufferCodecs,this),e.on(Tu.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(Tu.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(Tu.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Tu.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Tu.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Tu.BUFFER_CODECS,this.onBufferCodecs,this),e.off(Tu.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,t){const i=this.hls.levels[t.droppedLevel];this.isLevelAllowed(i)&&this.restrictedLevels.push({bitrate:i.bitrate,height:i.height,width:i.width})}onMediaAttaching(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,t){const i=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,i.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onLevelsUpdated(e,t){this.timer&&Pu(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0)return void(this.clientRect=null);const e=this.hls.levels;if(e.length){const t=this.hls,i=this.getMaxLevel(e.length-1);i!==this.autoLevelCapping&&$u.log(`Setting autoLevelCapping to ${i}: ${e[i].height}p@${e[i].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),t.autoLevelCapping=i,t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}}getMaxLevel(e){const t=this.hls.levels;if(!t.length)return-1;const i=t.filter(((t,i)=>this.isLevelAllowed(t)&&i<=e));return this.clientRect=null,Kw.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,t={width:0,height:0};if(e){const i=e.getBoundingClientRect();t.width=i.width,t.height=i.height,t.width||t.height||(t.width=i.right-i.left||e.width||0,t.height=i.bottom-i.top||e.height||0)}return this.clientRect=t,t}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch(t){}return e}isLevelAllowed(e){return!this.restrictedLevels.some((t=>e.bitrate===t.bitrate&&e.width===t.width&&e.height===t.height))}static getMaxLevelByMediaSize(e,t,i){if(null==e||!e.length)return-1;let a=e.length-1;const s=Math.max(t,i);for(let o=0;o<e.length;o+=1){const t=e[o];if((t.width>=s||t.height>=s)&&(r=t,!(n=e[o+1])||r.width!==n.width||r.height!==n.height)){a=o;break}}var r,n;return a}}const Ww="[eme]";class Yw{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=Yw.CDMCleanupPromise?[Yw.CDMCleanupPromise]:[],this.debug=$u.debug.bind($u,Ww),this.log=$u.log.bind($u,Ww),this.warn=$u.warn.bind($u,Ww),this.error=$u.error.bind($u,Ww),this.onMediaEncrypted=e=>{const{initDataType:t,initData:i}=e,a=`"${e.type}" event: init data type: "${t}"`;if(this.debug(a),null!==i){if(!this.keyFormatPromise){let e=Object.keys(this.keySystemAccessPromises);e.length||(e=gf(this.config));const t=e.map(pf).filter((e=>!!e));this.keyFormatPromise=this.getKeyFormatPromise(t)}this.keyFormatPromise.then((s=>{const r=nf(s);let n,o;if("sinf"===t){if(r!==ef.FAIRPLAY)return void this.warn(`Ignoring unexpected "${e.type}" event with init data type: "${t}" for selected key-system ${r}`);const s=Ff(new Uint8Array(i));try{const e=Jf(Yu(JSON.parse(s).sinf));if(!e)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");n=e.subarray(8,24),o=ef.FAIRPLAY}catch(p){return void this.warn(`${a} Failed to parse sinf: ${p}`)}}else{if(r!==ef.WIDEVINE&&r!==ef.PLAYREADY)return void this.warn(`Ignoring unexpected "${e.type}" event with init data type: "${t}" for selected key-system ${r}`);const s=function(e){const t=[];if(e instanceof ArrayBuffer){const i=e.byteLength;let a=0;for(;a+32<i;){const i=nm(new DataView(e,a));t.push(i),a+=i.size}}return t}(i),d=s.filter((e=>!!e.systemId&&hf(e.systemId)===r));d.length>1&&this.warn(`${a} Using first of ${d.length} pssh found for selected key-system ${r}`);const c=d[0];if(!c)return void(0===s.length||s.some((e=>!e.systemId))?this.warn(`${a} contains incomplete or invalid pssh data`):this.log(`ignoring ${a} for ${s.map((e=>hf(e.systemId))).join(",")} pssh data in favor of playlist keys`));if(o=hf(c.systemId),0===c.version&&c.data)if(o===ef.WIDEVINE){const e=c.data.length-22;n=c.data.subarray(e,e+16)}else o===ef.PLAYREADY&&(n=mf(c.data))}if(!o||!n)return void this.log(`Unable to handle ${a} with key-system ${r}`);const d=Of(n),{keyIdToKeySessionPromise:c,mediaKeySessions:l}=this;let h=c[d];for(let e=0;e<l.length;e++){const a=l[e],s=a.decryptdata;if(!s.keyId)continue;const r=Of(s.keyId);if(d===r||-1!==s.uri.replace(/-/g,"").indexOf(d)){if(h=c[r],s.pssh)break;delete c[r],s.pssh=new Uint8Array(i),s.keyId=n,h=c[d]=h.then((()=>this.generateRequestWithPreferredKeySession(a,t,i,"encrypted-event-key-match"))),h.catch((e=>this.handleError(e)));break}}if(!h){if(o!==r)return void this.log(`Ignoring "${a}" with ${o} init data for selected key-system ${r}`);h=c[d]=this.getKeySystemSelectionPromise([o]).then((({keySystem:e,mediaKeys:a})=>{var s;this.throwIfDestroyed();const r=new dm("ISO-23001-7",d,null!=(s=pf(e))?s:"");return r.pssh=new Uint8Array(i),r.keyId=n,this.attemptSetMediaKeys(e,a).then((()=>{this.throwIfDestroyed();const s=this.createMediaKeySessionContext({decryptdata:r,keySystem:e,mediaKeys:a});return this.generateRequestWithPreferredKeySession(s,t,i,"encrypted-event-no-match")}))})),h.catch((e=>this.handleError(e)))}}))}},this.onWaitingForKey=e=>{this.log(`"${e.type}" event`)},this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onMediaEncrypted=this.onWaitingForKey=null}registerListeners(){this.hls.on(Tu.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Tu.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(Tu.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Tu.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(Tu.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Tu.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(Tu.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(Tu.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){const{drmSystems:t,widevineLicenseUrl:i}=this.config,a=t[e];return a?a.licenseUrl:e===ef.WIDEVINE&&i?i:void 0}getLicenseServerUrlOrThrow(e){const t=this.getLicenseServerUrl(e);if(void 0===t)throw new Error(`no license server URL configured for key-system "${e}"`);return t}getServerCertificateUrl(e){const{drmSystems:t}=this.config,i=t[e];if(i)return i.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const t=this.hls.levels,i=(e,t,i)=>!!e&&i.indexOf(e)===t,a=t.map((e=>e.audioCodec)).filter(i),s=t.map((e=>e.videoCodec)).filter(i);return a.length+s.length===0&&s.push("avc1.42e01e"),new Promise(((t,i)=>{const r=e=>{const n=e.shift();this.getMediaKeysPromise(n,a,s).then((e=>t({keySystem:n,mediaKeys:e}))).catch((t=>{e.length?r(e):i(t instanceof Qw?t:new Qw({type:Au.KEY_SYSTEM_ERROR,details:Ru.KEY_SYSTEM_NO_ACCESS,error:t,fatal:!0},t.message))}))};r(e)}))}requestMediaKeySystemAccess(e,t){const{requestMediaKeySystemAccessFunc:i}=this.config;if("function"!=typeof i){let e=`Configured requestMediaKeySystemAccess is not a function ${i}`;return null===uf&&"http:"===self.location.protocol&&(e=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(e))}return i(e,t)}getMediaKeysPromise(e,t,i){const a=function(e,t,i,a){let s;switch(e){case ef.FAIRPLAY:s=["cenc","sinf"];break;case ef.WIDEVINE:case ef.PLAYREADY:s=["cenc"];break;case ef.CLEARKEY:s=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${e}`)}return function(e,t,i,a){return[{initDataTypes:e,persistentState:a.persistentState||"optional",distinctiveIdentifier:a.distinctiveIdentifier||"optional",sessionTypes:a.sessionTypes||[a.sessionType||"temporary"],audioCapabilities:t.map((e=>({contentType:`audio/mp4; codecs="${e}"`,robustness:a.audioRobustness||"",encryptionScheme:a.audioEncryptionScheme||null}))),videoCapabilities:i.map((e=>({contentType:`video/mp4; codecs="${e}"`,robustness:a.videoRobustness||"",encryptionScheme:a.videoEncryptionScheme||null})))}]}(s,t,i,a)}(e,t,i,this.config.drmSystemOptions),s=this.keySystemAccessPromises[e];let r=null==s?void 0:s.keySystemAccess;if(!r){this.log(`Requesting encrypted media "${e}" key-system access with config: ${JSON.stringify(a)}`),r=this.requestMediaKeySystemAccess(e,a);const t=this.keySystemAccessPromises[e]={keySystemAccess:r};return r.catch((t=>{this.log(`Failed to obtain access to key-system "${e}": ${t}`)})),r.then((i=>{this.log(`Access for key-system "${i.keySystem}" obtained`);const a=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),t.mediaKeys=i.createMediaKeys().then((t=>(this.log(`Media-keys created for "${e}"`),a.then((i=>i?this.setMediaKeysServerCertificate(t,e,i):t))))),t.mediaKeys.catch((t=>{this.error(`Failed to create media-keys for "${e}"}: ${t}`)})),t.mediaKeys}))}return r.then((()=>s.mediaKeys))}createMediaKeySessionContext({decryptdata:e,keySystem:t,mediaKeys:i}){this.log(`Creating key-system session "${t}" keyId: ${Of(e.keyId||[])}`);const a=i.createSession(),s={decryptdata:e,keySystem:t,mediaKeys:i,mediaKeysSession:a,keyStatus:"status-pending"};return this.mediaKeySessions.push(s),s}renewKeySession(e){const t=e.decryptdata;if(t.pssh){const i=this.createMediaKeySessionContext(e),a=this.getKeyIdString(t),s="cenc";this.keyIdToKeySessionPromise[a]=this.generateRequestWithPreferredKeySession(i,s,t.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(null===e.keyId)throw new Error("keyId is null");return Of(e.keyId)}updateKeySession(e,t){var i;const a=e.mediaKeysSession;return this.log(`Updating key-session "${a.sessionId}" for keyID ${Of((null==(i=e.decryptdata)?void 0:i.keyId)||[])}\n      } (data length: ${t?t.byteLength:t})`),a.update(t)}selectKeySystemFormat(e){const t=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${t.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(t)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise(((t,i)=>{const a=gf(this.config),s=e.map(nf).filter((e=>!!e&&-1!==a.indexOf(e)));return this.getKeySystemSelectionPromise(s).then((({keySystem:e})=>{const a=pf(e);a?t(a):i(new Error(`Unable to find format for key-system "${e}"`))})).catch(i)}))}loadKey(e){const t=e.keyInfo.decryptdata,i=this.getKeyIdString(t),a=`(keyId: ${i} format: "${t.keyFormat}" method: ${t.method} uri: ${t.uri})`;this.log(`Starting session for key ${a}`);let s=this.keyIdToKeySessionPromise[i];return s||(s=this.keyIdToKeySessionPromise[i]=this.getKeySystemForKeyPromise(t).then((({keySystem:i,mediaKeys:s})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${a}`),this.attemptSetMediaKeys(i,s).then((()=>{this.throwIfDestroyed();const e=this.createMediaKeySessionContext({keySystem:i,mediaKeys:s,decryptdata:t});return this.generateRequestWithPreferredKeySession(e,"cenc",t.pssh,"playlist-key")}))))),s.catch((e=>this.handleError(e)))),s}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),e instanceof Qw?this.hls.trigger(Tu.ERROR,e.data):this.hls.trigger(Tu.ERROR,{type:Au.KEY_SYSTEM_ERROR,details:Ru.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const t=this.getKeyIdString(e),i=this.keyIdToKeySessionPromise[t];if(!i){const t=nf(e.keyFormat),i=t?[t]:gf(this.config);return this.attemptKeySystemAccess(i)}return i}getKeySystemSelectionPromise(e){if(e.length||(e=gf(this.config)),0===e.length)throw new Qw({type:Au.KEY_SYSTEM_ERROR,details:Ru.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}attemptSetMediaKeys(e,t){const i=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const a=Promise.all(i).then((()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(t)}));return this.setMediaKeysQueue.push(a),a.then((()=>{this.log(`Media-keys set for "${e}"`),i.push(a),this.setMediaKeysQueue=this.setMediaKeysQueue.filter((e=>-1===i.indexOf(e)))}))}generateRequestWithPreferredKeySession(e,t,i,a){var s,r;const n=null==(s=this.config.drmSystems)||null==(r=s[e.keySystem])?void 0:r.generateRequest;if(n)try{const a=n.call(this.hls,t,i,e);if(!a)throw new Error("Invalid response from configured generateRequest filter");t=a.initDataType,i=e.decryptdata.pssh=a.initData?new Uint8Array(a.initData):null}catch(g){var o;if(this.warn(g.message),null!=(o=this.hls)&&o.config.debug)throw g}if(null===i)return this.log(`Skipping key-session request for "${a}" (no initData)`),Promise.resolve(e);const d=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${a}": ${d} (init data type: ${t} length: ${i?i.byteLength:null})`);const c=new Gb,l=e._onmessage=t=>{const i=e.mediaKeysSession;if(!i)return void c.emit("error",new Error("invalid state"));const{messageType:a,message:s}=t;this.log(`"${a}" message event for session "${i.sessionId}" message size: ${s.byteLength}`),"license-request"===a||"license-renewal"===a?this.renewLicense(e,s).catch((e=>{this.handleError(e),c.emit("error",e)})):"license-release"===a?e.keySystem===ef.FAIRPLAY&&(this.updateKeySession(e,Ju("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${a}"`)},h=e._onkeystatuseschange=t=>{if(!e.mediaKeysSession)return void c.emit("error",new Error("invalid state"));this.onKeyStatusChange(e);const i=e.keyStatus;c.emit("keyStatus",i),"expired"===i&&(this.warn(`${e.keySystem} expired for key ${d}`),this.renewKeySession(e))};e.mediaKeysSession.addEventListener("message",l),e.mediaKeysSession.addEventListener("keystatuseschange",h);const p=new Promise(((e,t)=>{c.on("error",t),c.on("keyStatus",(i=>{i.startsWith("usable")?e():"output-restricted"===i?t(new Qw({type:Au.KEY_SYSTEM_ERROR,details:Ru.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===i?t(new Qw({type:Au.KEY_SYSTEM_ERROR,details:Ru.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${i}"`)):"expired"===i?t(new Error("key expired while generating request")):this.warn(`unhandled key status change "${i}"`)}))}));return e.mediaKeysSession.generateRequest(t,i).then((()=>{var t;this.log(`Request generated for key-session "${null==(t=e.mediaKeysSession)?void 0:t.sessionId}" keyId: ${d}`)})).catch((e=>{throw new Qw({type:Au.KEY_SYSTEM_ERROR,details:Ru.KEY_SYSTEM_NO_SESSION,error:e,fatal:!1},`Error generating key-session request: ${e}`)})).then((()=>p)).catch((t=>{throw c.removeAllListeners(),this.removeSession(e),t})).then((()=>(c.removeAllListeners(),e)))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach(((t,i)=>{this.log(`key status change "${t}" for keyStatuses keyId: ${Of("buffer"in i?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i))} session keyId: ${Of(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=t}))}fetchServerCertificate(e){const t=this.config,i=new(0,t.loader)(t),a=this.getServerCertificateUrl(e);return a?(this.log(`Fetching server certificate for "${e}"`),new Promise(((s,r)=>{const n={responseType:"arraybuffer",url:a},o=t.certLoadPolicy.default,d={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},c={onSuccess:(e,t,i,a)=>{s(e.data)},onError:(t,i,s,o)=>{r(new Qw({type:Au.KEY_SYSTEM_ERROR,details:Ru.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:s,response:ku({url:n.url,data:void 0},t)},`"${e}" certificate request failed (${a}). Status: ${t.code} (${t.text})`))},onTimeout:(t,i,s)=>{r(new Qw({type:Au.KEY_SYSTEM_ERROR,details:Ru.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:s,response:{url:n.url,data:void 0}},`"${e}" certificate request timed out (${a})`))},onAbort:(e,t,i)=>{r(new Error("aborted"))}};i.load(n,d,c)}))):Promise.resolve()}setMediaKeysServerCertificate(e,t,i){return new Promise(((a,s)=>{e.setServerCertificate(i).then((s=>{this.log(`setServerCertificate ${s?"success":"not supported by CDM"} (${null==i?void 0:i.byteLength}) on "${t}"`),a(e)})).catch((e=>{s(new Qw({type:Au.KEY_SYSTEM_ERROR,details:Ru.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:e,fatal:!0},e.message))}))}))}renewLicense(e,t){return this.requestLicense(e,new Uint8Array(t)).then((t=>this.updateKeySession(e,new Uint8Array(t)).catch((e=>{throw new Qw({type:Au.KEY_SYSTEM_ERROR,details:Ru.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:e,fatal:!0},e.message)}))))}unpackPlayReadyKeyMessage(e,t){const i=String.fromCharCode.apply(null,new Uint16Array(t.buffer));if(!i.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),t;const a=(new DOMParser).parseFromString(i,"application/xml"),s=a.querySelectorAll("HttpHeader");if(s.length>0){let t;for(let i=0,a=s.length;i<a;i++){var r,n;t=s[i];const a=null==(r=t.querySelector("name"))?void 0:r.textContent,o=null==(n=t.querySelector("value"))?void 0:n.textContent;a&&o&&e.setRequestHeader(a,o)}}const o=a.querySelector("Challenge"),d=null==o?void 0:o.textContent;if(!d)throw new Error("Cannot find <Challenge> in key message");return Ju(atob(d))}setupLicenseXHR(e,t,i,a){const s=this.config.licenseXhrSetup;return s?Promise.resolve().then((()=>{if(!i.decryptdata)throw new Error("Key removed");return s.call(this.hls,e,t,i,a)})).catch((r=>{if(!i.decryptdata)throw r;return e.open("POST",t,!0),s.call(this.hls,e,t,i,a)})).then((i=>{e.readyState||e.open("POST",t,!0);return{xhr:e,licenseChallenge:i||a}})):(e.open("POST",t,!0),Promise.resolve({xhr:e,licenseChallenge:a}))}requestLicense(e,t){const i=this.config.keyLoadPolicy.default;return new Promise(((a,s)=>{const r=this.getLicenseServerUrlOrThrow(e.keySystem);this.log(`Sending license request to URL: ${r}`);const n=new XMLHttpRequest;n.responseType="arraybuffer",n.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return s(new Error("invalid state"));if(4===n.readyState)if(200===n.status){this._requestLicenseFailureCount=0;let t=n.response;this.log(`License received ${t instanceof ArrayBuffer?t.byteLength:t}`);const i=this.config.licenseResponseCallback;if(i)try{t=i.call(this.hls,n,r,e)}catch(o){this.error(o)}a(t)}else{const o=i.errorRetry,d=o?o.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>d||n.status>=400&&n.status<500)s(new Qw({type:Au.KEY_SYSTEM_ERROR,details:Ru.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:n,response:{url:r,data:void 0,code:n.status,text:n.statusText}},`License Request XHR failed (${r}). Status: ${n.status} (${n.statusText})`));else{const i=d-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${i} attempts left`),this.requestLicense(e,t).then(a,s)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=n,this.setupLicenseXHR(n,r,e,t).then((({xhr:t,licenseChallenge:i})=>{e.keySystem==ef.PLAYREADY&&(i=this.unpackPlayReadyKeyMessage(t,i)),t.send(i)}))}))}onMediaAttached(e,t){if(!this.config.emeEnabled)return;const i=t.media;this.media=i,i.removeEventListener("encrypted",this.onMediaEncrypted),i.removeEventListener("waitingforkey",this.onWaitingForKey),i.addEventListener("encrypted",this.onMediaEncrypted),i.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media,t=this.mediaKeySessions;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},dm.clearKeyUriToKeyIdMap();const i=t.length;Yw.CDMCleanupPromise=Promise.all(t.map((e=>this.removeSession(e))).concat(null==e?void 0:e.setMediaKeys(null).catch((e=>{this.log(`Could not clear media keys: ${e}`)})))).then((()=>{i&&(this.log("finished closing key sessions and clearing media keys"),t.length=0)})).catch((e=>{this.log(`Could not close sessions and clear media keys: ${e}`)}))}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,{sessionKeys:t}){if(t&&this.config.emeEnabled&&!this.keyFormatPromise){const e=t.reduce(((e,t)=>(-1===e.indexOf(t.keyFormat)&&e.push(t.keyFormat),e)),[]);this.log(`Selecting key-system from session-keys ${e.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(e)}}removeSession(e){const{mediaKeysSession:t,licenseXhr:i}=e;if(t){this.log(`Remove licenses and keys and close session ${t.sessionId}`),e._onmessage&&(t.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(t.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),i&&i.readyState!==XMLHttpRequest.DONE&&i.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const a=this.mediaKeySessions.indexOf(e);return a>-1&&this.mediaKeySessions.splice(a,1),t.remove().catch((e=>{this.log(`Could not remove session: ${e}`)})).then((()=>t.close())).catch((e=>{this.log(`Could not close session: ${e}`)}))}}}Yw.CDMCleanupPromise=void 0;class Qw extends Error{constructor(e,t){super(t),this.data=void 0,e.error||(e.error=new Error(t)),this.data=e,e.err=e.error}}var Jw,Xw,ex;!function(e){e.MANIFEST="m",e.AUDIO="a",e.VIDEO="v",e.MUXED="av",e.INIT="i",e.CAPTION="c",e.TIMED_TEXT="tt",e.KEY="k",e.OTHER="o"}(Jw||(Jw={})),function(e){e.DASH="d",e.HLS="h",e.SMOOTH="s",e.OTHER="o"}(Xw||(Xw={})),function(e){e.OBJECT="CMCD-Object",e.REQUEST="CMCD-Request",e.SESSION="CMCD-Session",e.STATUS="CMCD-Status"}(ex||(ex={}));const tx={[ex.OBJECT]:["br","d","ot","tb"],[ex.REQUEST]:["bl","dl","mtp","nor","nrr","su"],[ex.SESSION]:["cid","pr","sf","sid","st","v"],[ex.STATUS]:["bs","rtp"]};class ix{constructor(e,t){this.value=void 0,this.params=void 0,Array.isArray(e)&&(e=e.map((e=>e instanceof ix?e:new ix(e)))),this.value=e,this.params=t}}class ax{constructor(e){this.description=void 0,this.description=e}}function sx(e,t,i,a){return new Error(`failed to ${e} "${s=t,Array.isArray(s)?JSON.stringify(s):s instanceof Map?"Map{}":s instanceof Set?"Set{}":"object"==typeof s?JSON.stringify(s):String(s)}" as ${i}`,{cause:a});var s}const rx="Bare Item";const nx=/[\x00-\x1f\x7f]+/;function ox(e,t,i){return sx("serialize",e,t,i)}function dx(e){if(!1===ArrayBuffer.isView(e))throw ox(e,"Byte Sequence");return`:${t=e,btoa(String.fromCharCode(...t))}:`;var t}function cx(e){if(function(e){return e<-999999999999999||999999999999999<e}(e))throw ox(e,"Integer");return e.toString()}function lx(e,t){if(e<0)return-lx(-e,t);const i=Math.pow(10,t);if(Math.abs(e*i%1-.5)<Number.EPSILON){const t=Math.floor(e*i);return(t%2==0?t:t+1)/i}return Math.round(e*i)/i}function hx(e){const t=lx(e,3);if(Math.floor(Math.abs(t)).toString().length>12)throw ox(e,"Decimal");const i=t.toString();return i.includes(".")?i:`${i}.0`}function px(e){const t=(i=e).description||i.toString().slice(7,-1);var i;if(!1===/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(t))throw ox(t,"Token");return t}function gx(e){switch(typeof e){case"number":if(!Pu(e))throw ox(e,rx);return Number.isInteger(e)?cx(e):hx(e);case"string":return function(e){if(nx.test(e))throw ox(e,"String");return`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}(e);case"symbol":return px(e);case"boolean":return function(e){if("boolean"!=typeof e)throw ox(e,"Boolean");return e?"?1":"?0"}(e);case"object":if(e instanceof Date)return function(e){return`@${cx(e.getTime()/1e3)}`}(e);if(e instanceof Uint8Array)return dx(e);if(e instanceof ax)return px(e);default:throw ox(e,rx)}}function ux(e){if(!1===/^[a-z*][a-z0-9\-_.*]*$/.test(e))throw ox(e,"Key");return e}function fx(e){return null==e?"":Object.entries(e).map((([e,t])=>!0===t?`;${ux(e)}`:`;${ux(e)}=${gx(t)}`)).join("")}function mx(e){return e instanceof ix?`${gx(e.value)}${fx(e.params)}`:gx(e)}function vx(e,t={whitespace:!0}){if("object"!=typeof e)throw ox(e,"Dict");const i=e instanceof Map?e.entries():Object.entries(e),a=null!=t&&t.whitespace?" ":"";return Array.from(i).map((([e,t])=>{t instanceof ix==!1&&(t=new ix(t));let i=ux(e);var a;return!0===t.value?i+=fx(t.params):(i+="=",Array.isArray(t.value)?i+=`(${(a=t).value.map(mx).join(" ")})${fx(a.params)}`:i+=mx(t)),i})).join(`,${a}`)}const yx=e=>Math.round(e),bx=e=>100*yx(e/100),wx={br:yx,d:yx,bl:bx,dl:bx,mtp:bx,nor:(e,t)=>(null!=t&&t.baseUrl&&(e=function(e,t){const i=new URL(e),a=new URL(t);if(i.origin!==a.origin)return e;const s=i.pathname.split("/").slice(1),r=a.pathname.split("/").slice(1,-1);for(;s[0]===r[0];)s.shift(),r.shift();for(;r.length;)r.shift(),s.unshift("..");return s.join("/")}(e,t.baseUrl)),encodeURIComponent(e)),rtp:bx,tb:yx};function xx(e,t){const i={};if(null==e||"object"!=typeof e)return i;const a=Object.keys(e).sort(),s=_u({},wx,null==t?void 0:t.formatters),r=null==t?void 0:t.filter;return a.forEach((a=>{if(null!=r&&r(a))return;let n=e[a];const o=s[a];o&&(n=o(n,t)),"v"===a&&1===n||"pr"==a&&1===n||(e=>"number"==typeof e?Pu(e):null!=e&&""!==e&&!1!==e)(n)&&((e=>"ot"===e||"sf"===e||"st"===e)(a)&&"string"==typeof n&&(n=new ax(n)),i[a]=n)})),i}function kx(e,t={}){return e?function(e,t){return vx(e,t)}(xx(e,t),_u({whitespace:!1},t)):""}function Sx(e,t,i){return _u(e,function(e,t={}){if(!e)return{};const i=Object.entries(e),a=Object.entries(tx).concat(Object.entries((null==t?void 0:t.customHeaderMap)||{})),s=i.reduce(((e,t)=>{var i;const[s,r]=t,n=(null==(i=a.find((e=>e[1].includes(s))))?void 0:i[0])||ex.REQUEST;return null!=e[n]||(e[n]={}),e[n][s]=r,e}),{});return Object.entries(s).reduce(((e,[i,a])=>(e[i]=kx(a,t),e)),{})}(t,i))}const Cx=/CMCD=[^&#]+/;function _x(e,t,i){const a=function(e,t={}){if(!e)return"";const i=kx(e,t);return`CMCD=${encodeURIComponent(i)}`}(t,i);if(!a)return e;if(Cx.test(e))return e.replace(Cx,a);const s=e.includes("?")?"&":"?";return`${e}${s}${a}`}function Px(e,t,i,a){e&&Object.keys(t).forEach((s=>{const r=e.filter((e=>e.groupId===s)).map((e=>{const r=_u({},e);return r.details=void 0,r.attrs=new Fu(r.attrs),r.url=r.attrs.URI=Lx(e.url,e.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",i),r.groupId=r.attrs["GROUP-ID"]=t[s],r.attrs["PATHWAY-ID"]=a,r}));e.push(...r)}))}function Lx(e,t,i,a){const{HOST:s,PARAMS:r,[i]:n}=a;let o;t&&(o=null==n?void 0:n[t],o&&(e=o));const d=new self.URL(e);return s&&!o&&(d.host=s),r&&Object.keys(r).sort().forEach((e=>{e&&d.searchParams.set(e,r[e])})),d.href}const Ex=/^age:\s*[\d.]+\s*$/im;class Tx{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new Bu,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,4!==e.readyState&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),null!=(e=this.callbacks)&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,t,i){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=i,this.loadInternal()}loadInternal(){const{config:e,context:t}=this;if(!e||!t)return;const i=this.loader=new self.XMLHttpRequest,a=this.stats;a.loading.first=0,a.loaded=0,a.aborted=!1;const s=this.xhrSetup;s?Promise.resolve().then((()=>{if(this.loader===i&&!this.stats.aborted)return s(i,t.url)})).catch((e=>{if(this.loader===i&&!this.stats.aborted)return i.open("GET",t.url,!0),s(i,t.url)})).then((()=>{this.loader!==i||this.stats.aborted||this.openAndSendXhr(i,t,e)})).catch((e=>{this.callbacks.onError({code:i.status,text:e.message},t,i,a)})):this.openAndSendXhr(i,t,e)}openAndSendXhr(e,t,i){e.readyState||e.open("GET",t.url,!0);const a=t.headers,{maxTimeToFirstByteMs:s,maxLoadTimeMs:r}=i.loadPolicy;if(a)for(const n in a)e.setRequestHeader(n,a[n]);t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,self.clearTimeout(this.requestTimeout),i.timeout=s&&Pu(s)?s:r,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.timeout),e.send()}readystatechange(){const{context:e,loader:t,stats:i}=this;if(!e||!t)return;const a=t.readyState,s=this.config;if(!i.aborted&&a>=2&&(0===i.loading.first&&(i.loading.first=Math.max(self.performance.now(),i.loading.start),s.timeout!==s.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),s.timeout=s.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),s.loadPolicy.maxLoadTimeMs-(i.loading.first-i.loading.start)))),4===a)){self.clearTimeout(this.requestTimeout),t.onreadystatechange=null,t.onprogress=null;const a=t.status,r="text"===t.responseType?t.responseText:null;if(a>=200&&a<300){const s=null!=r?r:t.response;if(null!=s){i.loading.end=Math.max(self.performance.now(),i.loading.first);const r="arraybuffer"===t.responseType?s.byteLength:s.length;if(i.loaded=i.total=r,i.bwEstimate=8e3*i.total/(i.loading.end-i.loading.first),!this.callbacks)return;const n=this.callbacks.onProgress;if(n&&n(i,e,s,t),!this.callbacks)return;const o={url:t.responseURL,data:s,code:a};return void this.callbacks.onSuccess(o,i,e,t)}}const n=s.loadPolicy.errorRetry;Av(n,i.retry,!1,{url:e.url,data:void 0,code:a})?this.retry(n):($u.error(`${a} while loading ${e.url}`),this.callbacks.onError({code:a,text:t.statusText},e,t,i))}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry;if(Av(e,this.stats.retry,!0))this.retry(e);else{var t;$u.warn(`timeout while loading ${null==(t=this.context)?void 0:t.url}`);const e=this.callbacks;e&&(this.abortInternal(),e.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:t,stats:i}=this;this.retryDelay=Ev(e,i.retry),i.retry++,$u.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${null==t?void 0:t.url}, retrying ${i.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)}getCacheAge(){let e=null;if(this.loader&&Ex.test(this.loader.getAllResponseHeaders())){const t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}const Ax=/(\d+)-(\d+)\/(\d+)/;class Rx{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||Mx,this.controller=new self.AbortController,this.stats=new Bu}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),null!=(e=this.callbacks)&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,t,i){const a=this.stats;if(a.loading.start)throw new Error("Loader can only be used once.");a.loading.start=self.performance.now();const s=function(e,t){const i={method:"GET",mode:"cors",credentials:"same-origin",signal:t,headers:new self.Headers(_u({},e.headers))};e.rangeEnd&&i.headers.set("Range","bytes="+e.rangeStart+"-"+String(e.rangeEnd-1));return i}(e,this.controller.signal),r=i.onProgress,n="arraybuffer"===e.responseType,o=n?"byteLength":"length",{maxTimeToFirstByteMs:d,maxLoadTimeMs:c}=t.loadPolicy;this.context=e,this.config=t,this.callbacks=i,this.request=this.fetchSetup(e,s),self.clearTimeout(this.requestTimeout),t.timeout=d&&Pu(d)?d:c,this.requestTimeout=self.setTimeout((()=>{this.abortInternal(),i.onTimeout(a,e,this.response)}),t.timeout),self.fetch(this.request).then((s=>{this.response=this.loader=s;const o=Math.max(self.performance.now(),a.loading.start);if(self.clearTimeout(this.requestTimeout),t.timeout=c,this.requestTimeout=self.setTimeout((()=>{this.abortInternal(),i.onTimeout(a,e,this.response)}),c-(o-a.loading.start)),!s.ok){const{status:e,statusText:t}=s;throw new Dx(t||"fetch, bad network response",e,s)}return a.loading.first=o,a.total=function(e){const t=e.get("Content-Range");if(t){const e=function(e){const t=Ax.exec(e);if(t)return parseInt(t[2])-parseInt(t[1])+1}(t);if(Pu(e))return e}const i=e.get("Content-Length");if(i)return parseInt(i)}(s.headers)||a.total,r&&Pu(t.highWaterMark)?this.loadProgressively(s,a,e,t.highWaterMark,r):n?s.arrayBuffer():"json"===e.responseType?s.json():s.text()})).then((s=>{const n=this.response;if(!n)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),a.loading.end=Math.max(self.performance.now(),a.loading.first);const d=s[o];d&&(a.loaded=a.total=d);const c={url:n.url,data:s,code:n.status};r&&!Pu(t.highWaterMark)&&r(a,e,s,n),i.onSuccess(c,a,e,n)})).catch((t=>{if(self.clearTimeout(this.requestTimeout),a.aborted)return;const s=t&&t.code||0,r=t?t.message:null;i.onError({code:s,text:r},e,t?t.details:null,a)}))}getCacheAge(){let e=null;if(this.response){const t=this.response.headers.get("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,t,i,a=0,s){const r=new Ny,n=e.body.getReader(),o=()=>n.read().then((n=>{if(n.done)return r.dataLength&&s(t,i,r.flush(),e),Promise.resolve(new ArrayBuffer(0));const d=n.value,c=d.length;return t.loaded+=c,c<a||r.dataLength?(r.push(d),r.dataLength>=a&&s(t,i,r.flush(),e)):s(t,i,d,e),o()})).catch((()=>Promise.reject()));return o()}}function Mx(e,t){return new self.Request(e.url,t)}class Dx extends Error{constructor(e,t,i){super(e),this.code=void 0,this.details=void 0,this.code=t,this.details=i}}const Ix=/\s/,Ox={newCue(e,t,i,a){const s=[];let r,n,o,d,c;const l=self.VTTCue||self.TextTrackCue;for(let p=0;p<a.rows.length;p++)if(r=a.rows[p],o=!0,d=0,c="",!r.isEmpty()){var h;for(let e=0;e<r.chars.length;e++)Ix.test(r.chars[e].uchar)&&o?d++:(c+=r.chars[e].uchar,o=!1);r.cueStartTime=t,t===i&&(i+=1e-4),d>=16?d--:d++;const a=Ew(c.trim()),g=Dw(t,i,a);null!=e&&null!=(h=e.cues)&&h.getCueById(g)||(n=new l(t,i,a),n.id=g,n.line=p+1,n.align="left",n.position=10+Math.min(80,10*Math.floor(8*d/32)),s.push(n))}return e&&s.length&&(s.sort(((e,t)=>"auto"===e.line||"auto"===t.line?0:e.line>8&&t.line>8?t.line-e.line:e.line-t.line)),s.forEach((t=>Ym(e,t)))),s}},$x=ku(ku({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Tx,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:class{constructor(e){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this._abandonRulesCheck=()=>{const{fragCurrent:e,partCurrent:t,hls:i}=this,{autoLevelEnabled:a,media:s}=i;if(!e||!s)return;const r=performance.now(),n=t?t.stats:e.stats,o=t?t.duration:e.duration,d=r-n.loading.start,c=i.minAutoLevel;if(n.aborted||n.loaded&&n.loaded===n.total||e.level<=c)return this.clearTimer(),void(this._nextAutoLevel=-1);if(!a||s.paused||!s.playbackRate||!s.readyState)return;const l=i.mainForwardBufferInfo;if(null===l)return;const h=this.bwEstimator.getEstimateTTFB(),p=Math.abs(s.playbackRate);if(d<=Math.max(h,o/(2*p)*1e3))return;const g=l.len/p,u=n.loading.first?n.loading.first-n.loading.start:-1,f=n.loaded&&u>-1,m=this.getBwEstimate(),v=i.levels,y=v[e.level],b=n.total||Math.max(n.loaded,Math.round(o*y.averageBitrate/8));let w=f?d-u:d;w<1&&f&&(w=Math.min(d,8*n.loaded/m));const x=f?1e3*n.loaded/w:0,k=x?(b-n.loaded)/x:8*b/m+h/1e3;if(k<=g)return;const S=x?8*x:m;let C,_=Number.POSITIVE_INFINITY;for(C=e.level-1;C>c;C--){const e=v[C].maxBitrate;if(_=this.getTimeToLoadFrag(h/1e3,S,o*e,!v[C].details),_<g)break}if(_>=k)return;if(_>10*o)return;i.nextLoadLevel=i.nextAutoLevel=C,f?this.bwEstimator.sample(d-Math.min(h,u),n.loaded):this.bwEstimator.sampleTTFB(d);const P=v[C].maxBitrate;this.getBwEstimate()*this.hls.config.abrBandWidthUpFactor>P&&this.resetEstimator(P),this.clearTimer(),$u.warn(`[abr] Fragment ${e.sn}${t?" part "+t.index:""} of level ${e.level} is loading too slowly;\n      Time to underbuffer: ${g.toFixed(3)} s\n      Estimated load time for current fragment: ${k.toFixed(3)} s\n      Estimated load time for down switch fragment: ${_.toFixed(3)} s\n      TTFB estimate: ${0|u} ms\n      Current BW estimate: ${Pu(m)?0|m:"Unknown"} bps\n      New BW estimate: ${0|this.getBwEstimate()} bps\n      Switching to level ${C} @ ${0|P} bps`),i.trigger(Tu.FRAG_LOAD_EMERGENCY_ABORTED,{frag:e,part:t,stats:n})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&($u.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new Vv(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(Tu.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Tu.FRAG_LOADING,this.onFragLoading,this),e.on(Tu.FRAG_LOADED,this.onFragLoaded,this),e.on(Tu.FRAG_BUFFERED,this.onFragBuffered,this),e.on(Tu.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(Tu.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Tu.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Tu.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(Tu.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(Tu.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Tu.FRAG_LOADING,this.onFragLoading,this),e.off(Tu.FRAG_LOADED,this.onFragLoaded,this),e.off(Tu.FRAG_BUFFERED,this.onFragBuffered,this),e.off(Tu.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(Tu.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Tu.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Tu.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(Tu.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,t){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,t){const i=t.frag;if(!this.ignoreFragment(i)){var a;if(!i.bitrateTest)this.fragCurrent=i,this.partCurrent=null!=(a=t.part)?a:null;this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,t){this.clearTimer()}onError(e,t){if(!t.fatal)switch(t.details){case Ru.BUFFER_ADD_CODEC_ERROR:case Ru.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case Ru.FRAG_LOAD_TIMEOUT:{const e=t.frag,{fragCurrent:i,partCurrent:a}=this;if(e&&i&&e.sn===i.sn&&e.level===i.level){const t=performance.now(),i=a?a.stats:e.stats,s=t-i.loading.start,r=i.loading.first?i.loading.first-i.loading.start:-1;if(i.loaded&&r>-1){const e=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(s-Math.min(e,r),i.loaded)}else this.bwEstimator.sampleTTFB(s)}break}}}getTimeToLoadFrag(e,t,i,a){return e+i/t+(a?this.lastLevelLoadSec:0)}onLevelLoaded(e,t){const i=this.hls.config,{loading:a}=t.stats,s=a.end-a.start;Pu(s)&&(this.lastLevelLoadSec=s/1e3),t.details.live?this.bwEstimator.update(i.abrEwmaSlowLive,i.abrEwmaFastLive):this.bwEstimator.update(i.abrEwmaSlowVoD,i.abrEwmaFastVoD)}onFragLoaded(e,{frag:t,part:i}){const a=i?i.stats:t.stats;if(t.type===Hm&&this.bwEstimator.sampleTTFB(a.loading.first-a.loading.start),!this.ignoreFragment(t)){if(this.clearTimer(),t.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const e=i?i.duration:t.duration,s=this.hls.levels[t.level],r=(s.loaded?s.loaded.bytes:0)+a.loaded,n=(s.loaded?s.loaded.duration:0)+e;s.loaded={bytes:r,duration:n},s.realBitrate=Math.round(8*r/n)}if(t.bitrateTest){const e={stats:a,frag:t,part:i,id:t.type};this.onFragBuffered(Tu.FRAG_BUFFERED,e),t.bitrateTest=!1}else this.lastLoadedFragLevel=t.level}}onFragBuffered(e,t){const{frag:i,part:a}=t,s=null!=a&&a.stats.loaded?a.stats:i.stats;if(s.aborted)return;if(this.ignoreFragment(i))return;const r=s.parsing.end-s.loading.start-Math.min(s.loading.first-s.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(r,s.loaded),s.bwEstimate=this.getBwEstimate(),i.bitrateTest?this.bitrateTestDelay=r/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==Hm||"initSegment"===e.sn}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:t}=this.hls,i=this.getBwEstimate(),a=this.hls.config.maxStarvationDelay,s=this.findBestLevel(i,t,e,0,a,1,1);if(s>-1)return s;const r=this.hls.firstLevel,n=Math.min(Math.max(r,t),e);return $u.warn(`[abr] Could not find best starting auto level. Defaulting to first in playlist ${r} clamped to ${n}`),n}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,t=this.bwEstimator.canEstimate(),i=this.lastLoadedFragLevel>-1;if(!(-1===e||t&&i&&this.nextAutoLevelKey!==this.getAutoLevelKey()))return e;const a=t&&i?this.getNextABRAutoLevel():this.firstAutoLevel;if(-1!==e){const t=this.hls.levels;if(t.length>Math.max(e,a)&&t[e].loadError<=t[a].loadError)return e}return this._nextAutoLevel=a,this.nextAutoLevelKey=this.getAutoLevelKey(),a}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:t,hls:i}=this,{maxAutoLevel:a,config:s,minAutoLevel:r}=i,n=t?t.duration:e?e.duration:0,o=this.getBwEstimate(),d=this.getStarvationDelay();let c=s.abrBandWidthFactor,l=s.abrBandWidthUpFactor;if(d){const e=this.findBestLevel(o,r,a,d,0,c,l);if(e>=0)return e}let h=n?Math.min(n,s.maxStarvationDelay):s.maxStarvationDelay;if(!d){const e=this.bitrateTestDelay;if(e){h=(n?Math.min(n,s.maxLoadingDelay):s.maxLoadingDelay)-e,$u.info(`[abr] bitrate test took ${Math.round(1e3*e)}ms, set first fragment max fetchDuration to ${Math.round(1e3*h)} ms`),c=l=1}}const p=this.findBestLevel(o,r,a,d,h,c,l);if($u.info(`[abr] ${d?"rebuffering expected":"buffer is empty"}, optimal quality level ${p}`),p>-1)return p;const g=i.levels[r],u=i.levels[i.loadLevel];return(null==g?void 0:g.bitrate)<(null==u?void 0:u.bitrate)?r:i.loadLevel}getStarvationDelay(){const e=this.hls,t=e.media;if(!t)return 1/0;const i=t&&0!==t.playbackRate?Math.abs(t.playbackRate):1,a=e.mainForwardBufferInfo;return(a?a.len:0)/i}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,t,i,a,s,r,n){var o;const d=a+s,c=this.lastLoadedFragLevel,l=-1===c?this.hls.firstLevel:c,{fragCurrent:h,partCurrent:p}=this,{levels:g,allAudioTracks:u,loadLevel:f,config:m}=this.hls;if(1===g.length)return 0;const v=g[l],y=!(null==v||null==(o=v.details)||!o.live),b=-1===f||-1===c;let w,x="SDR",k=(null==v?void 0:v.frameRate)||0;const{audioPreference:S,videoPreference:C}=m,_=this.audioTracksByGroup||(this.audioTracksByGroup=function(e){return e.reduce(((e,t)=>{let i=e.groups[t.groupId];i||(i=e.groups[t.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),i.tracks.push(t);const a=t.channels||"2";return i.channels[a]=(i.channels[a]||0)+1,i.hasDefault=i.hasDefault||t.default,i.hasAutoSelect=i.hasAutoSelect||t.autoselect,i.hasDefault&&(e.hasDefaultAudio=!0),i.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e}),{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}(u));if(b){if(-1!==this.firstSelection)return this.firstSelection;const a=this.codecTiers||(this.codecTiers=function(e,t,i,a){return e.slice(i,a+1).reduce(((e,i)=>{if(!i.codecSet)return e;const a=i.audioGroups;let s=e[i.codecSet];s||(e[i.codecSet]=s={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!a,fragmentError:0}),s.minBitrate=Math.min(s.minBitrate,i.bitrate);const r=Math.min(i.height,i.width);return s.minHeight=Math.min(s.minHeight,r),s.minFramerate=Math.min(s.minFramerate,i.frameRate),s.maxScore=Math.max(s.maxScore,i.score),s.fragmentError+=i.fragmentError,s.videoRanges[i.videoRange]=(s.videoRanges[i.videoRange]||0)+1,a&&a.forEach((e=>{if(!e)return;const i=t.groups[e];i&&(s.hasDefaultAudio=s.hasDefaultAudio||t.hasDefaultAudio?i.hasDefault:i.hasAutoSelect||!t.hasDefaultAudio&&!t.hasAutoSelectAudio,Object.keys(i.channels).forEach((e=>{s.channels[e]=(s.channels[e]||0)+i.channels[e]})))})),e}),{})}(g,_,t,i)),s=function(e,t,i,a,s){const r=Object.keys(e),n=null==a?void 0:a.channels,o=null==a?void 0:a.audioCodec,d=n&&2===parseInt(n);let c=!0,l=!1,h=1/0,p=1/0,g=1/0,u=0,f=[];const{preferHDR:m,allowedVideoRanges:v}=Wv(t,s);for(let w=r.length;w--;){const t=e[r[w]];c=t.channels[2]>0,h=Math.min(h,t.minHeight),p=Math.min(p,t.minFramerate),g=Math.min(g,t.minBitrate);const i=v.filter((e=>t.videoRanges[e]>0));i.length>0&&(l=!0,f=i)}h=Pu(h)?h:0,p=Pu(p)?p:0;const y=Math.max(1080,h),b=Math.max(30,p);return g=Pu(g)?g:i,i=Math.max(g,i),l||(t=void 0,f=[]),{codecSet:r.reduce(((t,a)=>{const s=e[a];if(a===t)return t;if(s.minBitrate>i)return Yv(a,`min bitrate of ${s.minBitrate} > current estimate of ${i}`),t;if(!s.hasDefaultAudio)return Yv(a,"no renditions with default or auto-select sound found"),t;if(o&&a.indexOf(o.substring(0,4))%5!=0)return Yv(a,`audio codec preference "${o}" not found`),t;if(n&&!d){if(!s.channels[n])return Yv(a,`no renditions with ${n} channel sound found (channels options: ${Object.keys(s.channels)})`),t}else if((!o||d)&&c&&0===s.channels[2])return Yv(a,"no renditions with stereo sound found"),t;return s.minHeight>y?(Yv(a,`min resolution of ${s.minHeight} > maximum of ${y}`),t):s.minFramerate>b?(Yv(a,`min framerate of ${s.minFramerate} > maximum of ${b}`),t):f.some((e=>s.videoRanges[e]>0))?s.maxScore<u?(Yv(a,`max score of ${s.maxScore} < selected max of ${u}`),t):t&&(xm(a)>=xm(t)||s.fragmentError>e[t].fragmentError)?t:(u=s.maxScore,a):(Yv(a,`no variants with VIDEO-RANGE of ${JSON.stringify(f)} found`),t)}),void 0),videoRanges:f,preferHDR:m,minFramerate:p,minBitrate:g}}(a,x,e,S,C),{codecSet:r,videoRanges:n,minFramerate:o,minBitrate:d,preferHDR:c}=s;w=r,x=c?n[n.length-1]:n[0],k=o,e=Math.max(e,d),$u.log(`[abr] picked start tier ${JSON.stringify(s)}`)}else w=null==v?void 0:v.codecSet,x=null==v?void 0:v.videoRange;const P=p?p.duration:h?h.duration:0,L=this.bwEstimator.getEstimateTTFB()/1e3,E=[];for(let A=i;A>=t;A--){var T;const t=g[A],o=A>l;if(!t)continue;if(m.useMediaCapabilities&&!t.supportedResult&&!t.supportedPromise){const i=navigator.mediaCapabilities;"function"==typeof(null==i?void 0:i.decodingInfo)&&Zv(t,_,x,k,e,S)?(t.supportedPromise=Kv(t,_,i),t.supportedPromise.then((e=>{if(!this.hls)return;t.supportedResult=e;const i=this.hls.levels,a=i.indexOf(t);e.error?$u.warn(`[abr] MediaCapabilities decodingInfo error: "${e.error}" for level ${a} ${JSON.stringify(e)}`):e.supported||($u.warn(`[abr] Unsupported MediaCapabilities decodingInfo result for level ${a} ${JSON.stringify(e)}`),a>-1&&i.length>1&&($u.log(`[abr] Removing unsupported level ${a}`),this.hls.removeLevel(a)))}))):t.supportedResult=Gv}if(w&&t.codecSet!==w||x&&t.videoRange!==x||o&&k>t.frameRate||!o&&k>0&&k<t.frameRate||t.supportedResult&&(null==(T=t.supportedResult.decodingInfoResults)||!T[0].smooth)){E.push(A);continue}const h=t.details,u=(p?null==h?void 0:h.partTarget:null==h?void 0:h.averagetargetduration)||P;let C;C=o?n*e:r*e;const R=P&&a>=2*P&&0===s?g[A].averageBitrate:g[A].maxBitrate,M=this.getTimeToLoadFrag(L,C,R*u,void 0===h);if(C>=R&&(A===c||0===t.loadError&&0===t.fragmentError)&&(M<=L||!Pu(M)||y&&!this.bitrateTestDelay||M<d)){const e=this.forcedAutoLevel;return A===f||-1!==e&&e===f||(E.length&&$u.trace(`[abr] Skipped level(s) ${E.join(",")} of ${i} max with CODECS and VIDEO-RANGE:"${g[E[0]].codecs}" ${g[E[0]].videoRange}; not compatible with "${v.codecs}" ${x}`),$u.info(`[abr] switch candidate:${l}->${A} adjustedbw(${Math.round(C)})-bitrate=${Math.round(C-R)} ttfb:${L.toFixed(1)} avgDuration:${u.toFixed(1)} maxFetchDuration:${d.toFixed(1)} fetchDuration:${M.toFixed(1)} firstSelection:${b} codecSet:${w} videoRange:${x} hls.loadLevel:${f}`)),b&&(this.firstSelection=A),A}}return-1}set nextAutoLevel(e){const{maxAutoLevel:t,minAutoLevel:i}=this.hls,a=Math.min(Math.max(e,i),t);this._nextAutoLevel!==a&&(this.nextAutoLevelKey="",this._nextAutoLevel=a)}},bufferController:class{constructor(e){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendSource=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this.log=void 0,this.warn=void 0,this.error=void 0,this._onEndStreaming=e=>{this.hls&&this.hls.pauseBuffering()},this._onStartStreaming=e=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=()=>{const{media:e,mediaSource:t}=this;this.log("Media source opened"),e&&(e.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(Tu.MEDIA_ATTACHED,{media:e,mediaSource:t})),t&&t.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:e,_objectUrl:t}=this;e!==t&&$u.error(`Media element src was set while attaching MediaSource (${t} > ${e})`)},this.hls=e;const t="[buffer-controller]";var i;this.appendSource=(i=fm(e.config.preferManagedMediaSource),"undefined"!=typeof self&&i===self.ManagedMediaSource),this.log=$u.log.bind($u,t),this.warn=$u.warn.bind($u,t),this.error=$u.error.bind($u,t),this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null,this.hls=null}registerListeners(){const{hls:e}=this;e.on(Tu.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Tu.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Tu.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Tu.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Tu.BUFFER_RESET,this.onBufferReset,this),e.on(Tu.BUFFER_APPENDING,this.onBufferAppending,this),e.on(Tu.BUFFER_CODECS,this.onBufferCodecs,this),e.on(Tu.BUFFER_EOS,this.onBufferEos,this),e.on(Tu.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(Tu.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(Tu.FRAG_PARSED,this.onFragParsed,this),e.on(Tu.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:e}=this;e.off(Tu.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Tu.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Tu.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Tu.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Tu.BUFFER_RESET,this.onBufferReset,this),e.off(Tu.BUFFER_APPENDING,this.onBufferAppending,this),e.off(Tu.BUFFER_CODECS,this.onBufferCodecs,this),e.off(Tu.BUFFER_EOS,this.onBufferEos,this),e.off(Tu.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(Tu.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(Tu.FRAG_PARSED,this.onFragParsed,this),e.off(Tu.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new Qb(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.appendErrors={audio:0,video:0,audiovideo:0},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,t){let i=2;(t.audio&&!t.video||!t.altAudio)&&(i=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=i,this.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(e,t){const i=this.media=t.media,a=fm(this.appendSource);if(i&&a){var s;const e=this.mediaSource=new a;this.log(`created media source: ${null==(s=e.constructor)?void 0:s.name}`),e.addEventListener("sourceopen",this._onMediaSourceOpen),e.addEventListener("sourceended",this._onMediaSourceEnded),e.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(e.addEventListener("startstreaming",this._onStartStreaming),e.addEventListener("endstreaming",this._onEndStreaming));const t=this._objectUrl=self.URL.createObjectURL(e);if(this.appendSource)try{i.removeAttribute("src");const a=self.ManagedMediaSource;i.disableRemotePlayback=i.disableRemotePlayback||a&&e instanceof a,Xb(i),function(e,t){const i=self.document.createElement("source");i.type="video/mp4",i.src=t,e.appendChild(i)}(i,t),i.load()}catch(r){i.src=t}else i.src=t;i.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:e,mediaSource:t,_objectUrl:i}=this;if(t){if(this.log("media source detaching"),"open"===t.readyState)try{t.endOfStream()}catch(R){this.warn(`onMediaDetaching: ${R.message} while calling endOfStream`)}this.onBufferReset(),t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(t.removeEventListener("startstreaming",this._onStartStreaming),t.removeEventListener("endstreaming",this._onEndStreaming)),e&&(e.removeEventListener("emptied",this._onMediaEmptied),i&&self.URL.revokeObjectURL(i),this.mediaSrc===i?(e.removeAttribute("src"),this.appendSource&&Xb(e),e.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(Tu.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach((e=>{this.resetBuffer(e)})),this._initSourceBuffer(),this.hls.resumeBuffering()}resetBuffer(e){const t=this.sourceBuffer[e];try{var i;if(t)this.removeBufferListeners(e),this.sourceBuffer[e]=void 0,null!=(i=this.mediaSource)&&i.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(t)}catch(R){this.warn(`onBufferReset ${e}`,R)}}onBufferCodecs(e,t){const i=this.getSourceBufferTypes().length,a=Object.keys(t);if(a.forEach((e=>{if(i){const i=this.tracks[e];if(i&&"function"==typeof i.buffer.changeType){var a;const{id:s,codec:r,levelCodec:n,container:o,metadata:d}=t[e],c=_m(i.codec,i.levelCodec),l=null==c?void 0:c.replace(Jb,"$1");let h=_m(r,n);const p=null==(a=h)?void 0:a.replace(Jb,"$1");if(h&&l!==p){"audio"===e.slice(0,5)&&(h=Cm(h,this.appendSource));const t=`${o};codecs=${h}`;this.appendChangeType(e,t),this.log(`switching codec ${c} to ${h}`),this.tracks[e]={buffer:i.buffer,codec:r,container:o,levelCodec:n,metadata:d,id:s}}}}else this.pendingTracks[e]=t[e]})),i)return;const s=Math.max(this.bufferCodecEventsExpected-1,0);this.bufferCodecEventsExpected!==s&&(this.log(`${s} bufferCodec event(s) expected ${a.join(",")}`),this.bufferCodecEventsExpected=s),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks()}appendChangeType(e,t){const{operationQueue:i}=this,a={execute:()=>{const a=this.sourceBuffer[e];a&&(this.log(`changing ${e} sourceBuffer type to ${t}`),a.changeType(t)),i.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:t=>{this.warn(`Failed to change ${e} SourceBuffer type`,t)}};i.append(a,e,!!this.pendingTracks[e])}onBufferAppending(e,t){const{hls:i,operationQueue:a,tracks:s}=this,{data:r,type:n,frag:o,part:d,chunkMeta:c}=t,l=c.buffering[n],h=self.performance.now();l.start=h;const p=o.stats.buffering,g=d?d.stats.buffering:null;0===p.start&&(p.start=h),g&&0===g.start&&(g.start=h);const u=s.audio;let f=!1;"audio"===n&&"audio/mpeg"===(null==u?void 0:u.container)&&(f=!this.lastMpegAudioChunk||1===c.id||this.lastMpegAudioChunk.sn!==c.sn,this.lastMpegAudioChunk=c);const m=o.start,v={execute:()=>{if(l.executeStart=self.performance.now(),f){const e=this.sourceBuffer[n];if(e){const t=m-e.timestampOffset;Math.abs(t)>=.1&&(this.log(`Updating audio SourceBuffer timestampOffset to ${m} (delta: ${t}) sn: ${o.sn})`),e.timestampOffset=m)}}this.appendExecutor(r,n)},onStart:()=>{},onComplete:()=>{const e=self.performance.now();l.executeEnd=l.end=e,0===p.first&&(p.first=e),g&&0===g.first&&(g.first=e);const{sourceBuffer:t}=this,i={};for(const a in t)i[a]=ly.getBuffered(t[a]);this.appendErrors[n]=0,"audio"===n||"video"===n?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(Tu.BUFFER_APPENDED,{type:n,frag:o,part:d,chunkMeta:c,parent:o.type,timeRanges:i})},onError:e=>{const t={type:Au.MEDIA_ERROR,parent:o.type,details:Ru.BUFFER_APPEND_ERROR,sourceBufferName:n,frag:o,part:d,chunkMeta:c,error:e,err:e,fatal:!1};if(e.code===DOMException.QUOTA_EXCEEDED_ERR)t.details=Ru.BUFFER_FULL_ERROR;else{const e=++this.appendErrors[n];t.details=Ru.BUFFER_APPEND_ERROR,this.warn(`Failed ${e}/${i.config.appendErrorMaxRetry} times to append segment in "${n}" sourceBuffer`),e>=i.config.appendErrorMaxRetry&&(t.fatal=!0)}i.trigger(Tu.ERROR,t)}};a.append(v,n,!!this.pendingTracks[n])}onBufferFlushing(e,t){const{operationQueue:i}=this,a=e=>({execute:this.removeExecutor.bind(this,e,t.startOffset,t.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(Tu.BUFFER_FLUSHED,{type:e})},onError:t=>{this.warn(`Failed to remove from ${e} SourceBuffer`,t)}});t.type?i.append(a(t.type),t.type):this.getSourceBufferTypes().forEach((e=>{i.append(a(e),e)}))}onFragParsed(e,t){const{frag:i,part:a}=t,s=[],r=a?a.elementaryStreams:i.elementaryStreams;r[Gu]?s.push("audiovideo"):(r[Hu]&&s.push("audio"),r[Vu]&&s.push("video"));0===s.length&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${i.type} level: ${i.level} sn: ${i.sn}`),this.blockBuffers((()=>{const e=self.performance.now();i.stats.buffering.end=e,a&&(a.stats.buffering.end=e);const t=a?a.stats:i.stats;this.hls.trigger(Tu.FRAG_BUFFERED,{frag:i,part:a,stats:t,id:i.type})}),s)}onFragChanged(e,t){this.trimBuffers()}onBufferEos(e,t){this.getSourceBufferTypes().reduce(((e,i)=>{const a=this.sourceBuffer[i];return!a||t.type&&t.type!==i||(a.ending=!0,a.ended||(a.ended=!0,this.log(`${i} sourceBuffer now EOS`))),e&&!(a&&!a.ended)}),!0)&&(this.log("Queueing mediaSource.endOfStream()"),this.blockBuffers((()=>{this.getSourceBufferTypes().forEach((e=>{const t=this.sourceBuffer[e];t&&(t.ending=!1)}));const{mediaSource:e}=this;e&&"open"===e.readyState?(this.log("Calling mediaSource.endOfStream()"),e.endOfStream()):e&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${e.readyState}`)})))}onLevelUpdated(e,{details:t}){t.fragments.length&&(this.details=t,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}trimBuffers(){const{hls:e,details:t,media:i}=this;if(!i||null===t)return;if(!this.getSourceBufferTypes().length)return;const a=e.config,s=i.currentTime,r=t.levelTargetDuration,n=t.live&&null!==a.liveBackBufferLength?a.liveBackBufferLength:a.backBufferLength;if(Pu(n)&&n>0){const e=Math.max(n,r),t=Math.floor(s/r)*r-e;this.flushBackBuffer(s,r,t)}if(Pu(a.frontBufferFlushThreshold)&&a.frontBufferFlushThreshold>0){const e=Math.max(a.maxBufferLength,a.frontBufferFlushThreshold),t=Math.max(e,r),i=Math.floor(s/r)*r+t;this.flushFrontBuffer(s,r,i)}}flushBackBuffer(e,t,i){const{details:a,sourceBuffer:s}=this;this.getSourceBufferTypes().forEach((r=>{const n=s[r];if(n){const s=ly.getBuffered(n);if(s.length>0&&i>s.start(0)){if(this.hls.trigger(Tu.BACK_BUFFER_REACHED,{bufferEnd:i}),null!=a&&a.live)this.hls.trigger(Tu.LIVE_BACK_BUFFER_REACHED,{bufferEnd:i});else if(n.ended&&s.end(s.length-1)-e<2*t)return void this.log(`Cannot flush ${r} back buffer while SourceBuffer is in ended state`);this.hls.trigger(Tu.BUFFER_FLUSHING,{startOffset:0,endOffset:i,type:r})}}}))}flushFrontBuffer(e,t,i){const{sourceBuffer:a}=this;this.getSourceBufferTypes().forEach((s=>{const r=a[s];if(r){const a=ly.getBuffered(r),n=a.length;if(n<2)return;const o=a.start(n-1),d=a.end(n-1);if(i>o||e>=o&&e<=d)return;if(r.ended&&e-d<2*t)return void this.log(`Cannot flush ${s} front buffer while SourceBuffer is in ended state`);this.hls.trigger(Tu.BUFFER_FLUSHING,{startOffset:o,endOffset:1/0,type:s})}}))}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||"open"!==this.mediaSource.readyState)return;const{details:e,hls:t,media:i,mediaSource:a}=this,s=e.fragments[0].start+e.totalduration,r=i.duration,n=Pu(a.duration)?a.duration:0;e.live&&t.config.liveDurationInfinity?(a.duration=1/0,this.updateSeekableRange(e)):(s>n&&s>r||!Pu(r))&&(this.log(`Updating Media Source duration to ${s.toFixed(3)}`),a.duration=s)}updateSeekableRange(e){const t=this.mediaSource,i=e.fragments;if(i.length&&e.live&&null!=t&&t.setLiveSeekableRange){const a=Math.max(0,i[0].start),s=Math.max(a,a+e.totalduration);this.log(`Media Source duration is set to ${t.duration}. Setting seekable range to ${a}-${s}.`),t.setLiveSeekableRange(a,s)}}checkPendingTracks(){const{bufferCodecEventsExpected:e,operationQueue:t,pendingTracks:i}=this,a=Object.keys(i).length;if(a&&(!e||2===a||"audiovideo"in i)){this.createSourceBuffers(i),this.pendingTracks={};const e=this.getSourceBufferTypes();if(e.length)this.hls.trigger(Tu.BUFFER_CREATED,{tracks:this.tracks}),e.forEach((e=>{t.executeNext(e)}));else{const e=new Error("could not create source buffer for media codec(s)");this.hls.trigger(Tu.ERROR,{type:Au.MEDIA_ERROR,details:Ru.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:e,reason:e.message})}}}createSourceBuffers(e){const{sourceBuffer:t,mediaSource:i}=this;if(!i)throw Error("createSourceBuffers called when mediaSource was null");for(const s in e)if(!t[s]){var a;const r=e[s];if(!r)throw Error(`source buffer exists for track ${s}, however track does not`);let n=-1===(null==(a=r.levelCodec)?void 0:a.indexOf(","))?r.levelCodec:r.codec;n&&"audio"===s.slice(0,5)&&(n=Cm(n,this.appendSource));const o=`${r.container};codecs=${n}`;this.log(`creating sourceBuffer(${o})`);try{const e=t[s]=i.addSourceBuffer(o),a=s;this.addBufferListener(a,"updatestart",this._onSBUpdateStart),this.addBufferListener(a,"updateend",this._onSBUpdateEnd),this.addBufferListener(a,"error",this._onSBUpdateError),this.appendSource&&this.addBufferListener(a,"bufferedchange",((e,t)=>{const i=t.removedRanges;null!=i&&i.length&&this.hls.trigger(Tu.BUFFER_FLUSHED,{type:s})})),this.tracks[s]={buffer:e,codec:n,container:r.container,levelCodec:r.levelCodec,metadata:r.metadata,id:r.id}}catch(R){this.error(`error while trying to add sourceBuffer: ${R.message}`),this.hls.trigger(Tu.ERROR,{type:Au.MEDIA_ERROR,details:Ru.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:R,sourceBufferName:s,mimeType:o})}}}get mediaSrc(){var e,t;const i=(null==(e=this.media)||null==(t=e.querySelector)?void 0:t.call(e,"source"))||this.media;return null==i?void 0:i.src}_onSBUpdateStart(e){const{operationQueue:t}=this;t.current(e).onStart()}_onSBUpdateEnd(e){var t;if("closed"===(null==(t=this.mediaSource)?void 0:t.readyState))return void this.resetBuffer(e);const{operationQueue:i}=this;i.current(e).onComplete(),i.shiftAndExecuteNext(e)}_onSBUpdateError(e,t){var i;const a=new Error(`${e} SourceBuffer error. MediaSource readyState: ${null==(i=this.mediaSource)?void 0:i.readyState}`);this.error(`${a}`,t),this.hls.trigger(Tu.ERROR,{type:Au.MEDIA_ERROR,details:Ru.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:a,fatal:!1});const s=this.operationQueue.current(e);s&&s.onError(a)}removeExecutor(e,t,i){const{media:a,mediaSource:s,operationQueue:r,sourceBuffer:n}=this,o=n[e];if(!a||!s||!o)return this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),void r.shiftAndExecuteNext(e);const d=Pu(a.duration)?a.duration:1/0,c=Pu(s.duration)?s.duration:1/0,l=Math.max(0,t),h=Math.min(i,d,c);h>l&&(!o.ending||o.ended)?(o.ended=!1,this.log(`Removing [${l},${h}] from the ${e} SourceBuffer`),o.remove(l,h)):r.shiftAndExecuteNext(e)}appendExecutor(e,t){const i=this.sourceBuffer[t];if(i)i.ended=!1,i.appendBuffer(e);else if(!this.pendingTracks[t])throw new Error(`Attempting to append to the ${t} SourceBuffer, but it does not exist`)}blockBuffers(e,t=this.getSourceBufferTypes()){if(!t.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(e);const{operationQueue:i}=this,a=t.map((e=>i.appendBlocker(e)));Promise.all(a).then((()=>{e(),t.forEach((e=>{const t=this.sourceBuffer[e];null!=t&&t.updating||i.shiftAndExecuteNext(e)}))}))}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(e,t,i){const a=this.sourceBuffer[e];if(!a)return;const s=i.bind(this,e);this.listeners[e].push({event:t,listener:s}),a.addEventListener(t,s)}removeBufferListeners(e){const t=this.sourceBuffer[e];t&&this.listeners[e].forEach((e=>{t.removeEventListener(e.event,e.listener)}))}},capLevelController:Kw,errorController:class{constructor(e){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=e,this.log=$u.log.bind($u,"[info]:"),this.warn=$u.warn.bind($u,"[warning]:"),this.error=$u.error.bind($u,"[error]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(Tu.ERROR,this.onError,this),e.on(Tu.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Tu.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(Tu.ERROR,this.onError,this),e.off(Tu.ERROR,this.onErrorOut,this),e.off(Tu.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Tu.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return(null==e?void 0:e.type)===Hm?e.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(e,t){var i,a;if(t.fatal)return;const s=this.hls,r=t.context;switch(t.details){case Ru.FRAG_LOAD_ERROR:case Ru.FRAG_LOAD_TIMEOUT:case Ru.KEY_LOAD_ERROR:case Ru.KEY_LOAD_TIMEOUT:return void(t.errorAction=this.getFragRetryOrSwitchAction(t));case Ru.FRAG_PARSING_ERROR:if(null!=(i=t.frag)&&i.gap)return void(t.errorAction={action:Ov,flags:Fv});case Ru.FRAG_GAP:case Ru.FRAG_DECRYPT_ERROR:return t.errorAction=this.getFragRetryOrSwitchAction(t),void(t.errorAction.action=$v);case Ru.LEVEL_EMPTY_ERROR:case Ru.LEVEL_PARSING_ERROR:{var n,o;const e=t.parent===Hm?t.level:s.loadLevel;t.details===Ru.LEVEL_EMPTY_ERROR&&null!=(n=t.context)&&null!=(o=n.levelDetails)&&o.live?t.errorAction=this.getPlaylistRetryOrSwitchAction(t,e):(t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,e))}return;case Ru.LEVEL_LOAD_ERROR:case Ru.LEVEL_LOAD_TIMEOUT:return void("number"==typeof(null==r?void 0:r.level)&&(t.errorAction=this.getPlaylistRetryOrSwitchAction(t,r.level)));case Ru.AUDIO_TRACK_LOAD_ERROR:case Ru.AUDIO_TRACK_LOAD_TIMEOUT:case Ru.SUBTITLE_LOAD_ERROR:case Ru.SUBTITLE_TRACK_LOAD_TIMEOUT:if(r){const e=s.levels[s.loadLevel];if(e&&(r.type===zm&&e.hasAudioGroup(r.groupId)||r.type===Bm&&e.hasSubtitleGroup(r.groupId)))return t.errorAction=this.getPlaylistRetryOrSwitchAction(t,s.loadLevel),t.errorAction.action=$v,void(t.errorAction.flags=Nv)}return;case Ru.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const e=s.levels[s.loadLevel],i=null==e?void 0:e.attrs["HDCP-LEVEL"];i?t.errorAction={action:$v,flags:zv,hdcpLevel:i}:this.keySystemError(t)}return;case Ru.BUFFER_ADD_CODEC_ERROR:case Ru.REMUX_ALLOC_ERROR:case Ru.BUFFER_APPEND_ERROR:return void(t.errorAction=this.getLevelSwitchAction(t,null!=(a=t.level)?a:s.loadLevel));case Ru.INTERNAL_EXCEPTION:case Ru.BUFFER_APPENDING_ERROR:case Ru.BUFFER_FULL_ERROR:case Ru.LEVEL_SWITCH_ERROR:case Ru.BUFFER_STALLED_ERROR:case Ru.BUFFER_SEEK_OVER_HOLE:case Ru.BUFFER_NUDGE_ON_STALL:return void(t.errorAction={action:Ov,flags:Fv})}t.type===Au.KEY_SYSTEM_ERROR&&this.keySystemError(t)}keySystemError(e){const t=this.getVariantLevelIndex(e.frag);e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,t)}getPlaylistRetryOrSwitchAction(e,t){const i=Lv(this.hls.config.playlistLoadPolicy,e),a=this.playlistError++;if(Av(i,a,Pv(e),e.response))return{action:jv,flags:Fv,retryConfig:i,retryCount:a};const s=this.getLevelSwitchAction(e,t);return i&&(s.retryConfig=i,s.retryCount=a),s}getFragRetryOrSwitchAction(e){const t=this.hls,i=this.getVariantLevelIndex(e.frag),a=t.levels[i],{fragLoadPolicy:s,keyLoadPolicy:r}=t.config,n=Lv(e.details.startsWith("key")?r:s,e),o=t.levels.reduce(((e,t)=>e+t.fragmentError),0);if(a){e.details!==Ru.FRAG_GAP&&a.fragmentError++;if(Av(n,o,Pv(e),e.response))return{action:jv,flags:Fv,retryConfig:n,retryCount:o}}const d=this.getLevelSwitchAction(e,i);return n&&(d.retryConfig=n,d.retryCount=o),d}getLevelSwitchAction(e,t){const i=this.hls;null==t&&(t=i.loadLevel);const a=this.hls.levels[t];if(a){var s,r;const t=e.details;a.loadError++,t===Ru.BUFFER_APPEND_ERROR&&a.fragmentError++;let d=-1;const{levels:c,loadLevel:l,minAutoLevel:h,maxAutoLevel:p}=i;i.autoLevelEnabled||(i.loadLevel=-1);const g=null==(s=e.frag)?void 0:s.type,u=(g===Vm&&t===Ru.FRAG_PARSING_ERROR||"audio"===e.sourceBufferName&&(t===Ru.BUFFER_ADD_CODEC_ERROR||t===Ru.BUFFER_APPEND_ERROR))&&c.some((({audioCodec:e})=>a.audioCodec!==e)),f="video"===e.sourceBufferName&&(t===Ru.BUFFER_ADD_CODEC_ERROR||t===Ru.BUFFER_APPEND_ERROR)&&c.some((({codecSet:e,audioCodec:t})=>a.codecSet!==e&&a.audioCodec===t)),{type:m,groupId:v}=null!=(r=e.context)?r:{};for(let i=c.length;i--;){const s=(i+l)%c.length;if(s!==l&&s>=h&&s<=p&&0===c[s].loadError){var n,o;const i=c[s];if(t===Ru.FRAG_GAP&&g===Hm&&e.frag){const t=c[s].details;if(t){const i=Mv(e.frag,t.fragments,e.frag.start);if(null!=i&&i.gap)continue}}else{if(m===zm&&i.hasAudioGroup(v)||m===Bm&&i.hasSubtitleGroup(v))continue;if(g===Vm&&null!=(n=a.audioGroups)&&n.some((e=>i.hasAudioGroup(e)))||g===Gm&&null!=(o=a.subtitleGroups)&&o.some((e=>i.hasSubtitleGroup(e)))||u&&a.audioCodec===i.audioCodec||!u&&a.audioCodec!==i.audioCodec||f&&a.codecSet===i.codecSet)continue}d=s;break}}if(d>-1&&i.loadLevel!==d)return e.levelRetry=!0,this.playlistError=0,{action:$v,flags:Fv,nextAutoLevel:d}}return{action:$v,flags:Nv}}onErrorOut(e,t){var i;switch(null==(i=t.errorAction)?void 0:i.action){case Ov:break;case $v:this.sendAlternateToPenaltyBox(t),t.errorAction.resolved||t.details===Ru.FRAG_GAP?/MediaSource readyState: ended/.test(t.error.message)&&(this.warn(`MediaSource ended after "${t.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError()):t.fatal=!0}t.fatal&&this.hls.stopLoad()}sendAlternateToPenaltyBox(e){const t=this.hls,i=e.errorAction;if(!i)return;const{flags:a,hdcpLevel:s,nextAutoLevel:r}=i;switch(a){case Fv:this.switchLevel(e,r);break;case zv:s&&(t.maxHdcpLevel=cv[cv.indexOf(s)-1],i.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${t.maxHdcpLevel}" or lower`)}i.resolved||this.switchLevel(e,r)}switchLevel(e,t){void 0!==t&&e.errorAction&&(this.warn(`switching to level ${t} after ${e.details}`),this.hls.nextAutoLevel=t,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}},fpsController:class{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(Tu.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(Tu.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,t){const i=this.hls.config;if(i.capLevelOnFPSDrop){const e=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=e,e&&"function"==typeof e.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),i.fpsDroppedMonitoringPeriod)}}checkFPS(e,t,i){const a=performance.now();if(t){if(this.lastTime){const e=a-this.lastTime,s=i-this.lastDroppedFrames,r=t-this.lastDecodedFrames,n=1e3*s/e,o=this.hls;if(o.trigger(Tu.FPS_DROP,{currentDropped:s,currentDecoded:r,totalDroppedFrames:i}),n>0&&s>o.config.fpsDroppedMonitoringThreshold*r){let e=o.currentLevel;$u.warn("drop FPS ratio greater than max allowed value for currentLevel: "+e),e>0&&(-1===o.autoLevelCapping||o.autoLevelCapping>=e)&&(e-=1,o.trigger(Tu.FPS_DROP_LEVEL_CAPPING,{level:e,droppedLevel:o.currentLevel}),o.autoLevelCapping=e,this.streamController.nextLevelSwitch())}}this.lastTime=a,this.lastDroppedFrames=i,this.lastDecodedFrames=t}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}},stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:uf,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,useMediaCapabilities:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},{cueHandler:Ox,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:class extends Fy{constructor(e,t,i){super(e,t,i,"[subtitle-stream-controller]",Gm),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}_registerListeners(){const{hls:e}=this;e.on(Tu.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Tu.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Tu.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Tu.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Tu.ERROR,this.onError,this),e.on(Tu.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(Tu.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(Tu.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(Tu.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(Tu.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(Tu.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(Tu.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Tu.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Tu.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Tu.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Tu.ERROR,this.onError,this),e.off(Tu.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(Tu.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(Tu.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(Tu.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(Tu.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(Tu.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(e){this.stopLoad(),this.state=Ey,this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(e,t){this.mainDetails=t.details}onSubtitleFragProcessed(e,t){const{frag:i,success:a}=t;if(this.fragPrevious=i,this.state=Ey,!a)return;const s=this.tracksBuffered[this.currentTrackId];if(!s)return;let r;const n=i.start;for(let d=0;d<s.length;d++)if(n>=s[d].start&&n<=s[d].end){r=s[d];break}const o=i.start+i.duration;r?r.end=o:(r={start:n,end:o},s.push(r)),this.fragmentTracker.fragBuffered(i),this.fragBufferedComplete(i,null)}onBufferFlushing(e,t){const{startOffset:i,endOffset:a}=t;if(0===i&&a!==Number.POSITIVE_INFINITY){const e=a-1;if(e<=0)return;t.endOffsetSubtitles=Math.max(0,e),this.tracksBuffered.forEach((t=>{for(let i=0;i<t.length;)if(t[i].end<=e)t.shift();else{if(!(t[i].start<e))break;t[i].start=e,i++}})),this.fragmentTracker.removeFragmentsInRange(i,e,Gm)}}onFragBuffered(e,t){var i;this.loadedmetadata||t.frag.type!==Hm||null!=(i=this.media)&&i.buffered.length&&(this.loadedmetadata=!0)}onError(e,t){const i=t.frag;(null==i?void 0:i.type)===Gm&&(t.details===Ru.FRAG_GAP&&this.fragmentTracker.fragBuffered(i,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==Ly&&(this.state=Ey))}onSubtitleTracksUpdated(e,{subtitleTracks:t}){this.levels&&Zb(this.levels,t)?this.levels=t.map((e=>new mv(e))):(this.tracksBuffered=[],this.levels=t.map((e=>{const t=new mv(e);return this.tracksBuffered[t.id]=[],t})),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,Gm),this.fragPrevious=null,this.mediaBuffer=null)}onSubtitleTrackSwitch(e,t){var i;if(this.currentTrackId=t.id,null==(i=this.levels)||!i.length||-1===this.currentTrackId)return void this.clearInterval();const a=this.levels[this.currentTrackId];null!=a&&a.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,a&&this.setInterval(500)}onSubtitleTrackLoaded(e,t){var i;const{currentTrackId:a,levels:s}=this,{details:r,id:n}=t;if(!s)return void this.warn(`Subtitle tracks were reset while loading level ${n}`);const o=s[n];if(n>=s.length||!o)return;this.log(`Subtitle track ${n} loaded [${r.startSN},${r.endSN}]${r.lastPartSn?`[part-${r.lastPartSn}-${r.lastPartIndex}]`:""},duration:${r.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let d=0;if(r.live||null!=(i=o.details)&&i.live){const e=this.mainDetails;if(r.deltaUpdateFailed||!e)return;const t=e.fragments[0];var c;if(o.details)d=this.alignPlaylists(r,o.details,null==(c=this.levelLastLoaded)?void 0:c.details),0===d&&t&&(d=t.start,kv(r,d));else r.hasProgramDateTime&&e.hasProgramDateTime?(my(r,e),d=r.fragments[0].start):t&&(d=t.start,kv(r,d))}if(o.details=r,this.levelLastLoaded=o,n===a&&(this.startFragRequested||!this.mainDetails&&r.live||this.setStartPosition(this.mainDetails||r,d),this.tick(),r.live&&!this.fragCurrent&&this.media&&this.state===Ey)){Mv(null,r.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),o.details=void 0)}}_handleFragmentLoadComplete(e){const{frag:t,payload:i}=e,a=t.decryptdata,s=this.hls;if(!this.fragContextChanged(t)&&i&&i.byteLength>0&&null!=a&&a.key&&a.iv&&"AES-128"===a.method){const e=performance.now();this.decrypter.decrypt(new Uint8Array(i),a.key.buffer,a.iv.buffer).catch((e=>{throw s.trigger(Tu.ERROR,{type:Au.MEDIA_ERROR,details:Ru.FRAG_DECRYPT_ERROR,fatal:!1,error:e,reason:e.message,frag:t}),e})).then((i=>{const a=performance.now();s.trigger(Tu.FRAG_DECRYPTED,{frag:t,payload:i,stats:{tstart:e,tdecrypt:a}})})).catch((e=>{this.warn(`${e.name}: ${e.message}`),this.state=Ey}))}}doTick(){if(this.media){if(this.state===Ey){const{currentTrackId:e,levels:t}=this,i=null==t?void 0:t[e];if(!i||!t.length||!i.details)return;const{config:a}=this,s=this.getLoadPosition(),r=ly.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],s,a.maxBufferHole),{end:n,len:o}=r,d=this.getFwdBufferInfo(this.media,Hm),c=i.details;if(o>this.getMaxBufferLength(null==d?void 0:d.len)+c.levelTargetDuration)return;const l=c.fragments,h=l.length,p=c.edge;let g=null;const u=this.fragPrevious;if(n<p){const e=a.maxFragLookUpTolerance,t=n>p-e?0:e;g=Mv(u,l,Math.max(l[0].start,n),t),!g&&u&&u.start<l[0].start&&(g=l[0])}else g=l[h-1];if(!g)return;if(g=this.mapToInitFragWhenRequired(g),"initSegment"!==g.sn){const e=l[g.sn-c.startSN-1];e&&e.cc===g.cc&&this.fragmentTracker.getState(e)===iy&&(g=e)}this.fragmentTracker.getState(g)===iy&&this.loadFragment(g,i,n)}}else this.state=Ey}getMaxBufferLength(e){const t=super.getMaxBufferLength();return e?Math.max(t,e):t}loadFragment(e,t,i){this.fragCurrent=e,"initSegment"===e.sn?this._loadInitSegment(e,t):(this.startFragRequested=!0,super.loadFragment(e,t,i))}get mediaBufferTimeRanges(){return new Yb(this.tracksBuffered[this.currentTrackId]||[])}},subtitleTrackController:class extends Bv{constructor(e){super(e,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let e=null;const t=Xm(this.media.textTracks);for(let a=0;a<t.length;a++)if("hidden"===t[a].mode)e=t[a];else if("showing"===t[a].mode){e=t[a];break}const i=this.findTrackForTextTrack(e);this.subtitleTrack!==i&&this.setSubtitleTrack(i)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(Tu.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Tu.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Tu.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Tu.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Tu.LEVEL_LOADING,this.onLevelLoading,this),e.on(Tu.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(Tu.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(Tu.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(Tu.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Tu.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Tu.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Tu.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Tu.LEVEL_LOADING,this.onLevelLoading,this),e.off(Tu.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(Tu.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(Tu.ERROR,this.onError,this)}onMediaAttached(e,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(){if(!this.media)return;self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId);Xm(this.media.textTracks).forEach((e=>{Qm(e)})),this.subtitleTrack=-1,this.media=null}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.subtitleTracks}onSubtitleTrackLoaded(e,t){const{id:i,groupId:a,details:s}=t,r=this.tracksInGroup[i];if(!r||r.groupId!==a)return void this.warn(`Subtitle track with id:${i} and group:${a} not found in active group ${null==r?void 0:r.groupId}`);const n=r.details;r.details=t.details,this.log(`Subtitle track ${i} "${r.name}" lang:${r.lang} group:${a} loaded [${s.startSN}-${s.endSN}]`),i===this.trackId&&this.playlistLoaded(i,t,n)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){const t=this.hls.levels[e];if(!t)return;const i=t.subtitleGroups||null,a=this.groupIds;let s=this.currentTrack;if(!i||(null==a?void 0:a.length)!==(null==i?void 0:i.length)||null!=i&&i.some((e=>-1===(null==a?void 0:a.indexOf(e))))){this.groupIds=i,this.trackId=-1,this.currentTrack=null;const e=this.tracks.filter((e=>!i||-1!==i.indexOf(e.groupId)));if(e.length)this.selectDefaultTrack&&!e.some((e=>e.default))&&(this.selectDefaultTrack=!1),e.forEach(((e,t)=>{e.id=t}));else if(!s&&!this.tracksInGroup.length)return;this.tracksInGroup=e;const t=this.hls.config.subtitlePreference;if(!s&&t){this.selectDefaultTrack=!1;const i=Qv(t,e);if(i>-1)s=e[i];else{const e=Qv(t,this.tracks);s=this.tracks[e]}}let a=this.findTrackId(s);-1===a&&s&&(a=this.findTrackId(null));const r={subtitleTracks:e};this.log(`Updating subtitle tracks, ${e.length} track(s) found in "${null==i?void 0:i.join(",")}" group-id`),this.hls.trigger(Tu.SUBTITLE_TRACKS_UPDATED,r),-1!==a&&-1===this.trackId&&this.setSubtitleTrack(a)}else this.shouldReloadPlaylist(s)&&this.setSubtitleTrack(this.trackId)}findTrackId(e){const t=this.tracksInGroup,i=this.selectDefaultTrack;for(let a=0;a<t.length;a++){const s=t[a];if((!i||s.default)&&(i||e)&&(!e||Jv(s,e)))return a}if(e){for(let i=0;i<t.length;i++){const a=t[i];if(Kb(e.attrs,a.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return i}for(let i=0;i<t.length;i++){const a=t[i];if(Kb(e.attrs,a.attrs,["LANGUAGE"]))return i}}return-1}findTrackForTextTrack(e){if(e){const t=this.tracksInGroup;for(let i=0;i<t.length;i++){if(Wb(t[i],e))return i}}return-1}onError(e,t){!t.fatal&&t.context&&(t.context.type!==Bm||t.context.id!==this.trackId||this.groupIds&&-1===this.groupIds.indexOf(t.context.groupId)||this.checkRetry(t))}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){const t=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,t.length){const i=this.currentTrack;if(i&&Jv(e,i))return i;const a=Qv(e,this.tracksInGroup);if(a>-1){const e=this.tracksInGroup[a];return this.setSubtitleTrack(a),e}if(i)return null;{const i=Qv(e,t);if(i>-1)return t[i]}}}return null}loadPlaylist(e){super.loadPlaylist();const t=this.currentTrack;if(this.shouldLoadPlaylist(t)&&t){const a=t.id,s=t.groupId;let r=t.url;if(e)try{r=e.addDirectives(r)}catch(i){this.warn(`Could not construct new URL with HLS Delivery Directives: ${i}`)}this.log(`Loading subtitle playlist for id ${a}`),this.hls.trigger(Tu.SUBTITLE_TRACK_LOADING,{url:r,id:a,groupId:s,deliveryDirectives:e||null})}}toggleTrackModes(){const{media:e}=this;if(!e)return;const t=Xm(e.textTracks),i=this.currentTrack;let a;if(i&&(a=t.filter((e=>Wb(i,e)))[0],a||this.warn(`Unable to find subtitle TextTrack with name "${i.name}" and language "${i.lang}"`)),[].slice.call(t).forEach((e=>{"disabled"!==e.mode&&e!==a&&(e.mode="disabled")})),a){const e=this.subtitleDisplay?"showing":"hidden";a.mode!==e&&(a.mode=e)}}setSubtitleTrack(e){const t=this.tracksInGroup;if(!this.media)return void(this.queuedDefaultTrack=e);if(e<-1||e>=t.length||!Pu(e))return void this.warn(`Invalid subtitle track id: ${e}`);this.clearTimer(),this.selectDefaultTrack=!1;const i=this.currentTrack,a=t[e]||null;if(this.trackId=e,this.currentTrack=a,this.toggleTrackModes(),!a)return void this.hls.trigger(Tu.SUBTITLE_TRACK_SWITCH,{id:e});const s=!!a.details&&!a.details.live;if(e===this.trackId&&a===i&&s)return;this.log(`Switching to subtitle-track ${e}`+(a?` "${a.name}" lang:${a.lang} group:${a.groupId}`:""));const{id:r,groupId:n="",name:o,type:d,url:c}=a;this.hls.trigger(Tu.SUBTITLE_TRACK_SWITCH,{id:r,groupId:n,name:o,type:d,url:c});const l=this.switchParams(a.url,null==i?void 0:i.details,a.details);this.loadPlaylist(l)}},timelineController:class{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(Tu.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Tu.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Tu.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Tu.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(Tu.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(Tu.FRAG_LOADING,this.onFragLoading,this),e.on(Tu.FRAG_LOADED,this.onFragLoaded,this),e.on(Tu.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(Tu.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(Tu.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(Tu.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(Tu.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(Tu.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Tu.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Tu.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Tu.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(Tu.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(Tu.FRAG_LOADING,this.onFragLoading,this),e.off(Tu.FRAG_LOADED,this.onFragLoaded,this),e.off(Tu.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(Tu.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(Tu.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(Tu.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(Tu.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){if(this.config.enableCEA708Captions&&(!this.cea608Parser1||!this.cea608Parser2)){const e=new bw(this,"textTrack1"),t=new bw(this,"textTrack2"),i=new bw(this,"textTrack3"),a=new bw(this,"textTrack4");this.cea608Parser1=new mw(1,e,t),this.cea608Parser2=new mw(3,i,a)}}addCues(e,t,i,a,s){let r=!1;for(let l=s.length;l--;){const e=s[l],a=(n=e[0],o=e[1],d=t,c=i,Math.min(o,c)-Math.max(n,d));if(a>=0&&(e[0]=Math.min(e[0],t),e[1]=Math.max(e[1],i),r=!0,a/(i-t)>.5))return}var n,o,d,c;if(r||s.push([t,i]),this.config.renderTextTracksNatively){const s=this.captionsTracks[e];this.Cues.newCue(s,t,i,a)}else{const s=this.Cues.newCue(null,t,i,a);this.hls.trigger(Tu.CUES_PARSED,{type:"captions",cues:s,track:e})}}onInitPtsFound(e,{frag:t,id:i,initPTS:a,timescale:s}){const{unparsedVttFrags:r}=this;"main"===i&&(this.initPTS[t.cc]={baseTime:a,timescale:s}),r.length&&(this.unparsedVttFrags=[],r.forEach((e=>{this.onFragLoaded(Tu.FRAG_LOADED,e)})))}getExistingTrack(e,t){const{media:i}=this;if(i)for(let a=0;a<i.textTracks.length;a++){const s=i.textTracks[a];if(Zw(s,{name:e,lang:t}))return s}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:t,captionsTracks:i,media:a}=this,{label:s,languageCode:r}=t[e],n=this.getExistingTrack(s,r);if(n)i[e]=n,Qm(i[e]),Wm(i[e],a);else{const t=this.createTextTrack("captions",s,r);t&&(t[e]=!0,i[e]=t)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const t=this.captionsProperties[e];if(!t)return;const i={_id:e,label:t.label,kind:"captions",default:!!t.media&&!!t.media.default,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=i,this.hls.trigger(Tu.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[i]})}createTextTrack(e,t,i){const a=this.media;if(a)return a.addTextTrack(e,t,i)}onMediaAttaching(e,t){this.media=t.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:e}=this;Object.keys(e).forEach((t=>{Qm(e[t]),delete e[t]})),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const t=e.textTracks;if(t)for(let i=0;i<t.length;i++)Qm(t[i])}onSubtitleTracksUpdated(e,t){const i=t.subtitleTracks||[],a=i.some((e=>e.textCodec===Ow));if(this.config.enableWebVTT||a&&this.config.enableIMSC1){if(Zb(this.tracks,i))return void(this.tracks=i);if(this.textTracks=[],this.tracks=i,this.config.renderTextTracksNatively){const e=this.media,t=e?Xm(e.textTracks):null;if(this.tracks.forEach(((e,i)=>{let a;if(t){let i=null;for(let a=0;a<t.length;a++)if(t[a]&&Zw(t[a],e)){i=t[a],t[a]=null;break}i&&(a=i)}if(a)Qm(a);else{const t=qw(e);a=this.createTextTrack(t,e.name,e.lang),a&&(a.mode="disabled")}a&&this.textTracks.push(a)})),null!=t&&t.length){const e=t.filter((e=>null!==e)).map((e=>e.label));e.length&&$u.warn(`Media element contains unused subtitle tracks: ${e.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const e=this.tracks.map((e=>({label:e.name,kind:e.type.toLowerCase(),default:e.default,subtitleTrack:e})));this.hls.trigger(Tu.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:e})}}}onManifestLoaded(e,t){this.config.enableCEA708Captions&&t.captions&&t.captions.forEach((e=>{const t=/(?:CC|SERVICE)([1-4])/.exec(e.instreamId);if(!t)return;const i=`textTrack${t[1]}`,a=this.captionsProperties[i];a&&(a.label=e.name,e.lang&&(a.languageCode=e.lang),a.media=e)}))}closedCaptionsForLevel(e){const t=this.hls.levels[e.level];return null==t?void 0:t.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,t){if(this.enabled&&t.frag.type===Hm){var i,a;const{cea608Parser1:e,cea608Parser2:s,lastSn:r}=this,{cc:n,sn:o}=t.frag,d=null!=(i=null==(a=t.part)?void 0:a.index)?i:-1;e&&s&&(o!==r+1||o===r&&d!==this.lastPartIndex+1||n!==this.lastCc)&&(e.reset(),s.reset()),this.lastCc=n,this.lastSn=o,this.lastPartIndex=d}}onFragLoaded(e,t){const{frag:i,payload:a}=t;if(i.type===Gm)if(a.byteLength){const e=i.decryptdata,s="stats"in t;if(null==e||!e.encrypted||s){const e=this.tracks[i.level],s=this.vttCCs;s[i.cc]||(s[i.cc]={start:i.start,prevCC:this.prevCC,new:!0},this.prevCC=i.cc),e&&e.textCodec===Ow?this._parseIMSC1(i,a):this._parseVTTs(t)}}else this.hls.trigger(Tu.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,t){const i=this.hls;Fw(t,this.initPTS[e.cc],(t=>{this._appendCues(t,e.level),i.trigger(Tu.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})}),(t=>{$u.log(`Failed to parse IMSC1: ${t}`),i.trigger(Tu.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:t})}))}_parseVTTs(e){var t;const{frag:i,payload:a}=e,{initPTS:s,unparsedVttFrags:r}=this,n=s.length-1;if(!s[i.cc]&&-1===n)return void r.push(e);const o=this.hls;Iw(null!=(t=i.initSegment)&&t.data?em(i.initSegment.data,new Uint8Array(a)):a,this.initPTS[i.cc],this.vttCCs,i.cc,i.start,(e=>{this._appendCues(e,i.level),o.trigger(Tu.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:i})}),(t=>{const s="Missing initPTS for VTT MPEGTS"===t.message;s?r.push(e):this._fallbackToIMSC1(i,a),$u.log(`Failed to parse VTT cue: ${t}`),s&&n>i.cc||o.trigger(Tu.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:t})}))}_fallbackToIMSC1(e,t){const i=this.tracks[e.level];i.textCodec||Fw(t,this.initPTS[e.cc],(()=>{i.textCodec=Ow,this._parseIMSC1(e,t)}),(()=>{i.textCodec="wvtt"}))}_appendCues(e,t){const i=this.hls;if(this.config.renderTextTracksNatively){const i=this.textTracks[t];if(!i||"disabled"===i.mode)return;e.forEach((e=>Ym(i,e)))}else{const a=this.tracks[t];if(!a)return;const s=a.default?"default":"subtitles"+t;i.trigger(Tu.CUES_PARSED,{type:"subtitles",cues:e,track:s})}}onFragDecrypted(e,t){const{frag:i}=t;i.type===Gm&&this.onFragLoaded(Tu.FRAG_LOADED,t)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,t){this.initCea608Parsers();const{cea608Parser1:i,cea608Parser2:a}=this;if(!this.enabled||!i||!a)return;const{frag:s,samples:r}=t;if(s.type!==Hm||"NONE"!==this.closedCaptionsForLevel(s))for(let n=0;n<r.length;n++){const e=r[n].bytes;if(e){const t=this.extractCea608Data(e);i.addData(r[n].pts,t[0]),a.addData(r[n].pts,t[1])}}}onBufferFlushing(e,{startOffset:t,endOffset:i,endOffsetSubtitles:a,type:s}){const{media:r}=this;if(r&&!(r.currentTime<i)){if(!s||"video"===s){const{captionsTracks:e}=this;Object.keys(e).forEach((a=>Jm(e[a],t,i)))}if(this.config.renderTextTracksNatively&&0===t&&void 0!==a){const{textTracks:e}=this;Object.keys(e).forEach((i=>Jm(e[i],t,a)))}}}extractCea608Data(e){const t=[[],[]],i=31&e[0];let a=2;for(let s=0;s<i;s++){const i=e[a++],s=127&e[a++],r=127&e[a++];if(0===s&&0===r)continue;if(!!(4&i)){const e=3&i;0!==e&&1!==e||(t[e].push(s),t[e].push(r))}}return t}},audioStreamController:class extends Fy{constructor(e,t,i){super(e,t,i,"[audio-stream-controller]",Vm),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:e}=this;e.on(Tu.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Tu.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Tu.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Tu.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Tu.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(Tu.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(Tu.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(Tu.ERROR,this.onError,this),e.on(Tu.BUFFER_RESET,this.onBufferReset,this),e.on(Tu.BUFFER_CREATED,this.onBufferCreated,this),e.on(Tu.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(Tu.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(Tu.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(Tu.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(Tu.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Tu.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Tu.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Tu.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Tu.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(Tu.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(Tu.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(Tu.ERROR,this.onError,this),e.off(Tu.BUFFER_RESET,this.onBufferReset,this),e.off(Tu.BUFFER_CREATED,this.onBufferCreated,this),e.off(Tu.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(Tu.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(Tu.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(Tu.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(e,{frag:t,id:i,initPTS:a,timescale:s}){if("main"===i){const e=t.cc;this.initPTS[t.cc]={baseTime:a,timescale:s},this.log(`InitPTS for cc: ${e} found from main: ${a}`),this.videoTrackCC=e,this.state===Uy&&this.tick()}}startLoad(e){if(!this.levels)return this.startPosition=e,void(this.state=Ly);const t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),t>0&&-1===e?(this.log(`Override startPosition with lastCurrentTime @${t.toFixed(3)}`),e=t,this.state=Ey):(this.loadedmetadata=!1,this.state=My),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}doTick(){switch(this.state){case Ey:this.doTickIdle();break;case My:{var e;const{levels:t,trackId:i}=this,a=null==t||null==(e=t[i])?void 0:e.details;if(a){if(this.waitForCdnTuneIn(a))break;this.state=Uy}break}case Ry:{var t;const e=performance.now(),i=this.retryDate;if(!i||e>=i||null!=(t=this.media)&&t.seeking){const{levels:e,trackId:t}=this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((null==e?void 0:e[t])||null),this.state=Ey}break}case Uy:{const e=this.waitingData;if(e){const{frag:t,part:i,cache:a,complete:s}=e;if(void 0!==this.initPTS[t.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=Ay;const e={frag:t,part:i,payload:a.flush(),networkDetails:null};this._handleFragmentLoadProgress(e),s&&super._handleFragmentLoadComplete(e)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${t.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const e=this.getLoadPosition(),i=ly.bufferInfo(this.mediaBuffer,e,this.config.maxBufferHole);Dv(i.end,this.config.maxFragLookUpTolerance,t)<0&&(this.log(`Waiting fragment cc (${t.cc}) @ ${t.start} cancelled because another fragment at ${i.end} is needed`),this.clearWaitingFragment())}}else this.state=Ey}}this.onTickEnd()}clearWaitingFragment(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=Ey)}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:e}=this;null!=e&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){const{hls:e,levels:t,media:i,trackId:a}=this,s=e.config;if(!this.buffering||!i&&(this.startFragRequested||!s.startFragPrefetch)||null==t||!t[a])return;const r=t[a],n=r.details;if(!n||n.live&&this.levelLastLoaded!==r||this.waitForCdnTuneIn(n))return void(this.state=My);const o=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&o&&(this.bufferFlushed=!1,this.afterBufferFlushed(o,Hu,Vm));const d=this.getFwdBufferInfo(o,Vm);if(null===d)return;if(!this.switchingTrack&&this._streamEnded(d,n))return e.trigger(Tu.BUFFER_EOS,{type:"audio"}),void(this.state=Oy);const c=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,Hm),l=d.len,h=this.getMaxBufferLength(null==c?void 0:c.len),p=n.fragments,g=p[0].start,u=this.getLoadPosition(),f=this.flushing?u:d.end;if(this.switchingTrack&&i){const e=u;n.PTSKnown&&e<g&&(d.end>g||d.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),i.currentTime=g+.05)}if(l>=h&&!this.switchingTrack&&f<p[p.length-1].start)return;let m=this.getNextFragment(f,n),v=!1;if(m&&this.isLoopLoading(m,f)&&(v=!!m.gap,m=this.getNextFragmentLoopLoading(m,n,d,Hm,h)),!m)return void(this.bufferFlushed=!0);const y=c&&m.start>c.end+n.targetduration;if(y||(null==c||!c.len)&&d.len){const e=this.getAppendedFrag(m.start,Hm);if(null===e)return;if(v||(v=!!e.gap||!!y&&0===c.len),y&&!v||v&&d.nextStart&&d.nextStart<e.end)return}this.loadFragment(m,r,f)}getMaxBufferLength(e){const t=super.getMaxBufferLength();return e?Math.min(Math.max(t,e),this.config.maxMaxBufferLength):t}onMediaDetaching(){this.videoBuffer=null,this.bufferFlushed=this.flushing=!1,super.onMediaDetaching()}onAudioTracksUpdated(e,{audioTracks:t}){this.resetTransmuxer(),this.levels=t.map((e=>new mv(e)))}onAudioTrackSwitching(e,t){const i=!!t.url;this.trackId=t.id;const{fragCurrent:a}=this;a&&(a.abortRequests(),this.removeUnbufferedFrags(a.start)),this.resetLoadingState(),i?this.setInterval(100):this.resetTransmuxer(),i?(this.switchingTrack=t,this.state=Ey,this.flushAudioIfNeeded(t)):(this.switchingTrack=null,this.bufferedTrack=t,this.state=Ly),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=this.flushing=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(e,t){this.mainDetails=t.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(Tu.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(e,t){var i;if(null==this.mainDetails)return void(this.cachedTrackLoadedData=t);const{levels:a}=this,{details:s,id:r}=t;if(!a)return void this.warn(`Audio tracks were reset while loading level ${r}`);this.log(`Audio track ${r} loaded [${s.startSN},${s.endSN}]${s.lastPartSn?`[part-${s.lastPartSn}-${s.lastPartIndex}]`:""},duration:${s.totalduration}`);const n=a[r];let o=0;if(s.live||null!=(i=n.details)&&i.live){this.checkLiveUpdate(s);const e=this.mainDetails;if(s.deltaUpdateFailed||!e)return;var d;if(!n.details&&s.hasProgramDateTime&&e.hasProgramDateTime)my(s,e),o=s.fragments[0].start;else o=this.alignPlaylists(s,n.details,null==(d=this.levelLastLoaded)?void 0:d.details)}n.details=s,this.levelLastLoaded=n,this.startFragRequested||!this.mainDetails&&s.live||this.setStartPosition(this.mainDetails||s,o),this.state!==My||this.waitForCdnTuneIn(s)||(this.state=Ey),this.tick()}_handleFragmentLoadProgress(e){var t;const{frag:i,part:a,payload:s}=e,{config:r,trackId:n,levels:o}=this;if(!o)return void this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${i.sn} of level ${i.level} will not be buffered`);const d=o[n];if(!d)return void this.warn("Audio track is undefined on fragment load progress");const c=d.details;if(!c)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(i.start);const l=r.defaultAudioCodec||d.audioCodec||"mp4a.40.2";let h=this.transmuxer;h||(h=this.transmuxer=new qb(this.hls,Vm,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const p=this.initPTS[i.cc],g=null==(t=i.initSegment)?void 0:t.data;if(void 0!==p){const e=!1,t=a?a.index:-1,r=-1!==t,n=new hy(i.level,i.sn,i.stats.chunkCount,s.byteLength,t,r);h.push(s,g,l,"",i,a,c.totalduration,e,n,p)}else{this.log(`Unknown video PTS for cc ${i.cc}, waiting for video PTS before demuxing audio frag ${i.sn} of [${c.startSN} ,${c.endSN}],track ${n}`);const{cache:e}=this.waitingData=this.waitingData||{frag:i,part:a,cache:new Ny,complete:!1};e.push(new Uint8Array(s)),this.waitingVideoCC=this.videoTrackCC,this.state=Uy}}_handleFragmentLoadComplete(e){this.waitingData?this.waitingData.complete=!0:super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(e,t){const i=t.tracks.audio;i&&(this.mediaBuffer=i.buffer||null),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer||null)}onFragBuffered(e,t){const{frag:i,part:a}=t;if(i.type===Vm)if(this.fragContextChanged(i))this.warn(`Fragment ${i.sn}${a?" p: "+a.index:""} of level ${i.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);else{if("initSegment"!==i.sn){this.fragPrevious=i;const e=this.switchingTrack;e&&(this.bufferedTrack=e,this.switchingTrack=null,this.hls.trigger(Tu.AUDIO_TRACK_SWITCHED,ku({},e)))}this.fragBufferedComplete(i,a)}else if(!this.loadedmetadata&&i.type===Hm){const e=this.videoBuffer||this.media;if(e){ly.getBuffered(e).length&&(this.loadedmetadata=!0)}}}onError(e,t){var i;if(t.fatal)this.state=$y;else switch(t.details){case Ru.FRAG_GAP:case Ru.FRAG_PARSING_ERROR:case Ru.FRAG_DECRYPT_ERROR:case Ru.FRAG_LOAD_ERROR:case Ru.FRAG_LOAD_TIMEOUT:case Ru.KEY_LOAD_ERROR:case Ru.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Vm,t);break;case Ru.AUDIO_TRACK_LOAD_ERROR:case Ru.AUDIO_TRACK_LOAD_TIMEOUT:case Ru.LEVEL_PARSING_ERROR:t.levelRetry||this.state!==My||(null==(i=t.context)?void 0:i.type)!==zm||(this.state=Ey);break;case Ru.BUFFER_APPEND_ERROR:case Ru.BUFFER_FULL_ERROR:if(!t.parent||"audio"!==t.parent)return;if(t.details===Ru.BUFFER_APPEND_ERROR)return void this.resetLoadingState();this.reduceLengthAndFlushBuffer(t)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case Ru.INTERNAL_EXCEPTION:this.recoverWorkerError(t)}}onBufferFlushing(e,{type:t}){t!==Vu&&(this.flushing=!0)}onBufferFlushed(e,{type:t}){if(t!==Vu){this.flushing=!1,this.bufferFlushed=!0,this.state===Oy&&(this.state=Ey);const e=this.mediaBuffer||this.media;e&&(this.afterBufferFlushed(e,t,Vm),this.tick())}}_handleTransmuxComplete(e){var t;const i="audio",{hls:a}=this,{remuxResult:s,chunkMeta:r}=e,n=this.getCurrentContext(r);if(!n)return void this.resetWhenMissingContext(r);const{frag:o,part:d,level:c}=n,{details:l}=c,{audio:h,text:p,id3:g,initSegment:u}=s;if(!this.fragContextChanged(o)&&l){if(this.state=Dy,this.switchingTrack&&h&&this.completeAudioSwitch(this.switchingTrack),null!=u&&u.tracks){const e=o.initSegment||o;this._bufferInitSegment(c,u.tracks,e,r),a.trigger(Tu.FRAG_PARSING_INIT_SEGMENT,{frag:e,id:i,tracks:u.tracks})}if(h){const{startPTS:e,endPTS:t,startDTS:i,endDTS:a}=h;d&&(d.elementaryStreams[Hu]={startPTS:e,endPTS:t,startDTS:i,endDTS:a}),o.setElementaryStreamInfo(Hu,e,t,i,a),this.bufferFragmentData(h,o,d,r)}if(null!=g&&null!=(t=g.samples)&&t.length){const e=_u({id:i,frag:o,details:l},g);a.trigger(Tu.FRAG_PARSING_METADATA,e)}if(p){const e=_u({id:i,frag:o,details:l},p);a.trigger(Tu.FRAG_PARSING_USERDATA,e)}}else this.fragmentTracker.removeFragment(o)}_bufferInitSegment(e,t,i,a){if(this.state!==Dy)return;t.video&&delete t.video;const s=t.audio;if(!s)return;s.id="audio";const r=e.audioCodec;this.log(`Init audio buffer, container:${s.container}, codecs[level/parsed]=[${r}/${s.codec}]`),r&&1===r.split(",").length&&(s.levelCodec=r),this.hls.trigger(Tu.BUFFER_CODECS,t);const n=s.initSegment;if(null!=n&&n.byteLength){const e={type:"audio",frag:i,part:null,chunkMeta:a,parent:i.type,data:n};this.hls.trigger(Tu.BUFFER_APPENDING,e)}this.tickImmediate()}loadFragment(e,t,i){const a=this.fragmentTracker.getState(e);var s;if(this.fragCurrent=e,this.switchingTrack||a===iy||a===sy)if("initSegment"===e.sn)this._loadInitSegment(e,t);else if(null!=(s=t.details)&&s.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=Uy;const i=this.mainDetails;i&&i.fragments[0].start!==t.details.fragments[0].start&&my(t.details,i)}else this.startFragRequested=!0,super.loadFragment(e,t,i);else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){if(this.media&&this.bufferedTrack){const{name:t,lang:i,assocLang:a,characteristics:s,audioCodec:r,channels:n}=this.bufferedTrack;Jv({name:t,lang:i,assocLang:a,characteristics:s,audioCodec:r,channels:n},e,Xv)||(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null)}}completeAudioSwitch(e){const{hls:t}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,t.trigger(Tu.AUDIO_TRACK_SWITCHED,ku({},e))}},audioTrackController:class extends Bv{constructor(e){super(e,"[audio-track-controller]"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(Tu.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Tu.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Tu.LEVEL_LOADING,this.onLevelLoading,this),e.on(Tu.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(Tu.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(Tu.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(Tu.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Tu.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Tu.LEVEL_LOADING,this.onLevelLoading,this),e.off(Tu.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(Tu.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(Tu.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.audioTracks||[]}onAudioTrackLoaded(e,t){const{id:i,groupId:a,details:s}=t,r=this.tracksInGroup[i];if(!r||r.groupId!==a)return void this.warn(`Audio track with id:${i} and group:${a} not found in active group ${null==r?void 0:r.groupId}`);const n=r.details;r.details=t.details,this.log(`Audio track ${i} "${r.name}" lang:${r.lang} group:${a} loaded [${s.startSN}-${s.endSN}]`),i===this.trackId&&this.playlistLoaded(i,t,n)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){const t=this.hls.levels[e];if(!t)return;const i=t.audioGroups||null,a=this.groupIds;let s=this.currentTrack;if(!i||(null==a?void 0:a.length)!==(null==i?void 0:i.length)||null!=i&&i.some((e=>-1===(null==a?void 0:a.indexOf(e))))){this.groupIds=i,this.trackId=-1,this.currentTrack=null;const e=this.tracks.filter((e=>!i||-1!==i.indexOf(e.groupId)));if(e.length)this.selectDefaultTrack&&!e.some((e=>e.default))&&(this.selectDefaultTrack=!1),e.forEach(((e,t)=>{e.id=t}));else if(!s&&!this.tracksInGroup.length)return;this.tracksInGroup=e;const t=this.hls.config.audioPreference;if(!s&&t){const i=Qv(t,e,Xv);if(i>-1)s=e[i];else{const e=Qv(t,this.tracks);s=this.tracks[e]}}let a=this.findTrackId(s);-1===a&&s&&(a=this.findTrackId(null));const n={audioTracks:e};this.log(`Updating audio tracks, ${e.length} track(s) found in group(s): ${null==i?void 0:i.join(",")}`),this.hls.trigger(Tu.AUDIO_TRACKS_UPDATED,n);const o=this.trackId;if(-1!==a&&-1===o)this.setAudioTrack(a);else if(e.length&&-1===o){var r;const t=new Error(`No audio track selected for current audio group-ID(s): ${null==(r=this.groupIds)?void 0:r.join(",")} track count: ${e.length}`);this.warn(t.message),this.hls.trigger(Tu.ERROR,{type:Au.MEDIA_ERROR,details:Ru.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:t})}}else this.shouldReloadPlaylist(s)&&this.setAudioTrack(this.trackId)}onError(e,t){!t.fatal&&t.context&&(t.context.type!==zm||t.context.id!==this.trackId||this.groupIds&&-1===this.groupIds.indexOf(t.context.groupId)||(this.requestScheduled=-1,this.checkRetry(t)))}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const t=this.hls;if(t.config.audioPreference=e,e){const i=this.allAudioTracks;if(this.selectDefaultTrack=!1,i.length){const a=this.currentTrack;if(a&&Jv(e,a,Xv))return a;const s=Qv(e,this.tracksInGroup,Xv);if(s>-1){const e=this.tracksInGroup[s];return this.setAudioTrack(s),e}if(a){let a=t.loadLevel;-1===a&&(a=t.firstAutoLevel);const s=function(e,t,i,a,s){const r=t[a],n=t.reduce(((e,t,i)=>{const a=t.uri;return(e[a]||(e[a]=[])).push(i),e}),{}),o=n[r.uri];o.length>1&&(a=Math.max.apply(Math,o));const d=r.videoRange,c=r.frameRate,l=r.codecSet.substring(0,4),h=ey(t,a,(t=>{if(t.videoRange!==d||t.frameRate!==c||t.codecSet.substring(0,4)!==l)return!1;const a=t.audioGroups,r=i.filter((e=>!a||-1!==a.indexOf(e.groupId)));return Qv(e,r,s)>-1}));return h>-1?h:ey(t,a,(t=>{const a=t.audioGroups,r=i.filter((e=>!a||-1!==a.indexOf(e.groupId)));return Qv(e,r,s)>-1}))}(e,t.levels,i,a,Xv);if(-1===s)return null;t.nextLoadLevel=s}if(e.channels||e.audioCodec){const t=Qv(e,i);if(t>-1)return i[t]}}}return null}setAudioTrack(e){const t=this.tracksInGroup;if(e<0||e>=t.length)return void this.warn(`Invalid audio track id: ${e}`);this.clearTimer(),this.selectDefaultTrack=!1;const i=this.currentTrack,a=t[e],s=a.details&&!a.details.live;if(e===this.trackId&&a===i&&s)return;if(this.log(`Switching to audio-track ${e} "${a.name}" lang:${a.lang} group:${a.groupId} channels:${a.channels}`),this.trackId=e,this.currentTrack=a,this.hls.trigger(Tu.AUDIO_TRACK_SWITCHING,ku({},a)),s)return;const r=this.switchParams(a.url,null==i?void 0:i.details,a.details);this.loadPlaylist(r)}findTrackId(e){const t=this.tracksInGroup;for(let i=0;i<t.length;i++){const a=t[i];if((!this.selectDefaultTrack||a.default)&&(!e||Jv(e,a,Xv)))return i}if(e){const{name:i,lang:a,assocLang:s,characteristics:r,audioCodec:n,channels:o}=e;for(let e=0;e<t.length;e++){if(Jv({name:i,lang:a,assocLang:s,characteristics:r,audioCodec:n,channels:o},t[e],Xv))return e}for(let d=0;d<t.length;d++){const i=t[d];if(Kb(e.attrs,i.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return d}for(let d=0;d<t.length;d++){const i=t[d];if(Kb(e.attrs,i.attrs,["LANGUAGE"]))return d}}return-1}loadPlaylist(e){const t=this.currentTrack;if(this.shouldLoadPlaylist(t)&&t){super.loadPlaylist();const a=t.id,s=t.groupId;let r=t.url;if(e)try{r=e.addDirectives(r)}catch(i){this.warn(`Could not construct new URL with HLS Delivery Directives: ${i}`)}this.log(`loading audio-track playlist ${a} "${t.name}" lang:${t.lang} group:${s}`),this.clearTimer(),this.hls.trigger(Tu.AUDIO_TRACK_LOADING,{url:r,id:a,groupId:s,deliveryDirectives:e||null})}}},emeController:Yw,cmcdController:class{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=e=>{try{this.apply(e,{ot:Jw.MANIFEST,su:!this.initialized})}catch(t){$u.warn("Could not generate manifest CMCD data.",t)}},this.applyFragmentData=e=>{try{const t=e.frag,i=this.hls.levels[t.level],a=this.getObjectType(t),s={d:1e3*t.duration,ot:a};a!==Jw.VIDEO&&a!==Jw.AUDIO&&a!=Jw.MUXED||(s.br=i.bitrate/1e3,s.tb=this.getTopBandwidth(a)/1e3,s.bl=this.getBufferLength(a)),this.apply(e,s)}catch(t){$u.warn("Could not generate segment CMCD data.",t)}},this.hls=e;const t=this.config=e.config,{cmcd:i}=t;null!=i&&(t.pLoader=this.createPlaylistLoader(),t.fLoader=this.createFragmentLoader(),this.sid=i.sessionId||function(){try{return crypto.randomUUID()}catch(e){try{const e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.slice(t.lastIndexOf("/")+1)}catch(e){let t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const i=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?i:3&i|8).toString(16)}))}}}(),this.cid=i.contentId,this.useHeaders=!0===i.useHeaders,this.includeKeys=i.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(Tu.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Tu.MEDIA_DETACHED,this.onMediaDetached,this),e.on(Tu.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(Tu.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Tu.MEDIA_DETACHED,this.onMediaDetached,this),e.off(Tu.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=null}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,t){var i,a;this.audioBuffer=null==(i=t.tracks.audio)?void 0:i.buffer,this.videoBuffer=null==(a=t.tracks.video)?void 0:a.buffer}createData(){var e;return{v:1,sf:Xw.HLS,sid:this.sid,cid:this.cid,pr:null==(e=this.media)?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,t={}){_u(t,this.createData());const i=t.ot===Jw.INIT||t.ot===Jw.VIDEO||t.ot===Jw.MUXED;this.starved&&i&&(t.bs=!0,t.su=!0,this.starved=!1),null==t.su&&(t.su=this.buffering);const{includeKeys:a}=this;a&&(t=Object.keys(t).reduce(((e,i)=>(a.includes(i)&&(e[i]=t[i]),e)),{})),this.useHeaders?(e.headers||(e.headers={}),Sx(e.headers,t)):e.url=_x(e.url,t)}getObjectType(e){const{type:t}=e;return"subtitle"===t?Jw.TIMED_TEXT:"initSegment"===e.sn?Jw.INIT:"audio"===t?Jw.AUDIO:"main"===t?this.hls.audioTracks.length?Jw.VIDEO:Jw.MUXED:void 0}getTopBandwidth(e){let t,i=0;const a=this.hls;if(e===Jw.AUDIO)t=a.audioTracks;else{const e=a.maxAutoLevel,i=e>-1?e+1:a.levels.length;t=a.levels.slice(0,i)}for(const s of t)s.bitrate>i&&(i=s.bitrate);return i>0?i:NaN}getBufferLength(e){const t=this.hls.media,i=e===Jw.AUDIO?this.audioBuffer:this.videoBuffer;if(!i||!t)return NaN;return 1e3*ly.bufferInfo(i,t.currentTime,this.config.maxBufferHole).len}createPlaylistLoader(){const{pLoader:e}=this.config,t=this.applyPlaylistData,i=e||this.config.loader;return class{constructor(e){this.loader=void 0,this.loader=new i(e)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(e,i,a){t(e),this.loader.load(e,i,a)}}}createFragmentLoader(){const{fLoader:e}=this.config,t=this.applyFragmentData,i=e||this.config.loader;return class{constructor(e){this.loader=void 0,this.loader=new i(e)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(e,i,a){t(e),this.loader.load(e,i,a)}}}},contentSteeringController:class{constructor(e){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.log=$u.log.bind($u,"[content-steering]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(Tu.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Tu.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(Tu.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Tu.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(Tu.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Tu.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(Tu.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Tu.ERROR,this.onError,this))}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=1e3*this.timeToLoad-(performance.now()-this.updated);if(e>0)return void this.scheduleRefresh(this.uri,e)}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){-1!==this.reloadTimer&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const t=this.levels;t&&(this.levels=t.filter((t=>t!==e)))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,t){const{contentSteering:i}=t;null!==i&&(this.pathwayId=i.pathwayId,this.uri=i.uri,this.started&&this.startLoad())}onManifestParsed(e,t){this.audioTracks=t.audioTracks,this.subtitleTracks=t.subtitleTracks}onError(e,t){const{errorAction:i}=t;if((null==i?void 0:i.action)===$v&&i.flags===Nv){const e=this.levels;let a=this.pathwayPriority,s=this.pathwayId;if(t.context){const{groupId:i,pathwayId:a,type:r}=t.context;i&&e?s=this.getPathwayForGroupId(i,r,s):a&&(s=a)}s in this.penalizedPathways||(this.penalizedPathways[s]=performance.now()),!a&&e&&(a=e.reduce(((e,t)=>(-1===e.indexOf(t.pathwayId)&&e.push(t.pathwayId),e)),[])),a&&a.length>1&&(this.updatePathwayPriority(a),i.resolved=this.pathwayId!==s),i.resolved||$u.warn(`Could not resolve ${t.details} ("${t.error.message}") with content-steering for Pathway: ${s} levels: ${e?e.length:e} priorities: ${JSON.stringify(a)} penalized: ${JSON.stringify(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let t=this.getLevelsForPathway(this.pathwayId);if(0===t.length){const i=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${i}"`),t=this.getLevelsForPathway(i),this.pathwayId=i}return t.length!==e.length&&this.log(`Found ${t.length}/${e.length} levels in Pathway "${this.pathwayId}"`),t}getLevelsForPathway(e){return null===this.levels?[]:this.levels.filter((t=>e===t.pathwayId))}updatePathwayPriority(e){let t;this.pathwayPriority=e;const i=this.penalizedPathways,a=performance.now();Object.keys(i).forEach((e=>{a-i[e]>3e5&&delete i[e]}));for(let s=0;s<e.length;s++){const a=e[s];if(a in i)continue;if(a===this.pathwayId)return;const r=this.hls.nextLoadLevel,n=this.hls.levels[r];if(t=this.getLevelsForPathway(a),t.length>0){this.log(`Setting Pathway to "${a}"`),this.pathwayId=a,_v(t),this.hls.trigger(Tu.LEVELS_UPDATED,{levels:t});const e=this.hls.levels[r];n&&e&&this.levels&&(e.attrs["STABLE-VARIANT-ID"]!==n.attrs["STABLE-VARIANT-ID"]&&e.bitrate!==n.bitrate&&this.log(`Unstable Pathways change from bitrate ${n.bitrate} to ${e.bitrate}`),this.hls.nextLoadLevel=r);break}}}getPathwayForGroupId(e,t,i){const a=this.getLevelsForPathway(i).concat(this.levels||[]);for(let s=0;s<a.length;s++)if(t===zm&&a[s].hasAudioGroup(e)||t===Bm&&a[s].hasSubtitleGroup(e))return a[s].pathwayId;return i}clonePathways(e){const t=this.levels;if(!t)return;const i={},a={};e.forEach((e=>{const{ID:s,"BASE-ID":r,"URI-REPLACEMENT":n}=e;if(t.some((e=>e.pathwayId===s)))return;const o=this.getLevelsForPathway(r).map((e=>{const t=new Fu(e.attrs);t["PATHWAY-ID"]=s;const r=t.AUDIO&&`${t.AUDIO}_clone_${s}`,o=t.SUBTITLES&&`${t.SUBTITLES}_clone_${s}`;r&&(i[t.AUDIO]=r,t.AUDIO=r),o&&(a[t.SUBTITLES]=o,t.SUBTITLES=o);const d=Lx(e.uri,t["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",n),c=new mv({attrs:t,audioCodec:e.audioCodec,bitrate:e.bitrate,height:e.height,name:e.name,url:d,videoCodec:e.videoCodec,width:e.width});if(e.audioGroups)for(let i=1;i<e.audioGroups.length;i++)c.addGroupId("audio",`${e.audioGroups[i]}_clone_${s}`);if(e.subtitleGroups)for(let i=1;i<e.subtitleGroups.length;i++)c.addGroupId("text",`${e.subtitleGroups[i]}_clone_${s}`);return c}));t.push(...o),Px(this.audioTracks,i,n,s),Px(this.subtitleTracks,a,n,s)}))}loadSteeringManifest(e){const t=this.hls.config,i=t.loader;let a;this.loader&&this.loader.destroy(),this.loader=new i(t);try{a=new self.URL(e)}catch(c){return this.enabled=!1,void this.log(`Failed to parse Steering Manifest URI: ${e}`)}if("data:"!==a.protocol){const e=0|(this.hls.bandwidthEstimate||t.abrEwmaDefaultEstimate);a.searchParams.set("_HLS_pathway",this.pathwayId),a.searchParams.set("_HLS_throughput",""+e)}const s={responseType:"json",url:a.href},r=t.steeringManifestLoadPolicy.default,n=r.errorRetry||r.timeoutRetry||{},o={loadPolicy:r,timeout:r.maxLoadTimeMs,maxRetry:n.maxNumRetry||0,retryDelay:n.retryDelayMs||0,maxRetryDelay:n.maxRetryDelayMs||0},d={onSuccess:(e,t,i,s)=>{this.log(`Loaded steering manifest: "${a}"`);const r=e.data;if(1!==r.VERSION)return void this.log(`Steering VERSION ${r.VERSION} not supported!`);this.updated=performance.now(),this.timeToLoad=r.TTL;const{"RELOAD-URI":n,"PATHWAY-CLONES":o,"PATHWAY-PRIORITY":d}=r;if(n)try{this.uri=new self.URL(n,a).href}catch(c){return this.enabled=!1,void this.log(`Failed to parse Steering Manifest RELOAD-URI: ${n}`)}this.scheduleRefresh(this.uri||i.url),o&&this.clonePathways(o);const l={steeringManifest:r,url:a.toString()};this.hls.trigger(Tu.STEERING_MANIFEST_LOADED,l),d&&this.updatePathwayPriority(d)},onError:(e,t,i,a)=>{if(this.log(`Error loading steering manifest: ${e.code} ${e.text} (${t.url})`),this.stopLoad(),410===e.code)return this.enabled=!1,void this.log(`Steering manifest ${t.url} no longer available`);let s=1e3*this.timeToLoad;if(429!==e.code)this.scheduleRefresh(this.uri||t.url,s);else{const e=this.loader;if("function"==typeof(null==e?void 0:e.getResponseHeader)){const t=e.getResponseHeader("Retry-After");t&&(s=1e3*parseFloat(t))}this.log(`Steering manifest ${t.url} rate limited`)}},onTimeout:(e,t,i)=>{this.log(`Timeout loading steering manifest (${t.url})`),this.scheduleRefresh(this.uri||t.url)}};this.log(`Requesting steering manifest: ${a}`),this.loader.load(s,o,d)}scheduleRefresh(e,t=1e3*this.timeToLoad){this.clearTimeout(),this.reloadTimer=self.setTimeout((()=>{var t;const i=null==(t=this.hls)?void 0:t.media;!i||i.ended?this.scheduleRefresh(e,1e3*this.timeToLoad):this.loadSteeringManifest(e)}),t)}}});function Ux(e){return e&&"object"==typeof e?Array.isArray(e)?e.map(Ux):Object.keys(e).reduce(((t,i)=>(t[i]=Ux(e[i]),t)),{}):e}function jx(e){const t=e.loader;if(t!==Rx&&t!==Tx)$u.log("[config]: Custom loader detected, cannot enable progressive streaming"),e.progressive=!1;else{(function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(e){}return!1})()&&(e.loader=Rx,e.progressive=!0,e.enableSoftwareAES=!0,$u.log("[config]: Progressive streaming enabled, using FetchLoader"))}}let Fx;class Nx extends Bv{constructor(e,t){super(e,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=t,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(Tu.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Tu.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(Tu.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Tu.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Tu.FRAG_BUFFERED,this.onFragBuffered,this),e.on(Tu.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(Tu.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Tu.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(Tu.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Tu.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Tu.FRAG_BUFFERED,this.onFragBuffered,this),e.off(Tu.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach((e=>{e.loadError=0,e.fragmentError=0})),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,t){this.resetLevels()}onManifestLoaded(e,t){const i=this.hls.config.preferManagedMediaSource,a=[],s={},r={};let n=!1,o=!1,d=!1;t.levels.forEach((e=>{var t,c;const l=e.attrs;let{audioCodec:h,videoCodec:p}=e;-1!==(null==(t=h)?void 0:t.indexOf("mp4a.40.34"))&&(Fx||(Fx=/chrome|firefox/i.test(navigator.userAgent)),Fx&&(e.audioCodec=h=void 0)),h&&(e.audioCodec=h=Cm(h,i)),0===(null==(c=p)?void 0:c.indexOf("avc1"))&&(p=e.videoCodec=function(e){const t=e.split(",");for(let i=0;i<t.length;i++){const e=t[i].split(".");if(e.length>2){let a=e.shift()+".";a+=parseInt(e.shift()).toString(16),a+=("000"+parseInt(e.shift()).toString(16)).slice(-4),t[i]=a}}return t.join(",")}(p));const{width:g,height:u,unknownCodecs:f}=e;if(n||(n=!(!g||!u)),o||(o=!!p),d||(d=!!h),null!=f&&f.length||h&&!vm(h,"audio",i)||p&&!vm(p,"video",i))return;const{CODECS:m,"FRAME-RATE":v,"HDCP-LEVEL":y,"PATHWAY-ID":b,RESOLUTION:w,"VIDEO-RANGE":x}=l,k=`${`${b||"."}-`}${e.bitrate}-${w}-${v}-${m}-${x}-${y}`;if(s[k])if(s[k].uri===e.url||e.attrs["PATHWAY-ID"])s[k].addGroupId("audio",l.AUDIO),s[k].addGroupId("text",l.SUBTITLES);else{const t=r[k]+=1;e.attrs["PATHWAY-ID"]=new Array(t+1).join(".");const i=new mv(e);s[k]=i,a.push(i)}else{const t=new mv(e);s[k]=t,r[k]=1,a.push(t)}})),this.filterAndSortMediaOptions(a,t,n,o,d)}filterAndSortMediaOptions(e,t,i,a,s){let r=[],n=[],o=e;if((i||a)&&s&&(o=o.filter((({videoCodec:e,videoRange:t,width:i,height:a})=>{return(!!e||!(!i||!a))&&(!!(s=t)&&lv.indexOf(s)>-1);var s}))),0===o.length)return void Promise.resolve().then((()=>{if(this.hls){t.levels.length&&this.warn(`One or more CODECS in variant not supported: ${JSON.stringify(t.levels[0].attrs)}`);const e=new Error("no level with compatible codecs found in manifest");this.hls.trigger(Tu.ERROR,{type:Au.MEDIA_ERROR,details:Ru.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,error:e,reason:e.message})}}));if(t.audioTracks){const{preferManagedMediaSource:e}=this.hls.config;r=t.audioTracks.filter((t=>!t.audioCodec||vm(t.audioCodec,"audio",e))),zx(r)}t.subtitles&&(n=t.subtitles,zx(n));const d=o.slice(0);o.sort(((e,t)=>{if(e.attrs["HDCP-LEVEL"]!==t.attrs["HDCP-LEVEL"])return(e.attrs["HDCP-LEVEL"]||"")>(t.attrs["HDCP-LEVEL"]||"")?1:-1;if(i&&e.height!==t.height)return e.height-t.height;if(e.frameRate!==t.frameRate)return e.frameRate-t.frameRate;if(e.videoRange!==t.videoRange)return lv.indexOf(e.videoRange)-lv.indexOf(t.videoRange);if(e.videoCodec!==t.videoCodec){const i=wm(e.videoCodec),a=wm(t.videoCodec);if(i!==a)return a-i}if(e.uri===t.uri&&e.codecSet!==t.codecSet){const i=xm(e.codecSet),a=xm(t.codecSet);if(i!==a)return a-i}return e.averageBitrate!==t.averageBitrate?e.averageBitrate-t.averageBitrate:0}));let c=d[0];if(this.steering&&(o=this.steering.filterParsedLevels(o),o.length!==d.length))for(let g=0;g<d.length;g++)if(d[g].pathwayId===o[0].pathwayId){c=d[g];break}this._levels=o;for(let g=0;g<o.length;g++)if(o[g]===c){var l;this._firstLevel=g;const e=c.bitrate,t=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${o.length} level(s) found, first bitrate: ${e}`),void 0===(null==(l=this.hls.userConfig)?void 0:l.abrEwmaDefaultEstimate)){const i=Math.min(e,this.hls.config.abrEwmaDefaultEstimateMax);i>t&&t===$x.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=i)}break}const h=s&&!a,p={levels:o,audioTracks:r,subtitleTracks:n,sessionData:t.sessionData,sessionKeys:t.sessionKeys,firstLevel:this._firstLevel,stats:t.stats,audio:s,video:a,altAudio:!h&&r.some((e=>!!e.url))};this.hls.trigger(Tu.MANIFEST_PARSED,p),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return 0===this._levels.length?null:this._levels}get level(){return this.currentLevelIndex}set level(e){const t=this._levels;if(0===t.length)return;if(e<0||e>=t.length){const i=new Error("invalid level idx"),a=e<0;if(this.hls.trigger(Tu.ERROR,{type:Au.OTHER_ERROR,details:Ru.LEVEL_SWITCH_ERROR,level:e,fatal:a,error:i,reason:i.message}),a)return;e=Math.min(e,t.length-1)}const i=this.currentLevelIndex,a=this.currentLevel,s=a?a.attrs["PATHWAY-ID"]:void 0,r=t[e],n=r.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=r,i===e&&r.details&&a&&s===n)return;this.log(`Switching to level ${e} (${r.height?r.height+"p ":""}${r.videoRange?r.videoRange+" ":""}${r.codecSet?r.codecSet+" ":""}@${r.bitrate})${n?" with Pathway "+n:""} from level ${i}${s?" with Pathway "+s:""}`);const o={level:e,attrs:r.attrs,details:r.details,bitrate:r.bitrate,averageBitrate:r.averageBitrate,maxBitrate:r.maxBitrate,realBitrate:r.realBitrate,width:r.width,height:r.height,codecSet:r.codecSet,audioCodec:r.audioCodec,videoCodec:r.videoCodec,audioGroups:r.audioGroups,subtitleGroups:r.subtitleGroups,loaded:r.loaded,loadError:r.loadError,fragmentError:r.fragmentError,name:r.name,id:r.id,uri:r.uri,url:r.url,urlId:0,audioGroupIds:r.audioGroupIds,textGroupIds:r.textGroupIds};this.hls.trigger(Tu.LEVEL_SWITCHING,o);const d=r.details;if(!d||d.live){const e=this.switchParams(r.uri,null==a?void 0:a.details,d);this.loadPlaylist(e)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(void 0===this._startLevel){const e=this.hls.config.startLevel;return void 0!==e?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}onError(e,t){!t.fatal&&t.context&&t.context.type===Nm&&t.context.level===this.level&&this.checkRetry(t)}onFragBuffered(e,{frag:t}){if(void 0!==t&&t.type===Hm){const e=t.elementaryStreams;if(!Object.keys(e).some((t=>!!e[t])))return;const i=this._levels[t.level];null!=i&&i.loadError&&(this.log(`Resetting level error count of ${i.loadError} on frag buffered`),i.loadError=0)}}onLevelLoaded(e,t){var i;const{level:a,details:s}=t,r=this._levels[a];var n;if(!r)return this.warn(`Invalid level index ${a}`),void(null!=(n=t.deliveryDirectives)&&n.skip&&(s.deltaUpdateFailed=!0));a===this.currentLevelIndex?(0===r.fragmentError&&(r.loadError=0),this.playlistLoaded(a,t,r.details)):null!=(i=t.deliveryDirectives)&&i.skip&&(s.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist();const t=this.currentLevelIndex,i=this.currentLevel;if(i&&this.shouldLoadPlaylist(i)){let s=i.uri;if(e)try{s=e.addDirectives(s)}catch(a){this.warn(`Could not construct new URL with HLS Delivery Directives: ${a}`)}const r=i.attrs["PATHWAY-ID"];this.log(`Loading level index ${t}${void 0!==(null==e?void 0:e.msn)?" at sn "+e.msn+" part "+e.part:""} with${r?" Pathway "+r:""} ${s}`),this.clearTimer(),this.hls.trigger(Tu.LEVEL_LOADING,{url:s,level:t,pathwayId:i.attrs["PATHWAY-ID"],id:0,deliveryDirectives:e||null})}}get nextLoadLevel(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}removeLevel(e){var t;const i=this._levels.filter(((t,i)=>i!==e||(this.steering&&this.steering.removeLevel(t),t===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,t.details&&t.details.fragments.forEach((e=>e.level=-1))),!1)));_v(i),this._levels=i,this.currentLevelIndex>-1&&null!=(t=this.currentLevel)&&t.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.hls.trigger(Tu.LEVELS_UPDATED,{levels:i})}onLevelsUpdated(e,{levels:t}){this._levels=t}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:t,maxHdcpLevel:i}=this.hls;this._maxAutoLevel!==t&&(this._maxAutoLevel=t,this.hls.trigger(Tu.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:t,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:i}))}}function zx(e){const t={};e.forEach((e=>{const i=e.groupId||"";e.id=t[i]=t[i]||0,t[i]++}))}class Bx{constructor(e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const i in this.keyUriToKeyInfo){const a=this.keyUriToKeyInfo[i].loader;if(a){var t;if(e&&e!==(null==(t=a.context)?void 0:t.frag.type))return;a.abort()}}}detach(){for(const e in this.keyUriToKeyInfo){const t=this.keyUriToKeyInfo[e];(t.mediaKeySessionContext||t.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyUriToKeyInfo){const t=this.keyUriToKeyInfo[e].loader;t&&t.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(e,t=Ru.KEY_LOAD_ERROR,i,a,s){return new xy({type:Au.NETWORK_ERROR,details:t,fatal:!1,frag:e,response:s,error:i,networkDetails:a})}loadClear(e,t){if(this.emeController&&this.config.emeEnabled){const{sn:i,cc:a}=e;for(let e=0;e<t.length;e++){const s=t[e];if(a<=s.cc&&("initSegment"===i||"initSegment"===s.sn||i<s.sn)){this.emeController.selectKeySystemFormat(s).then((e=>{s.setKeyFormat(e)}));break}}}}load(e){return!e.decryptdata&&e.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(e).then((t=>this.loadInternal(e,t))):this.loadInternal(e)}loadInternal(e,t){var i,a;t&&e.setKeyFormat(t);const s=e.decryptdata;if(!s){const i=new Error(t?`Expected frag.decryptdata to be defined after setting format ${t}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,Ru.KEY_LOAD_ERROR,i))}const r=s.uri;if(!r)return Promise.reject(this.createKeyLoadError(e,Ru.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${r}"`)));let n=this.keyUriToKeyInfo[r];if(null!=(i=n)&&i.decryptdata.key)return s.key=n.decryptdata.key,Promise.resolve({frag:e,keyInfo:n});var o;if(null!=(a=n)&&a.keyLoadPromise)switch(null==(o=n.mediaKeySessionContext)?void 0:o.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return n.keyLoadPromise.then((t=>(s.key=t.keyInfo.decryptdata.key,{frag:e,keyInfo:n})))}switch(n=this.keyUriToKeyInfo[r]={decryptdata:s,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},s.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===s.keyFormat?this.loadKeyHTTP(n,e):this.loadKeyEME(n,e);case"AES-128":return this.loadKeyHTTP(n,e);default:return Promise.reject(this.createKeyLoadError(e,Ru.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${s.method}"`)))}}loadKeyEME(e,t){const i={frag:t,keyInfo:e};if(this.emeController&&this.config.emeEnabled){const t=this.emeController.loadKey(i);if(t)return(e.keyLoadPromise=t.then((t=>(e.mediaKeySessionContext=t,i)))).catch((t=>{throw e.keyLoadPromise=null,t}))}return Promise.resolve(i)}loadKeyHTTP(e,t){const i=this.config,a=new(0,i.loader)(i);return t.keyLoader=e.loader=a,e.keyLoadPromise=new Promise(((s,r)=>{const n={keyInfo:e,frag:t,responseType:"arraybuffer",url:e.decryptdata.uri},o=i.keyLoadPolicy.default,d={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},c={onSuccess:(e,t,i,a)=>{const{frag:n,keyInfo:o,url:d}=i;if(!n.decryptdata||o!==this.keyUriToKeyInfo[d])return r(this.createKeyLoadError(n,Ru.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),a));o.decryptdata.key=n.decryptdata.key=new Uint8Array(e.data),n.keyLoader=null,o.loader=null,s({frag:n,keyInfo:o})},onError:(e,i,a,s)=>{this.resetLoader(i),r(this.createKeyLoadError(t,Ru.KEY_LOAD_ERROR,new Error(`HTTP Error ${e.code} loading key ${e.text}`),a,ku({url:n.url,data:void 0},e)))},onTimeout:(e,i,a)=>{this.resetLoader(i),r(this.createKeyLoadError(t,Ru.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),a))},onAbort:(e,i,a)=>{this.resetLoader(i),r(this.createKeyLoadError(t,Ru.INTERNAL_ABORTED,new Error("key loading aborted"),a))}};a.load(n,d,c)}))}resetLoader(e){const{frag:t,keyInfo:i,url:a}=e,s=i.loader;t.keyLoader===s&&(t.keyLoader=null,i.loader=null),delete this.keyUriToKeyInfo[a],s&&s.destroy()}}function Hx(){return self.SourceBuffer||self.WebKitSourceBuffer}function Vx(){if(!fm())return!1;const e=Hx();return!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove}class Gx{constructor(e,t,i,a){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=t,this.fragmentTracker=i,this.hls=a}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(e,t){const{config:i,media:a,stalled:s}=this;if(null===a)return;const{currentTime:r,seeking:n}=a,o=this.seeking&&!n,d=!this.seeking&&n;if(this.seeking=n,r!==e){if(this.moved=!0,n||(this.nudgeRetry=0),null!==s){if(this.stallReported){const e=self.performance.now()-s;$u.warn(`playback not stuck anymore @${r}, after ${Math.round(e)}ms`),this.stallReported=!1}this.stalled=null}return}if(d||o)return void(this.stalled=null);if(a.paused&&!n||a.ended||0===a.playbackRate||!ly.getBuffered(a).length)return void(this.nudgeRetry=0);const c=ly.bufferInfo(a,r,0),l=c.nextStart||0;if(n){const e=c.len>2,i=!l||t&&t.start<=r||l-r>2&&!this.fragmentTracker.getPartialFragment(r);if(e||i)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var h;if(!(c.len>0)&&!l)return;const e=Math.max(l,c.start||0)-r,t=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,i=(null==t||null==(h=t.details)?void 0:h.live)?2*t.details.targetduration:2,s=this.fragmentTracker.getPartialFragment(r);if(e>0&&(e<=i||s))return void(a.paused||this._trySkipBufferHole(s))}const p=self.performance.now();if(null===s)return void(this.stalled=p);const g=p-s;if(!n&&g>=250&&(this._reportStall(c),!this.media))return;const u=ly.bufferInfo(a,r,i.maxBufferHole);this._tryFixBufferStall(u,g)}_tryFixBufferStall(e,t){const{config:i,fragmentTracker:a,media:s}=this;if(null===s)return;const r=s.currentTime,n=a.getPartialFragment(r);if(n){if(this._trySkipBufferHole(n)||!this.media)return}(e.len>i.maxBufferHole||e.nextStart&&e.nextStart-r<i.maxBufferHole)&&t>1e3*i.highBufferWatchdogPeriod&&($u.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(e){const{hls:t,media:i,stallReported:a}=this;if(!a&&i){this.stallReported=!0;const a=new Error(`Playback stalling at @${i.currentTime} due to low buffer (${JSON.stringify(e)})`);$u.warn(a.message),t.trigger(Tu.ERROR,{type:Au.MEDIA_ERROR,details:Ru.BUFFER_STALLED_ERROR,fatal:!1,error:a,buffer:e.len})}}_trySkipBufferHole(e){const{config:t,hls:i,media:a}=this;if(null===a)return 0;const s=a.currentTime,r=ly.bufferInfo(a,s,0),n=s<r.start?r.start:r.nextStart;if(n){const o=r.len<=t.maxBufferHole,d=r.len>0&&r.len<1&&a.readyState<3,c=n-s;if(c>0&&(o||d)){if(c>t.maxBufferHole){const{fragmentTracker:t}=this;let i=!1;if(0===s){const e=t.getAppendedFrag(0,Hm);e&&n<e.end&&(i=!0)}if(!i){const i=e||t.getAppendedFrag(s,Hm);if(i){let e=!1,a=i.end;for(;a<n;){const i=t.getPartialFragment(a);if(!i){e=!0;break}a+=i.duration}if(e)return 0}}}const r=Math.max(n+.05,s+.1);if($u.warn(`skipping hole, adjusting currentTime from ${s} to ${r}`),this.moved=!0,this.stalled=null,a.currentTime=r,e&&!e.gap){const t=new Error(`fragment loaded with buffer holes, seeking from ${s} to ${r}`);i.trigger(Tu.ERROR,{type:Au.MEDIA_ERROR,details:Ru.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:t,reason:t.message,frag:e})}return r}}return 0}_tryNudgeBuffer(){const{config:e,hls:t,media:i,nudgeRetry:a}=this;if(null===i)return;const s=i.currentTime;if(this.nudgeRetry++,a<e.nudgeMaxRetry){const r=s+(a+1)*e.nudgeOffset,n=new Error(`Nudging 'currentTime' from ${s} to ${r}`);$u.warn(n.message),i.currentTime=r,t.trigger(Tu.ERROR,{type:Au.MEDIA_ERROR,details:Ru.BUFFER_NUDGE_ON_STALL,error:n,fatal:!1})}else{const i=new Error(`Playhead still not moving while enough data buffered @${s} after ${e.nudgeMaxRetry} nudges`);$u.error(i.message),t.trigger(Tu.ERROR,{type:Au.MEDIA_ERROR,details:Ru.BUFFER_STALLED_ERROR,error:i,fatal:!0})}}}class qx extends Fy{constructor(e,t,i){super(e,t,i,"[stream-controller]",Hm),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(Tu.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Tu.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Tu.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Tu.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Tu.LEVEL_LOADING,this.onLevelLoading,this),e.on(Tu.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Tu.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(Tu.ERROR,this.onError,this),e.on(Tu.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(Tu.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(Tu.BUFFER_CREATED,this.onBufferCreated,this),e.on(Tu.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(Tu.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Tu.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(Tu.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Tu.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Tu.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Tu.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Tu.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Tu.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(Tu.ERROR,this.onError,this),e.off(Tu.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(Tu.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(Tu.BUFFER_CREATED,this.onBufferCreated,this),e.off(Tu.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(Tu.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Tu.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying()}startLoad(e){if(this.levels){const{lastCurrentTime:t,hls:i}=this;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){let e=i.startLevel;-1===e&&(i.config.testBandwidth&&this.levels.length>1?(e=0,this.bitrateTest=!0):e=i.firstAutoLevel),i.nextLoadLevel=e,this.level=i.loadLevel,this.loadedmetadata=!1}t>0&&-1===e&&(this.log(`Override startPosition with lastCurrentTime @${t.toFixed(3)}`),e=t),this.state=Ey,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=Ly}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case jy:{const{levels:e,level:t}=this,i=null==e?void 0:e[t],a=null==i?void 0:i.details;if(a&&(!a.live||this.levelLastLoaded===i)){if(this.waitForCdnTuneIn(a))break;this.state=Ey;break}if(this.hls.nextLoadLevel!==this.level){this.state=Ey;break}break}case Ry:{var e;const t=self.performance.now(),i=this.retryDate;if(!i||t>=i||null!=(e=this.media)&&e.seeking){const{levels:e,level:t}=this,i=null==e?void 0:e[t];this.resetStartWhenNotLoaded(i||null),this.state=Ey}}}this.state===Ey&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:t,levels:i,media:a}=this;if(null===t||!a&&(this.startFragRequested||!e.config.startFragPrefetch))return;if(this.altAudio&&this.audioOnly)return;const s=this.buffering?e.nextLoadLevel:e.loadLevel;if(null==i||!i[s])return;const r=i[s],n=this.getMainFwdBufferInfo();if(null===n)return;const o=this.getLevelDetails();if(o&&this._streamEnded(n,o)){const e={};return this.altAudio&&(e.type="video"),this.hls.trigger(Tu.BUFFER_EOS,e),void(this.state=Oy)}if(!this.buffering)return;e.loadLevel!==s&&-1===e.manualLevel&&this.log(`Adapting to level ${s} from level ${this.level}`),this.level=e.nextLoadLevel=s;const d=r.details;if(!d||this.state===jy||d.live&&this.levelLastLoaded!==r)return this.level=s,void(this.state=jy);const c=n.len,l=this.getMaxBufferLength(r.maxBitrate);if(c>=l)return;this.backtrackFragment&&this.backtrackFragment.start>n.end&&(this.backtrackFragment=null);const h=this.backtrackFragment?this.backtrackFragment.start:n.end;let p=this.getNextFragment(h,d);if(this.couldBacktrack&&!this.fragPrevious&&p&&"initSegment"!==p.sn&&this.fragmentTracker.getState(p)!==ry){var g;const e=(null!=(g=this.backtrackFragment)?g:p).sn-d.startSN,t=d.fragments[e-1];t&&p.cc===t.cc&&(p=t,this.fragmentTracker.removeFragment(t))}else this.backtrackFragment&&n.len&&(this.backtrackFragment=null);if(p&&this.isLoopLoading(p,h)){if(!p.gap){const e=this.audioOnly&&!this.altAudio?Hu:Vu,t=(e===Vu?this.videoBuffer:this.mediaBuffer)||this.media;t&&this.afterBufferFlushed(t,e,Hm)}p=this.getNextFragmentLoopLoading(p,d,n,Hm,l)}p&&(!p.initSegment||p.initSegment.data||this.bitrateTest||(p=p.initSegment),this.loadFragment(p,r,h))}loadFragment(e,t,i){const a=this.fragmentTracker.getState(e);this.fragCurrent=e,a===iy||a===sy?"initSegment"===e.sn?this._loadInitSegment(e,t):this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,t)):(this.startFragRequested=!0,super.loadFragment(e,t,i)):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,Hm)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:t}=this;if(null!=t&&t.readyState){let i;const a=this.getAppendedFrag(t.currentTime);a&&a.start>1&&this.flushMainBuffer(0,a.start-1);const s=this.getLevelDetails();if(null!=s&&s.live){const e=this.getMainFwdBufferInfo();if(!e||e.len<2*s.targetduration)return}if(!t.paused&&e){const t=e[this.hls.nextLoadLevel],a=this.fragLastKbps;i=a&&this.fragCurrent?this.fragCurrent.duration*t.maxBitrate/(1e3*a)+1:0}else i=0;const r=this.getBufferedFrag(t.currentTime+i);if(r){const e=this.followingBufferedFrag(r);if(e){this.abortCurrentFrag();const t=e.maxStartPTS?e.maxStartPTS:e.start,i=e.duration,a=Math.max(r.end,t+Math.min(Math.max(i-this.config.maxFragLookUpTolerance,i*(this.couldBacktrack?.5:.125)),i*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(a,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case Ty:case Ay:case Ry:case Dy:case Iy:this.state=Ey}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,t){super.flushMainBuffer(e,t,this.altAudio?"video":null)}onMediaAttached(e,t){super.onMediaAttached(e,t);const i=t.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),i.addEventListener("playing",this.onvplaying),i.addEventListener("seeked",this.onvseeked),this.gapController=new Gx(this.config,i,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:e}=this;e&&this.onvplaying&&this.onvseeked&&(e.removeEventListener("playing",this.onvplaying),e.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const e=this.media,t=e?e.currentTime:null;Pu(t)&&this.log(`Media seeked to ${t.toFixed(3)}`);const i=this.getMainFwdBufferInfo();null!==i&&0!==i.len?this.tick():this.warn(`Main forward buffer length on "seeked" event ${i?i.len:"empty"})`)}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(Tu.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=this.fragLastKbps=0,this.levels=this.fragPlaying=this.backtrackFragment=this.levelLastLoaded=null,this.altAudio=this.audioOnly=this.startFragRequested=!1}onManifestParsed(e,t){let i=!1,a=!1;t.levels.forEach((e=>{const t=e.audioCodec;t&&(i=i||-1!==t.indexOf("mp4a.40.2"),a=a||-1!==t.indexOf("mp4a.40.5"))})),this.audioCodecSwitch=i&&a&&!function(){var e;const t=Hx();return"function"==typeof(null==t||null==(e=t.prototype)?void 0:e.changeType)}(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1}onLevelLoading(e,t){const{levels:i}=this;if(!i||this.state!==Ey)return;const a=i[t.level];(!a.details||a.details.live&&this.levelLastLoaded!==a||this.waitForCdnTuneIn(a.details))&&(this.state=jy)}onLevelLoaded(e,t){var i;const{levels:a}=this,s=t.level,r=t.details,n=r.totalduration;if(!a)return void this.warn(`Levels were reset while loading level ${s}`);this.log(`Level ${s} loaded [${r.startSN},${r.endSN}]${r.lastPartSn?`[part-${r.lastPartSn}-${r.lastPartIndex}]`:""}, cc [${r.startCC}, ${r.endCC}] duration:${n}`);const o=a[s],d=this.fragCurrent;!d||this.state!==Ay&&this.state!==Ry||d.level!==t.level&&d.loader&&this.abortCurrentFrag();let c=0;if(r.live||null!=(i=o.details)&&i.live){var l;if(this.checkLiveUpdate(r),r.deltaUpdateFailed)return;c=this.alignPlaylists(r,o.details,null==(l=this.levelLastLoaded)?void 0:l.details)}if(o.details=r,this.levelLastLoaded=o,this.hls.trigger(Tu.LEVEL_UPDATED,{details:r,level:s}),this.state===jy){if(this.waitForCdnTuneIn(r))return;this.state=Ey}this.startFragRequested?r.live&&this.synchronizeToLiveEdge(r):this.setStartPosition(r,c),this.tick()}_handleFragmentLoadProgress(e){var t;const{frag:i,part:a,payload:s}=e,{levels:r}=this;if(!r)return void this.warn(`Levels were reset while fragment load was in progress. Fragment ${i.sn} of level ${i.level} will not be buffered`);const n=r[i.level],o=n.details;if(!o)return this.warn(`Dropping fragment ${i.sn} of level ${i.level} after level details were reset`),void this.fragmentTracker.removeFragment(i);const d=n.videoCodec,c=o.PTSKnown||!o.live,l=null==(t=i.initSegment)?void 0:t.data,h=this._getAudioCodec(n),p=this.transmuxer=this.transmuxer||new qb(this.hls,Hm,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),g=a?a.index:-1,u=-1!==g,f=new hy(i.level,i.sn,i.stats.chunkCount,s.byteLength,g,u),m=this.initPTS[i.cc];p.push(s,l,h,d,i,a,o.totalduration,c,f,m)}onAudioTrackSwitching(e,t){const i=this.altAudio;if(!!!t.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const e=this.fragCurrent;e&&(this.log("Switching to main audio track, cancel main fragment load"),e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const e=this.hls;i&&(e.trigger(Tu.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),e.trigger(Tu.AUDIO_TRACK_SWITCHED,t)}}onAudioTrackSwitched(e,t){const i=t.id,a=!!this.hls.audioTracks[i].url;if(a){const e=this.videoBuffer;e&&this.mediaBuffer!==e&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=e)}this.altAudio=a,this.tick()}onBufferCreated(e,t){const i=t.tracks;let a,s,r=!1;for(const n in i){const e=i[n];if("main"===e.id){if(s=n,a=e,"video"===n){const e=i[n];e&&(this.videoBuffer=e.buffer)}}else r=!0}r&&a?(this.log(`Alternate track found, use ${s}.buffered to schedule main fragment loading`),this.mediaBuffer=a.buffer):this.mediaBuffer=this.media}onFragBuffered(e,t){const{frag:i,part:a}=t;if(i&&i.type!==Hm)return;if(this.fragContextChanged(i))return this.warn(`Fragment ${i.sn}${a?" p: "+a.index:""} of level ${i.level} finished buffering, but was aborted. state: ${this.state}`),void(this.state===Iy&&(this.state=Ey));const s=a?a.stats:i.stats;this.fragLastKbps=Math.round(8*s.total/(s.buffering.end-s.loading.first)),"initSegment"!==i.sn&&(this.fragPrevious=i),this.fragBufferedComplete(i,a)}onError(e,t){var i;if(t.fatal)this.state=$y;else switch(t.details){case Ru.FRAG_GAP:case Ru.FRAG_PARSING_ERROR:case Ru.FRAG_DECRYPT_ERROR:case Ru.FRAG_LOAD_ERROR:case Ru.FRAG_LOAD_TIMEOUT:case Ru.KEY_LOAD_ERROR:case Ru.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Hm,t);break;case Ru.LEVEL_LOAD_ERROR:case Ru.LEVEL_LOAD_TIMEOUT:case Ru.LEVEL_PARSING_ERROR:t.levelRetry||this.state!==jy||(null==(i=t.context)?void 0:i.type)!==Nm||(this.state=Ey);break;case Ru.BUFFER_APPEND_ERROR:case Ru.BUFFER_FULL_ERROR:if(!t.parent||"main"!==t.parent)return;if(t.details===Ru.BUFFER_APPEND_ERROR)return void this.resetLoadingState();this.reduceLengthAndFlushBuffer(t)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case Ru.INTERNAL_EXCEPTION:this.recoverWorkerError(t)}}checkBuffer(){const{media:e,gapController:t}=this;if(e&&t&&e.readyState){if(this.loadedmetadata||!ly.getBuffered(e).length){const e=this.state!==Ey?this.fragCurrent:null;t.poll(this.lastCurrentTime,e)}this.lastCurrentTime=e.currentTime}}onFragLoadEmergencyAborted(){this.state=Ey,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(e,{type:t}){if(t!==Hu||this.audioOnly&&!this.altAudio){const e=(t===Vu?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(e,t,Hm),this.tick()}}onLevelsUpdated(e,t){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level),this.levels=t.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const t=e.currentTime;let i=this.startPosition;if(i>=0&&t<i){if(e.seeking)return void this.log(`could not seek to ${i}, already seeking at ${t}`);const a=ly.getBuffered(e),s=(a.length?a.start(0):0)-i;s>0&&(s<this.config.maxBufferHole||s<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${s} to match buffer start`),i+=s,this.startPosition=i),this.log(`seek to target start position ${i} from current time ${t}`),e.currentTime=i}}_getAudioCodec(e){let t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),t}_loadBitrateTestFrag(e,t){e.bitrateTest=!0,this._doFragLoad(e,t).then((i=>{const{hls:a}=this;if(!i||this.fragContextChanged(e))return;t.fragmentError=0,this.state=Ey,this.startFragRequested=!1,this.bitrateTest=!1;const s=e.stats;s.parsing.start=s.parsing.end=s.buffering.start=s.buffering.end=self.performance.now(),a.trigger(Tu.FRAG_LOADED,i),e.bitrateTest=!1}))}_handleTransmuxComplete(e){var t;const i="main",{hls:a}=this,{remuxResult:s,chunkMeta:r}=e,n=this.getCurrentContext(r);if(!n)return void this.resetWhenMissingContext(r);const{frag:o,part:d,level:c}=n,{video:l,text:h,id3:p,initSegment:g}=s,{details:u}=c,f=this.altAudio?void 0:s.audio;if(this.fragContextChanged(o))this.fragmentTracker.removeFragment(o);else{if(this.state=Dy,g){if(null!=g&&g.tracks){const e=o.initSegment||o;this._bufferInitSegment(c,g.tracks,e,r),a.trigger(Tu.FRAG_PARSING_INIT_SEGMENT,{frag:e,id:i,tracks:g.tracks})}const e=g.initPTS,t=g.timescale;Pu(e)&&(this.initPTS[o.cc]={baseTime:e,timescale:t},a.trigger(Tu.INIT_PTS_FOUND,{frag:o,id:i,initPTS:e,timescale:t}))}if(l&&u&&"initSegment"!==o.sn){const e=u.fragments[o.sn-1-u.startSN],t=o.sn===u.startSN,i=!e||o.cc>e.cc;if(!1!==s.independent){const{startPTS:e,endPTS:a,startDTS:s,endDTS:n}=l;if(d)d.elementaryStreams[l.type]={startPTS:e,endPTS:a,startDTS:s,endDTS:n};else if(l.firstKeyFrame&&l.independent&&1===r.id&&!i&&(this.couldBacktrack=!0),l.dropped&&l.independent){const s=this.getMainFwdBufferInfo(),r=(s?s.end:this.getLoadPosition())+this.config.maxBufferHole,d=l.firstKeyFramePTS?l.firstKeyFramePTS:e;if(!t&&r<d-this.config.maxBufferHole&&!i)return void this.backtrack(o);i&&(o.gap=!0),o.setElementaryStreamInfo(l.type,o.start,a,o.start,n,!0)}else t&&e>2&&(o.gap=!0);o.setElementaryStreamInfo(l.type,e,a,s,n),this.backtrackFragment&&(this.backtrackFragment=o),this.bufferFragmentData(l,o,d,r,t||i)}else{if(!t&&!i)return void this.backtrack(o);o.gap=!0}}if(f){const{startPTS:e,endPTS:t,startDTS:i,endDTS:a}=f;d&&(d.elementaryStreams[Hu]={startPTS:e,endPTS:t,startDTS:i,endDTS:a}),o.setElementaryStreamInfo(Hu,e,t,i,a),this.bufferFragmentData(f,o,d,r)}if(u&&null!=p&&null!=(t=p.samples)&&t.length){const e={id:i,frag:o,details:u,samples:p.samples};a.trigger(Tu.FRAG_PARSING_METADATA,e)}if(u&&h){const e={id:i,frag:o,details:u,samples:h.samples};a.trigger(Tu.FRAG_PARSING_USERDATA,e)}}}_bufferInitSegment(e,t,i,a){if(this.state!==Dy)return;this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&delete t.audio;const{audio:s,video:r,audiovideo:n}=t;if(s){let t=e.audioCodec;const i=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){t&&(t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5");const e=s.metadata;e&&"channelCount"in e&&1!==(e.channelCount||1)&&-1===i.indexOf("firefox")&&(t="mp4a.40.5")}t&&-1!==t.indexOf("mp4a.40.5")&&-1!==i.indexOf("android")&&"audio/mpeg"!==s.container&&(t="mp4a.40.2",this.log(`Android: force audio codec to ${t}`)),e.audioCodec&&e.audioCodec!==t&&this.log(`Swapping manifest audio codec "${e.audioCodec}" for "${t}"`),s.levelCodec=t,s.id="main",this.log(`Init audio buffer, container:${s.container}, codecs[selected/level/parsed]=[${t||""}/${e.audioCodec||""}/${s.codec}]`)}r&&(r.levelCodec=e.videoCodec,r.id="main",this.log(`Init video buffer, container:${r.container}, codecs[level/parsed]=[${e.videoCodec||""}/${r.codec}]`)),n&&this.log(`Init audiovideo buffer, container:${n.container}, codecs[level/parsed]=[${e.codecs}/${n.codec}]`),this.hls.trigger(Tu.BUFFER_CODECS,t),Object.keys(t).forEach((e=>{const s=t[e].initSegment;null!=s&&s.byteLength&&this.hls.trigger(Tu.BUFFER_APPENDING,{type:e,data:s,frag:i,part:null,chunkMeta:a,parent:i.type})})),this.tickImmediate()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,Hm)}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=Ey}checkFragmentChanged(){const e=this.media;let t=null;if(e&&e.readyState>1&&!1===e.seeking){const i=e.currentTime;if(ly.isBuffered(e,i)?t=this.getAppendedFrag(i):ly.isBuffered(e,i+.1)&&(t=this.getAppendedFrag(i+.1)),t){this.backtrackFragment=null;const e=this.fragPlaying,i=t.level;e&&t.sn===e.sn&&e.level===i||(this.fragPlaying=t,this.hls.trigger(Tu.FRAG_CHANGED,{frag:t}),e&&e.level===i||this.hls.trigger(Tu.LEVEL_SWITCHED,{level:i}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){const e=this.media;return e?this.fragPlaying||this.getAppendedFrag(e.currentTime):null}get currentProgramDateTime(){const e=this.media;if(e){const t=e.currentTime,i=this.currentFrag;if(i&&Pu(t)&&Pu(i.programDateTime)){const e=i.programDateTime+1e3*(t-i.start);return new Date(e)}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class Zx{static get version(){return"1.5.20"}static isMSESupported(){return Vx()}static isSupported(){return function(){if(!Vx())return!1;const e=fm();return"function"==typeof(null==e?void 0:e.isTypeSupported)&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some((t=>e.isTypeSupported(bm(t,"video"))))||["mp4a.40.2","fLaC"].some((t=>e.isTypeSupported(bm(t,"audio")))))}()}static getMediaSource(){return fm()}static get Events(){return Tu}static get ErrorTypes(){return Au}static get ErrorDetails(){return Ru}static get DefaultConfig(){return Zx.defaultConfig?Zx.defaultConfig:$x}static set DefaultConfig(e){Zx.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this.started=!1,this._emitter=new Gb,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,this.triggeringException=void 0,function(e,t){if("object"==typeof console&&!0===e||"object"==typeof e){Ou(e,"debug","log","info","warn","error");try{Iu.log(`Debug logs enabled for "${t}" in hls.js version 1.5.20`)}catch(i){Iu=Du}}else Iu=Du}(e.debug||!1,"Hls instance");const t=this.config=function(e,t){if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==t.liveMaxLatencyDurationCount&&(void 0===t.liveSyncDurationCount||t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(void 0===t.liveSyncDuration||t.liveMaxLatencyDuration<=t.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const i=Ux(e),a=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach((e=>{const s=`${"level"===e?"playlist":e}LoadPolicy`,r=void 0===t[s],n=[];a.forEach((a=>{const o=`${e}Loading${a}`,d=t[o];if(void 0!==d&&r){n.push(o);const e=i[s].default;switch(t[s]={default:e},a){case"TimeOut":e.maxLoadTimeMs=d,e.maxTimeToFirstByteMs=d;break;case"MaxRetry":e.errorRetry.maxNumRetry=d,e.timeoutRetry.maxNumRetry=d;break;case"RetryDelay":e.errorRetry.retryDelayMs=d,e.timeoutRetry.retryDelayMs=d;break;case"MaxRetryTimeout":e.errorRetry.maxRetryDelayMs=d,e.timeoutRetry.maxRetryDelayMs=d}}})),n.length&&$u.warn(`hls.js config: "${n.join('", "')}" setting(s) are deprecated, use "${s}": ${JSON.stringify(t[s])}`)})),ku(ku({},i),t)}(Zx.DefaultConfig,e);this.userConfig=e,t.progressive&&jx(t);const{abrController:i,bufferController:a,capLevelController:s,errorController:r,fpsController:n}=t,o=new r(this),d=this.abrController=new i(this),c=this.bufferController=new a(this),l=this.capLevelController=new s(this),h=new n(this),p=new Km(this),g=new ov(this),u=t.contentSteeringController,f=u?new u(this):null,m=this.levelController=new Nx(this,f),v=new ny(this),y=new Bx(this.config),b=this.streamController=new qx(this,v,y);l.setStreamController(b),h.setStreamController(b);const w=[p,m,b];f&&w.splice(1,0,f),this.networkControllers=w;const x=[d,c,l,h,g,v];this.audioTrackController=this.createController(t.audioTrackController,w);const k=t.audioStreamController;k&&w.push(new k(this,v,y)),this.subtitleTrackController=this.createController(t.subtitleTrackController,w);const S=t.subtitleStreamController;S&&w.push(new S(this,v,y)),this.createController(t.timelineController,x),y.emeController=this.emeController=this.createController(t.emeController,x),this.cmcdController=this.createController(t.cmcdController,x),this.latencyController=this.createController(dv,x),this.coreComponents=x,w.push(o);const C=o.onErrorOut;"function"==typeof C&&this.on(Tu.ERROR,C,o)}createController(e,t){if(e){const i=new e(this);return t&&t.push(i),i}return null}on(e,t,i=this){this._emitter.on(e,t,i)}once(e,t,i=this){this._emitter.once(e,t,i)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,t,i=this,a){this._emitter.off(e,t,i,a)}listeners(e){return this._emitter.listeners(e)}emit(e,t,i){return this._emitter.emit(e,t,i)}trigger(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(i){if($u.error("An internal error happened while handling event "+e+'. Error message: "'+i.message+'". Here is a stacktrace:',i),!this.triggeringException){this.triggeringException=!0;const t=e===Tu.ERROR;this.trigger(Tu.ERROR,{type:Au.OTHER_ERROR,details:Ru.INTERNAL_EXCEPTION,fatal:t,event:e,error:i}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){$u.log("destroy"),this.trigger(Tu.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((e=>e.destroy())),this.networkControllers.length=0,this.coreComponents.forEach((e=>e.destroy())),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){$u.log("attachMedia"),this._media=e,this.trigger(Tu.MEDIA_ATTACHING,{media:e})}detachMedia(){$u.log("detachMedia"),this.trigger(Tu.MEDIA_DETACHING,void 0),this._media=null}loadSource(e){this.stopLoad();const t=this.media,i=this.url,a=this.url=wu.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,$u.log(`loadSource:${a}`),t&&i&&(i!==a||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(t)),this.trigger(Tu.MANIFEST_LOADING,{url:e})}startLoad(e=-1){$u.log(`startLoad(${e})`),this.started=!0,this.resumeBuffering();for(let t=0;t<this.networkControllers.length&&(this.networkControllers[t].startLoad(e),this.started&&this.networkControllers);t++);}stopLoad(){$u.log("stopLoad"),this.started=!1;for(let e=0;e<this.networkControllers.length&&(this.networkControllers[e].stopLoad(),!this.started&&this.networkControllers);e++);}resumeBuffering(){$u.log("resume buffering"),this.networkControllers.forEach((e=>{e.resumeBuffering&&e.resumeBuffering()}))}pauseBuffering(){$u.log("pause buffering"),this.networkControllers.forEach((e=>{e.pauseBuffering&&e.pauseBuffering()}))}swapAudioCodec(){$u.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){$u.log("recoverMediaError");const e=this._media;this.detachMedia(),e&&this.attachMedia(e)}removeLevel(e){this.levelController.removeLevel(e)}get levels(){const e=this.levelController.levels;return e||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){$u.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){$u.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){$u.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){$u.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return-1===e&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){$u.log(`set startLevel:${e}`),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&($u.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){(function(e){return cv.indexOf(e)>-1})(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return-1===this.levelController.manualLevel}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:t}}=this;if(!e)return 0;const i=e.length;for(let a=0;a<i;a++)if(e[a].maxBitrate>=t)return a;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:t,maxHdcpLevel:i}=this;let a;if(a=-1===t&&null!=e&&e.length?e.length-1:t,i)for(let s=a;s--;){const t=e[s].attrs["HDCP-LEVEL"];if(t&&t<=i)return s}return a}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}setAudioOption(e){var t;return null==(t=this.audioTrackController)?void 0:t.setAudioOption(e)}setSubtitleOption(e){var t;return null==(t=this.subtitleTrackController)||t.setSubtitleOption(e),null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const t=this.audioTrackController;t&&(t.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return!!e&&e.subtitleDisplay}set subtitleDisplay(e){const t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}function Kx(e){const t=Math.floor(e/3600),i=Math.floor(e%3600/60),a=Math.floor(e%60);return t>0?`${t}:${i.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`:`${i}:${a.toString().padStart(2,"0")}`}Zx.defaultConfig=void 0;var Wx=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Yx=class{constructor(e){c(this,e),this.dyteAPIError=Q(this,"dyteAPIError",7),this.statsIntervalTimer=null,this.t=Zt(),this.iconPack=Kt,this.isSupported=!0,this.playerState=ot.IDLE,this.livestreamState="IDLE",this.livestreamId=null,this.audioPlaybackError=!1,this.qualityLevels=[],this.selectedQuality=-1,this.currentTime=0,this.duration=0,this.hideControls=!0,this.hideControlsTimeout=null,this.livestreamUpdateListener=e=>{this.playbackUrl=this.meeting.livestream.playbackUrl,this.livestreamState=e},this.updateProgress=()=>{this.currentTime=this.videoRef.currentTime},this.updateHlsStatsPeriodically=()=>{var e,t;this.duration=((null===(e=this.videoRef)||void 0===e?void 0:e.currentTime)||0)+((null===(t=this.hls)||void 0===t?void 0:t.latency)||0)},this.fastForwardToLatest=()=>{this.videoRef.currentTime=this.duration-1},this.togglePlay=()=>{this.videoRef.paused?(this.videoRef.play(),this.playerState=ot.PLAYING):(this.videoRef.pause(),this.playerState=ot.IDLE)},this.changeQuality=e=>{this.selectedQuality=e,this.hls&&(this.hls.currentLevel=e)},this.cleanupPlayer=()=>{var e;this.playerState=ot.IDLE,this.videoRef&&(null===(e=this.hls)||void 0===e||e.destroy(),this.hls=null)},this.onMouseMovePlayer=()=>{this.hideControls=!1,clearTimeout(this.hideControlsTimeout),this.hideControlsTimeout=setTimeout((()=>{this.hideControls=!0}),5e3)},this.getLoadingState=()=>{let e="",t=!1,i=!1;switch(this.livestreamState){case"IDLE":e=this.t("livestream.idle"),t=!0,i=!1;break;case"STARTING":e=this.t("livestream.starting"),t=!0,i=!0;break;case"STOPPING":e=this.t("livestream.stopping"),t=!0,i=!0;break;case"LIVESTREAMING":this.playerState!==ot.PLAYING&&this.playerState!==ot.PAUSED&&(e=this.t("livestream.starting"),i=!0,t=!0);break;default:t=!1,e=this.t(""),i=!0}return{isLoading:t,loadingMessage:e,showIcon:i}},this.getErrorState=()=>{var e,t;let i=!1,a="";return"LIVESTREAMING"!==this.livestreamState?(i=!1,a=this.t(""),{isError:i,errorMessage:a}):(this.isSupported||(i=!0,a=this.t("livestream.error.not_supported")),this.playbackUrl||(i=!0,a=this.t("livestream.error.not_found")),this.playerError&&(i=!0,a=this.t(null!==(t=null===(e=this.playerError)||void 0===e?void 0:e.message)&&void 0!==t?t:"livestream.error.unknown")),{isError:i,errorMessage:a})},this.initialiseAndPlayStream=async()=>{try{this.meeting.__internals__.logger.info(`dyte-livestream-player:: About to initialise HLS. VideoRef? ${!!this.videoRef} playbackUrl: ${this.playbackUrl}`),Zx.isSupported()?(this.meeting.__internals__.logger.info("dyte-livestream-player:: Initialising HLS. HLS is Supported"),this.hls=new Zx({lowLatencyMode:!1}),window.dyte_hls=this.hls,this.meeting.__internals__.logger.info("dyte-livestream-player:: Loading source"),this.hls.loadSource(this.playbackUrl),this.meeting.__internals__.logger.info("dyte-livestream-player:: Attaching video element to HLS"),this.hls.attachMedia(this.videoRef),this.meeting.__internals__.logger.info("dyte-livestream-player:: Waiting async for HLS manifest parsing"),this.hls.on(Zx.Events.ERROR,((e,t)=>{if(t.fatal){if(this.meeting.__internals__.logger.error(`dyte-livestream-player:: fatal error: ${t.details}`,{error:t.error}),this.playbackUrl&&"LIVESTREAMING"===this.livestreamState)return void setTimeout((()=>{this.playbackUrl&&"LIVESTREAMING"===this.livestreamState&&(this.meeting.__internals__.logger.info("dyte-livestream-player:: Retrying playbackUrl"),this.hls.loadSource(this.playbackUrl))}),5e3)}else this.meeting.__internals__.logger.warn(`dyte-livestream-player:: non-fatal error: ${t.details}`,{error:t.error})})),this.hls.on(Zx.Events.MEDIA_ATTACHED,(()=>{this.meeting.__internals__.logger.info("dyte-livestream-player:: media attached")})),this.hls.on(Zx.Events.MEDIA_DETACHED,(()=>{this.meeting.__internals__.logger.info("dyte-livestream-player:: media detached")})),this.hls.on(Zx.Events.DESTROYING,(()=>{this.meeting.__internals__.logger.info("dyte-livestream-player:: hls is getting destroyed")})),this.hls.on(Zx.Events.MANIFEST_PARSED,(async(e,t)=>{this.meeting.__internals__.logger.info("dyte-livestream-player:: HLS manifest parsed");const{levels:i,autoLevelChangeAllowed:a}=function({meeting:e,hlsLevels:t}){let i=e.self.config.livestreamViewerQualities||[];if(!i.length)return{autoLevelChangeAllowed:!0,levels:t};const a=t.filter((e=>i.includes(e.height)));return a.length?{autoLevelChangeAllowed:!1,levels:a}:{autoLevelChangeAllowed:!0,levels:t}}({meeting:this.meeting,hlsLevels:t.levels});this.qualityLevels=i.map(((e,t)=>({level:t,resolution:e.height?`${e.height}p`:"auto"}))),a&&(this.qualityLevels=[{level:-1,resolution:"Auto"},...this.qualityLevels]),this.hls.currentLevel=this.qualityLevels[0].level;try{this.meeting.__internals__.logger.info("dyte-livestream-player:: About to start video."),await this.videoRef.play(),this.meeting.__internals__.logger.info("dyte-livestream-player:: Video has started playing."),this.playerState=ot.PLAYING}catch(s){this.audioPlaybackError=!0,this.meeting.__internals__.logger.error("dyte-livestream-player:: Video couldn't start. Trying with user gesture again.",{error:s})}})),this.videoRef.addEventListener("timeupdate",this.updateProgress),this.statsIntervalTimer=setInterval(this.updateHlsStatsPeriodically,1e3)):this.isSupported=!1}catch(e){this.meeting.__internals__.logger.error("dyte-livestream-player:: HLS couldn't initialise.",{error:e})}}}async updateLivestreamId(){const e=this.meeting.livestream.playbackUrl;if(!e||"LIVESTREAMING"!==this.livestreamState)return this.playbackUrl=null,this.livestreamId=null,void this.cleanupPlayer();const t=e.split("/"),i=t.findIndex((e=>"manifest"===e)),a=t[i-1];this.livestreamId=a,await this.conditionallyStartLivestreamViewer()}async conditionallyStartLivestreamViewer(){this.videoRef&&this.playbackUrl&&!this.hls&&await this.initialiseAndPlayStream()}async connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.meeting.livestream.removeListener("livestreamUpdate",this.livestreamUpdateListener),this.videoRef.removeEventListener("timeupdate",this.updateProgress),clearInterval(this.statsIntervalTimer),this.videoRef=null,this.hls&&this.hls.destroy(),window.dyte_hls=null}meetingChanged(e){null!=e&&(this.playbackUrl=this.meeting.livestream.playbackUrl,this.livestreamState=this.meeting.livestream.state,this.meeting.livestream.on("livestreamUpdate",this.livestreamUpdateListener))}render(){var e,t;if(!nt(this.meeting))return;const{isError:i,errorMessage:a}=this.getErrorState(),{isLoading:s,loadingMessage:r,showIcon:n}=this.getLoadingState();return H(G,null,H("div",{class:"player-container h-full max-h-full min-h-full w-full min-w-full max-w-full"},H("div",{ref:async e=>{this.videoContainerRef=e},class:"video-container relative flex h-full w-full flex-col items-center justify-center pb-20"},H("video",{onMouseMove:this.onMouseMovePlayer,ref:async e=>{this.videoRef=e,await this.conditionallyStartLivestreamViewer()},id:"livestream-video",style:{height:`${null===(e=this.el)||void 0===e?void 0:e.clientHeight}px`},controls:!1,onPlay:()=>{this.playerState===ot.PAUSED&&(this.playerState=ot.PLAYING)},onPause:()=>this.playerState=ot.PAUSED}),this.playerState!==ot.IDLE&&!this.hideControls&&H("div",{class:"control-bar",style:{width:`${null===(t=this.videoRef)||void 0===t?void 0:t.clientWidth}px`}},H("div",{class:"control-groups"},H("dyte-icon",{id:"playPause",onClick:this.togglePlay,size:"lg",class:"control-btn",icon:this.playerState===ot.PLAYING?this.iconPack.pause:this.iconPack.play}),H("dyte-icon",{size:"lg",class:"control-btn",icon:this.iconPack.fastForward,onClick:this.fastForwardToLatest}),H("span",{class:"timings"},Kx(this.currentTime)," /"," ",Kx(this.duration))),H("div",{class:"control-groups"},H("select",{class:"level-select",onChange:e=>this.changeQuality(parseInt(e.target.value))},this.qualityLevels.map((e=>H("option",{value:e.level,selected:this.selectedQuality===e.level},e.resolution)))),H("dyte-fullscreen-toggle",{id:"fullscreen",class:"control-btn fullscreen-btn",targetElement:this.videoContainerRef,size:"sm",iconPack:this.iconPack,t:this.t,ref:e=>{var t;const i=document.createElement("style");i.textContent="\n                        dyte-controlbar-button {\n                          display: contents;\n                          background-color: var(--bg-brand-500);\n                          color: var(--text-text-on-brand);\n                        }\n                      ",null===(t=null==e?void 0:e.shadowRoot)||void 0===t||t.appendChild(i)}})))),this.audioPlaybackError&&H("div",{class:"unmute-popup"},H("h3",null,this.t("audio_playback.title")),H("p",null,this.t("audio_playback.description")),H("dyte-button",{kind:"wide",onClick:()=>{this.audioPlaybackError=!1,this.videoRef&&(this.videoRef.muted=!1,this.videoRef.play(),this.playerState=ot.PLAYING)},title:this.t("audio_playback")},this.t("audio_playback"))),i&&H("div",{class:"loader"},H("dyte-icon",{icon:this.iconPack.warning}),H("p",null,a)),!i&&s&&H("div",{class:"loader"},n&&H("dyte-spinner",{id:"icon",part:"spinner",iconPack:this.iconPack,size:"md"}),H("p",null,r))))}get el(){return Y(this)}static get watchers(){return{livestreamState:["updateLivestreamId"],meeting:["meetingChanged"]}}};Wx([ni()],Yx.prototype,"meeting",void 0),Wx([ni()],Yx.prototype,"size",void 0),Wx([ni()],Yx.prototype,"t",void 0),Wx([ni()],Yx.prototype,"iconPack",void 0),Yx.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;height:100%;max-height:100%;min-height:100%;width:100%;min-width:100%;max-width:100%;border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity))}.player-container{position:relative;margin:var(--dyte-space-4, 16px);display:flex;flex-grow:1;align-items:center;justify-content:center;border-radius:var(--dyte-border-radius-md, 8px)}.loader{position:absolute;z-index:10;height:100%;width:100%;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));display:flex;flex-direction:column;align-items:center;justify-content:center}p{margin-top:var(--dyte-space-1, 4px);margin-bottom:var(--dyte-space-1, 4px);font-size:16px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}.unmute-popup{position:absolute;z-index:30 !important;display:flex;width:var(--dyte-space-72, 288px);flex-direction:column;border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));padding:var(--dyte-space-4, 16px);text-align:center;max-width:70%}.unmute-popup h3{margin:var(--dyte-space-0, 0px);font-size:16px;font-weight:500}.unmute-popup p{margin-top:var(--dyte-space-3, 12px);margin-bottom:var(--dyte-space-3, 12px);font-size:14px}.control-bar{position:absolute;bottom:0;display:flex;height:auto;justify-content:space-between;align-items:center;padding:10px 10px 0px 10px;z-index:10;}.timings{color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}.control-btn{border:none;margin-right:var(--dyte-space-2, 8px);border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));cursor:pointer;font-size:24px;height:30px;width:30px}.fullscreen-btn{margin-right:20px;height:30px}.control-btn:hover{opacity:0.8}.control-btn:focus{outline:none}.control-groups{display:flex;align-items:center;justify-content:space-around}#livestream-video{aspect-ratio:16/9;max-width:100%;min-width:100%;left:var(--dyte-space-0, 0px);z-index:20;aspect-ratio:16 / 9;width:auto;border-radius:var(--dyte-border-radius-md, 8px);border-width:0px}.level-select{border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)));border:none;padding:5px 10px;font-size:14px;height:30px;cursor:pointer;border-radius:5px;margin-right:10px}.level-select:focus{outline:none}.level-select option{border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-on-brand-1000, var(--dyte-colors-text-1000, 255 255 255)))}.volume-control-holder{display:flex;justify-content:center;align-items:center}";var Qx=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Jx=class{constructor(e){c(this,e),this.variant="primary",this.iconPack=Kt,this.t=Zt(),this.viewerCount=0,this.disconnectMeeting=e=>{var t;null!=e&&null!=this.countListener&&(null===(t=e.livestream)||void 0===t||t.removeListener("viewerCountUpdate",this.countListener))}}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.disconnectMeeting(this.meeting)}meetingChanged(e,t){var i;this.disconnectMeeting(t),null!=e&&(this.countListener=()=>{var t;this.viewerCount=null===(t=e.livestream)||void 0===t?void 0:t.viewerCount},this.countListener(),null===(i=e.livestream)||void 0===i||i.addListener("viewerCountUpdate",this.countListener))}render(){return nt(this.meeting)?H(G,{tabIndex:0,role:"log","aria-label":`${this.viewerCount} ${this.t("viewers")}`},H("dyte-icon",{icon:this.iconPack.viewers,tabIndex:-1,"aria-hidden":!0,part:"icon"}),this.viewerCount," ",this.t("viewers")):null}static get watchers(){return{meeting:["meetingChanged"]}}};Qx([ni()],Jx.prototype,"meeting",void 0),Qx([ni()],Jx.prototype,"iconPack",void 0),Qx([ni()],Jx.prototype,"t",void 0),Jx.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{margin-left:var(--dyte-space-2, 8px);margin-right:var(--dyte-space-2, 8px);display:inline-flex;height:var(--dyte-space-10, 40px);-webkit-user-select:none;-moz-user-select:none;user-select:none;align-items:center;font-size:14px}:host([size='sm']){margin-left:var(--dyte-space-1, 4px);margin-right:var(--dyte-space-1, 4px);font-size:12px}dyte-icon{margin-right:var(--dyte-space-1, 4px);height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px)}:host([size='sm']) dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px)}:host([variant='embedded']){--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));opacity:0.5;margin-top:var(--dyte-space-1, 4px);margin-left:var(--dyte-space-1, 4px);height:var(--dyte-space-5, 20px);border-radius:var(--dyte-border-radius-sm, 4px);padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);font-size:12px}:host([variant='embedded']) dyte-icon{height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px)}";var Xx=Object.freeze({__proto__:null,dyte_livestream_indicator:vu,dyte_livestream_player:Yx,dyte_viewer_count:Jx});var ek=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const tk=class{constructor(e){c(this,e),this.isScreenShare=!1,this.variant="default",this.iconPack=Kt,this.t=Zt(),this.length=13}sizeChanged(e){this.length="sm"===e?8:13}formatNameTag(e,t){return this.isScreenShare?t?`${this.t("screen")} - ${oi(e,this.length-3)} (${this.t("you")})`:`${this.t("screen")} - ${oi(e,this.length)}`:t?`${oi(e,this.length-3)} (${this.t("you")})`:oi(e,this.length)}render(){var e,t,i;const a=li((null===(e=this.participant)||void 0===e?void 0:e.name)||""),s=(null===(t=this.participant)||void 0===t?void 0:t.id)===(null===(i=this.meeting)||void 0===i?void 0:i.self.id);return H(G,{key:"48c89f27ad186be7c0d06c38c6e640aacd83c822",title:a},H("slot",{key:"71ccde71840ab4c6e16b3e7ba52ba341a1c5154e",name:"start"}),H("span",{key:"30df6dcb1ed2fd4039f6d77d958797af2195af78",class:"name"},this.formatNameTag(a,s)),H("slot",{key:"2ad35bca0ed791fcaa1689db6de2293a0a91bb89",name:"end"}))}static get watchers(){return{size:["sizeChanged"]}}};ek([ni()],tk.prototype,"meeting",void 0),ek([ni()],tk.prototype,"size",void 0),ek([ni()],tk.prototype,"iconPack",void 0),ek([ni()],tk.prototype,"t",void 0),tk.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:inline-flex;-webkit-user-select:none;-moz-user-select:none;user-select:none;align-items:center;padding-top:var(--dyte-space-1, 4px);padding-bottom:var(--dyte-space-1, 4px);padding-left:var(--dyte-space-1\\.5, 6px);padding-right:var(--dyte-space-1\\.5, 6px);font-size:14px;border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}span.name{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}::slotted(dyte-audio-visualizer[slot='start']){margin-right:var(--dyte-space-1\\.5, 6px)}::slotted(dyte-audio-visualizer[slot='end']){margin-left:var(--dyte-space-1\\.5, 6px)}:host([size='sm']){font-size:12px;--tw-bg-opacity:0.6}:host([variant='text']){background-color:transparent;padding:var(--dyte-space-0, 0px)}";var ik=Object.freeze({__proto__:null,dyte_name_tag:tk});var ak=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const sk=class{constructor(e){c(this,e),this.config=zt,this.hideHeader=!1,this.iconPack=Kt,this.view="sidebar",this.t=Zt(),this.search="",this.participants=[],this.createParticipantNode=e=>{const t={meeting:this.meeting,view:this.view,t:this.t,config:this.config,states:this.states,size:this.size,iconPack:this.iconPack};return H("div",null,H(pa,{element:"dyte-participant",defaults:t,props:{role:"listitem",participant:e,key:e.id},childProps:Object.assign(Object.assign({},t),{participant:e,size:this.size}),deepProps:!0}))},this.updateStageList=()=>{this.getParticipants(this.search)}}connectedCallback(){this.meetingChanged(this.meeting),this.searchChanged(this.search)}disconnectedCallback(){const{participants:e,stage:t}=this.meeting;null!=this.meeting&&(this.participantJoinedListener&&this.meeting.participants.joined.removeListener("participantJoined",this.participantJoinedListener),this.participantLeftListener&&this.meeting.participants.joined.removeListener("participantLeft",this.participantLeftListener),e.joined.removeListener("stageStatusUpdate",this.updateStageList),null==t||t.removeListener("stageStatusUpdate",this.updateStageList))}meetingChanged(e){null!=e&&(this.participantJoinedListener=e=>{if("ON_STAGE"!==e.stageStatus)return;const t=this.search.toLowerCase();e.name.toLowerCase().includes(t)&&e.id.toLowerCase().includes(t)&&(this.participants=[...this.participants.filter((t=>t.id!==e.id)),e])},this.participantLeftListener=e=>{this.participants=this.participants.filter((t=>t.id!==e.id))},e.participants.joined.addListener("participantJoined",this.participantJoinedListener),e.participants.joined.addListener("participantLeft",this.participantLeftListener),this.updateStageList(),null==e||e.participants.joined.on("stageStatusUpdate",this.updateStageList),null==e||e.stage.on("stageStatusUpdate",this.updateStageList))}searchChanged(e){this.getParticipants(e)}getParticipants(e=this.search){let t="ON_STAGE"===this.meeting.stage.status?[this.meeting.self]:[];t=[...t,...this.meeting.participants.joined.toArray().filter((e=>"ON_STAGE"===e.stageStatus))],this.participants=""===e?t:t.filter((t=>{var i;return(null!==(i=t.name)&&void 0!==i?i:t.id).toLowerCase().includes(e.toLowerCase())}))}render(){return H(G,{key:"1cfe52f6c91528ce8d5e733beba07f1bb7d3e080"},H("div",{key:"5883133588f2b11d045244d30b5a0fa118dd4d4c",class:"participants-container"},!this.hideHeader&&H("div",{key:"5bc3c5b64c68496d32abd2e8921c45c0a1c078a5",class:"heading-count",part:"heading-count"},this.t("participants")," (",this.participants.length,")"),H("dyte-virtualized-participant-list",{key:"4e709fdb9c5b04920f9ce06a7ca359e6c57d84e5",items:this.participants,renderItem:this.createParticipantNode,part:"participants",class:"participants",emptyListElement:H("div",{class:"empty-stage-list"},this.search.length>0?this.t("search.could_not_find"):this.t("search.empty"))})))}static get watchers(){return{meeting:["meetingChanged"],search:["searchChanged"]}}};ak([ni()],sk.prototype,"meeting",void 0),ak([ni()],sk.prototype,"states",void 0),ak([ni()],sk.prototype,"size",void 0),ak([ni()],sk.prototype,"iconPack",void 0),ak([ni()],sk.prototype,"t",void 0),sk.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;width:100%;flex-direction:column;font-size:14px}.participants-container{margin-bottom:var(--dyte-space-4, 16px);height:100%;width:100%}h3,.heading-count{margin:var(--dyte-space-0, 0px);display:flex;align-items:center;justify-content:center;padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:400;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));text-align:center}.heading-count{font-size:14px}.participants{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.empty-stage-list{margin-top:var(--dyte-space-4, 16px);margin-bottom:var(--dyte-space-4, 16px);text-align:center;font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}dyte-participant{width:100%}";var rk=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const nk=class{constructor(e){c(this,e),this.config=zt,this.iconPack=Kt,this.view="sidebar",this.t=Zt(),this.stageRequestedParticipants=[],this.updateStageRequestedParticipants=()=>{this.stageRequestedParticipants=this.meeting.participants.joined.toArray().filter((e=>"REQUESTED_TO_JOIN_STAGE"===e.stageStatus))},this.acceptStageRequest=async e=>{const{userId:t}=e;await this.meeting.stage.grantAccess([t]),this.updateStageRequestedParticipants()},this.rejectStageRequest=async e=>{const{userId:t}=e;await this.meeting.stage.denyAccess([t]),this.updateStageRequestedParticipants()},this.acceptAllStageRequest=async()=>{await this.meeting.stage.grantAccess(this.stageRequestedParticipants.map((e=>e.userId))),this.updateStageRequestedParticipants()},this.denyAllStageRequest=async()=>{var e;await(null===(e=this.meeting.stage)||void 0===e?void 0:e.denyAccess(this.stageRequestedParticipants.map((e=>e.userId)))),this.updateStageRequestedParticipants()},this.shouldShowStageRequests=()=>this.meeting.self.permissions.stageEnabled&&this.meeting.self.permissions.acceptStageRequests&&this.stageRequestedParticipants.length>0,this.updateRequestList=async e=>{var t,i,a,s,r,n,o;this.meeting.self.permissions.acceptStageRequests&&this.meeting.self.permissions.stageEnabled?"LIVESTREAM"===this.meeting.meta.viewType||"HIVE"===(null===(a=null===(i=null===(t=this.meeting)||void 0===t?void 0:t.self)||void 0===i?void 0:i.permissions)||void 0===a?void 0:a.mediaRoomType)?(e||(e=null!==(n=null===(r=await(null===(s=this.meeting.stage)||void 0===s?void 0:s.getAccessRequests()))||void 0===r?void 0:r.stageRequests)&&void 0!==n?n:[]),this.stageRequestedParticipants=e.map((e=>Object.assign(Object.assign({},e),{name:e.displayName})))):this.stageRequestedParticipants=null===(o=[this.meeting.self,...this.meeting.participants.joined.toArray()])||void 0===o?void 0:o.filter((e=>"REQUESTED_TO_JOIN_STAGE"===e.stageStatus)):this.stageRequestedParticipants=[]}}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){const{stage:e}=this.meeting;null==e||e.removeListener("stageAccessRequestUpdate",this.updateRequestList)}meetingChanged(e){var t;null!=e&&(this.updateRequestList(),null===(t=e.stage)||void 0===t||t.on("stageAccessRequestUpdate",this.updateRequestList))}render(){if("sidebar"===this.view&&this.shouldShowStageRequests())return H("div",{class:"stage-requested-participants"},H("div",{class:"heading-count",part:"staged-heading-count"},this.t("stage_request.header_title")," (",this.stageRequestedParticipants.length,")"),H("ul",{class:"participants",part:"staged-participants"},this.stageRequestedParticipants.map((e=>H("li",{class:"waiting-participant",key:e.id},H("div",{class:"participant-details"},H("dyte-avatar",{participant:e,size:"sm",iconPack:this.iconPack,t:this.t}),H("p",{class:"name",title:e.name},e.name)),H("div",{class:"waitlist-controls"},H("dyte-tooltip",{label:this.t("stage_request.deny_request"),variant:"secondary"},H("dyte-button",{variant:"secondary",kind:"icon",onClick:()=>this.rejectStageRequest(e)},H("dyte-icon",{class:"deny",icon:this.iconPack.dismiss}))),H("dyte-tooltip",{label:this.t("stage_request.accept_request"),variant:"secondary"},H("dyte-button",{variant:"secondary",kind:"icon",onClick:()=>this.acceptStageRequest(e)},H("dyte-icon",{class:"accept",icon:this.iconPack.checkmark})))))))),H("div",{class:"bulk-actions"},H("dyte-button",{class:"accept-all-button",variant:"secondary",onClick:this.acceptAllStageRequest},this.t("stage_request.accept_all")),H("dyte-button",{class:"deny-all-button",variant:"danger",onClick:this.denyAllStageRequest},this.t("stage_request.deny_all"))))}static get watchers(){return{meeting:["meetingChanged"]}}};rk([ni()],nk.prototype,"meeting",void 0),rk([ni()],nk.prototype,"size",void 0),rk([ni()],nk.prototype,"iconPack",void 0),rk([ni()],nk.prototype,"t",void 0),nk.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{margin-top:var(--dyte-space-2, 8px);display:flex;width:100%;flex-direction:column;font-size:14px}.stage-requested-participants{margin-bottom:var(--dyte-space-8, 32px)}.stage-requested-participants .bulk-actions{display:flex;gap:var(--dyte-space-2, 8px)}.stage-requested-participants .bulk-actions .accept-all-button{--tw-text-opacity:1;color:rgba(var(--dyte-colors-success, 98 165 4) / var(--tw-text-opacity))}.stage-requested-participants .bulk-actions dyte-button{flex:1 1 0%}h3,.heading-count{margin:var(--dyte-space-0, 0px);display:flex;align-items:center;justify-content:center;padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:400;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));text-align:center}.heading-count{font-size:14px}.participants{margin-top:var(--dyte-space-2, 8px);padding:var(--dyte-space-0, 0px)}.waiting-participant{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px);display:flex;align-items:center}.waiting-participant .participant-details{margin-right:auto;display:flex;align-items:center}.waiting-participant .participant-details dyte-avatar{margin-right:var(--dyte-space-2, 8px);height:var(--dyte-space-8, 32px);width:var(--dyte-space-8, 32px);flex-shrink:0;font-size:14px}.waiting-participant .participant-details .name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88))}@media (min-width: 1080px){.waiting-participant .participant-details .name{max-width:var(--dyte-space-40, 160px)}}.waiting-participant .waitlist-controls{display:flex}.waiting-participant .waitlist-controls dyte-button{margin-left:var(--dyte-space-2, 8px);cursor:pointer;border-radius:var(--dyte-border-radius-sm, 4px)}.waiting-participant .waitlist-controls dyte-icon.accept{--tw-text-opacity:1;color:rgba(var(--dyte-colors-success, 98 165 4) / var(--tw-text-opacity))}.waiting-participant .waitlist-controls dyte-icon.deny{--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}";var ok=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const dk=class{constructor(e){c(this,e),this.updateStageViewers=()=>{this.getViewers(this.search)},this.config=zt,this.hideHeader=!1,this.iconPack=Kt,this.view="sidebar",this.search="",this.t=Zt(),this.stageViewers=[],this.createParticipantNode=e=>H("dyte-participant",{role:"listitem",key:e.id,meeting:this.meeting,participant:e,view:this.view,iconPack:this.iconPack,config:this.config,t:this.t}),this.shouldShowViewers=()=>{var e,t,i;return null===(i=null===(t=null===(e=this.meeting)||void 0===e?void 0:e.self)||void 0===t?void 0:t.permissions)||void 0===i?void 0:i.stageEnabled}}connectedCallback(){this.meetingChanged(this.meeting),this.searchChanged(this.search)}meetingChanged(e){null!=e&&(this.participantJoinedListener=e=>{if("ON_STAGE"===e.stageStatus)return;const t=this.search.toLowerCase();t.length>0&&!e.name.toLowerCase().includes(t)||(this.stageViewers=[...this.stageViewers.filter((t=>t.id!==e.id)),e])},this.participantLeftListener=e=>{this.stageViewers=this.stageViewers.filter((t=>t.id!==e.id))},e.participants.joined.addListener("participantJoined",this.participantJoinedListener),e.participants.joined.addListener("participantLeft",this.participantLeftListener),e.participants.joined.on("stageStatusUpdate",this.updateStageViewers),e.stage.on("stageStatusUpdate",this.updateStageViewers))}searchChanged(e){this.getViewers(e)}disconnectedCallback(){const{participants:e,stage:t}=this.meeting;this.participantJoinedListener&&this.meeting.participants.joined.removeListener("participantJoined",this.participantJoinedListener),this.participantLeftListener&&this.meeting.participants.joined.removeListener("participantLeft",this.participantLeftListener),e.joined.removeListener("stageStatusUpdate",this.updateStageViewers),t.removeListener("stageStatusUpdate",this.updateStageViewers)}getViewers(e){let t="ON_STAGE"===this.meeting.stage.status?[]:[this.meeting.self];t=[...t,...this.meeting.participants.joined.toArray()].filter((e=>"ON_STAGE"!==e.stageStatus)),this.stageViewers=""===e?t:t.filter((t=>{var i;return(null!==(i=t.name)&&void 0!==i?i:t.id).toLowerCase().includes(e.toLowerCase())}))}render(){if("sidebar"===this.view&&this.shouldShowViewers())return H("div",{class:"list"},!this.hideHeader&&H("div",{class:"heading-count",part:"heading-count"},this.t("viewers")," (",this.stageViewers.length,")"),H("dyte-virtualized-participant-list",{items:this.stageViewers,renderItem:this.createParticipantNode,class:"participants",part:"participants",style:{height:"100%"},emptyListElement:H("div",{class:"empty-viewers-list"},this.search.length>0?this.t("participants.errors.empty_results"):this.t("participants.empty_list"))}))}static get watchers(){return{meeting:["meetingChanged"],search:["searchChanged"]}}};ok([ni()],dk.prototype,"meeting",void 0),ok([ni()],dk.prototype,"size",void 0),ok([ni()],dk.prototype,"iconPack",void 0),ok([ni()],dk.prototype,"t",void 0),dk.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;height:100%;width:100%;flex-direction:column;font-size:14px}.list{margin-bottom:var(--dyte-space-4, 16px);display:flex;height:100%;flex-direction:column}h3,.heading-count{margin:var(--dyte-space-0, 0px);align-items:center;justify-content:center;padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:400;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));text-align:center}.heading-count{font-size:14px}.participants{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.empty-viewers-list{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px);text-align:center;font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}";var ck=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const lk=class{constructor(e){c(this,e),this.config=zt,this.iconPack=Kt,this.view="sidebar",this.t=Zt(),this.acceptWaitingRoomRequest=async e=>{await this.meeting.participants.acceptWaitingRoomRequest(e)},this.waitlistedParticipants=[],this.acceptAllWaitingRoomRequests=async()=>{await this.meeting.participants.acceptAllWaitingRoomRequest(this.waitlistedParticipants.map((e=>e.id)))},this.rejectWaitingRoomRequest=async e=>{await this.meeting.participants.rejectWaitingRoomRequest(e)},this.shouldShowWaitlist=()=>"LIVESTREAM"!==this.meeting.meta.viewType&&(this.meeting.self.permissions.acceptWaitingRequests&&0!==this.waitlistedParticipants.length)}disconnectedCallback(){const{participants:e}=this.meeting;this.waitlistedParticipantJoinedListener&&e.waitlisted.removeListener("participantJoined",this.waitlistedParticipantJoinedListener),this.waitlistedParticipantLeftListener&&e.waitlisted.removeListener("participantLeft",this.waitlistedParticipantLeftListener),this.waitlistedParticipantsClearedListener&&e.waitlisted.removeListener("participantsCleared",this.waitlistedParticipantsClearedListener)}connectedCallback(){this.meetingChanged(this.meeting)}meetingChanged(e){null!=e&&(this.waitlistedParticipants=e.participants.waitlisted.toArray(),this.waitlistedParticipantJoinedListener=e=>{this.waitlistedParticipants.some((t=>t.id===e.id))||(this.waitlistedParticipants=[...this.waitlistedParticipants,e])},this.waitlistedParticipantLeftListener=e=>{this.waitlistedParticipants=this.waitlistedParticipants.filter((t=>t.id!==e.id))},this.waitlistedParticipantsClearedListener=()=>{this.waitlistedParticipants=[]},e.participants.waitlisted.addListener("participantJoined",this.waitlistedParticipantJoinedListener),e.participants.waitlisted.addListener("participantLeft",this.waitlistedParticipantLeftListener),e.participants.waitlisted.addListener("participantsCleared",this.waitlistedParticipantsClearedListener))}render(){if("sidebar"===this.view&&this.shouldShowWaitlist())return H("div",{class:"waiting-participants"},H("div",{class:"heading-count",part:"waitlisted-heading-count"},this.t("waitlist.header_title")," (",this.waitlistedParticipants.length,")"),H("ul",{class:"participants",part:"waitlisted-participants"},this.waitlistedParticipants.map((e=>H("li",{class:"waiting-participant",key:e.id},H("div",{class:"participant-details"},H("dyte-avatar",{participant:e,size:"sm",iconPack:this.iconPack,t:this.t}),H("p",{class:"name",title:e.name},e.name)),H("div",{class:"waitlist-controls"},H("dyte-tooltip",{label:this.t("waitlist.deny_request"),variant:"secondary"},H("dyte-button",{variant:"secondary",kind:"icon",onClick:()=>this.rejectWaitingRoomRequest(e.id)},H("dyte-icon",{class:"deny",icon:this.iconPack.dismiss}))),H("dyte-tooltip",{label:this.t("waitlist.accept_request"),variant:"secondary"},H("dyte-button",{variant:"secondary",kind:"icon",onClick:()=>this.acceptWaitingRoomRequest(e.id)},H("dyte-icon",{class:"accept",icon:this.iconPack.checkmark})))))))),H("dyte-button",{class:"accept-all-button",variant:"secondary",kind:"wide",onClick:this.acceptAllWaitingRoomRequests},this.t("waitlist.accept_all")))}static get watchers(){return{meeting:["meetingChanged"]}}};ck([ni()],lk.prototype,"meeting",void 0),ck([ni()],lk.prototype,"size",void 0),ck([ni()],lk.prototype,"iconPack",void 0),ck([ni()],lk.prototype,"t",void 0),lk.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{margin-top:var(--dyte-space-4, 16px);margin-bottom:calc(var(--dyte-space-2, 8px) * -1);display:flex;width:100%;flex-direction:column;font-size:14px}.waiting-participants{margin-bottom:var(--dyte-space-8, 32px)}.waiting-participants .accept-all-button{--tw-text-opacity:1;color:rgba(var(--dyte-colors-success, 98 165 4) / var(--tw-text-opacity))}h3,.heading-count{margin:var(--dyte-space-0, 0px);display:flex;align-items:center;justify-content:center;padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:400;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));text-align:center}.heading-count{font-size:14px}.participants{margin-top:var(--dyte-space-2, 8px);padding:var(--dyte-space-0, 0px)}.waiting-participant{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px);display:flex;align-items:center}.waiting-participant .participant-details{margin-right:auto;display:flex;align-items:center}.waiting-participant .participant-details dyte-avatar{margin-right:var(--dyte-space-2, 8px);height:var(--dyte-space-8, 32px);width:var(--dyte-space-8, 32px);flex-shrink:0;font-size:14px}.waiting-participant .participant-details .name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media (min-width: 1080px){.waiting-participant .participant-details .name{max-width:var(--dyte-space-40, 160px)}}.waiting-participant .waitlist-controls{display:flex}.waiting-participant .waitlist-controls dyte-button{margin-left:var(--dyte-space-2, 8px);cursor:pointer;border-radius:var(--dyte-border-radius-sm, 4px)}.waiting-participant .waitlist-controls dyte-icon.accept{--tw-text-opacity:1;color:rgba(var(--dyte-colors-success, 98 165 4) / var(--tw-text-opacity))}.waiting-participant .waitlist-controls dyte-icon.deny{--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}";var hk=Object.freeze({__proto__:null,dyte_participants_stage_list:sk,dyte_participants_stage_queue:nk,dyte_participants_viewer_list:dk,dyte_participants_waiting_list:lk});var pk=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const gk=class{constructor(e){c(this,e),this.iconPack=Kt,this.t=Zt(),this.canClosePlugin=!1,this.viewModeEnabled=!1,this.onIframeRef=e=>{var t;e!==this.iframeEl&&(this.iframeEl=e,null===(t=this.plugin)||void 0===t||t.addPluginView(e,"plugin-main"))},this.canInteractWithPlugin=()=>{const e=this.plugin.id;if(!e)return!0;const t=this.meeting.self.permissions.plugins.config[e];return!t||(!t.accessControl||"FULL_ACCESS"===t.accessControl)}}componentDidLoad(){this.meetingChanged(this.meeting),this.pluginChanged(this.plugin)}meetingChanged(e){if(null==e)return;const t=this.canInteractWithPlugin();this.viewModeEnabled=!t,L((()=>{this.canClosePlugin=e.self.permissions.plugins.canClose||this.plugin.enabledBy===e.self.id}))}pluginChanged(e){this.toggleViewModeListener=e=>{this.canInteractWithPlugin()||(this.viewModeEnabled=e)},null!=e&&(this.iframeEl&&e.addPluginView(this.iframeEl,"plugin-main"),e.addListener("toggleViewMode",this.toggleViewModeListener))}disconnectedCallback(){var e,t;null===(e=this.plugin)||void 0===e||e.removePluginView("plugin-main"),null===(t=this.plugin)||void 0===t||t.removeListener("toggleViewMode",this.toggleViewModeListener)}render(){return null==this.plugin?null:H(G,null,H("header",{part:"header"},H("div",null,this.plugin.name),this.canClosePlugin&&H("div",null,H("dyte-button",{kind:"icon",onClick:()=>this.plugin.deactivate(),part:"button"},H("dyte-icon",{icon:this.iconPack.dismiss})))),H("div",{class:"iframe-container"},!this.canInteractWithPlugin()&&this.viewModeEnabled?H("div",{class:"block-inputs"}):null,H("iframe",{ref:e=>this.onIframeRef(e),part:"iframe"})))}static get watchers(){return{meeting:["meetingChanged"],plugin:["pluginChanged"]}}};pk([ni()],gk.prototype,"meeting",void 0),pk([ni()],gk.prototype,"iconPack",void 0),pk([ni()],gk.prototype,"t",void 0),gk.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;height:100%;width:100%;flex-direction:column;overflow:hidden;border-radius:var(--dyte-border-radius-lg, 12px);color:rgb(var(--dyte-colors-text-1000, 255 255 255))}header{display:flex;height:var(--dyte-space-8, 32px);align-items:center;justify-content:space-between;padding-left:var(--dyte-space-3, 12px);padding-right:var(--dyte-space-3, 12px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity))}header>div{display:flex;align-items:center}dyte-button{display:flex;height:var(--dyte-space-5, 20px);width:var(--dyte-space-5, 20px);flex-direction:column;align-items:center;border-radius:9999px}dyte-button dyte-icon{height:var(--dyte-space-3, 12px);width:var(--dyte-space-3, 12px)}iframe{display:block;flex:1 1 0%;margin:var(--dyte-space-0, 0px);border-width:var(--dyte-border-width-none, 0);border-style:none;padding:var(--dyte-space-0, 0px);outline:2px solid transparent;outline-offset:2px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-video-bg, 24 24 24) / var(--tw-bg-opacity))}.iframe-container{position:relative;height:100%;width:100%}.block-inputs{position:absolute;z-index:10;height:100%;width:100%;border-left-width:var(--dyte-border-width-none, 0);border-top-width:var(--dyte-border-width-lg, 4px);border-style:solid;--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-border-opacity))}iframe{height:100%;width:100%}";var uk=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const fk=class{constructor(e){c(this,e),this.tabChange=Q(this,"tabChange",7),this.config=zt,this.layout="row",this.iconPack=Kt,this.t=Zt(),this.tabs=[]}render(){return H(G,{key:"8bdec657a4b6635cc2d3d73e79b4be08db404cb9"},H("dyte-spotlight-indicator",{key:"958fa41423f075e8110d272ea521cbfc8aa67aa4",meeting:this.meeting,iconPack:this.iconPack,t:this.t,size:this.size}),this.tabs.map((e=>{var t,i,a,s,r;let n=!1;if(("plugin"===(null===(t=this.activeTab)||void 0===t?void 0:t.type)&&e.plugin&&(null===(i=this.activeTab)||void 0===i?void 0:i.plugin.id)===e.plugin.id||"screenshare"===(null===(a=this.activeTab)||void 0===a?void 0:a.type)&&e.participant&&(null===(s=this.activeTab)||void 0===s?void 0:s.participant.id)===e.participant.id)&&(n=!0),"screenshare"===e.type){const t=e.participant,i=li(t.name);return H("dyte-button",{title:`${i}'s Screen Share`,key:e.participant.id,kind:"icon",variant:n?"primary":"secondary",class:{tab:!0,active:n},onClick:()=>this.tabChange.emit(e)},H("div",{class:"center col"},H("dyte-icon",{icon:this.iconPack.share_screen_person}),H("span",{class:"name"},t.id===(null===(r=this.meeting)||void 0===r?void 0:r.self.id)?this.t("you"):oi(i,6))))}if("plugin"===e.type){const t=e.plugin;return H("dyte-button",{title:t.name,key:t.id,kind:"icon",variant:n?"primary":"secondary",class:{tab:!0,active:n},onClick:()=>this.tabChange.emit(e)},H("div",{class:"center col"},H("img",{src:t.picture}),H("span",{class:"name"},oi(t.name,6))))}})))}};uk([ni()],fk.prototype,"size",void 0),uk([ni()],fk.prototype,"meeting",void 0),uk([ni()],fk.prototype,"states",void 0),uk([ni()],fk.prototype,"iconPack",void 0),uk([ni()],fk.prototype,"t",void 0),fk.style=".scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{box-sizing:border-box;display:flex;height:100%;width:var(--dyte-space-16, 64px);flex-direction:column;gap:var(--dyte-space-2, 8px);overflow-y:auto;font-family:var(--dyte-font-family, sans-serif)}dyte-button{z-index:10}.col{display:flex;flex-direction:column;align-items:center}.tab{display:flex;height:var(--dyte-space-16, 64px);width:var(--dyte-space-16, 64px);align-items:center;justify-content:center;margin-bottom:var(--dyte-space-2, 8px);font-size:12px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}.tab.active{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity))}.tab img{height:var(--dyte-space-7, 28px);width:var(--dyte-space-7, 28px);border-radius:var(--dyte-border-radius-sm, 4px)}.tab .name{margin-top:var(--dyte-space-0\\.5, 2px)}:host([size='sm']){flex-direction:column;margin-top:var(--dyte-space-4, 16px);height:var(--dyte-space-16, 64px);width:100%;flex-direction:row;gap:var(--dyte-space-2, 8px);overflow-x:auto}:host([size='sm']) .tab{margin:var(--dyte-space-0, 0px);text-overflow:clip;min-width:100px;height:40px}:host([size='sm']) .tab .col{display:flex;flex-direction:row;align-items:center;gap:var(--dyte-space-2, 8px)}:host([size='sm']) .tab .col img,:host([size='sm']) .tab .col dyte-icon{height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px)}:host([size='sm']) .tab .col .name{gap:var(--dyte-space-1, 4px)}:host([layout='column']){flex-direction:column}:host([layout='column']) .aside{flex:2;max-width:100%;width:100%}@media (orientation: portrait){:host([size='sm']){margin-top:var(--dyte-space-2, 8px);height:var(--dyte-space-16, 64px);width:100%;flex-direction:row;transition:all 0.3s linear}:host([size='md']){height:var(--dyte-space-24, 96px);width:100%;flex-direction:row;transition:all 0.3s linear}:host .tab{margin:var(--dyte-space-0, 0px)}}@media (orientation: landscape){:host([size='sm']){margin-right:var(--dyte-space-4, 16px);height:100%;width:var(--dyte-space-14, 56px);flex-direction:row;gap:var(--dyte-space-2, 8px);overflow-y:auto;overflow-x:hidden;transition:all 0.3s linear}:host([size='md']){margin-right:var(--dyte-space-4, 16px);height:100%;width:var(--dyte-space-14, 56px);flex-direction:row;gap:var(--dyte-space-2, 8px);overflow-y:auto;overflow-x:hidden;transition:all 0.3s linear}:host .tab{margin:var(--dyte-space-0, 0px)}:host([size='sm']) .tab{margin:var(--dyte-space-0, 0px);width:100%;text-overflow:clip;min-width:0px;min-height:40px}:host([size='sm']) .tab .col{display:flex;flex-direction:column;align-items:center;gap:var(--dyte-space-2, 8px);font-size:10px}:host([size='sm']) .tab .col img,:host([size='sm']) .tab .col dyte-icon{height:var(--dyte-space-3, 12px);width:var(--dyte-space-3, 12px)}:host([size='sm']) .tab .col .name{gap:var(--dyte-space-1, 4px)}}";var mk=Object.freeze({__proto__:null,dyte_plugin_main:gk,dyte_tab_bar:fk});var vk=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const yk=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.config=zt,this.iconPack=Kt,this.t=Zt(),this.plugins=[],this.canStartPlugins=!1,this.canClosePlugins=!1,this.activatedPluginsId=[],this.close=()=>{this.stateUpdate.emit({activeSidebar:!1,sidebar:void 0})}}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){var e;null===(e=this.meeting)||void 0===e||e.plugins.all.removeListener("stateUpdate",this.updateActivePlugins)}meetingChanged(e){null!=e&&(this.canStartPlugins=e.self.permissions.plugins.canStart,this.canClosePlugins=e.self.permissions.plugins.canClose,this.plugins=e.plugins.all.toArray().filter((t=>{var i;return!(null===(i=e.self.config.disabledPlugins)||void 0===i?void 0:i.includes(t.id))})),this.updateActivePlugins=()=>{this.activatedPluginsId=e.plugins.active.toArray().map((e=>e.id))},this.updateActivePlugins(),e.plugins.all.addListener("stateUpdate",this.updateActivePlugins))}render(){return H(G,{key:"2bca2470b4a694420b70f85c42c16c5e8ec9f079"},H("ul",{key:"c9d0ce582decd898e158375a42a428c404f11288",class:"scrollbar"},this.plugins.map((e=>H("li",{key:e.name,class:"plugin"},H("div",{class:"metadata"},H("img",{src:e.picture}),H("div",{class:"name"},e.name)),!this.activatedPluginsId.includes(e.id)&&this.canStartPlugins&&H("div",{class:"buttons"},H("dyte-button",{kind:"icon",size:"lg",onClick:()=>{e.activate(),this.close()},"aria-label":`${this.t("activate")} ${e.name}`},H("dyte-icon",{icon:this.iconPack.rocket,tabIndex:-1,"aria-hidden":!0}))),this.activatedPluginsId.includes(e.id)&&this.canClosePlugins&&H("div",{class:"buttons"},H("dyte-button",{kind:"icon",size:"lg",onClick:()=>{e.deactivate()},"aria-label":`${this.t("close")} ${e.name}`},H("dyte-icon",{icon:this.iconPack.dismiss,tabIndex:-1,"aria-hidden":!0}))))))))}static get watchers(){return{meeting:["meetingChanged"]}}};vk([ni()],yk.prototype,"meeting",void 0),vk([ni()],yk.prototype,"size",void 0),vk([ni()],yk.prototype,"iconPack",void 0),vk([ni()],yk.prototype,"t",void 0),yk.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-2, 8px);display:flex;height:100%;width:100%;flex-direction:column;font-size:14px;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}h3{margin-left:var(--dyte-space-0, 0px);margin-right:var(--dyte-space-0, 0px);margin-top:var(--dyte-space-4, 16px);margin-bottom:var(--dyte-space-4, 16px);display:block;padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:400;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));text-align:center}ul{overflow-y:auto;padding:var(--dyte-space-0, 0px);flex-grow:1;flex-basis:0}.metadata{display:flex;align-items:center}.metadata img{height:var(--dyte-space-8, 32px);width:var(--dyte-space-8, 32px);border-radius:var(--dyte-border-radius-sm, 4px)}.metadata .name{margin-left:var(--dyte-space-2, 8px);font-weight:500}.plugin{display:flex;align-items:center;justify-content:space-between;padding-left:var(--dyte-space-4, 16px);padding-right:var(--dyte-space-4, 16px);padding-top:var(--dyte-space-2, 8px);padding-bottom:var(--dyte-space-2, 8px)}.plugin .buttons{display:flex;align-items:center}dyte-button:hover{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);--tw-ring-opacity:1;--tw-ring-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-ring-opacity));--tw-ring-offset-width:2px;--tw-ring-offset-color:rgb(var(--dyte-colors-background-1000, 8 8 8))}";var bk=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const wk=class{constructor(e){c(this,e),this.config=zt,this.iconPack=Kt,this.t=Zt(),this.create=!1,this.onPollsUpdate=e=>{this.polls=[...e.polls]},this.onUpdatePermissions=()=>{this.permissions=this.meeting.self.permissions}}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){var e;null!=this.meeting&&(null===(e=this.meeting.polls)||void 0===e||e.removeListener("pollsUpdate",this.onPollsUpdate),this.meeting.self.permissions.removeListener("pollsUpdate",this.onUpdatePermissions))}meetingChanged(e){null!=e&&(e&&!e.polls||(this.permissions=this.meeting.self.permissions,this.polls=[...e.polls.items],e.polls.addListener("pollsUpdate",this.onPollsUpdate),this.meeting.self.permissions.addListener("pollsUpdate",this.onUpdatePermissions),this.onCreate=async t=>{this.create=!1,await e.polls.create(t.question,t.options,t.anonymous,t.hideVotes)},this.onVote=async(t,i)=>{await e.polls.vote(t,i)}))}toggleCreateState(){this.create=!this.create}componentDidRender(){da(this.pollEl)}render(){return H(G,{key:"a0488904cbdbdbe67b2ec50da2bfa318cff4f493"},H("div",{key:"05f6bdf2b6a1eeaff40abf9b9ea7c3f13da3d0da",class:"ctr",part:"container"},H("div",{key:"ec21f4d593a30189e5b8891cd7d9bc1cbca6f0c2",class:"polls-view scrollbar",ref:e=>this.pollEl=e,part:"polls"},0==this.polls.length&&!0!==this.create&&H("div",{key:"1f76f9fcb60d8e0e862a673c2582e23bacbd6009",class:"empty-polls"},this.t("polls.empty")),this.polls.map((e=>{var t;return H("dyte-poll",{key:e.id,poll:e,onDyteVotePoll:e=>{this.onVote(e.detail.id,e.detail.index)},self:null===(t=this.meeting)||void 0===t?void 0:t.self.userId,iconPack:this.iconPack,t:this.t,permissions:this.permissions})})),this.create&&H("dyte-poll-form",{key:"51d1a36308edaf71cf4bb2b607ff50c362ec55ed",part:"poll-form",onDyteCreatePoll:e=>{this.onCreate(e.detail)},iconPack:this.iconPack,t:this.t})),this.permissions.polls.canCreate&&H("dyte-button",{key:"8bb94218977ac5b90e5e5365aad490916ac62f65",kind:"wide",onClick:()=>this.toggleCreateState(),variant:this.create?"secondary":"primary",part:"button"},this.create?this.t("polls.cancel"):this.t("polls.create"))))}static get watchers(){return{meeting:["meetingChanged"]}}};bk([ni()],wk.prototype,"meeting",void 0),bk([ni()],wk.prototype,"size",void 0),bk([ni()],wk.prototype,"iconPack",void 0),bk([ni()],wk.prototype,"t",void 0),wk.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}:host{margin-top:var(--dyte-space-2, 8px);display:flex;height:100%;width:100%;flex-direction:column;font-size:14px}*{box-sizing:border-box}.ctr{box-sizing:border-box;padding:var(--dyte-space-3, 12px);padding-top:var(--dyte-space-0, 0px);display:flex;flex:1 1 0%;flex-direction:column}.polls-view{overflow-y:auto;flex:1 1 0%;flex-basis:0}.empty-polls{display:flex;height:100%;width:100%;align-items:center;justify-content:center}";var xk=Object.freeze({__proto__:null,dyte_plugins:yk,dyte_polls:wk});const kk=class{constructor(e){c(this,e),this.dismiss=Q(this,"dyteTranscriptDismiss",7),this.t=Zt()}connectedCallback(){this.transcriptChanged(this.transcript)}transcriptChanged(e,t){if((null==t?void 0:t.renderedId)===e.renderedId&&(null==t?void 0:t.transcript)===e.transcript)return;if(clearTimeout(this.timeout),!(null==e?void 0:e.name)||!(null==e?void 0:e.transcript))return;const{id:i,renderedId:a}=e;this.timeout=setTimeout((()=>{this.dismiss.emit({id:i,renderedId:a})}),1e4)}render(){return H(G,{key:"45824f40e948a34c138417969042157d6a43643b"},H("div",{key:"e82cf7acd7d52810941ab8debae55c87216003f6",class:"ctr"},H("p",{key:"5be2f02fe841b3a54776c978fb9e5b19c1a17f88",class:"message"},H("span",{key:"cc581a69a6cca46dc07d698ccf1b10bc71d16f56",class:"name"},this.transcript.name),": ",this.transcript.transcript)))}static get watchers(){return{transcript:["transcriptChanged"]}}};!function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);r>3&&n&&Object.defineProperty(t,i,n)}([ni()],kk.prototype,"t",void 0),kk.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{pointer-events:none;display:block;color:rgb(var(--dyte-colors-text-1000, 255 255 255));display:flex;justify-content:center;vertical-align:middle;animation:show 0.4s ease;transition:0.4s;z-index:5;width:100%}.ctr{box-sizing:border-box;display:inline-flex;height:100%;align-items:center;padding-left:var(--dyte-space-3, 12px);padding-right:var(--dyte-space-3, 12px);-webkit-user-select:none;-moz-user-select:none;user-select:none;border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));--tw-shadow:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);--tw-shadow-color:rgb(var(--dyte-colors-background-1000, 8 8 8));--tw-shadow:var(--tw-shadow-colored);pointer-events:auto;padding:var(--dyte-space-3, 12px);overflow:auto;max-width:50%}.message{margin:var(--dyte-space-0, 0px);display:inline-block;justify-content:center;max-width:100%;text-wrap:wrap;line-height:1.5rem}.message .name{font-weight:bold}:host(.exit){animation:exit 0.4s ease}@keyframes show{0%{opacity:0;transform:translateY(120px)}100%{opacity:1;transform:translateY(0px)}}@keyframes exit{0%{opacity:1;transform:translateY(0)}100%{opacity:0;transform:translateY(-120px)}}:host([size='sm']){font-size:14px}";var Sk=Object.freeze({__proto__:null,dyte_transcript:kk});var Ck=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const _k=class{constructor(e){c(this,e),this.stateUpdate=Q(this,"dyteStateUpdate",7),this.variant="button",this.iconPack=Kt,this.t=Zt(),this.fullScreenActive=!1,this.isFullScreenSupported=!0,this.onFullScreenchange=()=>{this.fullScreenActive=Kp()},this.toggleFullScreen=()=>{let e=this.targetElement||document.querySelector("dyte-meeting");e&&(this.fullScreenActive?(Zp(),this.fullScreenActive=!1):(qp(e),this.fullScreenActive=!0),this.stateUpdate.emit({activeMoreMenu:!1}))}}connectedCallback(){this.isFullScreenSupported=Wp(),this.onFullScreenchange(),window.addEventListener("webkitfullscreenchange",this.onFullScreenchange),window.addEventListener("fullscreenchange",this.onFullScreenchange)}disconnectedCallback(){window.removeEventListener("webkitfullscreenchange",this.onFullScreenchange),window.removeEventListener("fullscreenchange",this.onFullScreenchange)}render(){return this.isFullScreenSupported?H(G,{title:this.t("full_screen")},H("dyte-controlbar-button",{size:this.size,iconPack:this.iconPack,onClick:this.toggleFullScreen,icon:this.fullScreenActive?this.iconPack.full_screen_minimize:this.iconPack.full_screen_maximize,label:this.fullScreenActive?this.t("full_screen.exit"):this.t("full_screen"),variant:this.variant})):H(G,{"data-hidden":!0})}};Ck([ni()],_k.prototype,"states",void 0),Ck([ni()],_k.prototype,"size",void 0),Ck([ni()],_k.prototype,"iconPack",void 0),Ck([ni()],_k.prototype,"t",void 0),_k.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:block}:host([data-hidden]){display:none}";var Pk=Object.freeze({__proto__:null,dyte_fullscreen_toggle:_k});var Lk=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Ek=class{constructor(e){c(this,e),this.dyteSendNotification=Q(this,"dyteSendNotification",7),this.pinnedListener=({isPinned:e})=>{this.isPinned=e},this.toggleTileListener=({hidden:e})=>{this.isHidden=e},this.stageListener=({stageStatus:e})=>{this.isOnStage="ON_STAGE"===e},this.view="sidebar",this.iconPack=Kt,this.t=Zt(),this.config=zt,this.audioEnabled=!1,this.videoEnabled=!1,this.isPinned=!1,this.isHidden=!1,this.isOnStage=!1,this.canDisableParticipantAudio=!1,this.canDisableParticipantVideo=!1,this.canKickParticipant=!1,this.canPinParticipant=!1,this.canAllowParticipantOnStage=!1,this.menuOpen=!1,this.permissionsUpdateListener=()=>{this.meetingChanged(this.meeting)},this.inviteToStageToggle=async()=>{const e=this.participant,{stage:t}=this.meeting;"ACCEPTED_TO_JOIN_STAGE"!==e.stageStatus?(this.isOnStage?(e.isPinned&&e.unpin(),await t.kick([e.userId])):(await t.grantAccess([e.userId]),this.dyteSendNotification.emit({message:`${e.name} ${this.t("stage.invited_notification")}`,trace:`join-stage-invite-${e.id}`})),this.isOnStage="ON_STAGE"===e.stageStatus):this.dyteSendNotification.emit({message:`${e.name} ${this.t("stage.invited_notification")}`,trace:`join-stage-${e.id}`})},this.handleOutsideClick=e=>{!e.composedPath().includes(this.host)&&this.menuOpen&&(this.menuOpen=!1)},this.update=()=>{const e=this.host.shadowRoot.getElementById("trigger"),t=this.host.shadowRoot.getElementById("menu-list");Xn(e,t,{placement:"bottom-end",middleware:[Kn({allowedPlacements:["bottom-end","top-end"],alignment:"end"}),Zn(4),Wn({padding:8}),Qn()]}).then((({x:e,y:i,placement:a})=>{let s=null;s="bottom-end"===a?{right:`${e}px`,top:`${i}px`}:{right:`${e}px`,bottom:`${i}px`},Object.assign(t.style,s)}))},this.onMenuToggle=()=>{this.menuOpen=!this.menuOpen,this.menuOpen&&this.update()}}connectedCallback(){this.meetingChanged(this.meeting),this.participantChanged(this.participant),document.addEventListener("click",this.handleOutsideClick)}disconnectedCallback(){var e;document.removeEventListener("click",this.handleOutsideClick),null===(e=this.meeting)||void 0===e||e.self.permissions.removeListener("permissionsUpdate",this.permissionsUpdateListener),null!=this.participant&&null!=this.participant.removeListener&&(this.audioUpdateListener&&this.participant.removeListener("audioUpdate",this.audioUpdateListener),this.videoUpdateListener&&this.participant.removeListener("videoUpdate",this.videoUpdateListener),this.participant.removeListener("pinned",this.pinnedListener),this.participant.removeListener("unpinned",this.pinnedListener),this.participant.removeListener("stageStatusUpdate",this.stageListener),this.participant.removeListener("toggleTile",this.toggleTileListener))}meetingChanged(e){var t,i,a,s,r,n,o;if(null!=e){const{self:d}=e;this.canDisableParticipantAudio=d.permissions.canAllowParticipantAudio||d.permissions.canDisableParticipantAudio,this.canDisableParticipantVideo=d.permissions.canAllowParticipantVideo||d.permissions.canDisableParticipantVideo,this.canKickParticipant=d.permissions.kickParticipant&&!0!==(null===(t=this.meeting)||void 0===t?void 0:t.__internals__.features.hasFeature(ht))&&(!0!==(null===(i=this.meeting)||void 0===i?void 0:i.__internals__.features.hasFeature(pt))||"webinar_admin"!==(null===(a=this.participant)||void 0===a?void 0:a.presetName)),this.canPinParticipant=d.permissions.pinParticipant,this.canAllowParticipantOnStage=d.permissions.acceptStageRequests&&d.permissions.stageEnabled&&(!0!==(null===(s=this.meeting)||void 0===s?void 0:s.__internals__.features.hasFeature(pt))||"webinar_admin"!==(null===(r=this.participant)||void 0===r?void 0:r.presetName))&&(!0!==(null===(n=this.meeting)||void 0===n?void 0:n.__internals__.features.hasFeature(gt))||"webinar_viewer"!==(null===(o=this.participant)||void 0===o?void 0:o.presetName)),e.self.permissions.addListener("permissionsUpdate",this.permissionsUpdateListener)}}participantChanged(e){var t;if(null!=e){if(this.audioEnabled=e.audioEnabled,this.videoEnabled=e.videoEnabled,this.isPinned=e.isPinned,this.isHidden=null!==(t=e.hidden)&&void 0!==t&&t,this.isOnStage="ON_STAGE"===e.stageStatus,this.audioUpdateListener=({audioEnabled:e})=>{this.audioEnabled=e},this.videoUpdateListener=({videoEnabled:e})=>{this.videoEnabled=e},null==e.addListener)return;e.addListener("audioUpdate",this.audioUpdateListener),e.addListener("videoUpdate",this.videoUpdateListener),e.addListener("pinned",this.pinnedListener),e.addListener("unpinned",this.pinnedListener),e.addListener("stageStatusUpdate",this.stageListener),this.participant.addListener("toggleTile",this.toggleTileListener)}}render(){var e,t,i,a,s,r,n,o,d;const c="AUDIO_ROOM"===(null===(e=this.meeting)||void 0===e?void 0:e.meta.viewType),l=(null===(t=this.meeting)||void 0===t?void 0:t.self.id)===this.participant.id,h=this.canDisableParticipantAudio&&this.audioEnabled||this.canDisableParticipantVideo&&this.videoEnabled&&!c||this.canKickParticipant||this.canPinParticipant&&this.isOnStage||this.canAllowParticipantOnStage,p=li((null===(i=this.participant)||void 0===i?void 0:i.name)||""),g=this.isOnStage||["GROUP_CALL","AUDIO_ROOM"].includes(null===(a=this.meeting)||void 0===a?void 0:a.meta.viewType),u={meeting:this.meeting,size:"sm",states:this.states,config:this.config,iconPack:this.iconPack,t:this.t};return H(G,{key:"6d2a340a09306d4981227b3048faeed243a14cce"},H("div",{class:"left",key:null===(s=this.participant)||void 0===s?void 0:s.id},H("dyte-avatar",{key:"bc8453dc32910051b58cf61fdd282a32955d1612",participant:this.participant,size:"sm",iconPack:this.iconPack,t:this.t}),H("p",{key:"ca4a796d5354d0fbe8d3358a321245a3d841a3f1",class:"name",title:p},oi(p,16)," ",(null===(r=this.meeting)||void 0===r?void 0:r.self.id)===(null===(n=this.participant)||void 0===n?void 0:n.id)&&this.t("(you)"))),"sidebar"===this.view&&H("div",{key:"febaee3e2c6c2fd398d1fb05f846fbef796d73fd",class:"right"},g&&H("dyte-icon",{key:"7eeb84f4a67cd6fdc4b2175ac5de5e32afd50486",class:{red:!this.audioEnabled},icon:this.audioEnabled?this.iconPack.mic_on:this.iconPack.mic_off}),g&&!c&&H("dyte-icon",{key:"21aaa6cca2ed53deb8b1276f8f1786c1089e2dd6",class:{red:!this.videoEnabled},icon:this.videoEnabled?this.iconPack.video_on:this.iconPack.video_off}),(h||(({element:e,defaults:t,props:i={},elementProps:a={}})=>{var s;const{config:r,size:n,states:o}=t;let d,c={},l=[];Array.isArray(e)?[d,c,...l]=e:d=e;const h=null===(s=null==r?void 0:r.root)||void 0===s?void 0:s[d];null!=h&&"props"in h&&(i=Object.assign(Object.assign({},h.props),i)),i=Object.assign(Object.assign({},i),c),d in a&&(i=Object.assign(Object.assign({},i),a[d]));const p=ca({element:d,size:n,states:o,config:r});return la({selectors:p,root:r.root}).length})({element:"dyte-participant",defaults:u,childProps:{participant:this.participant}})>0)&&H("div",{key:"6c7cc6c9a02e83fb1c87416b601dd1e016c3a549",class:"menu"},H("span",{key:"0dc87f46b4f0ceb1100a1a204f3b0dc92e042b12",id:"trigger",onClick:this.onMenuToggle},H("dyte-button",{key:"6e15059d18d929005ec8c820011de9046d69c5c6",variant:"ghost",kind:"icon",slot:"trigger"},H("dyte-icon",{key:"2424eb5e59c79fff940435486befc709b24dd5f5",class:"more",icon:this.iconPack.more_vertical}))),H("span",{key:"972e9250b7b434b1a6673b3924563535def9f114",id:"menu-list"},this.menuOpen&&H("dyte-menu-list",{key:"eb12f27f3eec66530257a9dc653f049a9b691569",iconPack:this.iconPack,t:this.t},this.canPinParticipant&&g&&!c&&H("dyte-menu-item",{key:"6fd8046b97eb6d97a872cf9b6b8d550d853aeaed",onClick:()=>{this.isPinned?this.participant.unpin():this.participant.pin()},iconPack:this.iconPack,t:this.t},H("dyte-icon",{key:"80f2a8d9b3a6ec7c4da6ca162865b296949ab07b",icon:this.isPinned?this.iconPack.pin_off:this.iconPack.pin,slot:"start"}),this.isPinned?this.t("unpin"):this.t("pin")),l&&H("dyte-menu-item",{key:"e784419ef130de759f507650de1bc92c6ac07c2a",iconPack:this.iconPack,t:this.t,onClick:()=>{this.isHidden?this.participant.show():this.participant.hide()}},H("dyte-icon",{key:"b349973219fb497d83b2a8852da0fc8558a1a51c",icon:this.isHidden?this.iconPack.minimize:this.iconPack.maximize,slot:"start"}),this.meeting.self.hidden?this.t("maximize"):this.t("minimize")),this.canDisableParticipantAudio&&g&&this.audioEnabled&&H("dyte-menu-item",{key:"a6aa845f9ed193e7aaecb8dfc13390b2aab672c3",iconPack:this.iconPack,t:this.t,onClick:()=>{this.participant.disableAudio()}},H("dyte-icon",{key:"e0ac24333a670684d60802edc085c0eb918571c0",icon:this.iconPack.mic_off,slot:"start"}),this.t("mute")),this.canDisableParticipantVideo&&g&&this.videoEnabled&&H("dyte-menu-item",{key:"07ec0b852abd9dc7739343ce5953fbdc8c4e9408",iconPack:this.iconPack,t:this.t,onClick:()=>{this.participant.disableVideo()}},H("dyte-icon",{key:"1cccc03618c740983971502a9bbb50ab86947170",icon:this.iconPack.video_off,slot:"start"}),this.t("participants.turn_off_video")),this.canAllowParticipantOnStage&&(null===(o=this.participant)||void 0===o?void 0:o.id)!==(null===(d=this.meeting)||void 0===d?void 0:d.self.id)&&H("dyte-menu-item",{key:"2ee271afaf0b99eb6b793abe337777251b4d2ce8",iconPack:this.iconPack,t:this.t,class:this.isOnStage?"red":"",onClick:this.inviteToStageToggle},H("dyte-icon",{key:"3734c9fa9bb9654d2c7d1b75bf53ad051020a88d",icon:this.isOnStage?this.iconPack.leave_stage:this.iconPack.join_stage,slot:"start"}),this.isOnStage?this.t("stage.remove_from_stage"):this.t("stage.add_to_stage")),!l&&this.canKickParticipant&&H("dyte-menu-item",{key:"2ecb4ee36b844bd605c72a13049d1508d6bc9e62",iconPack:this.iconPack,t:this.t,class:"red",onClick:()=>{var e,t;null===(e=this.meeting)||void 0===e||e.participants.kick(null===(t=this.participant)||void 0===t?void 0:t.id)}},H("dyte-icon",{key:"1e328de97168baf6c5bf66eb56eb3c6017ff4f90",icon:this.iconPack.dismiss,slot:"start"}),this.t("kick")),H("slot",{key:"73c6d605b84d57666f083484660f269a8bc9b36e"},H(pa,{key:"8dbbbf398d6ff4cd6d98d353ebb31326e99f4742",element:"dyte-participant",defaults:u,childProps:{participant:this.participant},deepProps:!0,onlyChildren:!0})))))))}get host(){return Y(this)}static get watchers(){return{meeting:["meetingChanged"],participant:["participantChanged"]}}};Lk([ni()],Ek.prototype,"meeting",void 0),Lk([ni()],Ek.prototype,"states",void 0),Lk([ni()],Ek.prototype,"iconPack",void 0),Lk([ni()],Ek.prototype,"t",void 0),Ek.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{position:relative;display:flex;height:var(--dyte-space-14, 56px);align-items:center;justify-content:space-between;cursor:pointer;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}:host dyte-avatar{height:var(--dyte-space-8, 32px);width:var(--dyte-space-8, 32px);font-size:14px}.left{display:flex;align-items:center}.left>*{margin-right:var(--dyte-space-2, 8px)}.left>*:last-child{margin-right:var(--dyte-space-0, 0px)}.right{display:flex;align-items:center;justify-content:flex-end}.right>*{margin-left:var(--dyte-space-2, 8px)}.right>*:first-child{margin-left:var(--dyte-space-0, 0px)}.name{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}dyte-icon{height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px)}dyte-icon.red{--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}dyte-icon.more{cursor:pointer}.menu{position:relative;display:inline-block;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}#menu-list{position:absolute;top:var(--dyte-space-8, 32px) !important;right:var(--dyte-space-4, 16px) !important;z-index:20}";const Tk=class{constructor(e){c(this,e),this.items=[],this.itemHeight=55,this.bufferedItemsCount=5,this.emptyListElement=null,this.visibleStart=0,this.visibleEnd=0,this.containerHeight=0,this.lastScrollTop=0,this.recalculatePositioning=()=>{this.updateContainerHeight(),requestAnimationFrame((()=>{this.updateItemHeight()}))},this.updateContainerHeight=()=>{this.el.querySelector(".virtual-list-container").clientHeight&&(requestAnimationFrame((()=>{this.updateItemHeight()})),this.containerHeight=this.el.querySelector(".virtual-list-container").clientHeight,this.updateVisibleRange())},this.onScroll=ji((()=>{const e=this.el.querySelector(".virtual-list-container").scrollTop;e>this.lastScrollTop&&this.visibleEnd===this.items.length||(this.lastScrollTop=e,this.updateVisibleRange())}))}itemsChanged(){this.recalculatePositioning()}componentDidLoad(){this.recalculatePositioning(),this.el.querySelector(".virtual-list-container").addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.recalculatePositioning)}componentDidUpdate(){this.updateItemHeight()}disconnectedCallback(){this.el.querySelector(".virtual-list-container").removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.recalculatePositioning)}updateVisibleRange(){const e=this.el.querySelector(".virtual-list-container").scrollTop,t=Math.floor(e/this.itemHeight),i=Math.ceil(this.containerHeight/this.itemHeight),a=Math.min(this.items.length,t+i+this.bufferedItemsCount);this.visibleStart=t,this.visibleEnd=a,this.el.querySelector(".virtual-list-container").scrollTop=this.lastScrollTop}updateItemHeight(){const e=this.el.querySelector(".virtual-list-item");if(e){const t=e.style.height;e.style.height="auto";const i=e.getBoundingClientRect().height;t&&(e.style.height=t),i&&Math.floor(i)!==Math.floor(this.itemHeight)&&(this.itemHeight=i)}}renderItems(){return this.items.slice(this.visibleStart,this.visibleEnd).map(((e,t)=>{const i=this.visibleStart+t;return H("div",{class:"virtual-list-item",key:e.id,style:{position:"absolute",top:i*this.itemHeight+"px",height:`${this.itemHeight}px`,width:"100%"}},this.renderItem(e,i))}))}render(){var e;const t=this.items.length*this.itemHeight;return H("div",{key:"1b37d3baa0af9ff413be304f5368849d20a47b23",class:"virtual-list-container",style:{position:"relative",height:"100%",overflowX:"hidden",overflowY:"auto"}},H("div",{key:"6bfd8b0993b3a78ea2317715e54c68cb4458ec5a",style:{height:`${t}px`,position:"relative"}},(null===(e=this.items)||void 0===e?void 0:e.length)?this.renderItems():this.emptyListElement),H("div",{key:"c6917ed47b4f3d579809f0b620f94aaf25779137",style:{height:`${this.itemHeight}px`}}))}get el(){return Y(this)}static get watchers(){return{items:["itemsChanged"]}}};Tk.style=":host{height:100%;width:100%}";var Ak=Object.freeze({__proto__:null,dyte_participant:Ek,dyte_virtualized_participant_list:Tk});var Rk=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Mk=class{constructor(e){c(this,e),this.onVote=Q(this,"dyteVotePoll",7),this.iconPack=Kt,this.t=Zt(),this.MAX_VOTES_RENDER=10}vote(e,t){this.poll.voted.includes(this.self)?e.preventDefault():this.onVote.emit({id:this.poll.id,index:t})}render(){const e=this.poll.voted.includes(this.self);return H(G,{key:"d112ad1e82a81151c92e65892fc7de73e7293e13"},H("div",{key:"093a24d77c5a80b9ab0c92e766ecba29f23cd71b",class:"ctr"},H("p",{key:"4a92f6f8fca96e4ffeb0e196201e032a4e1240e9",class:"poll-title"},this.t("polls.by")," ",oi(li(this.poll.createdBy),20)),H("div",{key:"1c822be138ff7ac8588a7def4a8f9bcc6c7dfacc",class:"poll"},H("p",{key:"59462f18d8018ed2ea8b175da135f144d43424f5",class:"poll-question"},this.poll.question),H("div",{key:"0dc955a9a6b3751f87ec2d9eaf5d9c36d9178601",class:"poll-answers"},H("span",{key:"5c32c86d1129884185d0778bf8f98f09542d8349"},this.t("polls.answers")),H("span",{key:"a0d07807de9040dad6ccb5c37a97095911ef4b5e"},this.poll.voted.length)),this.poll.options.map(((t,i)=>H("div",{class:{active:t.votes.some((e=>e.id===this.self)),"open-vote":this.permissions.polls.canVote&&!e,"poll-option":!0}},H("div",{class:"poll-option-header","data-disabled":!this.permissions.polls.canVote},H("label",null,!e&&H("input",{disabled:!this.permissions.polls.canVote,readOnly:e,type:"radio",checked:t.votes.some((e=>e.id===this.self)),onClick:e=>this.vote(e,i)}),H("p",null,t.text)),H("span",{class:"counter"},t.count)),H("div",{class:"votes"},t.votes.slice(0,this.MAX_VOTES_RENDER).map((e=>{if(!this.poll.anonymous||this.self===this.poll.createdByUserId)return H("dyte-tooltip",{label:e.name},H("div",{class:"vote"},gi(e.name)))})),t.votes.length>this.MAX_VOTES_RENDER&&H("dyte-tooltip",{label:`+${t.votes.length-this.MAX_VOTES_RENDER} more `},H("div",{class:"vote"},"+",t.votes.length-this.MAX_VOTES_RENDER)))))))))}};Rk([ni()],Mk.prototype,"iconPack",void 0),Rk([ni()],Mk.prototype,"t",void 0),Mk.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}.ctr{margin-bottom:var(--dyte-space-3, 12px);display:flex;width:100%;flex-direction:column;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}.poll-title{margin-top:var(--dyte-space-3, 12px);margin-bottom:var(--dyte-space-3, 12px);margin-right:var(--dyte-space-4, 16px);font-size:12px}.poll{border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity));display:flex;flex-direction:column;padding:var(--dyte-space-4, 16px)}.poll-question{padding-left:var(--dyte-space-2, 8px);padding-right:var(--dyte-space-2, 8px);font-size:14px;overflow-wrap:break-word}.poll-answers{display:flex;flex-direction:row;justify-content:space-between;font-size:12px;margin-top:var(--dyte-space-4, 16px);margin-bottom:var(--dyte-space-1, 4px);padding-left:var(--dyte-space-1, 4px);padding-right:var(--dyte-space-3, 12px)}.poll-option{display:flex;flex-direction:column;margin-top:var(--dyte-space-2, 8px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity));padding:var(--dyte-space-2, 8px);word-break:break-word}.poll-option.open-vote:hover{cursor:pointer}.poll-option label{display:flex;flex-direction:row;cursor:inherit}.poll-option-header{display:flex;flex-direction:row;justify-content:space-between;padding:var(--dyte-space-1, 4px)}.poll-option-header[data-disabled='true']:hover{cursor:default}.poll-option-header input{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-0, 0px);margin-left:var(--dyte-space-0\\.5, 2px);margin-right:var(--dyte-space-2, 8px);cursor:inherit}.poll-option-header .counter{color:rgb(var(--dyte-colors-text-1000, 255 255 255));font-size:12px}.votes{margin-top:var(--dyte-space-1, 4px);display:flex;flex-direction:row;flex-wrap:wrap}.vote{margin-right:var(--dyte-space-1, 4px);height:var(--dyte-space-8, 32px);width:var(--dyte-space-8, 32px);display:flex;align-items:center;justify-content:center;border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-video-bg, 24 24 24) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-1000, 255 255 255));border-radius:var(--dyte-border-radius-none, 0);clip-path:circle()}.active{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-on-brand-900, var(--dyte-colors-text-900, 255 255 255 / 0.88)))}.active .counter{color:rgb(var(--dyte-colors-text-on-brand-900, var(--dyte-colors-text-900, 255 255 255 / 0.88)))}";var Dk=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Ik=class{constructor(e){c(this,e),this.onCreate=Q(this,"dyteCreatePoll",7),this.iconPack=Kt,this.t=Zt(),this.options=["",""],this.anonymous=!1,this.hideVotes=!0}removeOption(e){var t;this.options=this.options.filter(((t,i)=>i!==e)),1===(null===(t=this.error)||void 0===t?void 0:t.code)&&(this.error=void 0)}addOption(){this.options=[...this.options,""]}updateOption(e,t){var i;this.options[t]=e.target.value,1===(null===(i=this.error)||void 0===i?void 0:i.code)&&(this.error=void 0)}handleSubmit(){const e={question:this.question.value,options:this.options,anonymous:this.anonymous,hideVotes:!!this.anonymous||this.hideVotes};e.question?this.options.filter((e=>""===e.trim())).length>0?this.error={code:1,message:this.t("polls.errors.empty_option")}:this.onCreate.emit(e):this.error={code:0,message:this.t("polls.errors.question_required")}}render(){return H(G,{key:"b8a741187cb2d4d623d38d29c327c840ffe55170"},H("div",{key:"e438423cfea105fa66b64e5d853af419f64f0ef5",class:"create-poll"},H("p",{key:"e9fa70ea1bbfd5b183a1c1479442626753419cb2"},this.t("polls.question")),H("textarea",{key:"21178467f9f1b99be4dacfa04885e2e08a83ad9a",onInput:()=>{this.error&&0===this.error.code&&(this.error=void 0)},ref:e=>this.question=e,placeholder:this.t("polls.question.placeholder")}),this.options.map(((e,t)=>H("div",{class:"option"},H("input",{placeholder:this.t("polls.option.placeholder"),value:e,onInput:e=>this.updateOption(e,t)}),t>1&&H("dyte-button",{kind:"icon",class:"auto remove-option",variant:"secondary",onClick:()=>this.removeOption(t)},H("dyte-icon",{icon:this.iconPack.subtract}))))),H("dyte-button",{key:"bf5fdfa5c59b24f7fa63307ad5bf17928a813216",class:"add-option",variant:"secondary",onClick:()=>this.addOption()},this.t("polls.option")),H("label",{key:"822775583078aed4459d585947c563c21b5aa2c7"},H("input",{key:"f9a2c4ea5ccc3bd617b8f651d1bf9c9a0448d471",id:"anonymous",type:"checkbox",onChange:e=>this.anonymous=e.target.checked}),this.t("polls.results.anon")),H("label",{key:"697bb7f1e0a680b0b4e9abecd406714f6e1d8d64"},H("input",{key:"281eb7fac7a60ca8916f4ce604503f7ffa5f4294",id:"hideVotes",type:"checkbox",disabled:this.anonymous,checked:!!this.anonymous||this.hideVotes,onChange:e=>this.hideVotes=e.target.checked}),this.t("polls.results.hide")),H("dyte-button",{key:"f95fc843148dc84713c2d086f2ea867eb3247aa7",kind:"wide",onClick:()=>this.handleSubmit()},this.t("polls.create")),this.error&&H("span",{key:"266bc8776464b0c1c122bf68e14d197418b54d02",class:"error-text"},this.error.message)))}};Dk([ni()],Ik.prototype,"iconPack",void 0),Dk([ni()],Ik.prototype,"t",void 0),Ik.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))\n    var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--dyte-space-1\\.5, 6px);width:var(--dyte-space-1\\.5, 6px);border-radius:9999px;background-color:var(--dyte-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--dyte-scrollbar-color, rgb(var(--dyte-colors-background-600, 60 60 60)))}.create-poll{margin-top:var(--dyte-space-3, 12px);margin-bottom:var(--dyte-space-3, 12px);display:flex;flex:1 1 0%;flex-direction:column;padding:var(--dyte-space-3, 12px);border-radius:var(--dyte-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}.create-poll p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px);text-align:center}.create-poll textarea{display:flex;border-radius:var(--dyte-border-radius-sm, 4px);padding:var(--dyte-space-2, 8px);font-family:var(--dyte-font-family, sans-serif);border-width:var(--dyte-border-width-none, 0);border-style:none;font-weight:500;outline:2px solid transparent;outline-offset:2px;margin-top:var(--dyte-space-3, 12px);margin-bottom:var(--dyte-space-3, 12px);resize:vertical;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}.create-poll textarea:focus{outline-style:solid;outline-offset:2px;outline-color:rgb(var(--dyte-colors-background-600, 60 60 60))}.option{display:flex;flex-direction:row;align-items:center;margin-bottom:var(--dyte-space-3, 12px);width:100%}.option input{width:100%;border-radius:var(--dyte-border-radius-sm, 4px);padding:var(--dyte-space-2, 8px);border-width:var(--dyte-border-width-none, 0);border-style:none;outline:2px solid transparent;outline-offset:2px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}.remove-option{margin-left:var(--dyte-space-2, 8px);width:var(--dyte-space-10, 40px);border-radius:var(--dyte-border-radius-sm, 4px)}.add-option{margin-bottom:var(--dyte-space-3, 12px)}label{margin-bottom:var(--dyte-space-3, 12px)}.error-text{margin-top:var(--dyte-space-3, 12px);text-align:center;font-size:12px;--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}";var Ok=Object.freeze({__proto__:null,dyte_poll:Mk,dyte_poll_form:Ik});const $k=class{constructor(e){c(this,e),this.tabChange=Q(this,"tabChange",7),this.sidebarClose=Q(this,"sidebarClose",7),this.view="sidebar",this.tabs=[],this.hideHeader=!1,this.hideCloseAction=!1,this.iconPack=Kt,this.t=Zt(),this.onClose=()=>{this.sidebarClose.emit()}}render(){const e="full-screen"===this.view,t=this.tabs.find((e=>e.id===this.currentTab));return H(G,{key:"3cc819dfdd7a7afb27c4d5c0caad190e744416e5",class:this.view},!this.hideCloseAction&&H("dyte-button",{key:"49f610426277037837150d9b5f732c86a8a008df",variant:"ghost",kind:"icon",class:"close",onClick:this.onClose,"aria-label":this.t("close")},H("dyte-icon",{key:"6c5f8cbb8d2e4b12e2e924aa7881811a5c6afa32",icon:this.iconPack.dismiss})),t&&!this.hideHeader&&H("header",{key:"f55415f94849e74606dd21973822dd9495d01327",class:"main-header"},H("h3",{key:"f240ff5fa5fe71e83d1c43ab705ec75903720c89"},t.name),H("slot",{key:"f4d05f1edd487c5d1c731914b94dae796cf1daf6",name:"pinned-state"})),e&&H("header",{key:"9a782da10bf0f63523ef96a5bd98708853489beb",class:"mobile-tabs"},this.tabs.map((e=>H("button",{onClick:()=>{this.tabChange.emit(e.id)},class:{active:this.currentTab===e.id}},e.name)))),H("slot",{key:"2656a53d4f0ce0c8b4001292b667e5efa2adcc9d",name:this.currentTab}))}};!function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);r>3&&n&&Object.defineProperty(t,i,n)}([ni()],$k.prototype,"t",void 0),$k.style=":host {\n  line-height: initial;\n  font-family: var(--dyte-font-family, sans-serif);\n\n  font-feature-settings: normal;\n  font-variation-settings: normal;\n}\n\np {\n  margin: var(--dyte-space-0, 0px);\n  padding: var(--dyte-space-0, 0px);\n}\n\n\n:host {\n  position: relative;\n  height: 100%;\n  width: 100%;\n  font-family: var(--dyte-font-family, sans-serif);\n  z-index: 50;\n  display: flex;\n  flex-direction: column;\n\n  container-type: size;\n  container-name: sidebarui;\n}\n\n@container sidebarui (height < 370px) {\n  .main-header {\n    height: var(--dyte-space-8, 32px) !important;\n  }\n  .close {\n    top: var(--dyte-space-0\\.5, 2px) !important;\n    left: var(--dyte-space-0, 0px) !important;\n    color: rgba(var(--dyte-colors-danger, 255 45 45) / 0.6);\n  }\n}\n\n:host([view='sidebar']) {\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-900, 26 26 26) / var(--tw-bg-opacity));\n}\n\n:host([view='full-screen']) {\n  position: absolute;\n  top: var(--dyte-space-0, 0px);\n  right: var(--dyte-space-0, 0px);\n  bottom: var(--dyte-space-0, 0px);\n  left: var(--dyte-space-0, 0px);\n  max-width: 100%;\n  border: none;\n}\n\n::slotted(*) {\n  flex-grow: 1;\n}\n\n.close {\n  position: absolute;\n  top: var(--dyte-space-2, 8px);\n  left: var(--dyte-space-2, 8px);\n  z-index: 10;\n}\n\n.main-header {\n  position: relative;\n  display: flex;\n  height: var(--dyte-space-12, 48px);\n  place-items: center;\n  justify-content: center;\n}\n\n.main-header, \n.mobile-tabs {\n  flex-shrink: 0;\n}\n\n.mobile-tabs {\n  display: flex;\n  place-items: center;\n  justify-content: space-evenly;\n  border-bottom: 1px solid rgb(var(--dyte-colors-background-700, 44 44 44));\n}\n\n.mobile-tabs button {\n  margin: var(--dyte-space-0, 0px);\n  border-width: var(--dyte-border-width-none, 0);\n  border-style: none;\n  background-color: transparent;\n  padding: var(--dyte-space-0, 0px);\n  color: rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52));\n  height: var(--dyte-space-10, 40px);\n  cursor: pointer;\n  padding-left: var(--dyte-space-4, 16px);\n  padding-right: var(--dyte-space-4, 16px);\n  font-weight: 500;\n  border-bottom: 1px solid transparent;\n}\n\n.mobile-tabs button.active {\n  --tw-border-opacity: 1;\n  border-color: rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-border-opacity));\n  --tw-text-opacity: 1;\n  color: rgba(var(--dyte-colors-brand-300, 73 124 253) / var(--tw-text-opacity));\n}\n\nheader h3 {\n  font-size: 14px;\n  font-weight: 500;\n}\n\n@media only screen and (max-device-height: 480px) and (orientation: landscape) {\n  .main-header {\n    display: none !important;\n  }\n}\n\n.tab-participant-count-badge {\n  display: inline-block;\n  padding: 2px 5px;\n  border-radius: 9999px;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));\n  font-size: 12px;\n  color: rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64));\n}\n\n.tab-participant-count-badge:not(.selected-tab) {\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--dyte-colors-background-600, 60 60 60) / var(--tw-bg-opacity));\n}\n\n.tab-participant-count-badge.requests-pending{\n  background-color: rgba(var(--dyte-colors-danger));\n}";var Uk=Object.freeze({__proto__:null,dyte_sidebar_ui:$k});var jk=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Fk=class{constructor(e){c(this,e),this.iconPack=Kt,this.t=Zt(),this.permissionsUpdateListener=()=>{this.canSpotlight=this.meeting.self.permissions.canSpotlight}}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){var e;null===(e=this.meeting)||void 0===e||e.self.permissions.removeListener("permissionsUpdate",this.permissionsUpdateListener)}meetingChanged(e){var t,i;null!=e&&(this.canSpotlight=e.self.permissions.canSpotlight,this.isSpotlighted=null!==(i=null===(t=e.meta)||void 0===t?void 0:t.broadcastTabChanges)&&void 0!==i&&i,e.self.permissions.addListener("permissionsUpdate",this.permissionsUpdateListener))}updateSpotlightState(e){var t;try{null===(t=this.meeting.meta)||void 0===t||t.setBroadcastTabChanges(e),this.isSpotlighted=e}catch(i){console.error(i)}}render(){if(this.canSpotlight)return H(G,null,H("dyte-tooltip",{size:"md",label:this.t("remote_access.indicator")},H("div",{id:"sync-button",class:{tab:!0,active:this.isSpotlighted},onClick:()=>this.updateSpotlightState(!this.isSpotlighted)},H("span",{class:"name"},"Sync"),H("dyte-icon",{id:"icon",icon:this.isSpotlighted?this.iconPack.checkmark:this.iconPack.warning,tabIndex:-1,"aria-hidden":!0}))))}static get watchers(){return{meeting:["meetingChanged"]}}};jk([ni()],Fk.prototype,"meeting",void 0),jk([ni()],Fk.prototype,"iconPack",void 0),jk([ni()],Fk.prototype,"t",void 0),jk([ni()],Fk.prototype,"size",void 0),Fk.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{font-size:12px}#sync-button{flex-direction:row;border-radius:var(--dyte-border-radius-sm, 4px);padding-left:var(--dyte-space-1, 4px);display:flex;align-items:center;justify-content:center;margin-bottom:var(--dyte-space-1, 4px);font-size:12px;--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}:host([size='sm']) dyte-tooltip,:host([size='md']) dyte-tooltip{width:100%}:host([size='sm'])>#sync-button{height:var(--dyte-space-8, 32px);width:var(--dyte-space-16, 64px);padding-left:var(--dyte-space-0, 0px)}:host([size='md'])>#sync-button{height:var(--dyte-space-8, 32px);width:var(--dyte-space-16, 64px)}:host([size='lg'])>#sync-button{flex-direction:row;height:var(--dyte-space-8, 32px);width:var(--dyte-space-16, 64px)}@media (orientation: portrait){:host([size='lg']) #sync-button{flex-direction:column-reverse;height:var(--dyte-space-16, 64px);width:var(--dyte-space-16, 64px)}:host([size='md']) #sync-button{height:var(--dyte-space-16, 64px);width:var(--dyte-space-16, 64px)}:host([size='sm']) #sync-button{height:var(--dyte-space-10, 40px);width:var(--dyte-space-16, 64px);flex-direction:row}}#sync-button>dyte-icon{max-height:14px}#sync-button dyte-icon{--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}:host([size='sm']) #sync-button>dyte-icon{width:auto}#sync-button.active dyte-icon{color:rgb(var(--dyte-colors-text-1000, 255 255 255))}div{align-content:center;line-height:2rem}dyte-icon{height:var(--dyte-space-6, 24px);width:var(--dyte-space-8, 32px)}#sync-button.active{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-success, 98 165 4) / var(--tw-bg-opacity))}";var Nk=Object.freeze({__proto__:null,dyte_spotlight_indicator:Fk});var zk=function(e,t,i,a){var s,r=arguments.length,n=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n};const Bk=class{constructor(e){c(this,e),this.variant="button",this.showWarning=!1,this.disabled=!1,this.iconPack=Kt,this.brandIcon=!1}render(){return H(G,{key:"106768342cdfefe6b850dce971b861b9522eccd8"},H("button",{key:"51da1cbac6b462605d2a3746fb733072d3ff3a9a","aria-label":this.label,part:"button"},this.isLoading?H("dyte-spinner",{id:"icon",part:"spinner",iconPack:this.iconPack}):H("dyte-icon",{id:"icon",icon:this.icon,tabIndex:-1,"aria-hidden":!0,part:"icon"}),H("span",{key:"cd06da56f4a0ffa201463977f5fbb3d76434442a",class:"label",part:"label"},this.label),this.showWarning&&H("dyte-icon",{key:"36b6f5927ed22c3bff973e546aca5158790c2ef3",id:"warning-indicator",icon:this.iconPack.warning,part:"warning-indicator"})))}};zk([ni()],Bk.prototype,"size",void 0),zk([ni()],Bk.prototype,"iconPack",void 0),Bk.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{--background-color:var(\n    --dyte-controlbar-button-background-color,\n    rgb(var(--dyte-colors-background-1000, 8 8 8))\n  );--icon-size:var(--dyte-controlbar-button-icon-size, var(--dyte-space-7, 28px));position:relative;box-sizing:border-box;display:inline-flex;height:100%;width:auto;min-width:var(--dyte-space-20, 80px);-webkit-user-select:none;-moz-user-select:none;user-select:none;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms;color:rgb(var(--dyte-colors-text-1000, 255 255 255));background-color:var(--background-color)}button{padding:var(--dyte-space-1, 4px)}:host(.red-icon) #icon{--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}:host([disabled]){color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}button{box-sizing:border-box;display:inline-flex;height:100%;width:100%;flex:1 1 0%;flex-direction:column;gap:var(--dyte-space-1, 4px);padding-left:var(--dyte-space-1, 4px);padding-right:var(--dyte-space-1, 4px);align-items:center;justify-content:center;cursor:pointer;border-radius:var(--dyte-border-radius-md, 8px);border-width:var(--dyte-border-width-none, 0);border-style:none;background-color:transparent;color:inherit;outline-offset:-2px;border:var(--dyte-border-width-md, 2px) solid transparent}.label{text-align:center;font-size:12px;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}#warning-indicator{position:absolute;top:var(--dyte-space-1, 4px);right:var(--dyte-space-2, 8px);height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px);--tw-text-opacity:1;color:rgba(var(--dyte-colors-warning, 255 205 7) / var(--tw-text-opacity))}:host([size='sm']) #warning-indicator{right:var(--dyte-space-0, 0px);top:var(--dyte-space-0, 0px);height:var(--dyte-space-3, 12px);width:var(--dyte-space-3, 12px)}:host(:hover) button{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}#icon{width:var(--icon-size);height:var(--icon-size)}:host(.leave:hover) button{--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity));border:var(--dyte-border-width-md, 2px) solid rgb(var(--dyte-colors-danger, 255 45 45))}:host(.active) button{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-400, 53 110 253) / var(--tw-text-opacity));border:var(--dyte-border-width-md, 2px) solid rgb(var(--dyte-colors-brand-400, 53 110 253))}button:focus-visible{outline:2px solid rgb(var(--dyte-colors-brand-400, 53 110 253))}:host(.active-livestream){--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}:host([size='sm']){min-width:var(--dyte-space-14, 56px)}:host([size='sm']) .label{display:none}:host([variant='horizontal']){width:100%}:host([variant='horizontal']) button{border-radius:7px;height:var(--dyte-space-12, 48px);width:100%;padding-left:var(--dyte-space-5, 20px);padding-right:var(--dyte-space-5, 20px);padding-top:var(--dyte-space-3, 12px);padding-bottom:var(--dyte-space-3, 12px);flex-direction:row;justify-content:flex-start;gap:var(--dyte-space-3, 12px)}:host([variant='horizontal']) #icon{width:var(--dyte-space-6, 24px)}:host([variant='horizontal']) .label{display:block;font-size:14px;line-height:1.25rem}:host([variant='horizontal']) #warning-indicator{right:auto;left:var(--dyte-space-4, 16px)}:host([brand-icon]) dyte-icon#icon{--tw-text-opacity:1;color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-text-opacity))}@media only screen and (max-device-height: 480px) and (orientation: landscape){:host .label{display:none}:slotted(dyte-icon){height:var(--dyte-space-4, 16px);width:var(--dyte-space-4, 16px)}}";var Hk=Object.freeze({__proto__:null,dyte_controlbar_button:Bk})},11135:(e,t,i)=>{i.d(t,{l:()=>a});const a=console},20878:(e,t,i)=>{i.d(t,{D:()=>n});var a=i(371),s=i(11135);const r={joined:"https://dyte-uploads.s3.ap-south-1.amazonaws.com/notification_join.mp3",left:"https://dyte-uploads.s3.ap-south-1.amazonaws.com/notification_join.mp3",message:"https://dyte-uploads.s3.ap-south-1.amazonaws.com/notification_message.mp3"};class n{constructor(e){this.meeting=e,this.audio=document.createElement("audio"),this.audio.volume=.3}play(e,t=3e3){var i;this.playing||(this.playing=!0,this.audio.src=r[e],this.audio.volume=.3,null===(i=this.audio.play())||void 0===i||i.catch((i=>{s.l.error("[dyte-notifications] play() failed\n",{sound:e,duration:t},i)})),setTimeout((()=>{this.playing=!1}),t))}async setDevice(e){var t,i,r;(0,a.e)(this.meeting)||await(null===(r=null===(i=null===(t=this.audio)||void 0===t?void 0:t.setSinkId)||void 0===i?void 0:i.call(t,e))||void 0===r?void 0:r.catch((e=>{s.l.error("[dyte-notifications] setSinkId() error\n",e)})))}}},371:(e,t,i)=>{i.d(t,{B:()=>j,F:()=>l,P:()=>o,a:()=>q,b:()=>V,c:()=>G,d:()=>F,e:()=>p,f:()=>ee,g:()=>te,h:()=>y,i:()=>r,j:()=>h,k:()=>W,l:()=>ne,m:()=>J,n:()=>Q,o:()=>se,p:()=>v,q:()=>re,r:()=>u,s:()=>n,t:()=>b,u:()=>ie,v:()=>s,w:()=>c});var a=i(98342);const s=e=>!!n(e)&&("LIVESTREAM"===e.meta.viewType&&"ON_STAGE"!==e.stage.status),r=e=>{var t;return!!n(e)&&("LIVESTREAM"===e.meta.viewType&&(null===(t=null==e?void 0:e.self)||void 0===t?void 0:t.permissions.canLivestream))},n=e=>null==e?void 0:e.livestream;var o,d;function c({meeting:e,hlsLevels:t}){let i=e.self.config.livestreamViewerQualities||[];if(!i.length)return{autoLevelChangeAllowed:!0,levels:t};const a=t.filter((e=>i.includes(e.height)));return a.length?{autoLevelChangeAllowed:!1,levels:a}:{autoLevelChangeAllowed:!0,levels:t}}!function(e){e.BUFFERING="Buffering",e.ENDED="Ended",e.IDLE="Idle",e.PAUSED="Paused",e.PLAYING="Playing",e.READY="Ready"}(o||(o={})),function(e){e.INITIALIZED="PlayerInitialized",e.QUALITY_CHANGED="PlayerQualityChanged",e.DURATION_CHANGED="PlayerDurationChanged",e.VOLUME_CHANGED="PlayerVolumeChanged",e.MUTED_CHANGED="PlayerMutedChanged",e.PLAYBACK_RATE_CHANGED="PlayerPlaybackRateChanged",e.REBUFFERING="PlayerRebuffering",e.AUDIO_BLOCKED="PlayerAudioBlocked",e.PLAYBACK_BLOCKED="PlayerPlaybackBlocked",e.ERROR="PlayerError",e.RECOVERABLE_ERROR="PlayerRecoverableError",e.ANALYTICS_EVENT="PlayerAnalyticsEvent",e.TIME_UPDATE="PlayerTimeUpdate",e.BUFFER_UPDATE="PlayerBufferUpdate",e.SEEK_COMPLETED="PlayerSeekCompleted",e.SESSION_DATA="PlayerSessionData",e.STATE_CHANGED="PlayerStateChanged",e.WORKER_ERROR="PlayerWorkerError",e.METADATA="PlayerMetadata",e.TEXT_CUE="PlayerTextCue",e.TEXT_METADATA_CUE="PlayerTextMetadataCue",e.AD_CUE="PlayerAdCue",e.STREAM_SOURCE_CUE="PlayerStreamSourceCue",e.NETWORK_UNAVAILABLE="PlayerNetworkUnavailable",e.SEGMENT_DISCONTINUITY="PlayerSegmentDiscontinuity",e.SEGMENT_METADATA="PlayerSegmentMetadata",e.PLAYER_METADATA="PlayerMetadata"}(d||(d={}));const l={PLAY_PARTICIPANT_TILE_VIDEO_ON_PAUSE:"play_participant_tile_video_on_pause",DISABLE_EMOJI_PICKER:"disable_emoji_picker",FEAT_PAGINATED_CHAT:"feat_paginated_chat",LOG_PLAYING_FAILURES:"log_playing_failures",FEAT_CHANNEL_CHAT:"feat_channel_chat",DISABLE_KICKING:"disable_kicking",ADMIN_CANTREMOVE_ADMIN:"admin_cantremove_admin",CANTINVITE_VIEWER:"cantinvite_viewer",PINNED_MESSAGES:"pinned_msgs"},h=e=>{var t;return"CHAT"===(null==e?void 0:e.meta.viewType)||n(e)||(null===(t=null==e?void 0:e.__internals__)||void 0===t?void 0:t.features.hasFeature("feat_paginated_chat"))},p=e=>{var t,i;return(null===(t=null==e?void 0:e.__internals__)||void 0===t?void 0:t.browserSpecs.isFirefox())&&(null===(i=null==e?void 0:e.__internals__)||void 0===i?void 0:i.features.hasFeature("disable_firefox_setting_sink_id"))};let g=0;function u(){g=0}const f="temp-";function m(e){return e.includes(f)}function v(e){var t;return null!==(t=e.customParticipantId)&&void 0!==t?t:e.clientSpecificId}function y(e){const t=new Map;return[e.self,...e.participants.joined.toArray()].map((e=>{t.set(v(e),e.picture)})),[e.connectedMeetings.parentMeeting,...e.connectedMeetings.meetings].flatMap((e=>e.participants)).map((e=>({id:e.id,customParticipantId:v(e),displayName:e.displayName,displayPictureUrl:""!==e.displayPictureUrl?e.displayPictureUrl:t.get(v(e))})))}const b=e=>{if(!(e=>e.connectedMeetings.supportsConnectedMeetings)(e))return!1;const t=e.self.permissions.connectedMeetings;return!!t.canAlterConnectedMeetings||!(!t.canSwitchConnectedMeetings&&!t.canSwitchToParentMeeting)&&e.connectedMeetings.isActive};var w,x,k,S,C,_,P,L,E,T,A,R,M,D,I,O=function(e,t,i,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,i):s?s.value=i:t.set(e,i),i},$=function(e,t,i,a){if("a"===i&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?a:"a"===i?a.call(e):a?a.value:t.get(e)},U=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(i[a[s]]=e[a[s]])}return i};class j{constructor(){w.add(this),x.set(this,!1),k.set(this,void 0),S.set(this,void 0),C.set(this,void 0),_.set(this,void 0),P.set(this,void 0),L.set(this,void 0),E.set(this,void 0),T.set(this,void 0)}get hasLocalChanges(){return $(this,x,"f")}get currentState(){let e,t=[];return Array.from($(this,_,"f").keys()).forEach((i=>{const a=$(this,L,"f").get(i);a.isParent?e=Object.assign(Object.assign({},a),{participants:$(this,w,"m",I).call(this,i)}):t.push(Object.assign(Object.assign({},a),{participants:$(this,w,"m",I).call(this,i)}))})),{parentMeeting:e,meetings:t}}get allConnectedMeetings(){return this.currentState.meetings.sort(((e,t)=>e.title.localeCompare(t.title)))}get allParticipants(){return Array.from($(this,P,"f").values())}get unassignedParticipants(){return $(this,w,"m",I).call(this,$(this,k,"f").parentMeeting.id)}getParticipantsForMeeting(e){return $(this,w,"m",I).call(this,e)}addNewMeeting(){O(this,x,!0,"f");const e={id:`${f}${Math.random().toString(36)}`,title:"Room "+ ++g,participants:[]},t=U(e,["participants"]);return $(this,w,"m",R).call(this,Object.assign(Object.assign({},t),{isParent:!1})),t}addNewMeetings(e){return Array.from({length:e}).map((()=>this.addNewMeeting()))}updateMeetingTitle(e,t){$(this,L,"f").get(e).title=t,m(e)||$(this,E,"f").add(e)}deleteMeeting(e){O(this,x,!0,"f");const t=$(this,L,"f").get(e),i=$(this,w,"m",I).call(this,t.id).map(v);this.assignParticipantsToMeeting(i,$(this,k,"f").parentMeeting.id),$(this,L,"f").delete(t.id),$(this,_,"f").delete(t.id),m(t.id)||$(this,T,"f").add(t.id)}assignParticipantsToMeeting(e,t){return O(this,x,!0,"f"),e.forEach((e=>{const i=$(this,S,"f").get(e);$(this,_,"f").get(i).delete(e),$(this,_,"f").get(t).add(e),$(this,S,"f").set(e,t)})),this.currentState}assignParticipantsRandomly(){const e=function(e,t){const i=e.length,a=Math.ceil(i/t),s=new Array(t);let r=0;for(let n=0;n<t;n++)s[n]=e.slice(r,r+a),r+=a;return s.filter((e=>e.length))}(this.unassignedParticipants,this.allConnectedMeetings.length);return this.allConnectedMeetings.forEach(((t,i)=>{const a=e[i];a&&0!==a.length&&this.assignParticipantsToMeeting(a.map((e=>e.customParticipantId)),t.id)})),this.currentState}unassignParticipants(e){const t=$(this,k,"f").parentMeeting.id;return this.assignParticipantsToMeeting(e,t)}unassignAllParticipants(){const e=$(this,k,"f").parentMeeting.id,t=this.allParticipants.map(v);return this.assignParticipantsToMeeting(t,e)}updateCurrentState(e){$(this,x,"f")||$(this,w,"m",A).call(this,e),[e.parentMeeting,...e.meetings].forEach(((e,t)=>{const i=Object.assign(Object.assign({},e),{isParent:0===t});$(this,w,"m",R).call(this,i),e.participants.forEach((e=>{$(this,w,"m",M).call(this,e,i)}))}))}get meetingsToCreate(){return this.allConnectedMeetings.filter((e=>m(e.id))).map((({id:e,title:t})=>({id:e,title:t})))}get meetingsToUpdate(){return this.allConnectedMeetings.filter((e=>$(this,E,"f").has(e.id))).map((({id:e,title:t})=>({id:e,title:t})))}get meetingsToDelete(){return Array.from($(this,T,"f"))}get participantsToMove(){const e=new Map;return Array.from($(this,S,"f").keys()).forEach((t=>{const i=$(this,C,"f").get(t),a=$(this,S,"f").get(t);if(i===a)return;const s=`${i}__${a}`;e.has(s)||e.set(s,[]);const r=$(this,P,"f").get(t);e.get(s).push(r.id)})),Array.from(e.keys()).map((t=>{const[i,a]=t.split("__");return{sourceMeetingId:i,destinationMeetingId:a,participantIds:e.get(t)}}))}async applyChanges(e){const t=0!==this.meetingsToCreate.length?e.connectedMeetings.createMeetings(this.meetingsToCreate):Promise.resolve([]),i=0!==this.meetingsToUpdate.length?e.connectedMeetings.updateMeetings(this.meetingsToUpdate):Promise.resolve(),[a]=await Promise.all([t,i]);a&&a.forEach((e=>{this.meetingsToCreate.forEach((t=>{t.title===e.title&&$(this,w,"m",D).call(this,$(this,L,"f").get(t.id),e.id)}))})),0!==this.participantsToMove.length&&this.participantsToMove.forEach((({sourceMeetingId:t,destinationMeetingId:i,participantIds:a})=>{e.connectedMeetings.moveParticipants(t,i,a)})),0!==this.meetingsToDelete.length&&e.connectedMeetings.deleteMeetings(this.meetingsToDelete)}discardChanges(){return O(this,x,!1,"f"),this.updateCurrentState($(this,k,"f")),this.currentState}}x=new WeakMap,k=new WeakMap,S=new WeakMap,C=new WeakMap,_=new WeakMap,P=new WeakMap,L=new WeakMap,E=new WeakMap,T=new WeakMap,w=new WeakSet,A=function(e){O(this,k,e,"f"),O(this,L,new Map,"f"),O(this,P,new Map,"f"),O(this,E,new Set,"f"),O(this,T,new Set,"f"),O(this,_,new Map,"f"),O(this,S,new Map,"f"),O(this,C,new Map,"f"),O(this,C,new Map,"f"),$(this,k,"f").parentMeeting.participants.forEach((e=>{$(this,C,"f").set(v(e),$(this,k,"f").parentMeeting.id)})),$(this,k,"f").meetings.forEach((e=>{e.participants.forEach((t=>{$(this,C,"f").set(v(t),e.id)}))}))},R=function(e){$(this,L,"f").has(e.id)||($(this,L,"f").set(e.id,e),$(this,_,"f").set(e.id,new Set))},M=function(e,t){$(this,P,"f").has(v(e))||($(this,P,"f").set(v(e),e),$(this,S,"f").set(v(e),t.id),$(this,_,"f").get(t.id).add(v(e)))},D=function(e,t){const i=e.id;$(this,w,"m",R).call(this,Object.assign(Object.assign({},e),{id:t})),$(this,L,"f").delete(i);const a=$(this,_,"f").get(i);$(this,_,"f").set(t,a),$(this,_,"f").delete(i),Array.from($(this,S,"f").keys()).forEach((e=>{$(this,S,"f").get(e)===i&&$(this,S,"f").set(e,t)}))},I=function(e){return Array.from($(this,_,"f").get(e)).map((e=>$(this,P,"f").get(e)))};const F={designTokens:{spacingBase:4,googleFont:"Inter"},styles:{"dyte-header":{display:"grid",height:"48px",gridTemplateColumns:"repeat(3, 1fr)",gridTemplateRows:"1fr",alignItems:"center"},"dyte-header.sm":{display:"grid",gridArea:"header",gridTemplateColumns:"repeat(2, 1fr)",gridTemplateRows:"1fr",alignItems:"center"},"div#header-left":{display:"flex",alignItems:"center",height:"48px",wordBreak:"break-all"},"dyte-logo":{height:"26px"},"div#header-center":{display:"flex",alignItems:"center",justifyContent:"center",wordBreak:"break-all"},"div#header-right":{display:"flex",alignItems:"center",justifyContent:"flex-end"},"dyte-stage":{display:"flex",flex:"1"},"dyte-grid":{flex:"1",height:"auto"},"dyte-controlbar":{display:"grid",gridTemplateColumns:"repeat(3,1fr)",gridTemplateRows:"1fr",alignItems:"center",padding:"8px"},"dyte-controlbar.sm":{display:"flex",position:"relative",backgroundColor:"rgb(var(--dyte-colors-background-1000, 0 0 0))"},"dyte-controlbar.md":{display:"flex",position:"relative",backgroundColor:"rgb(var(--dyte-colors-background-1000, 0 0 0))"},"div#controlbar-left":{display:"flex",alignItems:"center",gap:"var(--dyte-space-1, 4px)"},"div#controlbar-center":{display:"flex",alignItems:"center",gap:"var(--dyte-space-1, 4px)",position:"relative",overflow:"visible",justifyContent:"center"},"div#controlbar-mobile":{display:"flex",flex:"1",alignItems:"center",gap:"var(--dyte-space-1, 4px)",justifyContent:"center"},"div#controlbar-right":{display:"flex",alignItems:"center",gap:"var(--dyte-space-1, 4px)",justifyContent:"flex-end"},"dyte-settings":{width:"720px",height:"480px"},"dyte-debugger":{width:"720px",height:"480px"},"dyte-breakout-rooms-manager":{minHeight:"400px",minWidth:"500px",maxWidth:"80%",maxHeight:"480px"},"div#setupcontrols-media":{position:"absolute",bottom:"8px",right:"8px",display:"flex",gap:"4px"},"div#setupcontrols-settings":{position:"absolute",top:"8px",right:"8px",display:"flex",flexDirection:"column",gap:"6px"},"dyte-meeting-title.sm":{marginLeft:"0"},"dyte-clock":{marginRight:"0"}},root:{"dyte-meeting":{state:"meeting",states:["activeSidebar","activeAI"]},"dyte-meeting[meeting=waiting]":["dyte-waiting-screen"],"dyte-meeting[meeting=idle]":["dyte-idle-screen"],"dyte-meeting[meeting=setup]":["dyte-setup-screen","dyte-dialog-manager"],"dyte-meeting[meeting=joined]":["dyte-header","dyte-stage","dyte-controlbar","dyte-participants-audio","dyte-dialog-manager"],"dyte-meeting[meeting=joined].activeSidebar.sm":{add:[["dyte-sidebar",{view:"full-screen"}]]},"dyte-meeting[meeting=joined].activeSidebar.md":{add:[["dyte-sidebar",{view:"full-screen"}]]},"dyte-meeting[meeting=joined].activeAI.sm":{add:[["dyte-ai",{view:"full-screen"}]]},"dyte-meeting[meeting=joined].activeAI.md":{add:[["dyte-ai",{view:"full-screen"}]]},"dyte-meeting[meeting=ended]":["dyte-ended-screen"],"dyte-header":["div#header-left","div#header-center","div#header-right"],"dyte-header.sm":{remove:["div#header-center"]},"div#header-left":["dyte-logo","dyte-recording-indicator","dyte-livestream-indicator"],"div#header-center":["dyte-meeting-title"],"div#header-right":["dyte-grid-pagination","dyte-clock","dyte-participant-count","dyte-viewer-count"],"div#header-left.sm":["dyte-meeting-title","dyte-recording-indicator","dyte-livestream-indicator"],"dyte-stage":{states:["activeSidebar","activeAI"],children:["dyte-grid","dyte-notifications","dyte-transcripts"]},"dyte-stage.activeSidebar":{add:[["dyte-sidebar",{view:"sidebar"}]]},"dyte-stage.activeSidebar.sm":{remove:["dyte-sidebar"]},"dyte-stage.activeAI":{add:[["dyte-ai",{view:"sidebar"}]]},"dyte-stage.activeAI.sm":{remove:["dyte-ai"]},"dyte-grid":{states:["activeScreenShare","activePlugin","activeSpotlight"],children:["dyte-simple-grid"]},"dyte-grid.activeSpotlight":["dyte-spotlight-grid"],"dyte-grid.activeScreenShare":["dyte-mixed-grid"],"dyte-grid.activePlugin":["dyte-mixed-grid"],"dyte-grid.activeScreenShare.activeSpotlight":["dyte-mixed-grid"],"dyte-grid.activePlugin.activeSpotlight":["dyte-mixed-grid"],"dyte-grid.activePlugin.activeScreenShare.activeSpotlight":["dyte-mixed-grid"],"dyte-mixed-grid":{states:["activeSpotlight"],children:["dyte-simple-grid"]},"dyte-mixed-grid.activeSpotlight":["dyte-spotlight-grid"],"dyte-participant-tile":{state:"meeting",children:["dyte-name-tag","dyte-avatar","dyte-network-indicator"]},"dyte-participant-setup":["dyte-avatar","div#setupcontrols-media"],"dyte-participant-tile[meeting=setup]":["dyte-avatar","div#setupcontrols-settings","div#setupcontrols-media"],"div#setupcontrols-media":[["dyte-mic-toggle",{size:"sm"}],["dyte-camera-toggle",{size:"sm"}]],"div#setupcontrols-settings":[["dyte-settings-toggle",{size:"sm"}]],"dyte-screenshare-view":{children:["dyte-name-tag","dyte-network-indicator"]},"dyte-name-tag":[["dyte-audio-visualizer",{slot:"start"}]],"dyte-controlbar":{states:["activeMoreMenu"],props:{variant:"solid"},children:["div#controlbar-left","div#controlbar-center","div#controlbar-right"]},"dyte-more-toggle":{states:["activeMoreMenu"],children:[]},"dyte-controlbar.sm":["div#controlbar-mobile"],"dyte-controlbar.md":["div#controlbar-mobile"],"dyte-more-toggle.activeMoreMenu":[["dyte-fullscreen-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-pip-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-caption-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-mute-all-button",{variant:"horizontal",slot:"more-elements"}],["dyte-breakout-rooms-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-recording-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-debugger-toggle",{variant:"horizontal"}]],"dyte-more-toggle.activeMoreMenu.sm":[["dyte-chat-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-participants-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-polls-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-plugins-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-fullscreen-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-screen-share-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-pip-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-caption-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-mute-all-button",{variant:"horizontal",slot:"more-elements"}],["dyte-breakout-rooms-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-settings-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-ai-toggle",{variant:"horizontal"}],["dyte-debugger-toggle",{variant:"horizontal"}]],"dyte-more-toggle.activeMoreMenu.md":[["dyte-chat-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-participants-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-polls-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-plugins-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-fullscreen-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-screen-share-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-pip-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-caption-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-mute-all-button",{variant:"horizontal",slot:"more-elements"}],["dyte-breakout-rooms-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-settings-toggle",{variant:"horizontal",slot:"more-elements"}],["dyte-ai-toggle",{variant:"horizontal"}],["dyte-debugger-toggle",{variant:"horizontal"}]],"div#controlbar-mobile":["dyte-mic-toggle","dyte-camera-toggle","dyte-webinar-stage-toggle","dyte-stage-toggle","dyte-leave-button","dyte-more-toggle"],"div#controlbar-left":["dyte-settings-toggle","dyte-screen-share-toggle","dyte-livestream-toggle"],"div#controlbar-center":["dyte-mic-toggle","dyte-camera-toggle","dyte-webinar-stage-toggle","dyte-stage-toggle","dyte-more-toggle","dyte-leave-button"],"div#controlbar-right":["dyte-chat-toggle","dyte-polls-toggle","dyte-participants-toggle","dyte-plugins-toggle","dyte-ai-toggle"]},config:{notification_sounds:{participant_left:!1},participant_joined_sound_notification_limit:10,participant_chat_message_sound_notification_limit:10,videoFit:"cover"}},N=e=>!("isConnected"in e)||e.isConnected,z=((e,t)=>{let i;return(...a)=>{i&&clearTimeout(i),i=setTimeout((()=>{i=0,e(...a)}),t)}})((e=>{for(let t of e.keys())e.set(t,e.get(t).filter(N))}),2e3),B=e=>"function"==typeof e?e():e,H=(e,t)=>{const i=e.indexOf(t);i>=0&&(e[i]=e[e.length-1],e.length--)},V={about_call:"About Call",screen:"Screen",camera:"Camera",leave:"Leave",dismiss:"Dismiss",logo:"Logo",page:"Page",more:"More","page.prev":"Previous Page","page.next":"Next Page",layout:"Layout","layout.auto":"Auto Layout",settings:"Settings",file:"File",image:"Image",connection:"Connection",leave_confirmation:"Are you sure you want to leave the call?",cancel:"Cancel",yes:"Yes","(you)":"(you)",you:"You",everyone:"Everyone",to:"To",mute:"Mute",kick:"Kick",pin:"Pin",pinned:"Pinned",accept:"Accept",unpin:"Unpin",pip_on:"Show PiP",pip_off:"Hide PiP",viewers:"Viewers",join:"Join",joined:"Joined",create:"Create",close:"Close",ask:"Ask",type:"Type",activate:"Activate",requests:"Requests",mic_off:"Mic Off",disable_mic:"Disable Mic",mic_on:"Mic On",enable_mic:"Enable Mic",audio:"Audio",test:"Test",minimize:"Hide Tile",maximize:"Show Tile",mute_all:"Mute all","mute_all.description":"Everyone else in the meeting will be muted.","mute_all.header":"Are you sure?","mute_all.allow_unmute":"Allow others to unmute",video_off:"Video Off",disable_video:"Disable Video",video_on:"Video On",enable_video:"Enable Video",video:"Video",offline:"You're offline","offline.description":"Please ensure that you are connected to the internet.",disconnected:"You haven't joined the meeting.",failed:"You've been disconnected","failed.description":"We could not connect you back to the meeting room. Please try rejoining the meeting.","disconnected.description":"Please join the meeting in order to see and interact with other participants.",participants:"Participants","participants.errors.empty_results":"Couldn't find a participant with the specified name or ID.","participants.empty_list":"It looks like nobody is here.","participants.no_pending_requests":"There are no pending requests.","participants.turn_off_video":"Turn off video",polls:"Polls","polls.by":"Poll by","polls.question":"Poll Question","polls.question.placeholder":"What is your poll for?","polls.answers":"Answers","polls.option":"Add an option.","polls.option.placeholder":"Enter an option","polls.results.anon":"Anonymous","polls.results.hide":"Hide results before voting","polls.create":"Create Poll","polls.cancel":"Cancel Poll Creation","polls.empty":"No polls available","polls.errors.question_required":"Question is required.","polls.errors.empty_option":"Empty options not allowed.",screenshare:"Screen Share","screenshare.min_preview":"Minimize Preview","screenshare.max_preview":"Expand Preview","screenshare.shared":"Your screen is being shared.","screenshare.start":"Share Screen","screenshare.stop":"Stop Sharing","screenshare.error.unknown":"An error occured while starting screenshare.","screenshare.error.max_count":"Maximum screen share limit reached.",plugins:"Plugins",perm_denied:"Permission denied by browser.","perm_denied.audio":"Mic Permission denied by browser","perm_denied.video":"Camera Permission denied by browser","perm_denied.screenshare":"Screenshare Permission denied by browser","perm_denied.audio.chrome.message":"In the top navigation bar, click on the icon left to the URL and ensure  'Microphone' permission is checked","perm_denied.video.chrome.message":"In the top navigation bar, click on the icon left to the URL and ensure  'Camera' permission is checked","perm_denied.screenshare.chrome.message":"Under Chrome settings, navigate to 'Privacy and Security > Site Settings > Permissions'. Select 'Screenshare', provide permission and reload this application.","perm_denied.audio.safari.message":"Under Safari settings, navigate to 'Websites > Microphone', provide permission and reload this application.","perm_denied.video.safari.message":"Under Safari settings, navigate to 'Websites > Camera', provide permission and reload this application.","perm_denied.screenshare.safari.message":"Under Safari settings, navigate to 'Websites > Screenshare', provide permission and reload this application.","perm_denied.audio.edge.message":"Under Edge settings, navigate to 'Site Permissions > Microphone', provide permission and reload this application.","perm_denied.video.edge.message":"Under Edge settings, navigate to 'Site Permissions > Camera', provide permission and reload this application.","perm_denied.screenshare.edge.message":"Under Edge settings, navigate to 'Site Permissions > Screenshare', provide permission and reload this application.","perm_denied.audio.microsoft edge.message":"Under Edge settings, navigate to 'Site Permissions > Microphone', provide permission and reload this application.","perm_denied.video.microsoft edge.message":"Under Edge settings, navigate to 'Site Permissions > Camera', provide permission and reload this application.","perm_denied.screenshare.microsoft edge.message":"Under Edge settings, navigate to 'Site Permissions > Screenshare', provide permission and reload this application.","perm_denied.audio.firefox.message":"Under Firefox settings, navigate to 'Privacy and Security > Permissions > Microphone', provide permission and reload this application.","perm_denied.video.firefox.message":"Under Firefox settings, navigate to 'Privacy and Security > Permissions > Camera', provide permission and reload this application.","perm_denied.screenshare.firefox.message":"Under Firefox settings, navigate to 'Privacy and Security > Permissions > Screenshare', provide permission and reload this application.","perm_denied.audio.others.message":"From your browser settings, enable 'Microphone' permissions and reload this application.","perm_denied.video.others.message":"From your browser settings, enable 'Camera' permissions and reload this application.","perm_denied.screenshare.others.message":"From your browser settings, enable 'Screenshare' permissions and reload this application.",perm_sys_denied:"Permission denied by system","perm_sys_denied.audio":"Mic permission denied by system","perm_sys_denied.video":"Camera permission denied by system","perm_sys_denied.screenshare":"Screenshare permission denied by system","perm_sys_denied.audio.macos.message":"Open Apple Menu, Navigate to 'System Settings > Privacy & Security > Microphone'. Allow access to your browser and reload this application.","perm_sys_denied.video.macos.message":"Open Apple Menu, Navigate to 'System Settings > Privacy & Security > Camera'. Allow access to your browser and reload this application.","perm_sys_denied.screenshare.macos.message":"Open Apple Menu, Navigate to 'System Settings > Privacy & Security > Screenshare'. Allow access to your browser and reload this application.","perm_sys_denied.audio.ios.message":"On your iPhone, navigate to 'Settings > Privacy > Microphone', allow access to your browser and reload this application.","perm_sys_denied.video.ios.message":"On your iPhone, navigate to 'Settings > Privacy > Camera', allow access to your browser and reload this application.","perm_sys_denied.screenshare.ios.message":"On your iPhone, navigate to 'Settings > Privacy > Screenshare', allow access to your browser and reload this application.","perm_sys_denied.audio.windows.message":"Go to windows settings, select 'Settings > Privacy > Microphone'. Allow permissions to your browser and reload this application.","perm_sys_denied.video.windows.message":"Go to windows settings, select 'Settings > Privacy > Camera'. Allow permissions to your browser and reload this application.","perm_sys_denied.screenshare.windows.message":"Go to windows settings, select 'Settings > Privacy > Screenshare'. Allow permissions to your browser and reload this application.","perm_sys_denied.audio.android.message":"On you device, navigate to 'Settings > Apps'. Select your browser, allow Microphone permissions and reload this application.","perm_sys_denied.video.android.message":"On you device, navigate to 'Settings > Apps'. Select your browser, allow Camera permissions and reload this application.","perm_sys_denied.screenshare.android.message":"On you device, navigate to 'Settings > Apps'. Select your browser, allow Screenshare permissions and reload this application.","perm_sys_denied.audio.others.message":"Navigate to your system settings. Allow 'Microphone' permissions for your browser and reload this application.","perm_sys_denied.video.others.message":"Navigate to your system settings. Allow 'Camera' permissions for your browser and reload this application.","perm_sys_denied.screenshare.others.message":"Navigate to your system settings. Allow 'Screenshare' permissions for your browser and reload this application.",perm_could_not_start:"Could not capture device.","perm_could_not_start.audio":"Unable to start your Microphone","perm_could_not_start.video":"Unable to start your Camera","perm_could_not_start.screenshare":"Unable to start your Screenshare","perm_could_not_start.audio.message":"Looks like the system could not capture your microphone. Please restart your device or upgrade your browser to fix this.","perm_could_not_start.video.message":"Looks like the system could not capture your camera. Please restart your device or upgrade your browser to fix this.","perm_could_not_start.screenshare.message":"Looks like the system could not capture your screenshare. Please restart your device or upgrade your browser to fix this.",full_screen:"Full Screen","full_screen.exit":"Exit Full Screen","waitlist.header_title":"Waiting","waitlist.body_text":"You are in the waiting room, the host will let you in soon.","waitlist.deny_request":"Deny request","waitlist.accept_request":"Accept request","waitlist.accept_all":"Accept all","stage_request.header_title":"Join Stage Requests","stage_request.deny_request":"Deny request","stage_request.accept_request":"Accept request","stage_request.accept_all":"Accept all","stage_request.deny_all":"Deny all","stage_request.approval_pending":"Pending","stage_request.denied":"Denied","stage_request.request":"Join stage","stage_request.requested":"Requested","stage_request.cancel_request":"Cancel request","stage_request.leave_stage":"Leave stage","stage_request.request_tip":"Request to join the discussion","stage_request.leave_tip":"Leave the stage","stage_request.pending_tip":"Request pending","stage_request.denied_tip":"Rejected request","stage.empty_host":"The stage is empty","stage.empty_host_summary":"You are off stage. You can manage stage request from the participants tab.","stage.empty_viewer":"There is no one on stage","stage.remove_from_stage":"Remove from stage","stage.invited_notification":"has been invited to join stage.","stage.add_to_stage":"Invite to stage","stage.join_title":"Join Stage","stage.join_summary":"You are about to join the stage, your video & audio as shown above will be visible to all participants.","stage.join_cancel":"Cancel","stage.join_confirm":"Join","setup_screen.join_in_as":"Join in as","setup_screen.joining_as":"Joining as","setup_screen.your_name":"Your name","stage.reconnecting":"Reconnecting...","recording.label":"REC","recording.indicator":"This meeting is being recorded.","recording.started":"This meeting is being recorded.","recording.stopped":"Recording for this meeting has been stopped.","recording.paused":"Recording for this meeting has been paused.","recording.error.start":"Error while starting recording.","recording.error.stop":"Error while stopping recording","recording.error.resume":"Error while resuming recording","recording.start":"Start Recording","recording.stop":"Stop Recording","recording.resume":"Resume Recording","recording.starting":"Starting","recording.stopping":"Stopping","recording.loading":"Loading","recording.idle":"Record",audio_playback:"Play Audio","audio_playback.title":"Allow Audio Playback","audio_playback.description":"In order to play audio properly on your device, click the button below.",breakout_rooms:"Breakout Rooms","breakout_rooms.room_config_header":"Create Breakout","breakout_rooms.join_breakout_header":"Join Breakout","breakout_rooms.empty":"Nobody here yet.","breakout_rooms.delete":"Delete Room","breakout_rooms.switch":"Switch","breakout_rooms.main_room":"Main Room","breakout_rooms.shuffle_participants":"Shuffle Participants","breakout_rooms.deselect":"Deselect","breakout_rooms.selected":"selected","breakout_rooms.num_of_rooms":"No. of Rooms","breakout_rooms.approx":"Approx.","breakout_rooms.participants_per_room":"participants/room","breakout_rooms.division_text":"when equally divided.","breakout_rooms.start_breakout":"Start Breakout","breakout_rooms.close_breakout":"Close Breakout","breakout_rooms.update_breakout":"Update Breakout","breakout_rooms.discard_changes":"Discard Changes","breakout_rooms.room":"Room","breakout_rooms.rooms":"Rooms","breakout_rooms.room_name":"Room Name","breakout_rooms.edit_room_name":"Edit Room Name","breakout_rooms.save_room_name":"Save Room Name","breakout_rooms.add_room":"Add","breakout_rooms.add_room_brief":"Add Room","breakout_rooms.select_all":"Select all","breakout_rooms.unassign_all":"Unassign all","breakout_rooms.assign":"Assign","breakout_rooms.assign_participants":"Assign Participants","breakout_rooms.none_assigned":"No participants assigned yet","breakout_rooms.drag_drop_participants":"Drag and drop participants","breakout_rooms.click_drop_participants":"Click here to assign","breakout_rooms.status.assign_multiple":"Assign multiple participants at once by clicking and selecting them","breakout_rooms.status.select_room":"Select a room to assign","breakout_rooms.ephemeral_status.participants_assigned":"Participants assigned","breakout_rooms.ephemeral_status.participants_assigned_randomly":"Participants assigned randomly","breakout_rooms.ephemeral_status.changes_discarded":"Changes discarded","breakout_rooms.confirm_modal.start_breakout.header":"Start breakout rooms?","breakout_rooms.confirm_modal.start_breakout.content":"Once started, all participants will be moved to their assigned rooms.","breakout_rooms.confirm_modal.start_breakout.cancelText":"No, go back","breakout_rooms.confirm_modal.start_breakout.ctaText":"Yes, start","breakout_rooms.confirm_modal.close_breakout.header":"Close breakout rooms?","breakout_rooms.confirm_modal.close_breakout.content":"All breakout rooms will be closed & participants will be moved back to the main room.","breakout_rooms.confirm_modal.close_breakout.ctaText":"Yes, close breakout","breakout_rooms.move_reason.started_msg":"Starting breakout rooms...","breakout_rooms.move_reason.started_desc":"You are being moved to your assigned room","breakout_rooms.move_reason.closed_msg":"Closing Breakout rooms...","breakout_rooms.move_reason.closed_desc":"You are being moved back to the main room","breakout_rooms.move_reason.switch_room":"Joining Breakout Room...","breakout_rooms.move_reason.switch_main_room":"Joining Main Room...","breakout_rooms.all_assigned":"All participants have been assigned","breakout_rooms.empty_main_room":"No more participants in the main room.","breakout_rooms.leave_confirmation":"Are you sure you want to leave the call? You are in a breakout room, you can join the main room too.","breakout_rooms.leave_confirmation.main_room_btn":"Go back to main room",ai:"AI","ai.meeting_ai":"MeetingAI","ai.home":"Home","ai.transcriptions":"Transcriptions","ai.personal":"Personal","ai.caption_view":"Caption View","ai.chat.tooltip":"This conversation will just be visible to you and not to others in the call.","ai.chat.summerise":"Hey AI, summarise this call","ai.chat.agenda":"Hey AI, what is today's agenda?",search:"Search","search.could_not_find":"Couldn't find a participant with the specified name or ID.","search.empty":"It looks like nobody is here.",end:"End Meeting","end.all":"End meeting for all",ended:"The meeting ended.","ended.rejected":"Your request to join the meeting was denied.","ended.left":"You left the meeting.","ended.kicked":"You were removed from the meeting.","ended.disconnected":"The call ended because the connection was lost.","ended.network":"Please check your internet connection and try again.","ended.unauthorized":"You are not authorized to join this meeting.",network:"Network","network.reconnecting":"Connection lost. Trying to reconnect.","network.delay_extended":"Taking too long to reconnect. Please check your network connection.","network.disconnected":"Could not reconnect. Please leave the meeting and try refreshing the window.","network.leaving":"Automatically leaving the meeting in 10 seconds.","network.restored":"Connection restored","network.delay":"Taking too long to reconnect.","network.lost":"Connection lost","network.lost_extended":"Connection lost. Please check your network connection.",livestream:"Livestream","livestream.indicator":"This meeting is being livestreamed.","livestream.skip":"Skip to Live","livestream.idle":"Waiting to go live.","livestream.starting":"Livestream is starting...","livestream.stopping":"Livestream is stopping...","livestream.waiting_on_manual_ingestion":"Please ingest livestream media.","livestream.error.not_supported":"Player not supported.","livestream.error.not_found":"Playback URL not found.","livestream.error.unknown":"An unknown error occured.","livestream.error.sync":"Could not sync livestream please try again later.","livestream.error.start":"Error while starting livestream.","livestream.error.stop":"Error while stopping livestream.","livestream.go_live":"Go Live","livestream.end_live":"End Live","livestream.error":"Error","cta.help":"Need help on how to do this?","cta.continue":"Ignore","cta.reload":"Reload","cta.confirmation":"Are you sure?","cta.system_settings":"Open Settings","remote_access.empty":"There are no remote requests, yet.","remote_access.requests":"The following people have requested remote control to your screen share.","remote_access.allow":"Please select whom you want to give access to.","remote_access.grant":"Grant acess","remote_access.indicator":"Any plugin or screenshare you switch to will sync the change across the meeting",chat:"Chat","chat.new":"New","chat.max_limit_warning":"Max Character Limit","chat.rate_limit_error":"Please wait before you can send another message","chat.new_channel":"Create new channel","chat.channel_name":"Enter channel name","chat.member_name":"Enter member name","chat.add_members":"Add members","chat.delete_msg":"Delete","chat.edit_msg":"Edit","chat.send_msg":"Send message","chat.send_attachment":"Drop files/images to send","chat.send_img":"Send an image","chat.send_file":"Send a file","chat.send_emoji":"Send an emoji","chat.update_msg":"Update message","chat.channel_members":"Channel Members","chat.img.loading":"Loading image","chat.error.img_not_found":"Image not found","chat.error.empty_results":"Couldn't find a member with the specified name.","chat.img.shared_by":"Shared by","chat.reply":"Reply","chat.message_placeholder":"Message..","chat.click_to_send":"Click to send as message","chat.search_msgs":"Search messages","chat.search_conversations":"Search conversations","chat.start_conversation":"Start a conversation..","chat.empty_search":"No messages found","chat.empty_channel":"Send a message to get started","chat.cancel_upload":"Cancel upload","chat.view_chats":"View chats","chat.everyone":"everyone","chat.pinned_msgs":"Pinned messages","chat.toggle_pinned_msgs":"Toggle pinned messages","date.today":"Today","date.yesteday":"Yesterday","date.sunday":"Sunday","date.monday":"Monday","date.tuesday":"Tuesday","date.wednesday":"Wednesday","date.thursday":"Thursday","date.friday":"Friday","date.saturday":"Saturday","list.empty":"No items found","grid.listening":"Listening","transcript.off":"Turn off Transcripts","transcript.on":"Turn on Transcripts","settings.notification_sound":"Notification sound","settings.microphone_input":"Microphone","settings.speaker_output":"Speaker","settings.mirror_video":"Mirror my Video","settings.camera_off":"Camera is off","dialog.close":"Close dialog","notifications.joined":"just joined","notifications.left":"left","notifications.requesting_to_join_meeting":"is requesting to join the meeting","notifications.requested_to_join_stage":"has requested to join stage","notifications.joined_stage":"has joined stage","notifications.request_to_join_accepted":"Request to join accepted","notifications.request_to_join_rejected":"Request to join rejected","notifications.accept":"Accept","notifications.new_poll_created_by":"New poll created by","notifications.connected_to":"Connected to","notifications.plugin_switched_to":"Plugin switched to","notifications.remote_control_requested":"has requested for remote control","notifications.remote_control_request_sent":"Sent remote control request to","notifications.remote_control_request_accepted":"has granted remote control","notifications.remote_control_granted":"Granted remote control to","notifications.remote_control_terminated":"Existing remote control has been terminated","debugger.troubleshooting.label":"Troubleshooting","debugger.quality.good":"Good","debugger.quality.average":"Average","debugger.quality.poor":"Poor","debugger.stats.bitrate.label":"Bitrate","debugger.stats.bitrate.description":"Data transmitted per second, affects quality and file size.","debugger.stats.packet_loss.label":"Packet Loss","debugger.stats.packet_loss.description":"Amount of data lost during transfer","debugger.stats.jitter.label":"Jitter","debugger.stats.jitter.description":"Variance or fluctuation in latency","debugger.stats.cpu_limitations.label":"CPU Limitations","debugger.stats.cpu_limitations.description":"CPU limitations can impact WebRTC call quality and performance.","debugger.stats.bandwidth_limitations.label":"Bandwidth Limitations","debugger.stats.bandwidth_limitations.description":"Slow internet speeds can degrade video quality.","debugger.audio.label":"Audio","debugger.audio.troubleshooting.label":"Audio Troubleshooting","debugger.audio.messages.generating_report":"Generating report. Please wait for a few seconds.","debugger.audio.messages.enable_media":"Please enable mic to see the report.","debugger.audio.sections.network_media":"Network & Media","debugger.video.label":"Video","debugger.video.troubleshooting.label":"Video Troubleshooting","debugger.video.messages.generating_report":"Generating report. Please wait for a few seconds.","debugger.video.messages.enable_media":"Please enable camera to see the report.","debugger.video.sections.network_media":"Network & Media","debugger.screenshare.label":"Screenshare","debugger.screenshare.troubleshooting.label":"Screenshare Troubleshooting","debugger.screenshare.sections.network_media":"Network & Media","debugger.screenshare.messages.generating_report":"Generating report. Please wait for a few seconds.","debugger.screenshare.messages.enable_media":"Please share screen to see the report.","debugger.system.label":"System","debugger.system.troubleshooting.label":"System Troubleshooting","debugger.system.sections.battery":"Battery","debugger.system.battery.level.label":"Battery Level","debugger.system.battery.level.description":"A low battery charge may result in reduced performance.","debugger.system.battery.charging.label":"Battery Charging Status","debugger.system.battery.charging.description":"A device running on power performs optimally.","debugger.system.battery.charging.is_charging":"Charging","debugger.system.battery.charging.is_not_charging":"Not charging"},G=(e=V)=>{let t=V;return(e!==V||Object.keys(e).length>0)&&(t=Object.assign({},V,e)),e=>{var i;return null!==(i=t[e])&&void 0!==i?i:e}},q={people:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 13.999 13 14a2 2 0 0 1 1.995 1.85L15 16v1.5C14.999 21 11.284 22 8.5 22c-2.722 0-6.335-.956-6.495-4.27L2 17.5v-1.501c0-1.054.816-1.918 1.85-1.995L4 14ZM15.22 14H20c1.054 0 1.918.816 1.994 1.85L22 16v1c-.001 3.062-2.858 4-5 4a7.16 7.16 0 0 1-2.14-.322c.336-.386.607-.827.802-1.327A6.19 6.19 0 0 0 17 19.5l.267-.006c.985-.043 3.086-.363 3.226-2.289L20.5 17v-1a.501.501 0 0 0-.41-.492L20 15.5h-4.051a2.957 2.957 0 0 0-.595-1.34L15.22 14H20h-4.78ZM4 15.499l-.1.01a.51.51 0 0 0-.254.136.506.506 0 0 0-.136.253l-.01.101V17.5c0 1.009.45 1.722 1.417 2.242.826.445 2.003.714 3.266.753l.317.005.317-.005c1.263-.039 2.439-.308 3.266-.753.906-.488 1.359-1.145 1.412-2.057l.005-.186V16a.501.501 0 0 0-.41-.492L13 15.5l-9-.001ZM8.5 3a4.5 4.5 0 1 1 0 9 4.5 4.5 0 0 1 0-9Zm9 2a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7Zm-9-.5c-1.654 0-3 1.346-3 3s1.346 3 3 3 3-1.346 3-3-1.346-3-3-3Zm9 2c-1.103 0-2 .897-2 2s.897 2 2 2 2-.897 2-2-.897-2-2-2Z" fill="currentColor"/></svg>',people_checked:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 29 29"><path fill="currentColor" d="M14.58 15.333H2.833a2.667 2.667 0 0 0-2.666 2.666v2l.006.307c.214 4.419 5.031 5.693 8.66 5.693 1.374 0 2.92-.182 4.32-.649a8.53 8.53 0 0 1-.717-1.87c-.93.298-2.027.478-3.18.513l-.423.006-.422-.006c-1.684-.052-3.254-.411-4.355-1.004-1.29-.694-1.89-1.644-1.89-2.99v-2.001l.014-.135a.675.675 0 0 1 .181-.337.68.68 0 0 1 .338-.181l.134-.014h10.31a8.71 8.71 0 0 1 1.436-1.998h.001Zm.253-8.667a6 6 0 1 0-12 0 6 6 0 0 0 12 0Zm-10 0c0-2.205 1.795-4 4-4 2.206 0 4 1.795 4 4s-1.794 4-4 4c-2.205 0-4-1.795-4-4ZM25.5 7.999a4.667 4.667 0 1 0-9.333 0A4.667 4.667 0 0 0 25.5 8Zm-7.333 0a2.67 2.67 0 0 1 2.666-2.666A2.67 2.67 0 0 1 23.5 7.999a2.67 2.67 0 0 1-2.667 2.667 2.67 2.67 0 0 1-2.666-2.667Zm10 13.334a7.333 7.333 0 1 1-14.667 0 7.333 7.333 0 0 1 14.667 0Zm-2.862-3.139a.666.666 0 0 0-.944 0l-4.86 4.863-2.196-2.196a.667.667 0 1 0-.944.944l2.667 2.666a.666.666 0 0 0 .944 0l5.333-5.333a.666.666 0 0 0 0-.944Z"/></svg>',chat:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10a9.96 9.96 0 0 1-4.587-1.112l-3.826 1.067a1.25 1.25 0 0 1-1.54-1.54l1.068-3.823A9.96 9.96 0 0 1 2 12C2 6.477 6.477 2 12 2Zm0 1.5A8.5 8.5 0 0 0 3.5 12c0 1.47.373 2.883 1.073 4.137l.15.27-1.112 3.984 3.987-1.112.27.15A8.5 8.5 0 1 0 12 3.5ZM8.75 13h4.498a.75.75 0 0 1 .102 1.493l-.102.007H8.75a.75.75 0 0 1-.102-1.493L8.75 13h4.498H8.75Zm0-3.5h6.505a.75.75 0 0 1 .101 1.493l-.101.007H8.75a.75.75 0 0 1-.102-1.493L8.75 9.5h6.505H8.75Z" fill="currentColor"/></svg>',poll:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11.752 2a2.752 2.752 0 0 1 2.752 2.751V19.25a2.752 2.752 0 1 1-5.504 0V4.75A2.752 2.752 0 0 1 11.752 2Zm7 5a2.752 2.752 0 0 1 2.752 2.751v9.499a2.752 2.752 0 1 1-5.504 0V9.75A2.752 2.752 0 0 1 18.752 7Zm-14 5a2.752 2.752 0 0 1 2.752 2.751v4.499a2.752 2.752 0 0 1-5.504 0V14.75A2.752 2.752 0 0 1 4.752 12Zm7-8.5c-.692 0-1.252.56-1.252 1.251V19.25a1.252 1.252 0 0 0 2.504 0V4.75c0-.691-.56-1.251-1.252-1.251Zm7 5c-.691 0-1.252.56-1.252 1.251v9.499a1.252 1.252 0 0 0 2.504 0V9.75c0-.691-.56-1.251-1.252-1.251Zm-14 5c-.692 0-1.252.56-1.252 1.251v4.499a1.252 1.252 0 1 0 2.504 0V14.75c0-.691-.56-1.252-1.252-1.252Z" fill="currentColor"/></svg>',participants:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.754 10c.966 0 1.75.784 1.75 1.75v4.749a4.501 4.501 0 0 1-9.002 0V11.75c0-.966.783-1.75 1.75-1.75h5.502Zm0 1.5H9.252a.25.25 0 0 0-.25.25v4.749a3.001 3.001 0 0 0 6.002 0V11.75a.25.25 0 0 0-.25-.25ZM3.75 10h3.381a2.738 2.738 0 0 0-.618 1.5H3.75a.25.25 0 0 0-.25.25v3.249a2.501 2.501 0 0 0 3.082 2.433c.085.504.24.985.453 1.432A4.001 4.001 0 0 1 2 14.999V11.75c0-.966.784-1.75 1.75-1.75Zm13.125 0h3.375c.966 0 1.75.784 1.75 1.75V15a4 4 0 0 1-5.03 3.866c.214-.448.369-.929.455-1.433A2.5 2.5 0 0 0 20.5 15v-3.25a.25.25 0 0 0-.25-.25h-2.757a2.738 2.738 0 0 0-.618-1.5ZM12 3a3 3 0 1 1 0 6 3 3 0 0 1 0-6Zm6.5 1a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5Zm-13 0a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5Zm6.5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Zm6.5 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm-13 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z" fill="currentColor"/></svg>',rocket:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M9.35 20.45 14.65 22.7Q15.55 20.9 16.575 19.15Q17.6 17.4 18.75 15.8L14.8 15Q14.8 15 14.8 15Q14.8 15 14.8 15ZM17.05 24.5 23.7 31.15Q26.55 29.85 29.05 28.2Q31.55 26.55 33.1 25Q37.15 20.95 39.05 16.7Q40.95 12.45 41.1 7.1Q35.75 7.25 31.5 9.15Q27.25 11.05 23.2 15.1Q21.65 16.65 20 19.15Q18.35 21.65 17.05 24.5ZM28.5 19.7Q27.5 18.7 27.5 17.225Q27.5 15.75 28.5 14.75Q29.5 13.75 30.975 13.75Q32.45 13.75 33.45 14.75Q34.45 15.75 34.45 17.225Q34.45 18.7 33.45 19.7Q32.45 20.7 30.975 20.7Q29.5 20.7 28.5 19.7ZM27.75 38.85 33.2 33.4Q33.2 33.4 33.2 33.4Q33.2 33.4 33.2 33.4L32.4 29.45Q30.8 30.6 29.05 31.625Q27.3 32.65 25.5 33.55ZM44.05 4.15Q44.5 10.95 42.35 16.55Q40.2 22.15 35.25 27.1Q35.2 27.15 35.15 27.2Q35.1 27.25 35.05 27.3L36.15 32.8Q36.3 33.55 36.075 34.25Q35.85 34.95 35.3 35.5L26.75 44.1L22.5 34.2L14 25.7L4.1 21.45L12.7 12.9Q13.25 12.35 13.95 12.125Q14.65 11.9 15.4 12.05L20.9 13.15Q20.95 13.1 21 13.075Q21.05 13.05 21.1 13Q26.05 8.05 31.65 5.875Q37.25 3.7 44.05 4.15ZM7.45 31.75Q9.2 30 11.725 29.975Q14.25 29.95 16 31.7Q17.75 33.45 17.725 35.975Q17.7 38.5 15.95 40.25Q14.65 41.55 11.925 42.4Q9.2 43.25 3.75 44Q4.5 38.55 5.325 35.8Q6.15 33.05 7.45 31.75ZM9.55 33.9Q8.85 34.65 8.3 36.25Q7.75 37.85 7.35 40.35Q9.85 39.95 11.45 39.4Q13.05 38.85 13.8 38.15Q14.75 37.3 14.775 36.025Q14.8 34.75 13.9 33.8Q12.95 32.9 11.675 32.925Q10.4 32.95 9.55 33.9Z" fill="currentColor" /></svg>',call_end:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m21.903 13.202-.191.816a2.75 2.75 0 0 1-2.955 2.107l-1.755-.178A2.75 2.75 0 0 1 14.6 13.83l-.389-1.686a.25.25 0 0 0-.113-.157c-.321-.197-1.034-.32-2.098-.32-.786 0-1.386.067-1.786.189-.14.043-.238.085-.301.116l-.09.048-.015.04-.409 1.77A2.75 2.75 0 0 1 7 15.948l-1.746.177A2.75 2.75 0 0 1 2.3 14.03l-.196-.817a3.75 3.75 0 0 1 1.13-3.651C5.134 7.839 8.064 7 12 7c3.943 0 6.875.842 8.776 2.57a3.75 3.75 0 0 1 1.172 3.41l-.045.222Zm-1.426-.514a2.25 2.25 0 0 0-.71-2.009C18.184 9.241 15.602 8.5 12 8.5c-3.598 0-6.177.739-7.76 2.172a2.25 2.25 0 0 0-.677 2.19l.196.818a1.25 1.25 0 0 0 1.342.953l1.746-.178a1.25 1.25 0 0 0 1.09-.962l.423-1.82.043-.136c.376-.998 1.591-1.37 3.597-1.37 1.318 0 2.265.164 2.88.54.401.245.687.642.793 1.1l.389 1.685c.12.522.56.909 1.092.963l1.754.178a1.25 1.25 0 0 0 1.343-.958l.192-.816.034-.171Z" fill="currentColor"/></svg>',share:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 2.498a3.502 3.502 0 1 1-2.597 5.851l-4.558 2.604a3.5 3.5 0 0 1 0 2.093l4.557 2.606a3.502 3.502 0 1 1-.745 1.302L9.1 14.347a3.502 3.502 0 1 1 0-4.698l4.557-2.604A3.502 3.502 0 0 1 17 2.498Zm0 13.5a2.002 2.002 0 1 0 0 4.004 2.002 2.002 0 0 0 0-4.004Zm-10.498-6a2.002 2.002 0 1 0 0 4.004 2.002 2.002 0 0 0 0-4.004Zm10.498-6a2.002 2.002 0 1 0 0 4.004 2.002 2.002 0 0 0 0-4.004Z" fill="currentColor"/></svg>',mic_on:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.25 11a.75.75 0 0 1 .743.648l.007.102v.5a6.75 6.75 0 0 1-6.249 6.732l-.001 2.268a.75.75 0 0 1-1.493.102l-.007-.102v-2.268a6.75 6.75 0 0 1-6.246-6.496L5 12.25v-.5a.75.75 0 0 1 1.493-.102l.007.102v.5a5.25 5.25 0 0 0 5.034 5.246l.216.004h.5a5.25 5.25 0 0 0 5.246-5.034l.004-.216v-.5a.75.75 0 0 1 .75-.75ZM12 2a4 4 0 0 1 4 4v6a4 4 0 0 1-8 0V6a4 4 0 0 1 4-4Zm0 1.5A2.5 2.5 0 0 0 9.5 6v6a2.5 2.5 0 0 0 5 0V6A2.5 2.5 0 0 0 12 3.5Z" fill="currentColor"/></svg>',mic_off:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.28 2.22a.75.75 0 1 0-1.06 1.06L8 9.06V12a4 4 0 0 0 6.248 3.309l1.146 1.146A5.227 5.227 0 0 1 12.25 17.5h-.5l-.216-.004A5.25 5.25 0 0 1 6.5 12.25v-.5l-.007-.102A.75.75 0 0 0 5 11.75v.5l.004.236a6.75 6.75 0 0 0 6.246 6.496v2.268l.007.102a.75.75 0 0 0 1.493-.102l.001-2.268a6.718 6.718 0 0 0 3.712-1.458l4.256 4.256a.75.75 0 0 0 1.061-1.06L3.28 2.22Zm9.876 11.997A2.5 2.5 0 0 1 9.5 12v-1.44l3.656 3.657ZM14.5 6v5.318l1.43 1.43c.046-.242.07-.492.07-.748V6a4 4 0 0 0-7.862-1.044L9.5 6.318V6a2.5 2.5 0 0 1 5 0ZM17.196 14.014l1.146 1.146A6.725 6.725 0 0 0 19 12.25v-.5l-.007-.102a.75.75 0 0 0-1.493.102v.5l-.004.216a5.233 5.233 0 0 1-.3 1.548Z" fill="currentColor"/></svg>',video_on:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13.75 4.5A3.25 3.25 0 0 1 17 7.75v.173l3.864-2.318A.75.75 0 0 1 22 6.248V17.75a.75.75 0 0 1-1.136.643L17 16.075v.175a3.25 3.25 0 0 1-3.25 3.25h-8.5A3.25 3.25 0 0 1 2 16.25v-8.5A3.25 3.25 0 0 1 5.25 4.5h8.5Zm0 1.5h-8.5A1.75 1.75 0 0 0 3.5 7.75v8.5c0 .966.784 1.75 1.75 1.75h8.5a1.75 1.75 0 0 0 1.75-1.75v-8.5A1.75 1.75 0 0 0 13.75 6Zm6.75 1.573L17 9.674v4.651l3.5 2.1V7.573Z" fill="currentColor"/></svg>',video_off:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.28 2.22a.75.75 0 1 0-1.06 1.06l1.567 1.567A3.25 3.25 0 0 0 2 7.75v8.5a3.25 3.25 0 0 0 3.25 3.25h8.5a3.25 3.25 0 0 0 2.903-1.786l4.066 4.067a.75.75 0 0 0 1.061-1.061L3.28 2.22Zm12.196 14.317A1.75 1.75 0 0 1 13.75 18h-8.5a1.75 1.75 0 0 1-1.75-1.75v-8.5c0-.869.633-1.59 1.463-1.727l10.514 10.514ZM15.5 12.318V7.75A1.75 1.75 0 0 0 13.75 6H9.182l-1.5-1.5h6.068A3.25 3.25 0 0 1 17 7.75v.173l3.864-2.318A.75.75 0 0 1 22 6.248V17.75c0 .301-.17.543-.403.665L20.5 17.318V7.573L17 9.674v4.144l-1.5-1.5Z" fill="currentColor"/></svg>',share_screen_start:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2 6.25A2.25 2.25 0 0 1 4.25 4h15.5A2.25 2.25 0 0 1 22 6.25v11.5A2.25 2.25 0 0 1 19.75 20H4.25A2.25 2.25 0 0 1 2 17.75V6.25Zm2.25-.75a.75.75 0 0 0-.75.75v11.5c0 .414.336.75.75.75h15.5a.75.75 0 0 0 .75-.75V6.25a.75.75 0 0 0-.75-.75H4.25Z"/><path d="M12 7.245a.75.75 0 0 1 .53.22l3.255 3.255a.75.75 0 1 1-1.06 1.06L12.75 9.806v6.447a.75.75 0 0 1-1.5 0V9.808L9.28 11.78a.75.75 0 1 1-1.06-1.06l3.25-3.254a.75.75 0 0 1 .53-.22Z"/></svg>',share_screen_stop:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2 6.25A2.25 2.25 0 0 1 4.25 4h15.5A2.25 2.25 0 0 1 22 6.25v11.5A2.25 2.25 0 0 1 19.75 20H4.25A2.25 2.25 0 0 1 2 17.75V6.25Zm2.25-.75a.75.75 0 0 0-.75.75v11.5c0 .414.336.75.75.75h15.5a.75.75 0 0 0 .75-.75V6.25a.75.75 0 0 0-.75-.75H4.25Z"/><path d="M8.22 8.215a.75.75 0 0 1 1.06 0l2.72 2.72 2.725-2.716a.75.75 0 0 1 1.06 1.062l-2.724 2.715 2.724 2.724a.75.75 0 1 1-1.06 1.06L12 13.057 9.28 15.78a.75.75 0 0 1-1.06-1.06l2.72-2.724-2.72-2.72a.75.75 0 0 1 0-1.06Z"/></svg>',share_screen_person:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2 7.25A3.25 3.25 0 0 1 5.25 4h13.5A3.25 3.25 0 0 1 22 7.25V13h-.258a3.74 3.74 0 0 0-1.242-2.545V7.25a1.75 1.75 0 0 0-1.75-1.75H5.25A1.75 1.75 0 0 0 3.5 7.25v9.5c0 .966.784 1.75 1.75 1.75H12v.5c0 .34.04.674.118 1H5.25A3.25 3.25 0 0 1 2 16.75v-9.5ZM21.5 17a1.5 1.5 0 0 1 1.5 1.5v.5c0 1.971-1.86 4-5 4-3.14 0-5-2.029-5-4v-.5a1.5 1.5 0 0 1 1.5-1.5h7ZM18 10.5a2.75 2.75 0 1 1 0 5.5 2.75 2.75 0 0 1 0-5.5Z" fill="currentColor"/></svg>',clock:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2c5.523 0 10 4.478 10 10s-4.477 10-10 10S2 17.522 2 12 6.477 2 12 2Zm0 1.667c-4.595 0-8.333 3.738-8.333 8.333 0 4.595 3.738 8.333 8.333 8.333 4.595 0 8.333-3.738 8.333-8.333 0-4.595-3.738-8.333-8.333-8.333ZM11.25 6a.75.75 0 0 1 .743.648L12 6.75V12h3.25a.75.75 0 0 1 .102 1.493l-.102.007h-4a.75.75 0 0 1-.743-.648l-.007-.102v-6a.75.75 0 0 1 .75-.75Z" fill="currentColor"/></svg>',dismiss:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m4.397 4.554.073-.084a.75.75 0 0 1 .976-.073l.084.073L12 10.939l6.47-6.47a.75.75 0 1 1 1.06 1.061L13.061 12l6.47 6.47a.75.75 0 0 1 .072.976l-.073.084a.75.75 0 0 1-.976.073l-.084-.073L12 13.061l-6.47 6.47a.75.75 0 0 1-1.06-1.061L10.939 12l-6.47-6.47a.75.75 0 0 1-.072-.976l.073-.084-.073.084Z" fill="currentColor"/></svg>',send:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.694 12 2.299 3.272c-.236-.607.356-1.188.942-.982l.093.04 18 9a.75.75 0 0 1 .097 1.283l-.097.058-18 9a.75.75 0 0 1-1.065-.847l.03-.096L5.694 12 2.299 3.272 5.694 12ZM4.402 4.54l2.61 6.71h6.627a.75.75 0 0 1 .743.648l.007.102a.75.75 0 0 1-.649.743l-.101.007H7.01l-2.609 6.71L19.322 12 4.401 4.54Z" fill="currentColor"/></svg>',search:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 2.75a7.25 7.25 0 0 1 5.63 11.819l4.9 4.9a.75.75 0 0 1-.976 1.134l-.084-.073-4.901-4.9A7.25 7.25 0 1 1 10 2.75Zm0 1.5a5.75 5.75 0 1 0 0 11.5 5.75 5.75 0 0 0 0-11.5Z" fill="currentColor"/</svg>',more_vertical:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7.75a1.75 1.75 0 1 1 0-3.5 1.75 1.75 0 0 1 0 3.5ZM12 13.75a1.75 1.75 0 1 1 0-3.5 1.75 1.75 0 0 1 0 3.5ZM10.25 18a1.75 1.75 0 1 0 3.5 0 1.75 1.75 0 0 0-3.5 0Z" fill="currentColor"/></svg>',chevron_down:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4.22 8.47a.75.75 0 0 1 1.06 0L12 15.19l6.72-6.72a.75.75 0 1 1 1.06 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L4.22 9.53a.75.75 0 0 1 0-1.06Z" fill="currentColor"/></svg>',chevron_up:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4.22 15.53a.75.75 0 0 0 1.06 0L12 8.81l6.72 6.72a.75.75 0 1 0 1.06-1.06l-7.25-7.25a.75.75 0 0 0-1.06 0l-7.25 7.25a.75.75 0 0 0 0 1.06Z" fill="currentColor"/></svg>',chevron_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.53 4.22a.75.75 0 0 1 0 1.06L8.81 12l6.72 6.72a.75.75 0 1 1-1.06 1.06l-7.25-7.25a.75.75 0 0 1 0-1.06l7.25-7.25a.75.75 0 0 1 1.06 0Z" fill="currentColor"/></svg>',chevron_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.47 4.22a.75.75 0 0 0 0 1.06L15.19 12l-6.72 6.72a.75.75 0 1 0 1.06 1.06l7.25-7.25a.75.75 0 0 0 0-1.06L9.53 4.22a.75.75 0 0 0-1.06 0Z" fill="currentColor"/></svg>',settings:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12.012 2.25c.734.008 1.465.093 2.182.253a.75.75 0 0 1 .582.649l.17 1.527a1.384 1.384 0 0 0 1.927 1.116l1.401-.615a.75.75 0 0 1 .85.174 9.792 9.792 0 0 1 2.204 3.792.75.75 0 0 1-.271.825l-1.242.916a1.381 1.381 0 0 0 0 2.226l1.243.915a.75.75 0 0 1 .272.826 9.797 9.797 0 0 1-2.204 3.792.75.75 0 0 1-.848.175l-1.407-.617a1.38 1.38 0 0 0-1.926 1.114l-.169 1.526a.75.75 0 0 1-.572.647 9.518 9.518 0 0 1-4.406 0 .75.75 0 0 1-.572-.647l-.168-1.524a1.382 1.382 0 0 0-1.926-1.11l-1.406.616a.75.75 0 0 1-.849-.175 9.798 9.798 0 0 1-2.204-3.796.75.75 0 0 1 .272-.826l1.243-.916a1.38 1.38 0 0 0 0-2.226l-1.243-.914a.75.75 0 0 1-.271-.826 9.793 9.793 0 0 1 2.204-3.792.75.75 0 0 1 .85-.174l1.4.615a1.387 1.387 0 0 0 1.93-1.118l.17-1.526a.75.75 0 0 1 .583-.65c.717-.159 1.45-.243 2.201-.252Zm0 1.5a9.135 9.135 0 0 0-1.354.117l-.109.977A2.886 2.886 0 0 1 6.525 7.17l-.898-.394a8.293 8.293 0 0 0-1.348 2.317l.798.587a2.881 2.881 0 0 1 0 4.643l-.799.588c.32.842.776 1.626 1.348 2.322l.905-.397a2.882 2.882 0 0 1 4.017 2.318l.11.984c.889.15 1.798.15 2.687 0l.11-.984a2.881 2.881 0 0 1 4.018-2.322l.905.396a8.296 8.296 0 0 0 1.347-2.318l-.798-.588a2.881 2.881 0 0 1 0-4.643l.796-.587a8.293 8.293 0 0 0-1.348-2.317l-.896.393a2.884 2.884 0 0 1-4.023-2.324l-.11-.976a8.988 8.988 0 0 0-1.333-.117ZM12 8.25a3.75 3.75 0 1 1 0 7.5 3.75 3.75 0 0 1 0-7.5Zm0 1.5a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z" fill="currentColor"/></svg>',wifi:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17.745 10.75a8.291 8.291 0 0 1 1.492 2.07.75.75 0 1 1-1.335.683 6.798 6.798 0 0 0-1.218-1.692 6.562 6.562 0 0 0-10.493 1.673.75.75 0 1 1-1.339-.677 8.062 8.062 0 0 1 12.893-2.057Zm-2.102 3.07c.448.447.816.997 1.072 1.582a.75.75 0 1 1-1.373.602 3.72 3.72 0 0 0-.76-1.124 3.592 3.592 0 0 0-5.08 0c-.31.31-.562.689-.746 1.11a.75.75 0 1 1-1.375-.6 5.11 5.11 0 0 1 1.061-1.57 5.092 5.092 0 0 1 7.201 0Zm4.805-5.541c.51.509.99 1.09 1.409 1.697a.75.75 0 0 1-1.235.852 10.822 10.822 0 0 0-1.234-1.489c-4.08-4.08-10.695-4.08-14.776 0-.421.422-.84.934-1.222 1.484a.75.75 0 0 1-1.232-.855c.43-.62.905-1.2 1.394-1.69 4.666-4.665 12.23-4.665 16.896 0Zm-7.387 8.16a1.5 1.5 0 1 1-2.122 2.122 1.5 1.5 0 0 1 2.122-2.122Z" fill="currentColor"/></svg>',speaker:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M15 4.25c0-1.079-1.274-1.65-2.08-.934L8.427 7.309a.75.75 0 0 1-.498.19H4.25A2.25 2.25 0 0 0 2 9.749v4.497a2.25 2.25 0 0 0 2.25 2.25h3.68a.75.75 0 0 1 .498.19l4.491 3.994c.806.716 2.081.144 2.081-.934V4.25ZM9.425 8.43 13.5 4.807v14.382l-4.075-3.624a2.25 2.25 0 0 0-1.495-.569H4.25a.75.75 0 0 1-.75-.75V9.75a.75.75 0 0 1 .75-.75h3.68a2.25 2.25 0 0 0 1.495-.569ZM18.992 5.897a.75.75 0 0 1 1.049.157A9.959 9.959 0 0 1 22 12a9.96 9.96 0 0 1-1.96 5.946.75.75 0 0 1-1.205-.892A8.459 8.459 0 0 0 20.5 12a8.459 8.459 0 0 0-1.665-5.054.75.75 0 0 1 .157-1.049Z" /><path d="M17.143 8.37a.75.75 0 0 1 1.017.302c.536.99.84 2.125.84 3.328a6.973 6.973 0 0 1-.84 3.328.75.75 0 0 1-1.32-.714c.42-.777.66-1.666.66-2.614s-.24-1.837-.66-2.614a.75.75 0 0 1 .303-1.017Z"/></svg>',speaker_off:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M3.28 2.22a.75.75 0 1 0-1.06 1.06L6.438 7.5H4.25A2.25 2.25 0 0 0 2 9.749v4.497a2.25 2.25 0 0 0 2.25 2.25h3.68a.75.75 0 0 1 .498.19l4.491 3.994c.806.716 2.081.144 2.081-.934V16.06l5.72 5.72a.75.75 0 0 0 1.06-1.061L3.28 2.22ZM13.5 14.56v4.629l-4.075-3.624a2.25 2.25 0 0 0-1.495-.569H4.25a.75.75 0 0 1-.75-.75V9.75a.75.75 0 0 1 .75-.75h3.688L13.5 14.56ZM13.5 4.807v5.511l1.5 1.5V4.25c0-1.079-1.274-1.65-2.08-.934l-3.4 3.022 1.063 1.063L13.5 4.807ZM17.141 13.96l1.138 1.137A6.974 6.974 0 0 0 19 12a6.973 6.973 0 0 0-.84-3.328.75.75 0 0 0-1.32.714c.42.777.66 1.666.66 2.614 0 .691-.127 1.351-.359 1.96ZM19.388 16.206l1.093 1.094A9.955 9.955 0 0 0 22 12a9.959 9.959 0 0 0-1.96-5.946.75.75 0 0 0-1.205.892A8.46 8.46 0 0 1 20.5 12a8.458 8.458 0 0 1-1.112 4.206Z"/></svg>',download:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.25 20.5a.75.75 0 1 1 0 1.5l-13 .004a.75.75 0 1 1 0-1.5l13-.004ZM11.648 2.012l.102-.007a.75.75 0 0 1 .743.648l.007.102-.001 13.685 3.722-3.72a.75.75 0 0 1 .976-.073l.085.073a.75.75 0 0 1 .072.976l-.073.084-4.997 4.997a.75.75 0 0 1-.976.073l-.085-.073-5.003-4.996a.75.75 0 0 1 .976-1.134l.084.072 3.719 3.714L11 2.755a.75.75 0 0 1 .648-.743l.102-.007-.102.007Z" fill="currentColor"/></svg>',full_screen_maximize:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4.5 5.75c0-.69.56-1.25 1.25-1.25h2a.75.75 0 0 0 0-1.5h-2A2.75 2.75 0 0 0 3 5.75v2a.75.75 0 0 0 1.5 0v-2ZM4.5 18.25c0 .69.56 1.25 1.25 1.25h2a.75.75 0 0 1 0 1.5h-2A2.75 2.75 0 0 1 3 18.25v-2a.75.75 0 0 1 1.5 0v2ZM18.25 4.5c.69 0 1.25.56 1.25 1.25v2a.75.75 0 0 0 1.5 0v-2A2.75 2.75 0 0 0 18.25 3h-2a.75.75 0 0 0 0 1.5h2ZM19.5 18.25c0 .69-.56 1.25-1.25 1.25h-2a.75.75 0 0 0 0 1.5h2A2.75 2.75 0 0 0 21 18.25v-2a.75.75 0 0 0-1.5 0v2Z" fill="currentColor"/></svg>',full_screen_minimize:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.5 3.75a.75.75 0 0 0-1.5 0v2.5a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 0 0 1.5h2.5A2.25 2.25 0 0 0 8.5 6.25v-2.5ZM8.5 20.25a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 0-.75-.75h-2.5a.75.75 0 0 1 0-1.5h2.5a2.25 2.25 0 0 1 2.25 2.25v2.5ZM16.25 3a.75.75 0 0 0-.75.75v2.5a2.25 2.25 0 0 0 2.25 2.25h2.5a.75.75 0 0 0 0-1.5h-2.5a.75.75 0 0 1-.75-.75v-2.5a.75.75 0 0 0-.75-.75ZM15.5 20.25a.75.75 0 0 0 1.5 0v-2.5a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 0 0-1.5h-2.5a2.25 2.25 0 0 0-2.25 2.25v2.5Z" fill="currentColor"/></svg>',copy:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.503 4.627 5.5 6.75v10.504a3.25 3.25 0 0 0 3.25 3.25h8.616a2.251 2.251 0 0 1-2.122 1.5H8.75A4.75 4.75 0 0 1 4 17.254V6.75c0-.98.627-1.815 1.503-2.123ZM17.75 2A2.25 2.25 0 0 1 20 4.25v13a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-13A2.25 2.25 0 0 1 8.75 2h9Zm0 1.5h-9a.75.75 0 0 0-.75.75v13c0 .414.336.75.75.75h9a.75.75 0 0 0 .75-.75v-13a.75.75 0 0 0-.75-.75Z" fill="currentColor"/></svg>',attach:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11.772 3.743a6 6 0 0 1 8.66 8.302l-.19.197-8.8 8.798-.036.03a3.723 3.723 0 0 1-5.489-4.973.764.764 0 0 1 .085-.13l.054-.06.086-.088.142-.148.002.003 7.436-7.454a.75.75 0 0 1 .977-.074l.084.073a.75.75 0 0 1 .074.976l-.073.084-7.594 7.613a2.23 2.23 0 0 0 3.174 3.106l8.832-8.83A4.502 4.502 0 0 0 13 4.644l-.168.16-.013.014-9.536 9.536a.75.75 0 0 1-1.133-.977l.072-.084 9.549-9.55h.002Z" fill="currentColor"/></svg>',image:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17.75 3A3.25 3.25 0 0 1 21 6.25v11.5A3.25 3.25 0 0 1 17.75 21H6.25A3.25 3.25 0 0 1 3 17.75V6.25A3.25 3.25 0 0 1 6.25 3h11.5Zm.58 16.401-5.805-5.686a.75.75 0 0 0-.966-.071l-.084.07-5.807 5.687c.182.064.378.099.582.099h11.5c.203 0 .399-.035.58-.099l-5.805-5.686L18.33 19.4ZM17.75 4.5H6.25A1.75 1.75 0 0 0 4.5 6.25v11.5c0 .208.036.408.103.594l5.823-5.701a2.25 2.25 0 0 1 3.02-.116l.128.116 5.822 5.702c.067-.186.104-.386.104-.595V6.25a1.75 1.75 0 0 0-1.75-1.75Zm-2.498 2a2.252 2.252 0 1 1 0 4.504 2.252 2.252 0 0 1 0-4.504Zm0 1.5a.752.752 0 1 0 0 1.504.752.752 0 0 0 0-1.504Z" fill="currentColor"/></svg>',emoji_multiple:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.5 2a6.503 6.503 0 0 1 6.312 4.943c-.515.01-1.02.068-1.506.171a5 5 0 1 0-6.191 6.191 8.053 8.053 0 0 0-.172 1.507A6.5 6.5 0 0 1 8.5 2Zm.16 8.006c.355-.451.759-.864 1.202-1.23a3.5 3.5 0 0 0-4.022.95.75.75 0 1 0 1.14.974 2 2 0 0 1 1.68-.694ZM7.5 6.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm1 8a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm5.458 2.042a.75.75 0 0 1 .082 1.058 4 4 0 0 1-6.075.005.75.75 0 0 1 1.138-.977 2.499 2.499 0 0 0 3.797-.003.75.75 0 0 1 1.058-.083ZM17.5 14.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM15 22a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0-1.5a5.5 5.5 0 1 1 0-11 5.5 5.5 0 0 1 0 11Z" fill="currentColor"/></svg>',image_off:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.28 2.22a.75.75 0 1 0-1.06 1.06l1.263 1.264A3.235 3.235 0 0 0 3 6.25v11.5A3.25 3.25 0 0 0 6.25 21h11.5c.626 0 1.21-.177 1.706-.483l1.263 1.264a.75.75 0 0 0 1.061-1.061L3.28 2.22Zm8.788 10.909 6.206 6.206.056.066a1.746 1.746 0 0 1-.58.099H6.25c-.204 0-.4-.035-.582-.099l5.807-5.686.593-.586Zm-.95-.95a2.245 2.245 0 0 0-.692.464l-5.823 5.7a1.747 1.747 0 0 1-.103-.593V6.25c0-.206.036-.404.101-.588l6.518 6.518ZM19.5 16.318V6.25a1.75 1.75 0 0 0-1.75-1.75H7.682L6.182 3H17.75A3.25 3.25 0 0 1 21 6.25v11.568l-1.5-1.5Z" fill="currentColor"/><path d="M15.252 6.5a2.252 2.252 0 1 1 0 4.504 2.252 2.252 0 0 1 0-4.504Zm0 1.5a.752.752 0 1 0 0 1.504.752.752 0 0 0 0-1.504Z" fill="currentColor"/></svg>',disconnected:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.28 2.22a.75.75 0 0 0-1.06 1.06l3.364 3.365a11.99 11.99 0 0 0-2.033 1.634c-.49.489-.964 1.069-1.394 1.689a.75.75 0 1 0 1.233.855c.381-.55.8-1.062 1.222-1.484a10.468 10.468 0 0 1 2.063-1.604l1.591 1.592a8.062 8.062 0 0 0-1.923 1.424c-.61.61-1.109 1.3-1.491 2.056a.75.75 0 1 0 1.338.677 6.51 6.51 0 0 1 1.214-1.673 6.546 6.546 0 0 1 1.984-1.362l1.93 1.93a5.07 5.07 0 0 0-2.876 1.44 5.11 5.11 0 0 0-1.061 1.57.75.75 0 0 0 1.374.602c.185-.422.437-.8.747-1.111a3.59 3.59 0 0 1 3.36-.958l7.858 7.858a.75.75 0 0 0 1.06-1.06L3.28 2.22Zm8.304 6.182 1.584 1.584a6.532 6.532 0 0 1 3.516 1.825 6.798 6.798 0 0 1 1.217 1.692.75.75 0 1 0 1.336-.683 8.292 8.292 0 0 0-1.492-2.07 8.042 8.042 0 0 0-6.16-2.348ZM8.487 5.305 9.713 6.53a10.44 10.44 0 0 1 10.908 4.297.75.75 0 1 0 1.235-.852 11.946 11.946 0 0 0-13.369-4.67Zm4.573 11.134a1.5 1.5 0 1 1-2.121 2.122 1.5 1.5 0 0 1 2.121-2.122Z" fill="currentColor"/></svg>',wand:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m13.314 7.565-.136.126-10.48 10.488a2.27 2.27 0 0 0 3.211 3.208L16.388 10.9a2.251 2.251 0 0 0-.001-3.182l-.157-.146a2.25 2.25 0 0 0-2.916-.007Zm-.848 2.961 1.088 1.088-8.706 8.713a.77.77 0 1 1-1.089-1.088l8.707-8.713Zm4.386 4.48L16.75 15a.75.75 0 0 0-.743.648L16 15.75v.75h-.75a.75.75 0 0 0-.743.648l-.007.102c0 .38.282.694.648.743l.102.007H16v.75c0 .38.282.694.648.743l.102.007a.75.75 0 0 0 .743-.648l.007-.102V18h.75a.75.75 0 0 0 .743-.648L19 17.25a.75.75 0 0 0-.648-.743l-.102-.007h-.75v-.75a.75.75 0 0 0-.648-.743L16.75 15l.102.007Zm-1.553-6.254.027.027a.751.751 0 0 1 0 1.061l-.711.713-1.089-1.089.73-.73a.75.75 0 0 1 1.043.018ZM6.852 5.007 6.75 5a.75.75 0 0 0-.743.648L6 5.75v.75h-.75a.75.75 0 0 0-.743.648L4.5 7.25c0 .38.282.693.648.743L5.25 8H6v.75c0 .38.282.693.648.743l.102.007a.75.75 0 0 0 .743-.648L7.5 8.75V8h.75a.75.75 0 0 0 .743-.648L9 7.25a.75.75 0 0 0-.648-.743L8.25 6.5H7.5v-.75a.75.75 0 0 0-.648-.743L6.75 5l.102.007Zm12-2L18.75 3a.75.75 0 0 0-.743.648L18 3.75v.75h-.75a.75.75 0 0 0-.743.648l-.007.102c0 .38.282.693.648.743L17.25 6H18v.75c0 .38.282.693.648.743l.102.007a.75.75 0 0 0 .743-.648l.007-.102V6h.75a.75.75 0 0 0 .743-.648L21 5.25a.75.75 0 0 0-.648-.743L20.25 4.5h-.75v-.75a.75.75 0 0 0-.648-.743L18.75 3l.102.007Z" fill="currentColor"/></svg>',recording:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24"><path d="M12 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z"/><path d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2ZM3.5 12a8.5 8.5 0 1 1 17 0 8.5 8.5 0 0 1-17 0Z"/></svg>',subtract:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.755 12.5h16.492a.75.75 0 0 0 0-1.5H3.755a.75.75 0 0 0 0 1.5Z" fill="currentColor"/></svg>',stop_recording:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 3.5C9.74566 3.5 7.58365 4.39553 5.98959 5.98959C4.39553 7.58365 3.5 9.74566 3.5 12C3.5 14.2543 4.39553 16.4163 5.98959 18.0104C7.58365 19.6045 9.74566 20.5 12 20.5C14.2543 20.5 16.4163 19.6045 18.0104 18.0104C19.6045 16.4163 20.5 14.2543 20.5 12C20.5 9.74566 19.6045 7.58365 18.0104 5.98959C16.4163 4.39553 14.2543 3.5 12 3.5ZM2 12C2 6.477 6.477 2 12 2C17.523 2 22 6.477 22 12C22 17.523 17.523 22 12 22C6.477 22 2 17.523 2 12ZM8 9.5C8 9.10218 8.15804 8.72064 8.43934 8.43934C8.72064 8.15804 9.10218 8 9.5 8H14.5C14.8978 8 15.2794 8.15804 15.5607 8.43934C15.842 8.72064 16 9.10218 16 9.5V14.5C16 14.8978 15.842 15.2794 15.5607 15.5607C15.2794 15.842 14.8978 16 14.5 16H9.5C9.10218 16 8.72064 15.842 8.43934 15.5607C8.15804 15.2794 8 14.8978 8 14.5V9.5Z" fill="currentColor"/></svg>',warning:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10.91 2.782a2.25 2.25 0 0 1 2.975.74l.083.138 7.759 14.009a2.25 2.25 0 0 1-1.814 3.334l-.154.006H4.243a2.25 2.25 0 0 1-2.041-3.197l.072-.143L10.031 3.66a2.25 2.25 0 0 1 .878-.878Zm9.505 15.613-7.76-14.008a.75.75 0 0 0-1.254-.088l-.057.088-7.757 14.008a.75.75 0 0 0 .561 1.108l.095.006h15.516a.75.75 0 0 0 .696-1.028l-.04-.086-7.76-14.008 7.76 14.008ZM12 16.002a.999.999 0 1 1 0 1.997.999.999 0 0 1 0-1.997ZM11.995 8.5a.75.75 0 0 1 .744.647l.007.102.004 4.502a.75.75 0 0 1-1.494.103l-.006-.102-.004-4.502a.75.75 0 0 1 .75-.75Z" fill="currentColor"/></svg>',pin:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m16.242 2.932 4.826 4.826a2.75 2.75 0 0 1-.715 4.404l-4.87 2.435a.75.75 0 0 0-.374.426l-1.44 4.166a1.25 1.25 0 0 1-2.065.476L8.5 16.561 4.06 21H3v-1.06l4.44-4.44-3.105-3.104a1.25 1.25 0 0 1 .476-2.066l4.166-1.44a.75.75 0 0 0 .426-.373l2.435-4.87a2.75 2.75 0 0 1 4.405-.715Zm3.766 5.886-4.826-4.826a1.25 1.25 0 0 0-2.002.325l-2.435 4.871a2.25 2.25 0 0 1-1.278 1.12l-3.789 1.31 6.705 6.704 1.308-3.789a2.25 2.25 0 0 1 1.12-1.277l4.872-2.436a1.25 1.25 0 0 0 .325-2.002Z" fill="currentColor"/></svg>',pin_off:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.28 2.22a.75.75 0 0 0-1.06 1.06l5.905 5.905L4.81 10.33a1.25 1.25 0 0 0-.476 2.065L7.439 15.5 3 19.94V21h1.06l4.44-4.44 3.105 3.105a1.25 1.25 0 0 0 2.065-.476l1.145-3.313 5.905 5.904a.75.75 0 0 0 1.06-1.06L3.28 2.22Zm10.355 12.476-1.252 3.626-6.705-6.705 3.626-1.252 4.331 4.331Zm6.048-3.876-3.787 1.894 1.118 1.118 3.34-1.67a2.75 2.75 0 0 0 .714-4.404l-4.825-4.826a2.75 2.75 0 0 0-4.405.715l-1.67 3.34 1.118 1.117 1.894-3.787a1.25 1.25 0 0 1 2.002-.325l4.826 4.826a1.25 1.25 0 0 1-.325 2.002Z" fill="currentColor"/></svg>',spinner:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="10" stroke-width="2" stroke="currentColor" stroke-opacity="0.2" vector-effect="non-scaling-stroke"/><path d="M22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7362 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"/></svg>',breakout_rooms:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10.5 3a2.25 2.25 0 0 1 2.25 2.25v6h6A2.25 2.25 0 0 1 21 13.5v5.25A2.25 2.25 0 0 1 18.75 21H5.25A2.25 2.25 0 0 1 3 18.75V5.25A2.25 2.25 0 0 1 5.25 3h5.25Zm.75 9.75H4.5v6c0 .414.336.75.75.75h5.999l.001-6.75Zm7.5 0h-6.001v6.75h6.001a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75ZM10.5 4.5H5.25a.75.75 0 0 0-.75.75v6h6.75v-6a.75.75 0 0 0-.75-.75Zm7.398-2.493L18 2a.75.75 0 0 1 .743.648l.007.102v2.5h2.5a.75.75 0 0 1 .743.648L22 6a.75.75 0 0 1-.648.743l-.102.007h-2.5v2.5a.75.75 0 0 1-.648.743L18 10a.75.75 0 0 1-.743-.648l-.007-.102v-2.5h-2.5a.75.75 0 0 1-.743-.648L14 6a.75.75 0 0 1 .648-.743l.102-.007h2.5v-2.5a.75.75 0 0 1 .648-.743Z" fill="currentColor"/></svg>',add:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M11.75 3a.75.75 0 0 1 .743.648l.007.102.001 7.25h7.253a.75.75 0 0 1 .102 1.493l-.102.007h-7.253l.002 7.25a.75.75 0 0 1-1.493.101l-.007-.102-.002-7.249H3.752a.75.75 0 0 1-.102-1.493L3.752 11h7.25L11 3.75a.75.75 0 0 1 .75-.75Z" fill="currentColor"/></svg>',shuffle:'<svg viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M14.0058 8.11111H18.7947L16.9613 9.94444C16.9095 9.99587 16.8684 10.057 16.8402 10.1243C16.812 10.1917 16.7974 10.2639 16.7971 10.3369C16.7966 10.4843 16.8547 10.6259 16.9586 10.7306C17.01 10.7823 17.0711 10.8235 17.1385 10.8517C17.2058 10.8799 17.278 10.8945 17.351 10.8947C17.4985 10.8953 17.64 10.8372 17.7447 10.7333L20.8891 7.59999L20.4947 7.20555L17.7447 4.46111C17.64 4.35723 17.4985 4.29917 17.351 4.29969C17.2036 4.30021 17.0624 4.35927 16.9586 4.46388C16.8547 4.5685 16.7966 4.71009 16.7971 4.85751C16.7977 5.00494 16.8567 5.14612 16.9613 5.24999L18.728 6.99999H13.6669C13.5699 7.00058 13.4748 7.02653 13.391 7.07526C13.3072 7.12399 13.2376 7.19381 13.1891 7.27777L11.7224 9.82777L12.3669 10.9389L14.0058 8.11111Z" fill="currentColor"/><path d="M8.15022 15.9278H3.66688C3.51954 15.9278 3.37823 15.9863 3.27405 16.0905C3.16986 16.1947 3.11133 16.336 3.11133 16.4833C3.11133 16.6307 3.16986 16.772 3.27405 16.8762C3.37823 16.9804 3.51954 17.0389 3.66688 17.0389H8.47244C8.56939 17.0383 8.6645 17.0124 8.74832 16.9636C8.83214 16.9149 8.90174 16.8451 8.95022 16.7611L10.4335 14.2222L9.77799 13.1111L8.15022 15.9278Z"/><path d="M17.7447 13.2056C17.64 13.1017 17.4985 13.0436 17.351 13.0441C17.2036 13.0447 17.0624 13.1037 16.9586 13.2083C16.8547 13.3129 16.7966 13.4545 16.7971 13.602C16.7977 13.7494 16.8567 13.8906 16.9613 13.9944L18.9058 15.9389H14.0058L8.95022 7.29444C8.90174 7.21047 8.83214 7.14066 8.74832 7.09193C8.6645 7.04319 8.56939 7.01725 8.47244 7.01666H3.66688C3.51954 7.01666 3.37823 7.07519 3.27405 7.17938C3.16986 7.28357 3.11133 7.42487 3.11133 7.57222C3.11133 7.71956 3.16986 7.86087 3.27405 7.96505C3.37823 8.06924 3.51954 8.12777 3.66688 8.12777H8.15022L13.2058 16.7667C13.2542 16.8506 13.3239 16.9204 13.4077 16.9692C13.4915 17.0179 13.5866 17.0439 13.6836 17.0444H18.6113L16.9447 18.7111C16.8929 18.7625 16.8517 18.8237 16.8235 18.891C16.7954 18.9584 16.7807 19.0306 16.7805 19.1036C16.7802 19.1766 16.7943 19.2489 16.822 19.3165C16.8497 19.384 16.8905 19.4454 16.9419 19.4972C16.9933 19.549 17.0545 19.5902 17.1218 19.6184C17.1891 19.6465 17.2614 19.6612 17.3344 19.6614C17.4074 19.6617 17.4797 19.6476 17.5472 19.6199C17.6148 19.5922 17.6762 19.5514 17.728 19.5L20.478 16.7556L20.8724 16.3611L17.7447 13.2056Z"/></svg>',edit:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21.03 2.97a3.578 3.578 0 0 1 0 5.06L9.062 20a2.25 2.25 0 0 1-.999.58l-5.116 1.395a.75.75 0 0 1-.92-.921l1.395-5.116a2.25 2.25 0 0 1 .58-.999L15.97 2.97a3.578 3.578 0 0 1 5.06 0ZM15 6.06 5.062 16a.75.75 0 0 0-.193.333l-1.05 3.85 3.85-1.05A.75.75 0 0 0 8 18.938L17.94 9 15 6.06Zm2.03-2.03-.97.97L19 7.94l.97-.97a2.079 2.079 0 0 0-2.94-2.94Z" fill="currentColor"/></svg>',delete:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 1.75a3.25 3.25 0 0 1 3.245 3.066L15.25 5h5.25a.75.75 0 0 1 .102 1.493L20.5 6.5h-.796l-1.28 13.02a2.75 2.75 0 0 1-2.561 2.474l-.176.006H8.313a2.75 2.75 0 0 1-2.714-2.307l-.023-.174L4.295 6.5H3.5a.75.75 0 0 1-.743-.648L2.75 5.75a.75.75 0 0 1 .648-.743L3.5 5h5.25A3.25 3.25 0 0 1 12 1.75Zm6.197 4.75H5.802l1.267 12.872a1.25 1.25 0 0 0 1.117 1.122l.127.006h7.374c.6 0 1.109-.425 1.225-1.002l.02-.126L18.196 6.5ZM13.75 9.25a.75.75 0 0 1 .743.648L14.5 10v7a.75.75 0 0 1-1.493.102L13 17v-7a.75.75 0 0 1 .75-.75Zm-3.5 0a.75.75 0 0 1 .743.648L11 10v7a.75.75 0 0 1-1.493.102L9.5 17v-7a.75.75 0 0 1 .75-.75Zm1.75-6a1.75 1.75 0 0 0-1.744 1.606L10.25 5h3.5A1.75 1.75 0 0 0 12 3.25Z" fill="currentColor"/></svg>',back:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4.75 2a.75.75 0 0 1 .743.648l.007.102v5.69l4.574-4.56a6.41 6.41 0 0 1 8.879-.179l.186.18a6.41 6.41 0 0 1 0 9.063l-8.846 8.84a.75.75 0 0 1-1.06-1.062l8.845-8.838a4.91 4.91 0 0 0-6.766-7.112l-.178.17L6.562 9.5h5.688a.75.75 0 0 1 .743.648l.007.102a.75.75 0 0 1-.648.743L12.25 11h-7.5a.75.75 0 0 1-.743-.648L4 10.25v-7.5A.75.75 0 0 1 4.75 2Z" fill="currentColor"/></svg>',save:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.75A2.75 2.75 0 0 1 5.75 3h9.964a3.25 3.25 0 0 1 2.299.952l2.035 2.035c.61.61.952 1.437.952 2.299v9.964A2.75 2.75 0 0 1 18.25 21H5.75A2.75 2.75 0 0 1 3 18.25V5.75ZM5.75 4.5c-.69 0-1.25.56-1.25 1.25v12.5c0 .69.56 1.25 1.25 1.25H6v-5.25A2.25 2.25 0 0 1 8.25 12h7.5A2.25 2.25 0 0 1 18 14.25v5.25h.25c.69 0 1.25-.56 1.25-1.25V8.286c0-.465-.184-.91-.513-1.238l-2.035-2.035a1.75 1.75 0 0 0-.952-.49V7.25a2.25 2.25 0 0 1-2.25 2.25h-4.5A2.25 2.25 0 0 1 7 7.25V4.5H5.75Zm10.75 15v-5.25a.75.75 0 0 0-.75-.75h-7.5a.75.75 0 0 0-.75.75v5.25h9Zm-8-15v2.75c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75V4.5h-6Z" fill="currentColor"/></svg>',web:'<svg fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 1.999c5.524 0 10.002 4.478 10.002 10.002 0 5.523-4.478 10.001-10.002 10.001-5.524 0-10.002-4.478-10.002-10.001C1.998 6.477 6.476 1.999 12 1.999ZM14.939 16.5H9.06c.652 2.414 1.786 4.002 2.939 4.002s2.287-1.588 2.939-4.002Zm-7.43 0H4.785a8.532 8.532 0 0 0 4.094 3.411c-.522-.82-.953-1.846-1.27-3.015l-.102-.395Zm11.705 0h-2.722c-.324 1.335-.792 2.5-1.373 3.411a8.528 8.528 0 0 0 3.91-3.127l.185-.283ZM7.094 10H3.735l-.005.017a8.525 8.525 0 0 0-.233 1.984c0 1.056.193 2.067.545 3h3.173a20.847 20.847 0 0 1-.123-5Zm8.303 0H8.603a18.966 18.966 0 0 0 .135 5h6.524a18.974 18.974 0 0 0 .135-5Zm4.868 0h-3.358c.062.647.095 1.317.095 2a20.3 20.3 0 0 1-.218 3h3.173a8.482 8.482 0 0 0 .544-3c0-.689-.082-1.36-.236-2ZM8.88 4.09l-.023.008A8.531 8.531 0 0 0 4.25 8.5h3.048c.314-1.752.86-3.278 1.583-4.41ZM12 3.499l-.116.005C10.62 3.62 9.396 5.622 8.83 8.5h6.342c-.566-2.87-1.783-4.869-3.045-4.995L12 3.5Zm3.12.59.107.175c.669 1.112 1.177 2.572 1.475 4.237h3.048a8.533 8.533 0 0 0-4.339-4.29l-.291-.121Z" fill="currentColor"/></svg>',checkmark:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="m18 6.7-8.48 8.48-3.54-3.54a.996.996 0 1 0-1.41 1.41l4.24 4.24c.39.39 1.02.39 1.41 0l9.18-9.18a.999.999 0 0 0-.01-1.42c-.37-.38-1-.38-1.39.01z"/></svg>',spotlight:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19.745 4C20.3417 4 20.914 4.23705 21.336 4.65901C21.7579 5.08097 21.995 5.65326 21.995 6.25V12.805C21.5485 12.3774 21.0434 12.0154 20.495 11.73V6.25C20.495 6.05109 20.416 5.86032 20.2753 5.71967C20.1347 5.57902 19.9439 5.5 19.745 5.5H4.25C4.05109 5.5 3.86032 5.57902 3.71967 5.71967C3.57902 5.86032 3.5 6.05109 3.5 6.25V17.755C3.5 18.169 3.836 18.505 4.25 18.505L6.999 18.504L7 15.75C7.00002 15.3108 7.16517 14.8877 7.46268 14.5646C7.76019 14.2415 8.1683 14.0421 8.606 14.006L8.75 14H12.022C11.7223 14.4675 11.484 14.9716 11.313 15.5H8.75C8.69368 15.5001 8.63904 15.5192 8.59493 15.5542C8.55083 15.5893 8.51984 15.6382 8.507 15.693L8.5 15.75L8.499 18.504H11.077C11.1569 19.0193 11.2989 19.5229 11.5 20.004H4.25C3.65344 20.004 3.08129 19.7671 2.65936 19.3453C2.23744 18.9236 2.00027 18.3516 2 17.755V6.25C2 5.65326 2.23705 5.08097 2.65901 4.65901C3.08097 4.23705 3.65326 4 4.25 4H19.745Z"/><path d="M12 7C12.7956 7 13.5587 7.31607 14.1213 7.87868C14.6839 8.44129 15 9.20435 15 10C15 10.7956 14.6839 11.5587 14.1213 12.1213C13.5587 12.6839 12.7956 13 12 13C11.2044 13 10.4413 12.6839 9.87868 12.1213C9.31607 11.5587 9 10.7956 9 10C9 9.20435 9.31607 8.44129 9.87868 7.87868C10.4413 7.31607 11.2044 7 12 7ZM12 8.5C11.6022 8.5 11.2206 8.65804 10.9393 8.93934C10.658 9.22064 10.5 9.60218 10.5 10C10.5 10.3978 10.658 10.7794 10.9393 11.0607C11.2206 11.342 11.6022 11.5 12 11.5C12.3978 11.5 12.7794 11.342 13.0607 11.0607C13.342 10.7794 13.5 10.3978 13.5 10C13.5 9.60218 13.342 9.22064 13.0607 8.93934C12.7794 8.65804 12.3978 8.5 12 8.5Z"/><path d="M23 17.5C23 18.9587 22.4205 20.3576 21.3891 21.3891C20.3576 22.4205 18.9587 23 17.5 23C16.0413 23 14.6424 22.4205 13.6109 21.3891C12.5795 20.3576 12 18.9587 12 17.5C12 16.0413 12.5795 14.6424 13.6109 13.6109C14.6424 12.5795 16.0413 12 17.5 12C18.9587 12 20.3576 12.5795 21.3891 13.6109C22.4205 14.6424 23 16.0413 23 17.5ZM18.055 14.42C18.0207 14.2993 17.9479 14.193 17.8478 14.1174C17.7476 14.0417 17.6255 14.0008 17.5 14.0008C17.3745 14.0008 17.2524 14.0417 17.1522 14.1174C17.0521 14.193 16.9793 14.2993 16.945 14.42L16.388 16.208H14.585C14.019 16.208 13.785 16.962 14.242 17.308L15.7 18.413L15.143 20.2C14.968 20.761 15.584 21.228 16.042 20.881L17.5 19.777L18.958 20.881C19.416 21.228 20.032 20.761 19.857 20.201L19.3 18.413L20.758 17.309C21.216 16.962 20.981 16.208 20.415 16.208H18.612L18.055 14.421V14.42Z"/></svg>',join_stage:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M17.5 22C14.4618 22 12 19.5376 12 16.5C12 13.4623 14.4618 11 17.5 11C20.5371 11 23 13.4624 23 16.5C23 19.5376 20.5371 22 17.5 22ZM17.0704 18.992L17.1167 19.0322C17.1868 19.0841 17.2716 19.1125 17.3588 19.1132C17.4461 19.1139 17.5314 19.0869 17.6023 19.036L17.654 18.992L17.6936 18.9458C17.7455 18.8757 17.7739 18.7909 17.7746 18.7037C17.7753 18.6164 17.7483 18.5311 17.6975 18.4602L17.6535 18.4085L16.158 16.9125H19.8375L19.8936 16.9092C19.9829 16.8969 20.0657 16.8558 20.1293 16.792C20.193 16.7282 20.234 16.6454 20.2462 16.5561L20.25 16.5005L20.2462 16.4444C20.2339 16.3553 20.1928 16.2725 20.1292 16.2089C20.0655 16.1452 19.9828 16.1041 19.8936 16.0919L19.8375 16.088H16.158L17.654 14.592L17.6941 14.5453C17.7537 14.4659 17.7827 14.3676 17.7756 14.2686C17.7686 14.1695 17.726 14.0763 17.6558 14.0061C17.5856 13.9359 17.4924 13.8934 17.3934 13.8863C17.2943 13.8793 17.1961 13.9082 17.1167 13.9678L17.071 14.0079L14.8699 16.2079L14.8303 16.2547C14.7784 16.3247 14.75 16.4094 14.7493 16.4965C14.7485 16.5837 14.7753 16.6688 14.8259 16.7398L14.8699 16.7915L17.0704 18.992Z"/><path d="M2.80546 3.80546C2.28973 4.32118 2 5.02065 2 5.75V16.25C2 16.6111 2.07113 16.9687 2.20933 17.3024C2.34753 17.636 2.5501 17.9392 2.80546 18.1945C3.06082 18.4499 3.36398 18.6525 3.69762 18.7907C4.03127 18.9289 4.38886 19 4.75 19H11.498C11.3 18.526 11.157 18.023 11.076 17.5H9.002V14.75C9.002 14.6837 9.02834 14.6201 9.07522 14.5732C9.12211 14.5263 9.1857 14.5 9.252 14.5H11.3135C11.4858 13.9665 11.7253 13.4632 12.0218 13H9.252C8.285 13 7.502 13.784 7.502 14.75V16H7.5V17.5H4.75C4.06 17.5 3.5 16.94 3.5 16.25V5.75C3.5 5.06 4.06 4.5 4.75 4.5H19.25C19.94 4.5 20.5 5.06 20.5 5.75V10.732C20.6457 10.808 20.7884 10.8895 20.9277 10.9762C20.9687 11.0017 21.0093 11.0276 21.0497 11.054C21.3899 11.2762 21.708 11.5294 22 11.8096V5.75C22 5.02065 21.7103 4.32118 21.1945 3.80546C20.6788 3.28973 19.9793 3 19.25 3H4.75C4.02065 3 3.32118 3.28973 2.80546 3.80546Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M14.4181 10.7757C14.7938 10.264 15 9.64262 15 9C15 8.20435 14.6839 7.44129 14.1213 6.87868C13.5587 6.31607 12.7956 6 12 6C11.2044 6 10.4413 6.31607 9.87868 6.87868C9.31607 7.44129 9 8.20435 9 9C9 9.79565 9.31607 10.5587 9.87868 11.1213C10.4413 11.6839 11.2044 12 12 12C12.333 12 12.6602 11.9446 12.9695 11.839C13.3992 11.4213 13.8864 11.0625 14.4181 10.7757ZM10.9393 7.93934C11.2206 7.65804 11.6022 7.5 12 7.5C12.3978 7.5 12.7794 7.65804 13.0607 7.93934C13.342 8.22064 13.5 8.60218 13.5 9C13.5 9.39782 13.342 9.77936 13.0607 10.0607C12.7794 10.342 12.3978 10.5 12 10.5C11.6022 10.5 11.2206 10.342 10.9393 10.0607C10.658 9.77936 10.5 9.39782 10.5 9C10.5 8.60218 10.658 8.22064 10.9393 7.93934Z"></svg>',leave_stage:'<svg viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M2.80546 3.80546C2.28973 4.32118 2 5.02065 2 5.75V16.25C2 16.6111 2.07113 16.9687 2.20933 17.3024C2.34753 17.636 2.5501 17.9392 2.80546 18.1945C3.06082 18.4499 3.36398 18.6525 3.69762 18.7907C4.03127 18.9289 4.38886 19 4.75 19H11.498C11.3 18.526 11.157 18.023 11.076 17.5H9.002V14.75C9.002 14.6837 9.02834 14.6201 9.07522 14.5732C9.12211 14.5263 9.1857 14.5 9.252 14.5H11.3135C11.4858 13.9665 11.7253 13.4632 12.0218 13H9.252C8.285 13 7.502 13.784 7.502 14.75V16H7.5V17.5H4.75C4.06 17.5 3.5 16.94 3.5 16.25V5.75C3.5 5.06 4.06 4.5 4.75 4.5H19.25C19.94 4.5 20.5 5.06 20.5 5.75V10.732C20.6457 10.808 20.7884 10.8895 20.9277 10.9762C20.9687 11.0017 21.0093 11.0276 21.0497 11.054C21.3899 11.2762 21.708 11.5294 22 11.8096V5.75C22 5.02065 21.7103 4.32118 21.1945 3.80546C20.6788 3.28973 19.9793 3 19.25 3H4.75C4.02065 3 3.32118 3.28973 2.80546 3.80546Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M14.4181 10.7757C14.7938 10.264 15 9.64262 15 9C15 8.20435 14.6839 7.44129 14.1213 6.87868C13.5587 6.31607 12.7956 6 12 6C11.2044 6 10.4413 6.31607 9.87868 6.87868C9.31607 7.44129 9 8.20435 9 9C9 9.79565 9.31607 10.5587 9.87868 11.1213C10.4413 11.6839 11.2044 12 12 12C12.333 12 12.6602 11.9446 12.9695 11.839C13.3992 11.4213 13.8864 11.0625 14.4181 10.7757ZM10.9393 7.93934C11.2206 7.65804 11.6022 7.5 12 7.5C12.3978 7.5 12.7794 7.65804 13.0607 7.93934C13.342 8.22064 13.5 8.60218 13.5 9C13.5 9.39782 13.342 9.77936 13.0607 10.0607C12.7794 10.342 12.3978 10.5 12 10.5C11.6022 10.5 11.2206 10.342 10.9393 10.0607C10.658 9.77936 10.5 9.39782 10.5 9C10.5 8.60218 10.658 8.22064 10.9393 7.93934Z"/><path d="M17.5 11C20.5382 11 23 13.4624 23 16.5C23 19.5377 20.5382 22 17.5 22C14.4629 22 12 19.5377 12 16.5C12 13.4624 14.4629 11 17.5 11V11ZM17.9296 14.0079L17.8833 13.9678C17.8132 13.9159 17.7284 13.8875 17.6412 13.8868C17.5539 13.8861 17.4686 13.9131 17.3977 13.964L17.346 14.0079L17.3064 14.0542C17.2545 14.1243 17.2261 14.2091 17.2254 14.2963C17.2247 14.3836 17.2517 14.4689 17.3026 14.5398L17.3465 14.5915L18.842 16.0875H15.1625L15.1064 16.0908C15.0171 16.1031 14.9343 16.1442 14.8707 16.208C14.807 16.2718 14.766 16.3546 14.7539 16.4439L14.75 16.4995L14.7539 16.5556C14.7661 16.6447 14.8072 16.7275 14.8708 16.7911C14.9345 16.8548 15.0172 16.8959 15.1064 16.9081L15.1625 16.912H18.842L17.346 18.408L17.3059 18.4547C17.2463 18.5341 17.2173 18.6324 17.2244 18.7314C17.2314 18.8305 17.274 18.9237 17.3442 18.9939C17.4144 19.0641 17.5076 19.1066 17.6066 19.1137C17.7057 19.1207 17.8039 19.0918 17.8833 19.0322L17.929 18.9921L20.1301 16.7921L20.1697 16.7453C20.2216 16.6753 20.25 16.5906 20.2507 16.5035C20.2515 16.4163 20.2247 16.3312 20.1741 16.2602L20.1301 16.2085L17.9301 14.0079L17.8833 13.9678L17.9296 14.0079V14.0079Z"/></svg>',pip_off:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.8666 12.3058C11.0731 12.3058 11.2404 12.1385 11.2404 11.932V8.56753C11.2404 8.36107 11.0731 8.1937 10.8666 8.1937C10.6601 8.1937 10.4928 8.36107 10.4928 8.56753V11.0295L6.45393 6.99066C6.30794 6.84467 6.07124 6.84467 5.92525 6.99066C5.77926 7.13665 5.77926 7.37335 5.92525 7.51934L9.9641 11.5582L7.50212 11.5582C7.29566 11.5582 7.12829 11.7256 7.12829 11.932C7.12829 12.1385 7.29566 12.3058 7.50212 12.3058L10.8666 12.3058ZM5.73832 19.8879C3.6737 19.8879 2 18.2141 2 16.1495V7.73832C2 5.6737 3.6737 4 5.73832 4H18.2617C20.3263 4 22 5.6737 22 7.73832L22 13.0269C22 12.2687 21.6002 11.6038 21 11.2316C20.8468 11.1366 20.6806 11.0607 20.5047 11.0071V7.73832C20.5047 6.49955 19.5005 5.49533 18.2617 5.49533H5.73832C4.49955 5.49533 3.49533 6.49955 3.49533 7.73832V16.1495C3.49533 17.3883 4.49955 18.3925 5.73832 18.3925H10.7971C10.8506 18.5685 10.9266 18.7347 11.0216 18.8879C11.3938 19.4881 12.0587 19.8879 12.8169 19.8879H5.73832Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19.7265 12.5H13.3911C12.899 12.5 12.5 12.899 12.5 13.3911V17.6462C12.5 18.1384 12.899 18.5374 13.3911 18.5374H19.7265C20.2187 18.5374 20.6176 18.1384 20.6176 17.6462V13.3911C20.6176 12.899 20.2187 12.5 19.7265 12.5ZM13.3911 11.5C12.3467 11.5 11.5 12.3467 11.5 13.3911V17.6462C11.5 18.6907 12.3467 19.5374 13.3911 19.5374H19.7265C20.771 19.5374 21.6176 18.6907 21.6176 17.6462V13.3911C21.6176 12.3467 20.771 11.5 19.7265 11.5H13.3911Z"/></svg>',pip_on:'<svg viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5.73832 19.8879C3.6737 19.8879 2 18.2141 2 16.1495V7.73832C2 5.6737 3.6737 4 5.73832 4H18.2617C20.3263 4 22 5.6737 22 7.73832L22 13.0269C22 12.2687 21.6002 11.6038 21 11.2316C20.8468 11.1366 20.6806 11.0607 20.5047 11.0071V7.73832C20.5047 6.49955 19.5005 5.49533 18.2617 5.49533H5.73832C4.49955 5.49533 3.49533 6.49955 3.49533 7.73832V16.1495C3.49533 17.3883 4.49955 18.3925 5.73832 18.3925H10.7971C10.8506 18.5685 10.9266 18.7347 11.0216 18.8879C11.3938 19.4881 12.0587 19.8879 12.8169 19.8879H5.73832Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19.7265 12.5H13.3911C12.899 12.5 12.5 12.899 12.5 13.3911V17.6462C12.5 18.1384 12.899 18.5374 13.3911 18.5374H19.7265C20.2187 18.5374 20.6176 18.1384 20.6176 17.6462V13.3911C20.6176 12.899 20.2187 12.5 19.7265 12.5ZM13.3911 11.5C12.3467 11.5 11.5 12.3467 11.5 13.3911V17.6462C11.5 18.6907 12.3467 19.5374 13.3911 19.5374H19.7265C20.771 19.5374 21.6176 18.6907 21.6176 17.6462V13.3911C21.6176 12.3467 20.771 11.5 19.7265 11.5H13.3911Z"/><path d="M6.18951 6.88123C5.98304 6.88123 5.81567 7.0486 5.81567 7.25506V10.6195C5.81567 10.826 5.98304 10.9934 6.18951 10.9934C6.39597 10.9934 6.56334 10.826 6.56334 10.6195V8.15757L10.6022 12.1964C10.7482 12.3424 10.9849 12.3424 11.1309 12.1964C11.2769 12.0504 11.2769 11.8137 11.1309 11.6677L7.09202 7.62889L9.55399 7.62889C9.76045 7.62889 9.92782 7.46152 9.92782 7.25506C9.92782 7.0486 9.76045 6.88123 9.55399 6.88123L6.18951 6.88123Z"/></svg>',signal_1:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 16h2v5H3z"></path></svg>',signal_2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 16h2v5H3zm4-3h2v8H7z"></path></svg>',signal_3:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 16h2v5H3zm4-3h2v8H7zm4-3h2v11h-2z"></path></svg>',signal_4:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 16h2v5H3zm4-3h2v8H7zm4-3h2v11h-2zm4-3h2v14h-2z"></path></svg>',signal_5:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 16h2v5H3zm4-3h2v8H7zm4-3h2v11h-2zm4-3h2v14h-2zm4-3h2v17h-2z"></path></svg>',start_livestream:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="M6.343 4.938a1 1 0 0 1 0 1.415a8.003 8.003 0 0 0 0 11.317a1 1 0 1 1-1.415 1.414c-3.906-3.906-3.906-10.24 0-14.146a1 1 0 0 1 1.415 0Zm12.731 0c3.906 3.907 3.906 10.24 0 14.146a1 1 0 0 1-1.414-1.414a8.003 8.003 0 0 0 0-11.317a1 1 0 0 1 1.414-1.415ZM9.31 7.812a1 1 0 0 1 0 1.414a3.92 3.92 0 0 0 0 5.544a1 1 0 1 1-1.414 1.414a5.92 5.92 0 0 1 0-8.372a1 1 0 0 1 1.414 0Zm6.959 0a5.92 5.92 0 0 1 0 8.372a1 1 0 0 1-1.415-1.414a3.92 3.92 0 0 0 0-5.544a1 1 0 0 1 1.415-1.414Zm-4.187 2.77a1.5 1.5 0 1 1 0 3a1.5 1.5 0 0 1 0-3Z"/></svg>',stop_livestream:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill="currentColor" d="M2.854 2.146a.5.5 0 1 0-.708.708l1.811 1.81A8.218 8.218 0 0 0 2 10a8.228 8.228 0 0 0 2.604 6.015a.725.725 0 0 0 1.01-.025c.316-.316.277-.819-.027-1.11A6.73 6.73 0 0 1 3.5 10c0-1.62.57-3.107 1.522-4.27l.712.71A5.726 5.726 0 0 0 4.5 10c0 1.691.73 3.213 1.893 4.264a.713.713 0 0 0 .983-.037c.328-.328.267-.844-.041-1.134A4.238 4.238 0 0 1 6 10c0-.93.298-1.789.804-2.489l1.842 1.842a1.5 1.5 0 0 0 2 2l6.5 6.5a.5.5 0 0 0 .708-.707l-1.811-1.81l-1.065-1.066l-.712-.71l-1.07-1.072l-1.842-1.841l-2-2L7.4 6.693l-.942-.942l-.82-.82l-.944-.944l-1.841-1.842Zm13.794 12.38A8.212 8.212 0 0 0 18 10c0-2.283-.928-4.35-2.426-5.843a.726.726 0 0 0-1.027.01c-.31.31-.28.8.01 1.095A6.727 6.727 0 0 1 16.5 10a6.718 6.718 0 0 1-.94 3.438l1.088 1.089Zm-1.822-1.822A5.73 5.73 0 0 0 15.5 10a5.733 5.733 0 0 0-1.706-4.087a.714.714 0 0 0-1.008.016c-.319.318-.272.816.014 1.111A4.235 4.235 0 0 1 14 10c0 .557-.107 1.09-.302 1.577l1.128 1.127Z"/></svg>',viewers:'<svg fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 9.005a4 4 0 1 1 0 8 4 4 0 0 1 0-8Zm0 1.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5ZM12 5.5c4.613 0 8.596 3.15 9.701 7.564a.75.75 0 1 1-1.455.365 8.503 8.503 0 0 0-16.493.004.75.75 0 0 1-1.455-.363A10.003 10.003 0 0 1 12 5.5Z" fill="currentColor"/></svg>',debug:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m10.05 15.42 6.256-8.476a.694.694 0 0 1 1.235.57l-.03.098-3.87 9.8a2.07 2.07 0 1 1-3.737-1.766l.069-.115.076-.11 6.257-8.477-6.257 8.476Zm2.05-4.549-1.226 1.66a3.32 3.32 0 0 0-2.29 3.024.75.75 0 0 1-1.5-.063A4.819 4.819 0 0 1 9.14 11.74c.9-.631 1.942-.911 2.961-.87Zm4.167 2.752c.28.586.436 1.22.463 1.866a.75.75 0 0 1-1.376.444l.913-2.31Zm-2.233-5.37-.969 1.311a6.22 6.22 0 0 0-4.736 1.02 6.208 6.208 0 0 0-2.419 3.39.75.75 0 0 1-1.442-.412 7.708 7.708 0 0 1 3-4.207 7.724 7.724 0 0 1 6.566-1.102Zm3.51 2.138c.25.267.486.556.702.865a7.727 7.727 0 0 1 1.097 2.288.75.75 0 0 1-1.44.417 6.23 6.23 0 0 0-.885-1.845l-.102-.138.627-1.587ZM15.98 5.852l-.088.054c-.123.082-.236.18-.337.295l-.096.12-.54.732a9.138 9.138 0 0 0-8.261 1.146A9.103 9.103 0 0 0 3.38 12.37a.75.75 0 1 1-1.398-.543A10.603 10.603 0 0 1 5.799 6.97 10.642 10.642 0 0 1 15.98 5.852Zm2.629 1.562a10.646 10.646 0 0 1 2.022 2.171c.49.702.892 1.451 1.199 2.235a.75.75 0 1 1-1.397.547 9.188 9.188 0 0 0-2.327-3.405l.381-.964c.076-.19.115-.388.122-.584Z" fill="currentColor"/></svg>',info:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 1.999c5.524 0 10.002 4.478 10.002 10.002 0 5.523-4.478 10.001-10.002 10.001-5.524 0-10.002-4.478-10.002-10.001C1.998 6.477 6.476 1.999 12 1.999Zm0 1.5a8.502 8.502 0 1 0 0 17.003A8.502 8.502 0 0 0 12 3.5Zm-.004 7a.75.75 0 0 1 .744.648l.007.102.003 5.502a.75.75 0 0 1-1.493.102l-.007-.101-.003-5.502a.75.75 0 0 1 .75-.75ZM12 7.003a.999.999 0 1 1 0 1.997.999.999 0 0 1 0-1.997Z" fill="currentColor"/></svg>',devices:'<svg fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm5.5-8.5V9a5.5 5.5 0 1 0-11 0v1H9a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H6.5v.25a2.25 2.25 0 0 0 2.096 2.245l.154.005h1.128a2.251 2.251 0 1 1 0 1.5H8.75a3.75 3.75 0 0 1-3.745-3.55L5 16.25V9a7 7 0 0 1 14 0v5a2 2 0 0 1-1.85 1.995L17 16h-2a1 1 0 0 1-.993-.883L14 15v-4a1 1 0 0 1 .883-.993L15 10h2.5Zm-9 1.5h-2v3h2v-3Zm9 0h-2v3H17a.5.5 0 0 0 .492-.41L17.5 14v-2.5Z" fill="currentColor"/></svg>',horizontal_dots:'<svg fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM18 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill="currentColor"/></svg>',ai_sparkle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 49 48" fill="none"><path fill="#F13E1B" d="m30.023 15.96.07.016a1.362 1.362 0 0 1 .657 2.068c-.163.23-.392.403-.658.497l-3.444 1.118a7.095 7.095 0 0 0-4.495 4.492l-1.12 3.442a1.357 1.357 0 0 1-1.267.907h-.016a1.361 1.361 0 0 1-1.283-.907l-1.12-3.442a7.091 7.091 0 0 0-4.495-4.509l-3.444-1.119a1.36 1.36 0 0 1 0-2.564l3.444-1.118a7.097 7.097 0 0 0 4.427-4.492l1.119-3.442a1.36 1.36 0 0 1 2.566 0l1.12 3.442a7.09 7.09 0 0 0 4.495 4.492l3.444 1.118Zm9.195 16.007-2.755-.894a5.678 5.678 0 0 1-3.596-3.594l-.896-2.753a1.087 1.087 0 0 0-2.053 0l-.895 2.753a5.672 5.672 0 0 1-3.541 3.594l-2.756.894a1.088 1.088 0 0 0 0 2.052l2.756.895a5.675 5.675 0 0 1 3.596 3.607l.896 2.753a1.088 1.088 0 0 0 2.052 0l.896-2.753a5.672 5.672 0 0 1 3.596-3.594l2.756-.894a1.088 1.088 0 0 0 0-2.052l-.056-.014Z"/><path fill="#2160FD" d="m39.218 31.967-2.755-.894a5.677 5.677 0 0 1-3.596-3.594l-.896-2.753a1.087 1.087 0 0 0-2.053 0l-.895 2.753a5.672 5.672 0 0 1-3.541 3.594l-2.756.894a1.088 1.088 0 0 0 0 2.052l2.756.895a5.675 5.675 0 0 1 3.596 3.607l.896 2.753a1.088 1.088 0 0 0 2.052 0l.896-2.753a5.672 5.672 0 0 1 3.596-3.594l2.756-.894a1.088 1.088 0 0 0 0-2.052l-.056-.014Z"/></svg>',meeting_ai:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" fill="none"><path fill="#F13E1B" d="M9.111 12.888a4.98 4.98 0 0 0-1.075-.8l-.04.048a4.651 4.651 0 0 0-.903-.424l-2.446-.8a.963.963 0 0 1-.467-.356.953.953 0 0 1 0-1.116.955.955 0 0 1 .467-.352l2.446-.8A5.088 5.088 0 0 0 9.04 7.06a5.048 5.048 0 0 0 1.2-1.904l.02-.064.799-2.444A.97.97 0 0 1 11.969 2a.97.97 0 0 1 .91.648l.8 2.444a5.147 5.147 0 0 0 1.219 1.976 5.042 5.042 0 0 0 1.974 1.2l2.45.8h.048c.188.067.351.19.468.352.115.164.176.36.175.56.001.2-.06.396-.175.56a1 1 0 0 1-.468.352l-2.446.8a5.067 5.067 0 0 0-1.978 1.2 5.096 5.096 0 0 0-1.199 1.976l-.8 2.448-.023.06a1.02 1.02 0 0 1-.184.284.967.967 0 0 1-.703.3 1 1 0 0 1-.927-.644l-.8-2.448a5.11 5.11 0 0 0-.799-1.508 5.16 5.16 0 0 0-.4-.472Zm10.434 5.396a.492.492 0 0 1 .176-.236.473.473 0 0 1 .1-.048.466.466 0 0 1 .168-.04c.1 0 .197.031.28.088l.091.072a.456.456 0 0 1 .096.164l.4 1.224c.124.372.332.71.607.988.278.276.616.484.987.608l1.223.4h.028l.084.04a.536.536 0 0 1 .148.136c.056.082.087.18.088.28a.484.484 0 0 1-.32.456l-1.227.4a2.528 2.528 0 0 0-1.595 1.6l-.399 1.224a.46.46 0 0 1-.176.232.464.464 0 0 1-.28.088.475.475 0 0 1-.455-.32l-.4-1.224a2.507 2.507 0 0 0-.611-.992 2.487 2.487 0 0 0-.987-.612l-1.223-.4a.48.48 0 0 1 0-.908l1.223-.4c.367-.128.7-.337.975-.612.137-.142.257-.3.36-.468.1-.162.18-.335.24-.516l.399-1.224Z"/><path fill="currentColor" d="M19.545 18.284a.492.492 0 0 1 .176-.236.469.469 0 0 1 .1-.048.466.466 0 0 1 .168-.04c.1 0 .197.031.28.088l.091.072a.456.456 0 0 1 .096.164l.4 1.224c.124.372.332.71.607.988.279.276.616.484.988.608l1.222.4h.028l.084.04a.534.534 0 0 1 .148.136c.057.082.087.18.088.28a.484.484 0 0 1-.32.456l-1.227.4a2.528 2.528 0 0 0-1.595 1.6l-.399 1.224a.46.46 0 0 1-.175.232.464.464 0 0 1-.28.088.475.475 0 0 1-.456-.32l-.4-1.224a2.509 2.509 0 0 0-.61-.992 2.487 2.487 0 0 0-.988-.612l-1.223-.4a.48.48 0 0 1 0-.908l1.223-.4c.367-.128.7-.337.975-.612a2.7 2.7 0 0 0 .36-.468c.1-.162.18-.335.24-.516l.4-1.224Z"/></svg>',create_channel:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"><path fill="currentColor" d="M2 14.75A3.25 3.25 0 0 0 5.25 18H6v2.75a1.25 1.25 0 0 0 1.999 1l2.125-1.59.396-1.583c.071-.286.177-.56.312-.82L7.5 20.252 7.499 16.5H5.25a1.75 1.75 0 0 1-1.75-1.75v-8.5c0-.966.784-1.75 1.75-1.75h13.5c.966 0 1.75.784 1.75 1.75v3.845a3.27 3.27 0 0 1 1.5.83V6.25A3.25 3.25 0 0 0 18.75 3H5.25A3.25 3.25 0 0 0 2 6.25v8.5Z"/><path fill="currentColor" d="m18.098 11.67-5.902 5.902a2.684 2.684 0 0 0-.707 1.247l-.458 1.831a1.087 1.087 0 0 0 1.319 1.318l1.83-.457a2.685 2.685 0 0 0 1.248-.707l5.902-5.902a2.285 2.285 0 1 0-3.232-3.232Z"/></svg>',create_channel_illustration:'<svg width="503" height="362" viewBox="0 0 503 362" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M93.3477 192.893C93.3477 190.684 95.1385 188.893 97.3477 188.893H476C478.209 188.893 480 190.684 480 192.893V311.824C480 314.033 478.209 315.824 476 315.824H469.354C467.145 315.824 465.354 317.615 465.354 319.824V339.364C465.354 342.928 461.045 344.712 458.525 342.193L433.328 316.996C432.578 316.245 431.561 315.824 430.5 315.824H97.3477C95.1385 315.824 93.3477 314.033 93.3477 311.824V192.893Z" fill="#282828"/> <path d="M306.606 230.9H136.121C134.648 230.9 133.453 232.095 133.453 233.568C133.453 235.041 134.648 236.236 136.121 236.236H306.606C308.079 236.236 309.274 235.041 309.274 233.568C309.274 232.095 308.079 230.9 306.606 230.9Z" fill="#2160FD"/> <path d="M437.226 249.358H136.121C134.648 249.358 133.453 250.553 133.453 252.026C133.453 253.499 134.648 254.694 136.121 254.694H437.226C438.7 254.694 439.894 253.499 439.894 252.026C439.894 250.553 438.7 249.358 437.226 249.358Z" fill="#5C5C5C"/> <path d="M436.926 267.816H136.121C134.648 267.816 133.453 269.011 133.453 270.484C133.453 271.957 134.648 273.152 136.121 273.152H436.926C438.4 273.152 439.594 271.957 439.594 270.484C439.594 269.011 438.399 267.816 436.926 267.816Z" fill="#5C5C5C"/> <path d="M411.652 23C411.652 20.7909 409.861 19 407.652 19H29C26.7909 19 25 20.7909 25 23V141.931C25 144.14 26.7909 145.931 29 145.931H35.646C37.8551 145.931 39.646 147.722 39.646 149.931V169.472C39.646 173.036 43.9546 174.82 46.4745 172.3L71.6714 147.103C72.4216 146.352 73.439 145.931 74.4999 145.931H407.652C409.861 145.931 411.652 144.14 411.652 141.931V23Z" fill="#282828"/> <path d="M241.188 61.9839H70.703C69.2296 61.9839 68.0352 63.1783 68.0352 64.6517C68.0352 66.1252 69.2296 67.3196 70.703 67.3196H241.188C242.662 67.3196 243.856 66.1252 243.856 64.6517C243.856 63.1783 242.662 61.9839 241.188 61.9839Z" fill="#2160FD"/> <path d="M371.808 80.4419H70.703C69.2296 80.4419 68.0352 81.6363 68.0352 83.1098C68.0352 84.5832 69.2296 85.7776 70.703 85.7776H371.808C373.282 85.7776 374.476 84.5832 374.476 83.1098C374.476 81.6363 373.282 80.4419 371.808 80.4419Z" fill="#5C5C5C"/> <path d="M371.508 98.8999H70.703C69.2296 98.8999 68.0352 100.094 68.0352 101.568C68.0352 103.041 69.2296 104.236 70.703 104.236H371.508C372.982 104.236 374.176 103.041 374.176 101.568C374.176 100.094 372.982 98.8999 371.508 98.8999Z" fill="#5C5C5C"/> </svg>',captionsOn:'<svg width="24" height="24" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18.75 4A3.25 3.25 0 0 1 22 7.25v9.505a3.25 3.25 0 0 1-3.25 3.25H5.25A3.25 3.25 0 0 1 2 16.755V7.25a3.25 3.25 0 0 1 3.066-3.245L5.25 4h13.5Zm0 1.5H5.25l-.144.006A1.75 1.75 0 0 0 3.5 7.25v9.505c0 .966.784 1.75 1.75 1.75h13.5a1.75 1.75 0 0 0 1.75-1.75V7.25a1.75 1.75 0 0 0-1.75-1.75ZM5.5 12c0-3.146 2.713-4.775 5.122-3.401A.75.75 0 0 1 9.878 9.9C8.481 9.104 7 9.994 7 12c0 2.005 1.484 2.896 2.88 2.103a.75.75 0 0 1 .74 1.304C8.216 16.775 5.5 15.143 5.5 12Zm7.5 0c0-3.146 2.713-4.775 5.122-3.401a.75.75 0 0 1-.744 1.302C15.981 9.104 14.5 9.994 14.5 12c0 2.005 1.484 2.896 2.88 2.103a.75.75 0 0 1 .74 1.304C15.716 16.775 13 15.143 13 12Z" fill="currentColor"/></svg>',captionsOff:'<svg width="24" height="24" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3.28 2.22a.75.75 0 0 0-1.06 1.06l1.25 1.25A3.247 3.247 0 0 0 2 7.25v9.505a3.25 3.25 0 0 0 3.25 3.25h13.5c.063 0 .126-.002.188-.006l1.781 1.781a.75.75 0 0 0 1.061-1.06L3.28 2.22Zm14.164 16.284H5.25a1.75 1.75 0 0 1-1.75-1.75V7.25c0-.727.443-1.35 1.074-1.615l2.828 2.828C6.292 9.043 5.5 10.3 5.5 12c0 3.143 2.715 4.775 5.12 3.406a.75.75 0 0 0-.74-1.303C8.483 14.896 7 14.005 7 12c0-1.37.69-2.22 1.573-2.366l8.87 8.87Zm2.986-1.256c.045-.157.07-.322.07-.494V7.25a1.75 1.75 0 0 0-1.75-1.75H8.682L7.182 4H18.75A3.25 3.25 0 0 1 22 7.25v9.505c0 .593-.159 1.148-.436 1.627l-1.134-1.134Zm-5.877-5.877-1.197-1.197c.813-1.888 2.882-2.65 4.766-1.575a.75.75 0 0 1-.744 1.302c-1.241-.708-2.549-.085-2.825 1.47Z" fill="currentColor"/></svg>',play:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M8 5v14l11-7z" /></svg>',pause:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M6 4 H9 V20 H6 Z" /><path d="M15 4 H18 V20 H15 Z" /></svg>',fastForward:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 24" fill="currentColor"><path d="M4 5v14l11-7-11-7zm13 0v14l11-7-11-7z"/></svg>',minimize:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21.778 2.223a.75.75 0 0 1 .072.976l-.072.084-6.223 6.224h5.693a.75.75 0 0 1 .743.65l.007.1a.75.75 0 0 1-.649.744l-.101.007-7.55-.002-.016-.002a.727.727 0 0 1-.195-.042l-.098-.046a.747.747 0 0 1-.386-.553l-.007-.105V2.754a.75.75 0 0 1 1.493-.102l.007.102v5.69l6.222-6.221a.749.749 0 0 1 1.06 0ZM11.003 13.755v7.504a.75.75 0 0 1-1.494.102l-.007-.102v-5.695L3.28 21.78a.75.75 0 0 1-1.133-.977l.073-.084 6.22-6.214H2.751a.75.75 0 0 1-.743-.648L2 13.755a.75.75 0 0 1 .75-.75l7.554.002.074.009.097.023.053.019.086.04.089.058a.761.761 0 0 1 .148.148l.066.106.041.094.022.07.01.055.007.058v-.008l.005.076Z" fill="currentColor"/></svg>',maximize:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.748 3.001h7.554l.1.014.099.028.061.026a.72.72 0 0 1 .218.15l.04.044.061.082.037.065.039.09.02.064.013.064.009.093v7.534a.75.75 0 0 1-1.493.102l-.006-.102-.001-5.696-13.94 13.945h5.69a.75.75 0 0 1 .744.65l.007.1a.75.75 0 0 1-.649.744l-.101.007H3.714L3.684 21a.705.705 0 0 1-.187-.04l-.09-.038-.018-.01a.746.746 0 0 1-.384-.553l-.007-.105V12.75a.75.75 0 0 1 1.493-.102l.007.102v5.692L18.438 4.5l-5.69.001a.75.75 0 0 1-.743-.648l-.007-.102a.75.75 0 0 1 .648-.743L12.748 3Z" fill="currentColor"/></svg>'},Z={get:(e,t,i)=>(...a)=>{try{return Reflect.get(e,t,i).apply(e,a)}catch(s){return null}}};let K;try{K=new Proxy(localStorage,Z)}catch(oe){K=new Proxy({},Z)}const W=K,Y="dyte-prefs",Q=(e,t)=>{const i=JSON.parse(W.getItem(Y)||"{}");i[e]=JSON.stringify(t),W.setItem("dyte-prefs",JSON.stringify(i))},J=e=>JSON.parse(W.getItem(Y)||"{}")[e],X=()=>{const e=JSON.parse(W.getItem(Y)||"{}");return{mirrorVideo:!e["mirror-video"]||"true"===e["mirror-video"],muteNotificationSounds:!!e["mute-notification-sounds"]&&"true"===e["mute-notification-sounds"]}},ee={},te=()=>({meeting:"idle",prefs:X()}),ie=((e,t)=>{const i=((e,t=(e,t)=>e!==t)=>{const i=B(e);let a=new Map(Object.entries(i??{}));const s={dispose:[],get:[],set:[],reset:[]},r=()=>{a=new Map(Object.entries(B(e)??{})),s.reset.forEach((e=>e()))},n=e=>(s.get.forEach((t=>t(e))),a.get(e)),o=(e,i)=>{const r=a.get(e);t(i,r,e)&&(a.set(e,i),s.set.forEach((t=>t(e,i,r))))},d="undefined"==typeof Proxy?{}:new Proxy(i,{get:(e,t)=>n(t),ownKeys:e=>Array.from(a.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(e,t)=>a.has(t),set:(e,t,i)=>(o(t,i),!0)}),c=(e,t)=>(s[e].push(t),()=>{H(s[e],t)});return{state:d,get:n,set:o,on:c,onChange:(t,i)=>{const a=c("set",((e,a)=>{e===t&&i(a)})),s=c("reset",(()=>i(B(e)[t])));return()=>{a(),s()}},use:(...e)=>{const t=e.reduce(((e,t)=>(t.set&&e.push(c("set",t.set)),t.get&&e.push(c("get",t.get)),t.reset&&e.push(c("reset",t.reset)),t.dispose&&e.push(c("dispose",t.dispose)),e)),[]);return()=>t.forEach((e=>e()))},dispose:()=>{s.dispose.forEach((e=>e())),r()},reset:r,forceUpdate:e=>{const t=a.get(e);s.set.forEach((i=>i(e,t,t)))}}})(e,t);return i.use((()=>{if("function"!=typeof a.g)return{};const e=new Map;return{dispose:()=>e.clear(),get:t=>{const i=(0,a.g)();i&&((e,t,i)=>{const a=e.get(t);a?a.includes(i)||a.push(i):e.set(t,[i])})(e,t,i)},set:t=>{const i=e.get(t);i&&e.set(t,i.filter(a.f)),z(e)},reset:()=>{e.forEach((e=>e.forEach(a.f))),z(e)}}})()),i})({meeting:void 0,t:G(),iconPack:q,states:te(),config:F,size:void 0}),ae=new Map;function se(e,t){const i=ae.get(e);i?i.push(t):ae.set(e,[t])}function re(e,t){const i=ae.get(e);if(i&&i.length>0){const a=i.indexOf(t);-1!==a&&(i.splice(a,1),ae.set(e,i))}}ie.use({set:(e,t,i)=>{const a=ae.get(e);a&&ae.set(e,a.filter((a=>a[e]===i&&(a[e]=t,!0))))}});const ne=ie.state}}]);