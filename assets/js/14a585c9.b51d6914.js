"use strict";(self.webpackChunksentinel_docs=self.webpackChunksentinel_docs||[]).push([[7407],{80076:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"commands/transactions/subplan","title":"Subscription Plan","description":"Here are the instructions for creating a Subscription Plan in the dVPN application creator. Additionally, you may refer to the Medium article for more detailed information.","source":"@site/docs/sentinel-hub/commands/transactions/subplan.md","sourceDirName":"commands/transactions","slug":"/commands/transactions/subplan","permalink":"/sentinel-hub/commands/transactions/subplan","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Subscription Plan","sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Staking","permalink":"/sentinel-hub/commands/transactions/staking"},"next":{"title":"Create","permalink":"/sentinel-hub/commands/transactions/offline/create"}}');var a=i(74848),t=i(28453);const o={title:"Subscription Plan",sidebar_position:4},r="Subscription Plan",c={},d=[{value:"Create a dVPN Application Provider ID",id:"create-a-dvpn-application-provider-id",level:2},{value:"Create a Subscription Plan",id:"create-a-subscription-plan",level:2},{value:"Activate the Subscription Plan",id:"activate-the-subscription-plan",level:2},{value:"Create a Time Based Subscription with a Node",id:"create-a-time-based-subscription-with-a-node",level:2},{value:"Add a Community Hosted Node",id:"add-a-community-hosted-node",level:2},{value:"Remove a Node",id:"remove-a-node",level:2},{value:"Share Subscription with Another Account",id:"share-subscription-with-another-account",level:2},{value:"Query Subscription Plan",id:"query-subscription-plan",level:2},{value:"Subscription-Associated User Account Query",id:"subscription-associated-user-account-query",level:2},{value:"List of Available Subscription Plans",id:"list-of-available-subscription-plans",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"subscription-plan",children:"Subscription Plan"})}),"\n",(0,a.jsxs)(n.p,{children:["Here are the instructions for creating a Subscription Plan in the dVPN application creator. Additionally, you may refer to the ",(0,a.jsx)(n.a,{href:"https://medium.com/sentinel/introduction-of-on-chain-subscriptions-and-time-based-payments-sentinels-biggest-dvpn-protocol-a2b240199f18",children:"Medium article"})," for more detailed information."]}),"\n",(0,a.jsx)(n.h2,{id:"create-a-dvpn-application-provider-id",children:"Create a dVPN Application Provider ID"}),"\n",(0,a.jsx)(n.p,{children:"Begin by registering an on-chain provider ID using the following command:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'sentinelhub tx vpn provider register \\\n  <provider_name> \\\n  --description "<provider_description>" \\\n  --identity "<provider_identity>" \\\n  --website https://test.provider.com \\\n  --broadcast-mode block \\\n  --from <key_name> \\\n  --chain-id sentinelhub-2 \\\n  --gas-prices 0.5udvpn \\\n  --gas=300000 \\\n  --node https://rpc.sentinel.co:443\n'})}),"\n",(0,a.jsx)(n.h2,{id:"create-a-subscription-plan",children:"Create a Subscription Plan"}),"\n",(0,a.jsx)(n.p,{children:"Next, the dVPN application creator should proceed to establish an on-chain subscription plan, specifying the duration, data allowance, and associated prices:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sentinelhub tx vpn plan create \\\n  <plan_duration> \\\n  <gigabytes> \\\n  <plan_prices> \\\n  --broadcast-mode block \\\n  --from <key_name> \\\n  --chain-id sentinelhub-2 \\\n  --gas-prices 0.5udvpn \\\n  --gas=300000 \\\n  --node https://rpc.sentinel.co:443\n"})}),"\n",(0,a.jsx)(n.h2,{id:"activate-the-subscription-plan",children:"Activate the Subscription Plan"}),"\n",(0,a.jsx)(n.p,{children:"To activate the subscription plan, execute the following command"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sentinelhub tx vpn plan update-status \\\n  <plan_id> active \\\n  --broadcast-mode block \\\n  --from <key_name> \\\n  --chain-id sentinelhub-2 \\\n  --gas-prices 0.5udvpn \\\n  --gas=300000 \\\n  --node https://rpc.sentinel.co:443\n"})}),"\n",(0,a.jsx)(n.h2,{id:"create-a-time-based-subscription-with-a-node",children:"Create a Time Based Subscription with a Node"}),"\n",(0,a.jsx)(n.p,{children:"To create a time-based subscription with a node, execute the following command"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sentinelhub tx vpn node subscribe \\\n  <sentnode_address> \\\n  <denom> \\\n  <hours> \\\n  --broadcast-mode block \\\n  --from <key_name> \\\n  --chain-id sentinelhub-2 \\\n  --gas-prices 0.5udvpn \\\n  --gas=300000 \\\n  --node https://rpc.sentinel.co:443\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Ensure accurate configuration by replacing ",(0,a.jsx)(n.code,{children:"<sentnode_address"}),">, ",(0,a.jsx)(n.code,{children:"<denom>"})," (udvpn), and ",(0,a.jsx)(n.code,{children:"<key_name>"})," with your specific values. Adjust other parameters as needed for your use case."]}),"\n",(0,a.jsx)(n.h2,{id:"add-a-community-hosted-node",children:"Add a Community Hosted Node"}),"\n",(0,a.jsx)(n.p,{children:"To add a community-hosted node to the subscription plan, execute the following command"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sentinelhub tx vpn plan add-node \\\n  <plan_id> \\\n  <sentnode_address> \\\n  --broadcast-mode block \\\n  --from <key_name> \\\n  --chain-id sentinelhub-2 \\\n  --gas-prices 0.5udvpn \\\n  --gas=300000 \\\n  --node https://rpc.sentinel.co:443\n"})}),"\n",(0,a.jsx)(n.h2,{id:"remove-a-node",children:"Remove a Node"}),"\n",(0,a.jsx)(n.p,{children:"To remove a node from the subscription plan, execute the following command"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sentinelhub tx vpn plan remove-node \\\n  <plan_id> \\\n  <sentnode_address> \\\n  --broadcast-mode block \\\n  --from <key_name> \\\n  --chain-id sentinelhub-2 \\\n  --gas-prices 0.5udvpn \\\n  --gas=300000 \\\n  --node https://rpc.sentinel.co:443\n"})}),"\n",(0,a.jsx)(n.h2,{id:"share-subscription-with-another-account",children:"Share Subscription with Another Account"}),"\n",(0,a.jsx)(n.p,{children:"To facilitate subscription sharing with another account, this applies to dVPN apps categorized as follows: free dVPN, paid with non-IBC supported tokens, and paid with fiat payment gateway."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sentinelhub tx vpn subscription allocate \\\n  <subscription_id> \\\n  <account_address> \\\n  <bytes> \\\n  --broadcast-mode block \\\n  --from <key_name> \\\n  --chain-id sentinelhub-2 \\\n  --gas-prices 0.5udvpn \\\n  --gas=300000 \\\n  --node https://rpc.sentinel.co:443\n"})}),"\n",(0,a.jsx)(n.h2,{id:"query-subscription-plan",children:"Query Subscription Plan"}),"\n",(0,a.jsx)(n.p,{children:"To query about the subscriptions associated with an account address, use the following command:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sentinelhub query vpn subscription allocate \\\n  --account-addr <account_address> \\\n  --node https://rpc.sentinel.co:443\n"})}),"\n",(0,a.jsx)(n.h2,{id:"subscription-associated-user-account-query",children:"Subscription-Associated User Account Query"}),"\n",(0,a.jsx)(n.p,{children:"To query a list of all user accounts linked to a specific subscription, use the following command:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sentinelhub query vpn allocations \\\n  <subscription_id> \\\n  --node https://rpc.sentinel.co:443\n"})}),"\n",(0,a.jsx)(n.h2,{id:"list-of-available-subscription-plans",children:"List of Available Subscription Plans"}),"\n",(0,a.jsx)(n.p,{children:"To query a list of all subscription plans available,  use the following command:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sentinelhub query vpn plans \\\n  --node https://rpc.sentinel.co:443\n"})})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>r});var s=i(96540);const a={},t=s.createContext(a);function o(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);