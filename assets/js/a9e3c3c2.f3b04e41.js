"use strict";(self.webpackChunksentinel_docs=self.webpackChunksentinel_docs||[]).push([[456],{82876:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>l,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"other/akash/deploy","title":"Deploy the Node","description":"The steps to deploy your node","source":"@site/docs/dvpn-node-setup/other/akash/deploy.md","sourceDirName":"other/akash","slug":"/other/akash/deploy","permalink":"/dvpn-node-setup/other/akash/deploy","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Deploy the Node","description":"The steps to deploy your node","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Overview & Requirements","permalink":"/dvpn-node-setup/other/akash/"},"next":{"title":"SSH into the Container","permalink":"/dvpn-node-setup/other/akash/ssh"}}');var o=t(74848),i=t(28453);const r={title:"Deploy the Node",description:"The steps to deploy your node",sidebar_position:2},d="Deploy the Node",a={},c=[];function p(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components},{Details:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"deploy-the-node",children:"Deploy the Node"})}),"\n",(0,o.jsxs)(n.p,{children:["Navigate to ",(0,o.jsx)(n.a,{href:"https://console.akash.network/",children:"https://console.akash.network/"})]}),"\n",(0,o.jsxs)(n.p,{children:["On the left sidebar click on ",(0,o.jsx)(n.code,{children:"Deployments"})," and then to ",(0,o.jsx)(n.code,{children:"DEPLOY"})]}),"\n",(0,o.jsxs)(n.p,{children:["Select ",(0,o.jsx)(n.code,{children:"Empty"})," template"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Empty Template",src:t(68528).A+"",width:"1064",height:"240"})}),"\n",(0,o.jsx)(n.p,{children:"Insert the provided content, ensuring that you edit the necessary fields and that your input is enclosed within double quotes."}),"\n",(0,o.jsxs)(n.p,{children:["To find the latest Docker images for your template, check both the version ",(0,o.jsx)(n.a,{href:"https://hub.docker.com/r/declab/sentinel_dvpn/tags",children:"without SSH"})," and the version ",(0,o.jsx)(n.a,{href:"https://hub.docker.com/r/declab/sentinel_dvpn_ssh/tags",children:"with SSH"}),"."]}),"\n",(0,o.jsx)(n.admonition,{title:"Make sure",type:"info",children:(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["When configuring the ",(0,o.jsx)(n.code,{children:"HOURLY_PRICES"})," field, set the last part of the string to ",(0,o.jsx)(n.code,{children:"10000000udvpn"})," for residential nodes and ",(0,o.jsx)(n.code,{children:"4160000udvpn"})," for data center nodes."]}),"\n",(0,o.jsxs)(n.li,{children:["To convert your mnemonic in BASE64 use this ",(0,o.jsx)(n.a,{href:"https://www.base64encode.org/",children:"link"})]}),"\n"]})}),"\n",(0,o.jsxs)(s,{children:[(0,o.jsx)("summary",{children:"Template"}),(0,o.jsx)("p",{children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'---\nversion: "2.0"\nendpoints:\n uniq_name_endpoint: # unique name, for example "dvpn_on_akash:", and enter this name in line 27 and 32.\n    kind: ip\nservices:\n  app:\n    image: declab/sentinel_dvpn:0.7.1.1\n    env:\n      - "MNEMONIC_BASE64=" # Mnemonic phrase encrypted with BASE64.\n      - "MONIKER=dVPN on Akash Network v2RAY" # Your dVPN node name.\n      - "REMOTE_PORT=8585" # Remote port for are connection sentinel client service.\n      - "LISTEN_PORT=3333" # v2RAY listen port\n      - "IPV4_ADDRESS=" # Node static IP address ( of leases section )\n      - "RPC_ADDRESS=https://rpc.sentinel.co:443"\n      \n      - "GIGABYTE_PRICES=52573ibc/31FEE1A2A9F9C01113F90BD0BBCCE8FD6BBB8585FAF109A2101827DD1D5B95B8,9204ibc/A8C2D23A1E6F95DA4E48BA349667E322BD7A6C996D8A4AAE8BA72E190F3D1477,1180852ibc/B1C0DDB14F25279A2026BC8794E12B259F8BDA546A3C5132CCAEE4431CE36783,122740ibc/ED07A3391A112B175915CD8FAF43A2DA8E4790EDE12566649D0C2F97716B8518,15342624udvpn"\n         # ^^Set the cost per 1 Gb of active traffic passed through your node.^^\n         \n      - "HOURLY_PRICES=18480ibc/31FEE1A2A9F9C01113F90BD0BBCCE8FD6BBB8585FAF109A2101827DD1D5B95B8,770ibc/A8C2D23A1E6F95DA4E48BA349667E322BD7A6C996D8A4AAE8BA72E190F3D1477,1871892ibc/B1C0DDB14F25279A2026BC8794E12B259F8BDA546A3C5132CCAEE4431CE36783,18897ibc/ED07A3391A112B175915CD8FAF43A2DA8E4790EDE12566649D0C2F97716B8518,10000000udvpn" # Set the cost per 1 hour of traffic passed through your node.\n         \n    expose:\n      - port: 8585 # REMOTE_URL_PORT\n        as: 8585\n        to:\n          - global: true\n            ip: uniq_name_endpoint  # Name from string 3, for example "ip: dvpn_dimokus"\n      - port: 3333 # LISTEN_PORT \n        as: 3333\n        to:\n          - global: true\n            ip: uniq_name_endpoint  # Name from string 3, for example "ip: dvpn_dimokus"    \nprofiles:\n  compute:\n    app:\n      resources:\n        cpu:\n          units: 1\n        memory:\n          size: 1Gi\n        storage:\n          size: 3Gi         \n  placement:\n    akash: \n      pricing:\n        app:\n          denom: uakt\n          amount: 100000\ndeployment:\n  app:\n    akash:\n      profile: app\n      count: 1 \n'})})})]}),"\n",(0,o.jsxs)(s,{children:[(0,o.jsx)("summary",{children:"Template with SSH Access"}),(0,o.jsx)("p",{children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'---\nversion: "2.0"\nendpoints:\n  unique_name_endpoint: # unique name, for example "dvpn_on_akash:", and enter this name in line 27 and 32.\n    kind: ip\nservices:\n  app:\n    image: declab/sentinel_dvpn_ssh:0.7.1.2\n    \n    env:\n      - "SSH_KEY=" # Your SSH pubkey\n      - "MNEMONIC_BASE64=" # Mnemonic encrypted with BASE64.\n      - "MONIKER=" # Your dVPN node name.\n      - "REMOTE_PORT=8585" # TCP listen port.\n      - "LISTEN_PORT=3333" # V2RAY listen port\n      - "IPV4_ADDRESS=" # Node leased IP address (you will add it later)\n      - "RPC_ADDRESS=https://rpc.sentinel.co:443"\n      - "GIGABYTE_PRICES=52573ibc/31FEE1A2A9F9C01113F90BD0BBCCE8FD6BBB8585FAF109A2101827DD1D5B95B8,9204ibc/A8C2D23A1E6F95DA4E48BA349667E322BD7A6C996D8A4AAE8BA72E190F3D1477,1180852ibc/B1C0DDB14F25279A2026BC8794E12B259F8BDA546A3C5132CCAEE4431CE36783,122740ibc/ED07A3391A112B175915CD8FAF43A2DA8E4790EDE12566649D0C2F97716B8518,15342624udvpn"\n      - "HOURLY_PRICES=18480ibc/31FEE1A2A9F9C01113F90BD0BBCCE8FD6BBB8585FAF109A2101827DD1D5B95B8,770ibc/A8C2D23A1E6F95DA4E48BA349667E322BD7A6C996D8A4AAE8BA72E190F3D1477,1871892ibc/B1C0DDB14F25279A2026BC8794E12B259F8BDA546A3C5132CCAEE4431CE36783,18897ibc/ED07A3391A112B175915CD8FAF43A2DA8E4790EDE12566649D0C2F97716B8518,10000000udvpn"\n        \n    expose:\n      - port: 8585 # TCP listen port\n        as: 8585\n        to:\n          - global: true\n            ip: unique_name_endpoint  # Name used in line 3, for example "ip: dvpn_akash_node"\n      - port: 3333 # V2RAY port\n        as: 3333\n        to:\n          - global: true\n            ip: unique_name_endpoint  # Name used in line 3, for example "ip: dvpn_akash_node"\n      - port: 22 # SSH Port\n        as: 22\n        to:\n          - global: true\nprofiles:\n  compute:\n    app:\n      resources:\n        cpu:\n          units: 1\n        memory:\n          size: 1Gi\n        storage:\n          size: 3Gi         \n  placement:\n    akash: \n      pricing:\n        app:\n          denom: uakt\n          amount: 100000\ndeployment:\n  app:\n    akash:\n      profile: app\n      count: 1\n'})})})]}),"\n",(0,o.jsxs)(n.p,{children:["Click on ",(0,o.jsx)(n.code,{children:"CREATE DEPLOYMENT"})]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Create Deployment",src:t(82408).A+"",width:"1411",height:"538"})}),"\n",(0,o.jsxs)(n.p,{children:["You will need to make a ",(0,o.jsx)(n.strong,{children:"0.5 AKT"})," or ",(0,o.jsx)(n.strong,{children:"5 USDC"})," deployment deposit, which will be refunded to you upon closing the deployment."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Deposit",src:t(43430).A+"",width:"407",height:"364"})}),"\n",(0,o.jsxs)(n.p,{children:["Now, wait for bids, select your preferred provider and click on ",(0,o.jsx)(n.code,{children:"ACCEPT BID"})]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Bids",src:t(52294).A+"",width:"1393",height:"476"})}),"\n",(0,o.jsxs)(n.p,{children:["Wait for deployment and check the tab ",(0,o.jsx)(n.code,{children:"EVENTS"})," to see the ",(0,o.jsx)(n.strong,{children:"IP"})," that has been ",(0,o.jsx)(n.strong,{children:"assigned!"})]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Assigned IP",src:t(53562).A+"",width:"1385",height:"309"})}),"\n",(0,o.jsxs)(n.p,{children:["Now go on tab ",(0,o.jsx)(n.code,{children:"UPDATE"}),", insert your IP into the field ",(0,o.jsx)(n.code,{children:"IPV4_ADDRESS"})," and click on ",(0,o.jsx)(n.code,{children:"UPDATE DEPLOYMENT"})]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Update Deployment",src:t(86605).A+"",width:"1390",height:"491"})}),"\n",(0,o.jsxs)(n.p,{children:["The node will be redeployed. You can check the ",(0,o.jsx)(n.code,{children:"LOGS"})," tab as you normally do when installing it manually to verify if it goes online without errors. Alternatively, you can SSH into the container, which is the next step."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Logs",src:t(12539).A+"",width:"1399",height:"551"})})]})}function l(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}},53562:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/assigned-ip-d9602dd1e5867595ce42fbcd326db3b5.png"},52294:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/bids-31486e57473f6c2a6e98ef950ac60a3a.png"},82408:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/create-deployment-455b86a58245086a71ff8d6d0c8e0fed.png"},43430:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/deposit-38128c25ce8553960ef1db4205752533.png"},12539:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/logs-84cb9b91833f85a518cc88c1250a34cc.png"},68528:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/template-91c3d1897511c238e82cbdf0922c7b39.png"},86605:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/update-ea8264afcf509a4fae36d1f9da5c3cce.png"},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>d});var s=t(96540);const o={},i=s.createContext(o);function r(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);